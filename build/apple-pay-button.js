"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["apple-pay-button"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/apple-pay.js":
/*!*************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/apple-pay.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApplePayButtonStrategy: () => (/* binding */ ie),\n/* harmony export */   createApplePayCustomerStrategy: () => (/* binding */ Y),\n/* harmony export */   createApplePayPaymentStrategy: () => (/* binding */ q)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nvar a={};function r(e,t,i=!0){var n;return null!==(n=e[t])&&void 0!==n?n:i}a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=\"3.128.0\",l=\"3.123.2\",d=\"3.106.0\";class c{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(r(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?s:r(t,\"PAYPAL-5636.update_braintree_sdk_version\")?l:d)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const t=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(Object.values(e),e=>!!e.VERSION);return null==t?void 0:t.VERSION}}}class h extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class u extends h{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}var p,m,y,g,v,S,b,C;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(p||(p={}));class f extends h{constructor(e){super(function(e){switch(e){case p.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case p.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case p.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case p.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(m||(m={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(y||(y={})),function(e){e.TRUSTLY=\"trustly\"}(g||(g={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(v||(v={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(S||(S={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(b||(b={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(C||(C={}));var w,_,P,T=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class I{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return T(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return T(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return T(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadDataCollector(),n=Object.assign({client:t,kount:!0},e);this.dataCollector=yield i.create(n)}catch(e){if(function(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}(e)&&e.code===b.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return T(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return T(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return T(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,i]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((n,o)=>{i.create({client:t,merchantAccountId:e},(e,t)=>{e&&o(e),n(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return T(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return T(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return T(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),i={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},n=yield t.create(i);if(!n.isBrowserSupported())throw new u;this.braintreeVenmo=n}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new f(p.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}class k extends h{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}!function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(w||(w={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(_||(_={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(P||(P={}));const M={[d]:{[_.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[_.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[_.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[_.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[_.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[_.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[_.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[_.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[_.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[_.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[_.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[_.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[l]:{[_.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[_.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[_.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[_.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[_.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[_.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[_.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[_.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[_.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[_.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[_.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[_.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[s]:{[_.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[_.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[_.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[_.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[_.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[_.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[_.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[_.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[_.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[_.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[_.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[_.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var A,N=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class O{constructor(e,t,i){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=i}loadClient(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Client,\"client.min.js\")})}loadFastlane(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.GooglePayment,\"google-payment.min.js\")})}load3DS(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(_.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(_.Venmo,\"venmo.min.js\")}loadHostedFields(){return N(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return N(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new k;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return N(this,void 0,void 0,function*(){let i=this.getBraintreeModule(e);if(i)return i;const n=this.braintreeSDKVersionManager.getSDKVersion(),o=`//js.braintreegateway.com/web/${n}/js/${t}`,a=n in M?this.getIntegrityValuesByModuleName(e,n):void 0;if(yield this.scriptLoader.loadScript(o,a?{async:!0,attributes:{integrity:a,crossorigin:\"anonymous\"}}:void 0),i=this.getBraintreeModule(e),!i)throw new k;return i})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const i=M[t][e];if(!i)throw new Error(\"Unexpected fileName value\");return i}}function E(e,t){return Object.assign(e,{resolveIds:t})}class D extends h{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class L extends D{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class B extends h{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class z extends h{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}!function(e){e.BRAINTREE=\"braintree\",e.BRAINTREE_FASTLANE=\"braintreeacceleratedcheckout\"}(A||(A={}));var x,U=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Shipping=\"Shipping\",e.Subtotal=\"Subtotal\",e.StoreCredit=\"Store Credit\"}(x||(x={}));class F{constructor(e,t,i,n,o){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=o,this._shippingLabel=x.Shipping,this._subTotalLabel=x.Subtotal,this._storeCreditLabel=x.StoreCredit}initialize(e){var t,i,n,o;return U(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new D('Unable to submit payment because \"options.methodId\" argument is not provided.');const{methodId:a}=e;yield this._applePayScriptLoader.loadSdk(),this._shippingLabel=(null===(t=e.applepay)||void 0===t?void 0:t.shippingLabel)||x.Shipping,this._subTotalLabel=(null===(i=e.applepay)||void 0===i?void 0:i.subtotalLabel)||x.Subtotal,this._storeCreditLabel=(null===(n=e.applepay)||void 0===n?void 0:n.storeCreditLabel)||x.StoreCredit;const r=(yield this._paymentIntegrationService.loadPaymentMethod(a)).getPaymentMethodOrThrow(a);(null===(o=r.initializationData)||void 0===o?void 0:o.gateway)===A.BRAINTREE&&r.clientToken&&this._braintreeSdk.initialize(r.clientToken)})}execute(e,t){return U(this,void 0,void 0,function*(){const{payment:i}=e,n=this._paymentIntegrationService.getState();if(!i)throw new L([\"payment\"]);const{methodId:o}=i,a=n.getPaymentMethodOrThrow(o),r=this._getBaseRequest(n,a),s=this._sessionFactory.create(r);return yield this._paymentIntegrationService.submitOrder({useStoreCredit:e.useStoreCredit},t),s.begin(),new Promise((e,t)=>{this._handleApplePayEvents(s,a,{resolve:e,reject:t})})})}finalize(){return Promise.reject(new B)}deinitialize(){return Promise.resolve()}_getBaseRequest(e,t){const i=e.getCheckoutOrThrow(),n=e.getCartOrThrow(),o=e.getStoreConfigOrThrow(),{storeProfile:{storeCountryCode:a,storeName:r}}=o,{currency:{code:s,decimalPlaces:l}}=n,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=t,{grandTotal:h,isStoreCreditApplied:u,outstandingBalance:p}=i,m=[{label:this._subTotalLabel,amount:`${i.subtotal.toFixed(l)}`}];if(i.taxes.forEach(e=>m.push({label:e.name,amount:`${e.amount.toFixed(l)}`})),m.push({label:this._shippingLabel,amount:`${i.shippingCostTotal.toFixed(l)}`}),u){const{storeCredit:t}=e.getCustomerOrThrow();m.push({label:this._storeCreditLabel,amount:`-${Math.min(h,t).toFixed(l)}`})}return{countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:m,total:{label:r,amount:`${p.toFixed(l)}`,type:\"final\"}}}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>U(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),e.oncancel=()=>U(this,void 0,void 0,function*(){return i.reject(new z(\"Continue with applepay\"))}),e.onpaymentauthorized=n=>this._onPaymentAuthorized(n,e,t,i)}_onValidateMerchant(e,t){return U(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i,n){var o;return U(this,void 0,void 0,function*(){const{token:a}=e.payment;let r;(null===(o=i.initializationData)||void 0===o?void 0:o.gateway)===A.BRAINTREE&&(r=yield this._getBraintreeDeviceData());const s={methodId:i.id,paymentData:{deviceSessionId:r,formattedPayload:{apple_pay_token:{payment_data:a.paymentData,payment_method:a.paymentMethod,transaction_id:a.transactionIdentifier}}}};try{return yield this._paymentIntegrationService.submitPayment(s),t.completePayment(ApplePaySession.STATUS_SUCCESS),n.resolve()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),n.reject(new f(p.PaymentNotInitialized))}})}_getBraintreeDeviceData(){return U(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}function V(e){if(!function(e){return\"ApplePaySession\"in e}(e))throw new Error(\"Apple pay is not supported\")}class R{create(e){return V(window),new ApplePaySession(1,e)}}class j{constructor(e){this.scriptLoader=e,this.sdkVersion=\"1.latest\"}loadSdk(){return e=this,t=void 0,n=function*(){(function(e){return\"ApplePaySDK\"in e})(window)||(yield this.scriptLoader.loadScript(`https://applepay.cdn-apple.com/jsapi/${this.sdkVersion}/apple-pay-sdk.js`),V(window))},new((i=void 0)||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())});// removed by dead control flow\n var e, t, i, n; }}const q=E(n=>{const{getHost:o}=n.getState(),a=new c(n);return new F((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new R,new I(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new j(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);var H;!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(H||(H={}));class W extends h{constructor(e){super(function(e){switch(e){case H.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case H.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case H.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case H.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case H.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case H.MissingCheckoutConfig:case H.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case H.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case H.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case H.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case H.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case H.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case H.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class G extends h{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}var $,K=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}($||($={}));class X{constructor(e,t,i,n,a){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=a,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onError=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onClick=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=$.Subtotal,this._shippingLabel=$.Shipping,this._hasApplePaySession=!1}initialize(e){var t;return K(this,void 0,void 0,function*(){const{methodId:i,applepay:n}=e;if(!i||!n)throw new W(H.MissingPaymentMethod);const{container:a,shippingLabel:r,subtotalLabel:s,onError:l=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onClick:d=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onPaymentAuthorize:c}=n;this._shippingLabel=r||$.Shipping,this._subTotalLabel=s||$.Subtotal,this._onAuthorizeCallback=c,this._onError=l,this._onClick=d;let h=this._paymentIntegrationService.getState();yield this._applePayScriptLoader.loadSdk();try{this._paymentMethod=h.getPaymentMethodOrThrow(i)}catch(e){h=yield this._paymentIntegrationService.loadPaymentMethod(i),this._paymentMethod=h.getPaymentMethodOrThrow(i)}yield this._paymentIntegrationService.verifyCheckoutSpamProtection(),this._applePayButton=this._createButton(a),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===A.BRAINTREE&&this._paymentMethod.clientToken&&this._braintreeSdk.initialize(this._paymentMethod.clientToken)})}deinitialize(){return Promise.resolve()}signIn(){throw new G('In order to sign in via Apple, the shopper must click on \"Apple Pay\" button.')}signOut(){throw new G(\"Need to do signout via apple.\")}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}_createButton(e){const t=document.getElementById(e);if(!t)throw new D(\"Unable to create sign-in button without valid container ID.\");const i=this._createApplePayButtonElement();return t.appendChild(i),i}_createApplePayButtonElement(){const e=document.createElement(\"apple-pay-button\");return e.setAttribute(\"buttonstyle\",\"black\"),e.setAttribute(\"type\",\"plain\"),e.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 40px; --apple-pay-button-border-radius: 4px;\"),e}_handleWalletButtonClick(e){if(e.preventDefault(),this._hasApplePaySession)return;this._onClick();const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),o=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new W(H.MissingPaymentMethod);const a=this._getBaseRequest(i,o,n,this._paymentMethod),r=this._sessionFactory.create(a);this._handleApplePayEvents(r,this._paymentMethod,n),r.begin(),this._hasApplePaySession=!0}_getBaseRequest(e,t,i,n){var o;const{storeProfile:{storeCountryCode:a,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(o=u.requiredShippingContactFields)||void 0===o||o.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>K(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){this._onError(e)}}),e.onshippingcontactselected=t=>K(this,void 0,void 0,function*(){return this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>K(this,void 0,void 0,function*(){return this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>K(this,void 0,void 0,function*(){this._hasApplePaySession=!1;try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){return this._onError(new z)}}),e.onpaymentauthorized=i=>K(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_handleShippingContactSelected(e,t,i){var n;return K(this,void 0,void 0,function*(){const o=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(o)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const{storeProfile:{storeName:a}}=t;let r=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:s}}=r.getCartOrThrow();let l=r.getCheckoutOrThrow();const d=null===(n=l.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,c=l.consignments[0].availableShippingOptions,h=null==c?void 0:c.find(({id:e})=>e===d),u=null==c?void 0:c.filter(e=>e.id!==d),p=h?[{label:h.description,amount:`${h.cost.toFixed(s)}`,detail:h.additionalDescription,identifier:h.id}]:[];if(u&&[...u.filter(e=>e.isRecommended),...u.filter(e=>!e.isRecommended)].forEach(e=>p.push({label:e.description,amount:`${e.cost.toFixed(s)}`,detail:e.additionalDescription,identifier:e.id})),!(c instanceof Array))throw new Error(\"Shipping options not available.\");if(0===c.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:a,amount:`${l.grandTotal.toFixed(s)}`},[]);const m=c.find(e=>e.isRecommended),y=m?m.id:c[0].id,g=h?h.id:y;try{yield this._updateShippingOption(g)}catch(e){return this._onError(e)}r=this._paymentIntegrationService.getState(),l=r.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:p,newTotal:{type:\"final\",label:a,amount:`${l.grandTotal.toFixed(s)}`},newLineItems:this._getUpdatedLineItems(l,s)})})}_handleShippingMethodSelected(e,t,i){return K(this,void 0,void 0,function*(){const{storeProfile:{storeName:n}}=t,{shippingMethod:{identifier:o}}=i;try{yield this._updateShippingOption(o)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const a=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:r}}=a.getCartOrThrow(),s=a.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:n,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return K(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return K(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return K(this,void 0,void 0,function*(){const{token:o,billingContact:a,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===A.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:o.paymentData,payment_method:o.paymentMethod,transaction_id:o.transactionIdentifier}}}},c=this._transformContactToAddress(a),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),this._onError(e)}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return K(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}const Y=E(n=>{const{getHost:o}=n.getState(),a=new c(n);return new X((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new R,new I(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new j(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);class Q extends h{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}var Z,J,ee=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}(Z||(Z={})),function(e){e.Black=\"black\",e.White=\"white\",e.WhiteBorder=\"white-border\"}(J||(J={}));class te{constructor(e,t,i,n,a){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=a,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=Z.Subtotal,this._shippingLabel=Z.Shipping}initialize(e){var t,i;return ee(this,void 0,void 0,function*(){const{methodId:n,containerId:o,applepay:a}=e;if(!n||!a)throw new W(H.MissingPaymentMethod);yield this._applePayScriptLoader.loadSdk();const{onPaymentAuthorize:r,buyNowInitializeOptions:s,requiresShipping:l}=a;this._requiresShipping=l,this._buyNowInitializeOptions=s,this._onAuthorizeCallback=r,s||(yield this._paymentIntegrationService.loadDefaultCheckout()),yield this._paymentIntegrationService.loadPaymentMethod(n);const d=this._paymentIntegrationService.getState();return this._paymentMethod=d.getPaymentMethodOrThrow(n),d.getCart()&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection()),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===A.BRAINTREE&&this._paymentMethod.clientToken&&this._braintreeSdk.initialize(this._paymentMethod.clientToken),this._applePayButton=this._createButton(o,null===(i=this._paymentMethod.initializationData)||void 0===i?void 0:i.styleOption),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),Promise.resolve()})}deinitialize(){return Promise.resolve()}_createButton(e,t){const i=document.getElementById(e);if(!i)throw new D(\"Unable to create wallet button without valid container ID.\");const n=this._createApplePayButtonElement(t);return i.appendChild(n),n}_createApplePayButtonElement(e){const t=document.createElement(\"apple-pay-button\");return t.setAttribute(\"buttonstyle\",(e=>{switch(e){case J.White:return\"white\";case J.WhiteBorder:return\"white-outline\";case J.Black:default:return\"black\"}})(e)),t.setAttribute(\"type\",\"plain\"),t.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 40px; --apple-pay-button-border-radius: 4px;\"),t}_handleWalletButtonClick(e){var t;return ee(this,void 0,void 0,function*(){if(e.preventDefault(),!this._paymentMethod||!this._paymentMethod.initializationData)throw new W(H.MissingPaymentMethod);if(this._buyNowInitializeOptions&&\"function\"==typeof this._buyNowInitializeOptions.getBuyNowCartRequestBody){const{countryCode:e,currencyCode:i,merchantCapabilities:n,supportedNetworks:o,storeName:a}=this._paymentMethod.initializationData,r=this._getRequestWithEmptyTotal(e,i,o,n);this._requiresShipping&&(null===(t=r.requiredShippingContactFields)||void 0===t||t.push(\"postalAddress\"));const s=this._sessionFactory.create(r);this._handleApplePayEvents(s,this._paymentMethod,a),s.begin()}else{const e=this._paymentIntegrationService.getState(),t=e.getCartOrThrow(),i=e.getStoreConfigOrThrow(),n=e.getCheckoutOrThrow(),o=this._getBaseRequest(t,n,i,this._paymentMethod),a=this._sessionFactory.create(o);this._handleApplePayEvents(a,this._paymentMethod,i.storeProfile.storeName),a.begin()}})}_getRequestWithEmptyTotal(e,t,i,n){return{countryCode:e,currencyCode:t,supportedNetworks:i,merchantCapabilities:n,total:{label:\"\",amount:\"0\",type:\"pending\"},requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"]}}_getBaseRequest(e,t,i,n){var o;const{storeProfile:{storeCountryCode:a,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(o=u.requiredShippingContactFields)||void 0===o||o.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>ee(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),this._buyNowInitializeOptions&&!this._requiresShipping&&(e.onpaymentmethodselected=()=>ee(this,void 0,void 0,function*(){yield this._createBuyNowCart(),this._handlePaymentMethodSelected(e)})),e.onshippingcontactselected=t=>ee(this,void 0,void 0,function*(){this._buyNowInitializeOptions&&this._requiresShipping&&(yield this._createBuyNowCart()),yield this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>ee(this,void 0,void 0,function*(){yield this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>ee(this,void 0,void 0,function*(){try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){throw new z}}),e.onpaymentauthorized=i=>ee(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_createBuyNowCart(){var e,t;return ee(this,void 0,void 0,function*(){try{const i=null===(t=null===(e=this._buyNowInitializeOptions)||void 0===e?void 0:e.getBuyNowCartRequestBody)||void 0===t?void 0:t.call(e);if(!i)throw new W(H.MissingCart);const n=yield this._paymentIntegrationService.createBuyNowCart(i);yield this._paymentIntegrationService.loadCheckout(n.id);const o=this._paymentIntegrationService.getState(),{shouldExecuteSpamCheck:a}=o.getCheckoutOrThrow();a&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection())}catch(e){throw new Q}})}_handlePaymentMethodSelected(e){const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),o=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new W(H.MissingPaymentMethod);const a=this._getBaseRequest(i,o,n,this._paymentMethod);delete a.total.type,e.completePaymentMethodSelection({newTotal:a.total,newLineItems:a.lineItems})}_handleShippingContactSelected(e,t,i){var n;return ee(this,void 0,void 0,function*(){const o=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(o)}catch(t){throw e.abort(),new Error(\"Shipping address update failed\")}let a=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:r}}=a.getCartOrThrow();let s=a.getCheckoutOrThrow();const l=null===(n=s.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,d=s.consignments[0].availableShippingOptions,c=null==d?void 0:d.find(({id:e})=>e===l),h=null==d?void 0:d.filter(e=>e.id!==l),u=c?[{label:c.description,amount:`${c.cost.toFixed(r)}`,detail:c.additionalDescription,identifier:c.id}]:[];if(h&&[...h.filter(e=>e.isRecommended),...h.filter(e=>!e.isRecommended)].forEach(e=>u.push({label:e.description,amount:`${e.cost.toFixed(r)}`,detail:e.additionalDescription,identifier:e.id})),!(d instanceof Array))throw new Error(\"Shipping options not available.\");if(0===d.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:t,amount:`${s.grandTotal.toFixed(r)}`},[]);const p=d.find(e=>e.isRecommended),m=p?p.id:d[0].id,y=c?c.id:m;try{yield this._updateShippingOption(y)}catch(e){throw new Error(\"Shipping options update failed\")}a=this._paymentIntegrationService.getState(),s=a.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:u,newTotal:{type:\"final\",label:t,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_handleShippingMethodSelected(e,t,i){return ee(this,void 0,void 0,function*(){const{shippingMethod:{identifier:n}}=i;try{yield this._updateShippingOption(n)}catch(t){throw e.abort(),new Error(\"Shipping option selection update failed.\")}const o=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:a}}=o.getCartOrThrow(),r=o.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:t,amount:`${r.grandTotal.toFixed(a)}`},newLineItems:this._getUpdatedLineItems(r,a)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return ee(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return ee(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return ee(this,void 0,void 0,function*(){const{token:o,billingContact:a,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===A.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:o.paymentData,payment_method:o.paymentMethod,transaction_id:o.transactionIdentifier}}}},c=this._transformContactToAddress(a),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){throw t.completePayment(ApplePaySession.STATUS_FAILURE),new Error(\"Payment cannot complete\")}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return ee(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}const ie=E(n=>{const{getHost:o}=n.getState(),a=new c(n);return new te((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new R,new I(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new j(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9hcHBsZS1wYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLElBQUlBLEVBQXNCLENBQUMsRUNHWixTQUFTQyxFQUNwQkMsRUFDQUMsRUFDQUMsR0FBZ0IsRyxNQUVoQixPQUErQixRQUF4QixFQUFBRixFQUFTQyxVQUFlLFFBQUlDLENBQ3ZDLENDVEFKLEVBQW9CSyxFQUFJLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFAsRUFBb0JTLEVBQUVGLEVBQVlDLEtBQVNSLEVBQW9CUyxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUixFQUFvQlMsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0EzRSxNQUFNSSxFQUEwQyxVQUMxQ0MsRUFBZ0MsVUFDaENDLEVBQStCLFVDVTdCLE1BQU1DLEVBR2pCLFdBQUFDLENBQW9CQyxHQUFBLEtBQUFBLDBCQUFBQSxFQUZaLEtBQUFDLGdCQUF1Q0MsTUFFNEIsQ0FFM0UsYUFBQUMsR0FDSSxNQUNNQyxFQURRQyxLQUFLTCwwQkFBMEJNLFdBQ25CQyxpQkFDcEI3QixHQUFXMEIsYUFBVyxFQUFYQSxFQUFhSSxpQkFBaUI5QixXQUFZLENBQUMsRUFJNUQsT0FGeUIyQixLQUFLSSwyQkFNMUJoQyxFQUFvQkMsRUFBVSxtREFDdkJpQixFQUdQbEIsRUFBb0JDLEVBQVUsNENBQ3ZCa0IsRUFHSkMsRUFDWCxDQUVRLHNCQUFBWSxHQUNKLE1BQU1DLEVBQVlMLEtBQUtKLGdCQUFnQlMsVUFFdkMsR0FBSUEsRUFBVyxDQUNYLE1BQU1DLEVBQW1CQyw0Q0FBQUEsQ0FDckIxQixPQUFPMkIsT0FBT0gsR0FDYkksS0FBYUEsRUFBT0MsU0FHekIsT0FBT0osYUFBZ0IsRUFBaEJBLEVBQWtCSSxP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RUFBUEEsRUFBU0ksYUFBYyxHQUNqQ0MsTUFBTUwsYUFBTyxFQUFQQSxFQUFTTSxXQUFZLEdBQzNCQyxRQUFTLEdBQ1RDLFVBQVdSLGFBQU8sRUFBUEEsRUFBU1MsZUFBZ0JULEVBQVFTLGFBQWEsSUFBTyxHQUNoRUMsVUFBV1YsYUFBTyxFQUFQQSxFQUFTUyxlQUFnQlQsRUFBUVMsYUFBYSxJQUFPLEdBQ2hFRSxZQUFZWCxhQUFPLEVBQVBBLEVBQVNXLGFBQWMsR0FDbkNuSyxhQUFhd0osYUFBTyxFQUFQQSxFQUFTeEosY0FBZSxHQUNyQ29KLE9BQU9JLGFBQU8sRUFBUEEsRUFBU0gsY0FBZSxHQUMvQmUsaUJBQWlCWixhQUFPLEVBQVBBLEVBQVNhLHFCQUFzQixHQUNoREMscUJBQXFCZCxhQUFPLEVBQVBBLEVBQVNhLHFCQUFzQixHQUNwREUsYUFBYyxHQUV0QixDQUVjLHVCQUFBN0ksRyx5Q0FDVixJQUNJLE1BQU0sV0FBRTdMLFNBQXFCM0QsS0FBS2dLLGNBQWN4RywwQkFFaEQsT0FBT0csQyxDQUNULE1BQU8wTSxHLENBR2IsRSxFQ3hvQkosTUFrQkEsR0FBZW5ILEVBakJYdkosSUFFQSxNQUFNLFFBQUVpUixHQUFZalIsRUFBMEJNLFdBRXhDNkgsRUFBNkIsSUFBSXJJLEVBQTJCRSxHQUVsRSxPQUFPLElBQUk2WSxHQUNQM0gsZ0ZBQUFBLENBQW9CLENBQUVDLEtBQU1GLE1BQzVCalIsRUFDQSxJQUFJNlEsRUFDSixJQUFJaE8sRUFDQSxJQUFJbUYsRUFBc0JvSiwyRUFBQUEsR0FBbUJsUixPQUFRaUksSUFFekQsSUFBSTJJLEVBQXFCLElBQUlPLG9FQUFBQSxJQUkyQixDQUFDLENBQUV2QixHQUFJLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3V0aWxpdHkvc3JjL2lzLWV4cGVyaW1lbnQtZW5hYmxlZC9pcy1leHBlcmltZW50LWVuYWJsZWQudHM/YzlhNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycz85OTRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZD85ZWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zZGstdmVyaXNvbi50cz9mOWFiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zZGstdmVyc2lvbi1tYW5hZ2VyLnRzPzA0ZjgiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy91bnN1cHBvcnRlZC1icm93c2VyLWVycm9yLnRzPzk5N2QiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdHlwZXMudHM/MzAyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUudHM/YTc4ZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLnRzPzgwNjQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdXRpbHMvaXMtYnJhaW50cmVlLWVycm9yLnRzPzMyODgiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2xpZW50LXVuYXZhaWxhYmxlLWVycm9yLnRzP2Y4ZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eS50cz9iMjg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS50cz8zZDhmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zY3JpcHQtbG9hZGVyLnRzPzY2YWIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbi50cz9mZDcwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNhbmNlbGxlZC1lcnJvci50cz8wODkwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzIxYjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeS50cz8zZDJhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2lzLWFwcGxlLXBheS13aW5kb3cudHM/YWU5NyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9hcHBsZS1wYXktc2NyaXB0LWxvYWRlci50cz80OTk5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2lzLWFwcGxlLXBheS1zZGstd2luZG93LnRzPzEzNzMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLWFwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzk1OTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWltcGxlbWVudGVkLWVycm9yLnRzPzNhMzUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzU1ZDciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLWFwcGxlLXBheS1jdXN0b21lci1zdHJhdGVneS50cz80OGRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2J1eS1ub3ctY2FydC1jcmVhdGlvbi1lcnJvci50cz9kNjA0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS1idXR0b24tc3RyYXRlZ3kudHM/YTNhZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9jcmVhdGUtYXBwbGUtcGF5LWJ1dHRvbi1zdHJhdGVneS50cz9lZmZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJleHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVzIHtcbiAgICBbZmVhdHVyZU5hbWU6IHN0cmluZ106IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRXhwZXJpbWVudEVuYWJsZWQoXG4gICAgZmVhdHVyZXM6IEZlYXR1cmVzLFxuICAgIGV4cGVyaW1lbnROYW1lOiBzdHJpbmcsXG4gICAgZmFsbGJhY2tWYWx1ZSA9IHRydWUsXG4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmVhdHVyZXNbZXhwZXJpbWVudE5hbWVdID8/IGZhbGxiYWNrVmFsdWU7XG59XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTiA9ICczLjEyOC4wJztcbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTiA9ICczLjEyMy4yJztcbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OID0gJzMuMTA2LjAnO1xuIiwiaW1wb3J0IHsgZmluZCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVIb3N0V2luZG93IH0gZnJvbSAnLi9icmFpbnRyZWUnO1xuaW1wb3J0IHtcbiAgICBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTixcbn0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcmlzb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBnZXRTREtWZXJzaW9uKCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnKCk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RvcmVDb25maWc/LmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXMgfHwge307XG5cbiAgICAgICAgY29uc3QgcHJlbG9hZGVkVmVyc2lvbiA9IHRoaXMuZ2V0UHJlbG9hZGVkU0RLVmVyc2lvbigpO1xuXG4gICAgICAgIGlmIChwcmVsb2FkZWRWZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJlbG9hZGVkVmVyc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRFbmFibGVkKGZlYXR1cmVzLCAnUEFZUEFMLTU4MDkuYnJhaW50cmVlX2hvc3RlZF9maWVsZHNfZml4X3ZlcnNpb24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRFbmFibGVkKGZlYXR1cmVzLCAnUEFZUEFMLTU2MzYudXBkYXRlX2JyYWludHJlZV9zZGtfdmVyc2lvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT047XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByZWxvYWRlZFNES1ZlcnNpb24oKTogdm9pZCB8IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGJyYWludHJlZSA9IHRoaXMuYnJhaW50cmVlV2luZG93LmJyYWludHJlZTtcblxuICAgICAgICBpZiAoYnJhaW50cmVlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkZWRWZXJzaW9uID0gZmluZDx7IFZFUlNJT04/OiBzdHJpbmcgfT4oXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhicmFpbnRyZWUpLFxuICAgICAgICAgICAgICAgIChtb2R1bGUpID0+ICEhbW9kdWxlLlZFUlNJT04sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJlbG9hZGVkVmVyc2lvbj8uVkVSU0lPTjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgeyBTdGFuZGFyZEVycm9yIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB0aGUgc2hvcHBlciBpcyB1c2luZyBhIGJyb3dzZXIgdmVyc2lvbiB0aGF0IGlzIG5vdFxuICogc3VwcG9ydGVkIGJ5IHVzIG9yIGFueSB0aGlyZCBwYXJ0eSBwcm92aWRlciB3ZSB1c2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdVbnN1cHBvcnRlZCBicm93c2VyIGVycm9yJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3VwcG9ydGVkQnJvd3NlckVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3Vuc3VwcG9ydGVkX2Jyb3dzZXInO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBOb3RJbml0aWFsaXplZEVycm9yVHlwZSB7XG4gICAgQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZCxcbiAgICBDdXN0b21lck5vdEluaXRpYWxpemVkLFxuICAgIFBheW1lbnROb3RJbml0aWFsaXplZCxcbiAgICBTaGlwcGluZ05vdEluaXRpYWxpemVkLFxuICAgIFNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiBhIG1ldGhvZCByZXF1aXJlcyBhIGNlcnRhaW4gaW5pdGlhbGl6YXRpb24gY2FsbCB0byBiZVxuICogbWFkZSBmaXJzdC4gU29tZSBvYmplY3RzIGNhbiBiZSBjb25zdHJ1Y3RlZCBidXQgdGhleSBjYW5ub3QgYmUgdXNlZCB1bnRpbCBhXG4gKiBzZXBhcmF0ZSBpbml0aWFsaXphdGlvbiBjYWxsIGlzIG1hZGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEluaXRpYWxpemVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW5pdGlhbGl6ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW5pdGlhbGl6ZWQnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5DdXN0b21lck5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TaGlwcGluZ05vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vYnJhaW50cmVlJztcbmV4cG9ydCAqIGZyb20gJy4vcGF5cGFsJztcbmV4cG9ydCAqIGZyb20gJy4vdmlzYWNoZWNrb3V0JztcblxuLyoqXG4gKlxuICogQnJhaW50cmVlIE1vZHVsZVxuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIFRJbnN0YW5jZSxcbiAgICBUT3B0aW9ucyA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcsXG4gICAgVEVycm9yID0gQnJhaW50cmVlRXJyb3IsXG4+IHtcbiAgICBjcmVhdGUoXG4gICAgICAgIGNvbmZpZzogVE9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrPzogKGVycm9yOiBURXJyb3IsIGluc3RhbmNlOiBUSW5zdGFuY2UpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxUSW5zdGFuY2U+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGNsaWVudD86IEJyYWludHJlZUNsaWVudDtcbiAgICBhdXRob3JpemF0aW9uPzogc3RyaW5nOyAvLyBJbmZvOiBhdXRob3JpemF0aW9uIHVzZXMgY2xpZW50VG9rZW4gYXMgYSB2YWx1ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZSB7XG4gICAgdGVhcmRvd24oKTogUHJvbWlzZTx2b2lkPjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFdpbmRvd1xuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGNsaWVudD86IEJyYWludHJlZUNsaWVudENyZWF0b3I7XG4gICAgYnJhaW50cmVlRmFzdGxhbmU/OiBCcmFpbnRyZWVGYXN0bGFuZTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIENsaWVudFxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlQ2xpZW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlQ2xpZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnQge1xuICAgIHJlcXVlc3QocGF5bG9hZDogQnJhaW50cmVlQ2xpZW50UmVxdWVzdFBheWxvYWQpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudFJlcXVlc3RSZXNwb25zZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQ2xpZW50UmVxdWVzdFBheWxvYWQge1xuICAgIGRhdGE6IHtcbiAgICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiB7XG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXJkaG9sZGVyTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgY3Z2Pzogc3RyaW5nO1xuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIG51bWJlcjogc3RyaW5nO1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBib29sZWFuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGVuZHBvaW50OiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVQYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IHtcbiAgICAgICAgYmluOiBzdHJpbmc7XG4gICAgICAgIGNhcmRUeXBlOiBzdHJpbmc7XG4gICAgICAgIGV4cGlyYXRpb25Nb250aDogc3RyaW5nO1xuICAgICAgICBleHBpcmF0aW9uWWVhcjogc3RyaW5nO1xuICAgICAgICBsYXN0Rm91cjogc3RyaW5nO1xuICAgICAgICBsYXN0VHdvOiBzdHJpbmc7XG4gICAgfTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBiaW5EYXRhOiB7XG4gICAgICAgIGNvbW1lcmNpYWw6IHN0cmluZztcbiAgICAgICAgY291bnRyeU9mSXNzdWFuY2U6IHN0cmluZztcbiAgICAgICAgZGViaXQ6IHN0cmluZztcbiAgICAgICAgZHVyYmluUmVndWxhdGVkOiBzdHJpbmc7XG4gICAgICAgIGhlYWx0aGNhcmU6IHN0cmluZztcbiAgICAgICAgaXNzdWluZ0Jhbms6IHN0cmluZztcbiAgICAgICAgcGF5cm9sbDogc3RyaW5nO1xuICAgICAgICBwcmVwYWlkOiBzdHJpbmc7XG4gICAgICAgIHByb2R1Y3RJZDogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQ2xpZW50UmVxdWVzdFJlc3BvbnNlIHtcbiAgICBjcmVkaXRDYXJkczogQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVQYXlsb2FkW107XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBEYXRhIENvbGxlY3RvclxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3IsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBrb3VudD86IGJvb2xlYW47IC8vIEluZm86IHRoaXMgcGFyYW0gaXMgbmVlZGVkIGZvciBmcmF1ZCBkZXRlY3Rpb24gKHNob3VsZCBhbHdheXMgYmUgJ3RydWUnKVxuICAgIHBheXBhbD86IGJvb2xlYW47IC8vIFRPRE86IGJhc2VkIG9uIGJyYWludHJlZSBkb2N1bWVudGF0aW9uLCB0aGlzIHBhcmFtIGlzIGRlcHJlY2F0ZWQsIHNvIHdlIGRvbnQgbmVlZCBpdCBhbnltb3JlXG4gICAgcmlza0NvcnJlbGF0aW9uSWQ/OiBzdHJpbmc7IC8vIEluZm86IHRoZSBvcHRpb24gaXMgbmVlZGVkIGZvciBQYXlQYWwgQW5hbHl0aWNzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRGF0YUNvbGxlY3RvciBleHRlbmRzIEJyYWludHJlZU1vZHVsZSB7XG4gICAgZGV2aWNlRGF0YT86IHN0cmluZztcbn1cblxuLy8gVE9ETzogcmVtb3ZlIHRoaXMgaW50ZXJmYWNlIHdoZW4gQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlIHdpbGwgYmUgcmVtb3ZlZFxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9ycyB7XG4gICAgZGVmYXVsdD86IEJyYWludHJlZURhdGFDb2xsZWN0b3I7XG4gICAgcGF5cGFsPzogQnJhaW50cmVlRGF0YUNvbGxlY3Rvcjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEdvb2dsZSBQYXltZW50XG4gKlxuICovXG50eXBlIEJyYWludHJlZUdvb2dsZVBheW1lbnRBZGRyZXNzRm9ybWF0ID0gJ0ZVTEwnIHwgJ01JTic7XG5cbmV4cG9ydCBlbnVtIFRvdGFsUHJpY2VTdGF0dXNUeXBlIHtcbiAgICBFU1RJTUFURUQgPSAnRVNUSU1BVEVEJyxcbiAgICBGSU5BTCA9ICdGSU5BTCcsXG4gICAgTk9UX0NVUlJFTlRMWV9LTk9XTiA9ICdOT1RfQ1VSUkVOVExZX0tOT1dOJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3RPcHRpb25zIHtcbiAgICBtZXJjaGFudEluZm86IHtcbiAgICAgICAgYXV0aEp3dD86IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnRJZD86IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnROYW1lPzogc3RyaW5nO1xuICAgIH07XG4gICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlU3RhdHVzOiBUb3RhbFByaWNlU3RhdHVzVHlwZTtcbiAgICAgICAgdG90YWxQcmljZTogc3RyaW5nO1xuICAgIH07XG4gICAgY2FyZFJlcXVpcmVtZW50czoge1xuICAgICAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgICAgICBiaWxsaW5nQWRkcmVzc0Zvcm1hdDogQnJhaW50cmVlR29vZ2xlUGF5bWVudEFkZHJlc3NGb3JtYXQ7XG4gICAgfTtcbiAgICBlbWFpbFJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBwaG9uZU51bWJlclJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5bWVudERhdGFSZXF1ZXN0IHtcbiAgICBhbGxvd2VkUGF5bWVudE1ldGhvZHM6IHN0cmluZ1tdO1xuICAgIGFwaVZlcnNpb246IG51bWJlcjtcbiAgICBjYXJkUmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGFsbG93ZWRDYXJkTmV0d29ya3M6IHN0cmluZ1tdO1xuICAgICAgICBiaWxsaW5nQWRkcmVzc0Zvcm1hdDogc3RyaW5nO1xuICAgICAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIH07XG4gICAgZW52aXJvbm1lbnQ6IHN0cmluZztcbiAgICBpOiB7XG4gICAgICAgIGdvb2dsZVRyYW5zYWN0aW9uSWQ6IHN0cmluZztcbiAgICAgICAgc3RhcnRUaW1lTXM6IG51bWJlcjtcbiAgICB9O1xuICAgIG1lcmNoYW50SW5mbzoge1xuICAgICAgICBtZXJjaGFudElkOiBzdHJpbmc7XG4gICAgICAgIG1lcmNoYW50TmFtZTogc3RyaW5nO1xuICAgICAgICBhdXRoSnd0Pzogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudE1ldGhvZFRva2VuaXphdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgJ2JyYWludHJlZTphcGlWZXJzaW9uJzogc3RyaW5nO1xuICAgICAgICAgICAgJ2JyYWludHJlZTphdXRob3JpemF0aW9uRmluZ2VycHJpbnQnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOm1lcmNoYW50SWQnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOm1ldGFkYXRhJzogc3RyaW5nO1xuICAgICAgICAgICAgJ2JyYWludHJlZTpzZGtWZXJzaW9uJzogc3RyaW5nO1xuICAgICAgICAgICAgZ2F0ZXdheTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICB0b2tlbml6YXRpb25UeXBlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBwaG9uZU51bWJlclJlcXVpcmVkOiBib29sZWFuO1xuICAgIHRyYW5zYWN0aW9uSW5mbzoge1xuICAgICAgICBjdXJyZW5jeUNvZGU6IHN0cmluZztcbiAgICAgICAgdG90YWxQcmljZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlU3RhdHVzOiBUb3RhbFByaWNlU3RhdHVzVHlwZTtcbiAgICB9O1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlR29vZ2xlUGF5bWVudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5bWVudCBleHRlbmRzIEJyYWludHJlZU1vZHVsZSB7XG4gICAgY3JlYXRlUGF5bWVudERhdGFSZXF1ZXN0KFxuICAgICAgICBvcHRpb25zPzogQnJhaW50cmVlR29vZ2xlUGF5bWVudERhdGFSZXF1ZXN0T3B0aW9ucyxcbiAgICApOiBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlIHtcbiAgICB2ZXJpZnlDYXJkKG9wdGlvbnM6IEJyYWludHJlZUdvb2dsZVBheVRocmVlRFNlY3VyZU9wdGlvbnMpOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUdvb2dsZVBheVRocmVlRFNlY3VyZU9wdGlvbnMge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgYmluOiBzdHJpbmc7XG4gICAgc2hvd0xvYWRlcj86IGJvb2xlYW47XG4gICAgb25Mb29rdXBDb21wbGV0ZShkYXRhOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhLCBuZXh0OiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIDNEIFNlY3VyZVxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3JDb25maWdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB2ZXJpZnlDYXJkKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zLFxuICAgICAgICBjYWxsYmFjaz86IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRDYWxsYmFjayxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xuICAgIGNhbmNlbFZlcmlmeUNhcmQoKTogUHJvbWlzZTxCcmFpbnRyZWVWZXJpZnlQYXlsb2FkPjtcbiAgICBvbjxLIGV4dGVuZHMga2V5b2YgQnJhaW50cmVlVGhyZWVEU2VjdXJlRXZlbnRNYXA+KFxuICAgICAgICBldmVudDogSyxcbiAgICAgICAgaGFuZGxlcjogQnJhaW50cmVlVGhyZWVEU2VjdXJlRXZlbnRNYXBbS10sXG4gICAgKTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZENhbGxiYWNrID0gKFxuICAgIHZlcmlmeUVycm9yOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3IsXG4gICAgcGF5bG9hZDogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZFBheWxvYWQsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlRXZlbnRNYXAge1xuICAgICdjdXN0b21lci1jYW5jZWxlZCc6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZEVycm9yIHtcbiAgICBjb2RlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZFBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIHZlcnNpb24/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlciB8IHN0cmluZztcbiAgICBjaGFsbGVuZ2VSZXF1ZXN0ZWQ/OiBib29sZWFuO1xuICAgIHNob3dMb2FkZXI/OiBib29sZWFuO1xuICAgIGJpbj86IHN0cmluZztcbiAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24/OiB7XG4gICAgICAgIGFjc1dpbmRvd1NpemU/OiAnMDEnIHwgJzAyJyB8ICcwMycgfCAnMDQnIHwgJzA1JztcbiAgICB9O1xuICAgIGNvbGxlY3REZXZpY2VEYXRhPzogYm9vbGVhbjtcbiAgICBhZGRGcmFtZT8oXG4gICAgICAgIGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZCxcbiAgICAgICAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCxcbiAgICAgICAgY2FuY2VsOiAoKSA9PiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+IHwgdW5kZWZpbmVkLFxuICAgICk6IHZvaWQ7XG4gICAgcmVtb3ZlRnJhbWU/KCk6IHZvaWQ7XG4gICAgb25Mb29rdXBDb21wbGV0ZT8oZGF0YTogQnJhaW50cmVlVGhyZWVEU2VjdXJlVmVyaWZpY2F0aW9uRGF0YSwgbmV4dDogKCkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlVmVyaWZpY2F0aW9uRGF0YSB7XG4gICAgbG9va3VwOiB7XG4gICAgICAgIHRocmVlRFNlY3VyZVZlcnNpb246IHN0cmluZztcbiAgICB9O1xuICAgIHBheW1lbnRNZXRob2Q6IEJyYWludHJlZVZlcmlmeVBheWxvYWQ7XG4gICAgcmVxdWlyZXNVc2VyQXV0aGVudGljYXRpb246IGJvb2xlYW47XG4gICAgdGhyZWVEU2VjdXJlSW5mbzoge1xuICAgICAgICBsaWFiaWxpdHlTaGlmdFBvc3NpYmxlOiBib29sZWFuO1xuICAgICAgICBsaWFiaWxpdHlTaGlmdGVkOiBib29sZWFuO1xuICAgIH07XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZU9yZGVyU3RhdHVzIHtcbiAgICBDb21wbGV0ZWQgPSAnQ09NUExFVEVEJyxcbiAgICBQZW5kaW5nID0gJ1BFTkRJTkcnLFxuICAgIEZhaWxlZCA9ICdGQUlMRUQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU9yZGVyU3RhdHVzRGF0YSB7XG4gICAgc3RhdHVzOiBCcmFpbnRyZWVPcmRlclN0YXR1cztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFVTIEJhbmsgQWNjb3VudCAoQUNIKVxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVVzQmFua0FjY291bnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVVzQmFua0FjY291bnQge1xuICAgIHRva2VuaXplKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50VG9rZW5pemF0aW9uT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25SZXNwb25zZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvbk9wdGlvbnMge1xuICAgIGJhbmtEZXRhaWxzOiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50RGV0YWlscztcbiAgICBtYW5kYXRlVGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25SZXNwb25zZSB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzIHtcbiAgICBhY2NvdW50TnVtYmVyOiBzdHJpbmc7XG4gICAgcm91dGluZ051bWJlcjogc3RyaW5nO1xuICAgIG93bmVyc2hpcFR5cGU6IHN0cmluZztcbiAgICBhY2NvdW50VHlwZTogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBidXNpbmVzc05hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M6IHtcbiAgICAgICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgICAgICBleHRlbmRlZEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICAgICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICB9O1xufVxuXG4vLyBUT0RPOiBtb3ZlIHRoaXMgaW50ZXJmYWNlIGluIHNlcGFyYXRlIHR5cGVzIGdyb3VwIGlmIGl0IHdpbGwgYmUgdXNlZCBpbiBhbm90aGVyIChub3QgQUNIKSBzdHJhdGVnaWVzXG4vLyBUaGlzIHNlZW1zIHRvIGJlIGFuIGludGVyZmFjZSB3aGljaCB3aWxsIGJlIHVzZWQgaW4gZGlmZmVyZW50IHBsYWNlc1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzIHtcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBwYXllcklkPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZT86IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3M7XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUFkZHJlc3Mge1xuICAgIGxpbmUxOiBzdHJpbmc7XG4gICAgbGluZTI6IHN0cmluZztcbiAgICBjaXR5OiBzdHJpbmc7XG4gICAgc3RhdGU6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3MgZXh0ZW5kcyBCcmFpbnRyZWVBZGRyZXNzIHtcbiAgICByZWNpcGllbnROYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBub24taW5zdGFudCBwYXltZW50IG1ldGhvZHNcbiAqXG4gKi9cbmV4cG9ydCBlbnVtIE5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzIHtcbiAgICBUUlVTVExZID0gJ3RydXN0bHknLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxvY2FsUGF5bWVudE1ldGhvZFJlZGlyZWN0QWN0aW9uIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2Zmc2l0ZV9yZWRpcmVjdCc7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlT3JkZXJTYXZlZFJlc3BvbnNlIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgb3JkZXJfaWRfc2F2ZWRfc3VjY2Vzc2Z1bGx5OiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBGYXN0bGFuZVxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNvbmZpZyB7XG4gICAgYXV0aG9yaXphdGlvbjogc3RyaW5nO1xuICAgIGNsaWVudDogQnJhaW50cmVlQ2xpZW50O1xuICAgIGRldmljZURhdGE/OiBzdHJpbmc7XG4gICAgc3R5bGVzPzogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmUge1xuICAgIGlkZW50aXR5OiBCcmFpbnRyZWVGYXN0bGFuZUlkZW50aXR5O1xuICAgIHByb2ZpbGU6IEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZTtcbiAgICBGYXN0bGFuZUNhcmRDb21wb25lbnQ6IChcbiAgICAgICAgb3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50T3B0aW9ucyxcbiAgICApID0+IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50PjtcbiAgICBldmVudHM6IEJyYWludHJlZUZhc3RsYW5lRXZlbnRzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZSB7XG4gICAgc2hvd0NhcmRTZWxlY3RvcigpOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lQ2FyZFNlbGVjdG9yUmVzcG9uc2U+O1xuICAgIHNob3dTaGlwcGluZ0FkZHJlc3NTZWxlY3RvcigpOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lU2hpcHBpbmdBZGRyZXNzU2VsZWN0b3JSZXNwb25zZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3NTZWxlY3RvclJlc3BvbnNlIHtcbiAgICBzZWxlY3Rpb25DaGFuZ2VkOiBib29sZWFuO1xuICAgIHNlbGVjdGVkQWRkcmVzczogQnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3Mge1xuICAgIG5hbWU6IEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZU5hbWU7XG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgICBpZD86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IG51bWJlcjtcbiAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZU5hbWUge1xuICAgIGZ1bGxOYW1lOiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZFNlbGVjdG9yUmVzcG9uc2Uge1xuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGJvb2xlYW47XG4gICAgc2VsZWN0ZWRDYXJkOiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lV2luZG93IGV4dGVuZHMgV2luZG93IHtcbiAgICBicmFpbnRyZWVGYXN0bGFuZTogQnJhaW50cmVlRmFzdGxhbmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVJZGVudGl0eSB7XG4gICAgbG9va3VwQ3VzdG9tZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lTG9va3VwQ3VzdG9tZXJCeUVtYWlsUmVzdWx0PjtcbiAgICB0cmlnZ2VyQXV0aGVudGljYXRpb25GbG93KFxuICAgICAgICBjdXN0b21lcklkOiBzdHJpbmcsXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25DdXN0b21lclJlc3VsdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVMb29rdXBDdXN0b21lckJ5RW1haWxSZXN1bHQge1xuICAgIGN1c3RvbWVyQ29udGV4dElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25PcHRpb25zIHtcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbiB7XG4gICAgcm9vdD86IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yUHJpbWFyeT86IHN0cmluZztcbiAgICAgICAgZXJyb3JDb2xvcj86IHN0cmluZztcbiAgICAgICAgZm9udEZhbWlseT86IHN0cmluZztcbiAgICAgICAgZm9udFNpemVCYXNlPzogc3RyaW5nO1xuICAgICAgICBwYWRkaW5nPzogc3RyaW5nO1xuICAgICAgICBwcmltYXJ5Q29sb3I/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBpbnB1dD86IHtcbiAgICAgICAgYm9yZGVyUmFkaXVzPzogc3RyaW5nO1xuICAgICAgICBib3JkZXJDb2xvcj86IHN0cmluZztcbiAgICAgICAgZm9jdXNCb3JkZXJDb2xvcj86IHN0cmluZztcbiAgICAgICAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xuICAgICAgICBib3JkZXJXaWR0aD86IHN0cmluZztcbiAgICAgICAgdGV4dENvbG9yQmFzZT86IHN0cmluZztcbiAgICB9O1xuICAgIHRvZ2dsZT86IHtcbiAgICAgICAgY29sb3JQcmltYXJ5Pzogc3RyaW5nO1xuICAgICAgICBjb2xvclNlY29uZGFyeT86IHN0cmluZztcbiAgICB9O1xuICAgIHRleHQ/OiB7XG4gICAgICAgIGJvZHk/OiB7XG4gICAgICAgICAgICBjb2xvcj86IHN0cmluZztcbiAgICAgICAgICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICBjYXB0aW9uPzoge1xuICAgICAgICAgICAgY29sb3I/OiBzdHJpbmc7XG4gICAgICAgICAgICBmb250U2l6ZT86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGJyYW5kaW5nPzogc3RyaW5nOyAvLyAnbGlnaHQnIHwgJ2RhcmsnXG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZSB7XG4gICAgU1VDQ0VFREVEID0gJ3N1Y2NlZWRlZCcsXG4gICAgRkFJTEVEID0gJ2ZhaWxlZCcsXG4gICAgQ0FOQ0VMRUQgPSAnY2FuY2VsbGVkJyxcbiAgICBVTlJFQ09HTklaRUQgPSAndW5yZWNvZ25pemVkJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uQ3VzdG9tZXJSZXN1bHQge1xuICAgIGF1dGhlbnRpY2F0aW9uU3RhdGU6IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZTtcbiAgICBwcm9maWxlRGF0YTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhIHtcbiAgICBmYXN0bGFuZUN1c3RvbWVyQXV0aEFzc2VydGlvblRva2VuOiBzdHJpbmc7XG4gICAgZmFzdGxhbmVDdXN0b21lcklkOiBzdHJpbmc7XG4gICAgc2hpcHBpbmdBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgY2FyZDogQnJhaW50cmVlRmFzdGxhbmVWYXVsdGVkSW5zdHJ1bWVudDtcbiAgICBuYW1lOiBCcmFpbnRyZWVGYXN0bGFuZU5hbWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVOYW1lIHtcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcbiAgICBsYXN0TmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcyB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvbXBhbnk/OiBzdHJpbmc7XG4gICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgIGV4dGVuZGVkQWRkcmVzcz86IHN0cmluZztcbiAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgIHJlZ2lvbjogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZU51bWVyaWM/OiBudW1iZXI7XG4gICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZUFscGhhMz86IHN0cmluZztcbiAgICBwaG9uZU51bWJlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRQYXltZW50U291cmNlIHtcbiAgICBicmFuZDogc3RyaW5nO1xuICAgIGV4cGlyeTogc3RyaW5nO1xuICAgIGxhc3REaWdpdHM6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgYmluRGV0YWlscz86IHtcbiAgICAgICAgYmluOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRTb3VyY2Uge1xuICAgIGNhcmQ6IEJyYWludHJlZUZhc3RsYW5lQ2FyZFBheW1lbnRTb3VyY2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgaWQ6IHN0cmluZzsgLy8gVGhpcyBpcyB0aGUgbm9uY2UgLyB0b2tlblxuICAgIHBheW1lbnRTb3VyY2U6IEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFNvdXJjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zIHtcbiAgICBzdHlsZXM6IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uO1xuICAgIGZpZWxkczogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50RmllbGRzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudEZpZWxkcyB7XG4gICAgY2FyZGhvbGRlck5hbWU/OiB7XG4gICAgICAgIGVuYWJsZWQ/OiBib29sZWFuO1xuICAgICAgICBwcmVmaWxsPzogc3RyaW5nO1xuICAgIH07XG4gICAgcGhvbmVOdW1iZXI/OiB7XG4gICAgICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICAgICAgICBwcmVmaWxsPzogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyB7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NFcnJvckNvbG9yPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lUm9vdFNldHRpbmdzRm9udEZhbWlseT86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc1BhZGRpbmc/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NQcmltYXJ5Q29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NGb250U2l6ZT86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyUmFkaXVzPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JvcmRlcldpZHRoPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0ZvY3VzQm9yZGVyQmFzZT86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NUZXh0Q29sb3JCYXNlPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lVG9nZ2xlU2V0dGluZ3NDb2xvclByaW1hcnk/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yU2Vjb25kYXJ5Pzogc3RyaW5nO1xuICAgIGZhc3RsYW5lVGV4dEJvZHlTZXR0aW5nc0NvbG9yPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lVGV4dEJvZHlTZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0NvbG9yPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lQnJhbmRpbmdTZXR0aW5ncz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVRva2VuaXplT3B0aW9ucyB7XG4gICAgbmFtZT86IHtcbiAgICAgICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICB9O1xuICAgIGJpbGxpbmdBZGRyZXNzPzogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50cyB7XG4gICAgYXBtU2VsZWN0ZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUFwbVNlbGVjdGVkRXZlbnRPcHRpb25zKSA9PiB2b2lkO1xuICAgIGVtYWlsU3VibWl0dGVkOiAob3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVFbWFpbEVudGVyZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG4gICAgb3JkZXJQbGFjZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZU9yZGVyUGxhY2VkRXZlbnRPcHRpb25zKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBjb250ZXh0X3R5cGU6ICdjc19pZCc7XG4gICAgY29udGV4dF9pZDogc3RyaW5nOyAvLyBjaGVja291dCBzZXNzaW9uIGlkXG4gICAgcGFnZV90eXBlOiAnY2hlY2tvdXRfcGFnZSc7XG4gICAgcGFnZV9uYW1lOiBzdHJpbmc7IC8vIHRpdGxlIG9mIHRoZSBjaGVja291dCBpbml0aWF0aW9uIHBhZ2VcbiAgICBwYXJ0bmVyX25hbWU6ICdiaWdjJztcbiAgICB1c2VyX3R5cGU6ICdzdG9yZV9tZW1iZXInIHwgJ3N0b3JlX2d1ZXN0JzsgLy8gdHlwZSBvZiB0aGUgdXNlciBvbiB0aGUgbWVyY2hhbnQgc2l0ZVxuICAgIHN0b3JlX2lkOiBzdHJpbmc7XG4gICAgbWVyY2hhbnRfbmFtZTogc3RyaW5nO1xuICAgIGV4cGVyaW1lbnQ6IHN0cmluZzsgLy8gc3RyaW5naWZ5IEpTT04gb2JqZWN0IFwiW3sgdHJlYXRtZW50X2dyb3VwOiAndGVzdCcgfCAnY29udHJvbCcgfV1cIlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXBtU2VsZWN0ZWRFdmVudE9wdGlvbnNcbiAgICBleHRlbmRzIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBhcG1fc2hvd246ICcwJyB8ICcxJzsgLy8gYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gdGhlIGNoZWNrb3V0IHBhZ2VcbiAgICBhcG1fbGlzdDogc3RyaW5nOyAvLyBsaXN0IG9mIGFsdGVybmF0ZSBwYXltZW50IHNob3duIG9uIGNoZWNrb3V0IHBhZ2VcbiAgICBhcG1fc2VsZWN0ZWQ6IHN0cmluZzsgLy8gYWx0ZXJuYXRlIHBheW1lbnQgbWV0aG9kIHNlbGVjdGVkIC8gbWV0aG9kSWRcbiAgICBhcG1fbG9jYXRpb246ICdwcmUtZW1haWwgc2VjdGlvbicgfCAncGF5bWVudCBzZWN0aW9uJzsgLy8gcGxhY2VtZW50IG9mIEFQTSwgd2hldGhlciBpdCBiZSBhYm92ZSB0aGUgZW1haWwgZW50cnkgb3IgaW4gdGhlIHJhZGlvIGJ1dHRvbnNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUVtYWlsRW50ZXJlZEV2ZW50T3B0aW9uc1xuICAgIGV4dGVuZHMgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIHVzZXJfZW1haWxfc2F2ZWQ6IGJvb2xlYW47IC8vIHNob3dzIHdoZXRoZXIgY2hlY2tvdXQgd2FzIGxvYWRlZCB3aXRoIG9yIHdpdGhvdXQgYSBzYXZlZCBlbWFpbFxuICAgIGFwbV9zaG93bjogJzAnIHwgJzEnOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiB0aGUgY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9saXN0OiBzdHJpbmc7IC8vIGxpc3Qgb2YgYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gY2hlY2tvdXQgcGFnZSAnYXBwbGVwYXksZ29vZ2xlcGF5LHBheXBhbCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZU9yZGVyUGxhY2VkRXZlbnRPcHRpb25zXG4gICAgZXh0ZW5kcyBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50Q29tbW9uT3B0aW9ucyB7XG4gICAgc2VsZWN0ZWRfcGF5bWVudF9tZXRob2Q6IHN0cmluZztcbiAgICBjdXJyZW5jeV9jb2RlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50IHtcbiAgICAob3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50T3B0aW9ucyk6IEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudDtcbiAgICBnZXRQYXltZW50VG9rZW4oXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lVG9rZW5pemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVWYXVsdGVkSW5zdHJ1bWVudD47XG4gICAgcmVuZGVyKGVsZW1lbnQ6IHN0cmluZyk6IHZvaWQ7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBQYXlsb2FkIFZlcmlmaWNhdGlvblxuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZXJpZnlQYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IHtcbiAgICAgICAgY2FyZFR5cGU6IHN0cmluZztcbiAgICAgICAgbGFzdEZvdXI6IHN0cmluZztcbiAgICAgICAgbGFzdFR3bzogc3RyaW5nO1xuICAgIH07XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBsaWFiaWxpdHlTaGlmdFBvc3NpYmxlOiBib29sZWFuO1xuICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBFcnJvcnNcbiAqXG4gKi9cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVycm9yVHlwZSB7XG4gICAgQ3VzdG9tZXIgPSAnQ1VTVE9NRVInLFxuICAgIE1lcmNoYW50ID0gJ01FUkNIQU5UJyxcbiAgICBOZXR3b3JrID0gJ05FVFdPUksnLFxuICAgIEludGVybmFsID0gJ0lOVEVSTkFMJyxcbiAgICBVbmtub3duID0gJ1VOS05PV04nLFxufVxuXG5leHBvcnQgZW51bSBCcmFpbnRyZWVFcnJvckNvZGUge1xuICAgIEtvdW50Tm90RW5hYmxlZCA9ICdEQVRBX0NPTExFQ1RPUl9LT1VOVF9OT1RfRU5BQkxFRCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3JUeXBlO1xuICAgIGNvZGU6IHN0cmluZyB8IEJyYWludHJlZUVycm9yQ29kZS5Lb3VudE5vdEVuYWJsZWQ7XG4gICAgZGV0YWlscz86IHVua25vd247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUmVkaXJlY3RFcnJvciB7XG4gICAgYm9keToge1xuICAgICAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDoge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VybDogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3MgZXh0ZW5kcyBBZGRyZXNzIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBCcmFpbnRyZWVTdXBwb3J0ZWRDYXJkQnJhbmRzIHtcbiAgICBWaXNhID0gJ3Zpc2EnLFxuICAgIE1hc3RlcmNhcmQgPSAnbWFzdGVyY2FyZCcsXG4gICAgQW1lcmljYW5FeHByZXNzID0gJ2FtZXJpY2FuLWV4cHJlc3MnLFxuICAgIERpbmVyc0NsdWIgPSAnZGluZXJzLWNsdWInLFxuICAgIERpc2NvdmVyID0gJ2Rpc2NvdmVyJyxcbiAgICBKY2IgPSAnamNiJyxcbiAgICBVbmlvblBheSA9ICd1bmlvbi1wYXknLFxuICAgIE1hZXN0cm8gPSAnbWFlc3RybycsXG4gICAgRWxvID0gJ2VsbycsXG4gICAgTWlyID0gJ21pcicsXG4gICAgSGlwZXIgPSAnaGlwZXInLFxuICAgIEhpcGVyY2FyZCA9ICdoaXBlcmNhcmQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdBZGRyZXNzU3RhdGUge1xuICAgIGRhdGE/OiBCaWxsaW5nQWRkcmVzcztcbiAgICBlcnJvcnM6IEJpbGxpbmdBZGRyZXNzRXJyb3JzU3RhdGU7XG4gICAgc3RhdHVzZXM6IEJpbGxpbmdBZGRyZXNzU3RhdHVzZXNTdGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzc0Vycm9yc1N0YXRlIHtcbiAgICBsb2FkRXJyb3I/OiBFcnJvcjtcbiAgICB1cGRhdGVFcnJvcj86IEVycm9yO1xuICAgIGNvbnRpbnVlQXNHdWVzdEVycm9yPzogRXJyb3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3NTdGF0dXNlc1N0YXRlIHtcbiAgICBpc0xvYWRpbmc/OiBib29sZWFuO1xuICAgIGlzVXBkYXRpbmc/OiBib29sZWFuO1xuICAgIGlzQ29udGludWluZ0FzR3Vlc3Q/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVJlcXVlc3REYXRhIHtcbiAgICBkYXRhOiB7XG4gICAgICAgIGNyZWRpdENhcmQ6IHtcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzPzoge1xuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlQWxwaGEyOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICAgICAgICAgICAgICBjb3VudHJ5TmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FyZGhvbGRlck5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIGN2dj86IHN0cmluZztcbiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBudW1iZXI6IHN0cmluZztcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZTogYm9vbGVhbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBlbmRwb2ludDogc3RyaW5nO1xuICAgIG1ldGhvZDogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgT21pdCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQge1xuICAgIFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgUGF5cGFsQnV0dG9uT3B0aW9ucyxcbiAgICBQYXlwYWxCdXR0b25SZW5kZXIsXG4gICAgUGF5cGFsU0RLLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnLi9wYXlwYWwnO1xuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVDbGllbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yLFxuICAgIEJyYWludHJlZUVycm9yLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQsXG4gICAgQnJhaW50cmVlTW9kdWxlLFxuICAgIEJyYWludHJlZU1vZHVsZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yLFxuICAgIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMsXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3IsXG4gICAgQnJhaW50cmVlV2luZG93LFxuICAgIEZhc3RsYW5lU3R5bGVzU2V0dGluZ3MsXG4gICAgVmlzYUNoZWNrb3V0U0RLLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gICAgVmlzYUNoZWNrb3V0SW5pdE9wdGlvbnMsXG4gICAgVmlzYUNoZWNrb3V0UGF5bWVudFN1Y2Nlc3NQYXlsb2FkLFxuICAgIFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQsXG59IGZyb20gJy4vdmlzYWNoZWNrb3V0JztcblxuLyoqXG4gKlxuICogQ29uc3RhbnRzXG4gKlxuICovXG5leHBvcnQgZW51bSBCcmFpbnRyZWVFbnYge1xuICAgIFNhbmRib3ggPSAnc2FuZGJveCcsXG4gICAgUHJvZHVjdGlvbiA9ICdwcm9kdWN0aW9uJyxcbn1cblxuLyoqXG4gKlxuICogQ29tbW9uXG4gKlxuICovXG5leHBvcnQgZW51bSBCcmFpbnRyZWVNb2R1bGVOYW1lIHtcbiAgICBDbGllbnQgPSAnY2xpZW50JyxcbiAgICBEYXRhQ29sbGVjdG9yID0gJ2RhdGFDb2xsZWN0b3InLFxuICAgIEZhc3RsYW5lID0gJ2Zhc3RsYW5lJyxcbiAgICBHb29nbGVQYXltZW50ID0gJ2dvb2dsZVBheW1lbnQnLFxuICAgIEhvc3RlZEZpZWxkcyA9ICdob3N0ZWRGaWVsZHMnLFxuICAgIExvY2FsUGF5bWVudCA9ICdsb2NhbFBheW1lbnQnLFxuICAgIFBheXBhbCA9ICdwYXlwYWwnLFxuICAgIFBheXBhbENoZWNrb3V0ID0gJ3BheXBhbENoZWNrb3V0JyxcbiAgICBUaHJlZURTZWN1cmUgPSAndGhyZWVEU2VjdXJlJyxcbiAgICBVc0JhbmtBY2NvdW50ID0gJ3VzQmFua0FjY291bnQnLFxuICAgIFZlbm1vID0gJ3Zlbm1vJyxcbiAgICBWaXNhQ2hlY2tvdXQgPSAndmlzYUNoZWNrb3V0Jyxcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMgPVxuICAgIHwgQnJhaW50cmVlQ2xpZW50Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3JcbiAgICB8IEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JcbiAgICB8IEJyYWludHJlZVBheXBhbENyZWF0b3JcbiAgICB8IEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3JcbiAgICB8IEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3JcbiAgICB8IEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yO1xuXG4vLyBUT0RPOiByZW5hbWUgdG8gQnJhaW50cmVlU2RrTW9kdWxlc1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTREsge1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF0/OiBCcmFpbnRyZWVDbGllbnRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXT86IEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXT86IEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdPzogQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXT86IEJyYWludHJlZVBheXBhbENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdPzogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV0/OiBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXT86IEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF0/OiBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdPzogQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XT86IEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I7XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdGVDb25maWcsXG4gICAgQnJhaW50cmVlRXJyb3IgfCB1bmRlZmluZWRcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRlQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgbWVyY2hhbnRBY2NvdW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEge1xuICAgIGNsaWVudFRva2VuOiBzdHJpbmc7XG4gICAgZW5hYmxlQ2hlY2tvdXRQYXl3YWxsQmFubmVyPzogYm9vbGVhbjtcbiAgICBpbnRlbnQ/OiAnYXV0aG9yaXplJyB8ICdvcmRlcicgfCAnc2FsZSc7XG4gICAgaXNDcmVkaXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0Zhc3RsYW5lU2hpcHBpbmdPcHRpb25BdXRvU2VsZWN0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgZmFzdGxhbmVTdHlsZXM/OiBGYXN0bGFuZVN0eWxlc1NldHRpbmdzO1xuICAgIGlzQnJhaW50cmVlQW5hbHl0aWNzVjJFbmFibGVkPzogYm9vbGVhbjtcbiAgICBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0PzogYm9vbGVhbjsgLy8gVE9ETzogb25seSBmb3IgQlQgQVhPIEEvQiB0ZXN0aW5nIHB1cnBvc2VzLCBoZW5jZSBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciB0ZXN0aW5nXG4gICAgcGF5bWVudEJ1dHRvblN0eWxlcz86IFJlY29yZDxzdHJpbmcsIFBheXBhbFN0eWxlT3B0aW9ucz47XG4gICAgcGF5cGFsQk5QTENvbmZpZ3VyYXRpb24/OiBQYXlQYWxCTlBMQ29uZmlndXJhdGlvbkl0ZW1bXSB8IG51bGw7XG4gICAgbm9uY2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsUmVxdWVzdCB7XG4gICAgYW1vdW50OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgYmlsbGluZ0FncmVlbWVudERlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZTtcbiAgICBmbG93OiAnY2hlY2tvdXQnIHwgJ3ZhdWx0JztcbiAgICBpbnRlbnQ/OiAnYXV0aG9yaXplJyB8ICdvcmRlcicgfCAnc2FsZSc7XG4gICAgbGFuZGluZ1BhZ2VUeXBlPzogJ2xvZ2luJyB8ICdiaWxsaW5nJztcbiAgICBsb2NhbGU/OiBzdHJpbmc7XG4gICAgb2ZmZXJDcmVkaXQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZT86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlO1xuICAgIHVzZXJhY3Rpb24/OiAnY29tbWl0Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMj86IHN0cmluZztcbiAgICBjaXR5OiBzdHJpbmc7XG4gICAgc3RhdGU6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU6IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbiAgICByZWNpcGllbnROYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICB0eXBlOiAnUGF5cGFsQWNjb3VudCcgfCAnVmVubW9BY2NvdW50JztcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzO1xuICAgIGNyZWRpdEZpbmFuY2luZ09mZmVyZWQ/OiB7XG4gICAgICAgIHRvdGFsQ29zdDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRlcm06IG51bWJlcjtcbiAgICAgICAgbW9udGhseVBheW1lbnQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICB0b3RhbEluc3RlcmVzdDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHBheWVyQWNjZXB0YW5jZTogYm9vbGVhbjtcbiAgICAgICAgY2FydEFtb3VudEltbXV0YWJsZTogYm9vbGVhbjtcbiAgICB9O1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhID0gT21pdDxCcmFpbnRyZWVGb3JtRmllbGRTdGF0ZSwgJ2lzRm9jdXNlZCc+O1xuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cyA9XG4gICAgfCAnbnVtYmVyJ1xuICAgIHwgJ2V4cGlyYXRpb25EYXRlJ1xuICAgIHwgJ2V4cGlyYXRpb25Nb250aCdcbiAgICB8ICdleHBpcmF0aW9uWWVhcidcbiAgICB8ICdjdnYnXG4gICAgfCAncG9zdGFsQ29kZSc7XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvcnNEYXRhID0gUGFydGlhbDxcbiAgICBSZWNvcmQ8QnJhaW50cmVlRm9ybUVycm9yRGF0YUtleXMsIEJyYWludHJlZUZvcm1FcnJvckRhdGE+XG4+O1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgSG9zdGVkIEZpZWxkc1xuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzLFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JDb25maWdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzIHtcbiAgICBnZXRTdGF0ZSgpOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZTtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xuICAgIHRva2VuaXplKFxuICAgICAgICBvcHRpb25zPzogQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVQYXlsb2FkPjtcbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbnVtYmVyPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25EYXRlPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25Nb250aD86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBleHBpcmF0aW9uWWVhcj86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBjdnY/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgcG9zdGFsQ29kZT86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBjYXJkaG9sZGVyTmFtZT86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgIH07XG4gICAgc3R5bGVzPzoge1xuICAgICAgICBpbnB1dD86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICcuaW52YWxpZCc/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgICAgICAnLnZhbGlkJz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICc6Zm9jdXMnPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICB9O1xuICAgIHByZXZlbnRDdXJzb3JKdW1wcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb24ge1xuICAgIGNvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQ7XG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBmb3JtYXRJbnB1dD86IGJvb2xlYW47XG4gICAgbWFza0lucHV0PzogYm9vbGVhbiB8IHsgY2hhcmFjdGVyPzogc3RyaW5nOyBzaG93TGFzdEZvdXI/OiBzdHJpbmcgfTtcbiAgICBzZWxlY3Q/OiBib29sZWFuIHwgeyBvcHRpb25zPzogc3RyaW5nW10gfTtcbiAgICBtYXhDYXJkTGVuZ3RoPzogbnVtYmVyO1xuICAgIG1heGxlbmd0aD86IG51bWJlcjtcbiAgICBtaW5sZW5ndGg/OiBudW1iZXI7XG4gICAgcHJlZmlsbD86IHN0cmluZztcbiAgICByZWplY3RVbnN1cHBvcnRlZENhcmRzPzogYm9vbGVhbjtcbiAgICBzdXBwb3J0ZWRDYXJkQnJhbmRzPzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUge1xuICAgIGNhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDYXJkW107XG4gICAgZW1pdHRlZEJ5OiBzdHJpbmc7XG4gICAgZmllbGRzOiB7XG4gICAgICAgIG51bWJlcj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGV4cGlyYXRpb25Nb250aD86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvblllYXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGN2dj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgcG9zdGFsQ29kZT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0NhcmQge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBuaWNlVHlwZTogc3RyaW5nO1xuICAgIGNvZGU6IHsgbmFtZTogc3RyaW5nOyBzaXplOiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGEge1xuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgaXNGb2N1c2VkOiBib29sZWFuO1xuICAgIGlzRW1wdHk6IGJvb2xlYW47XG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBib29sZWFuO1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVPcHRpb25zIHtcbiAgICB2YXVsdD86IGJvb2xlYW47XG4gICAgZmllbGRzVG9Ub2tlbml6ZT86IHN0cmluZ1tdO1xuICAgIGNhcmRob2xkZXJOYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdBZGRyZXNzPzogQnJhaW50cmVlQmlsbGluZ0FkZHJlc3NSZXF1ZXN0RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhIHtcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5Pzogc3RyaW5nO1xuICAgIHJlZ2lvbj86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZU51bWVyaWM/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTI/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG4gICAgY291bnRyeU5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yIGV4dGVuZHMgQnJhaW50cmVlRXJyb3Ige1xuICAgIGRldGFpbHM/OiB7XG4gICAgICAgIGludmFsaWRGaWVsZEtleXM/OiBzdHJpbmdbXTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFN0YXRlIHtcbiAgICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gICAgaXNFbXB0eTogYm9vbGVhbjtcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGJvb2xlYW47XG4gICAgaXNWYWxpZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb2tlbml6YXRpb25QYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGJpbjogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgUGF5UGFsXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVQYXlwYWw+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbCB7XG4gICAgY2xvc2VXaW5kb3coKTogdm9pZDtcbiAgICBmb2N1c1dpbmRvdygpOiB2b2lkO1xuICAgIHRva2VuaXplKG9wdGlvbnM6IEJyYWludHJlZVBheXBhbFJlcXVlc3QpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD47XG4gICAgQnV0dG9ucz8ob3B0aW9uczogUGF5cGFsQnV0dG9uT3B0aW9ucyk6IFBheXBhbEJ1dHRvblJlbmRlcjtcbn1cblxuLyoqXG4gKiBBIHNldCBvZiBvcHRpb25zIHRoYXQgYXJlIHJlcXVpcmVkIHRvIHN1cHBvcnQgM0QgU2VjdXJlIGF1dGhlbnRpY2F0aW9uIGZsb3cuXG4gKlxuICogSWYgdGhlIGN1c3RvbWVyIHVzZXMgYSBjcmVkaXQgY2FyZCB0aGF0IGhhcyAzRCBTZWN1cmUgZW5hYmxlZCwgdGhleSB3aWxsIGJlXG4gKiBhc2tlZCB0byB2ZXJpZnkgdGhlaXIgaWRlbnRpdHkgd2hlbiB0aGV5IHBheS4gVGhlIHZlcmlmaWNhdGlvbiBpcyBkb25lXG4gKiB0aHJvdWdoIGEgd2ViIHBhZ2UgdmlhIGFuIGlmcmFtZSBwcm92aWRlZCBieSB0aGUgY2FyZCBpc3N1ZXIuXG4gKi9cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4vLyAgICAgLyoqXG4vLyAgICAgICogQSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBpcyByZWFkeSB0byBiZSBhZGRlZCB0byB0aGVcbi8vICAgICAgKiBjdXJyZW50IHBhZ2UuIEl0IGlzIHJlc3BvbnNpYmxlIGZvciBkZXRlcm1pbmluZyB3aGVyZSB0aGUgaWZyYW1lIHNob3VsZFxuLy8gICAgICAqIGJlIGluc2VydGVkIGluIHRoZSBET00uXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0gZXJyb3IgLSBBbnkgZXJyb3IgcmFpc2VkIGR1cmluZyB0aGUgdmVyaWZpY2F0aW9uIHByb2Nlc3M7XG4vLyAgICAgICogdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vbmUuXG4vLyAgICAgICogQHBhcmFtIGlmcmFtZSAtIFRoZSBpZnJhbWUgZWxlbWVudCBjb250YWluaW5nIHRoZSB2ZXJpZmljYXRpb24gd2ViIHBhZ2Vcbi8vICAgICAgKiBwcm92aWRlZCBieSB0aGUgY2FyZCBpc3N1ZXIuXG4vLyAgICAgICogQHBhcmFtIGNhbmNlbCAtIEEgZnVuY3Rpb24sIHdoZW4gY2FsbGVkLCB3aWxsIGNhbmNlbCB0aGUgdmVyaWZpY2F0aW9uXG4vLyAgICAgICogcHJvY2VzcyBhbmQgcmVtb3ZlIHRoZSBpZnJhbWUuXG4vLyAgICAgICovXG4vLyAgICAgYWRkRnJhbWUoXG4vLyAgICAgICAgIGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCxcbi8vICAgICAgICAgY2FuY2VsOiAoKSA9PiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+IHwgdW5kZWZpbmVkLFxuLy8gICAgICk6IHZvaWQ7XG4vL1xuLy8gICAgIC8qKlxuLy8gICAgICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBpZnJhbWUgaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tXG4vLyAgICAgICogdGhlIGN1cnJlbnQgcGFnZS5cbi8vICAgICAgKi9cbi8vICAgICByZW1vdmVGcmFtZSgpOiB2b2lkO1xuLy8gfVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1PcHRpb25zIHtcbiAgICBmaWVsZHM6IEJyYWludHJlZUZvcm1GaWVsZHNNYXAgfCBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwO1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlc01hcDtcbiAgICBvbkJsdXI/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEJsdXJFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uQ2FyZFR5cGVDaGFuZ2U/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZENhcmRUeXBlQ2hhbmdlRXZlbnREYXRhKTogdm9pZDtcbiAgICBvbkZvY3VzPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRGb2N1c0V2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25WYWxpZGF0ZT8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uRW50ZXI/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEVudGVyRXZlbnREYXRhKTogdm9pZDtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRm9ybUZpZWxkVHlwZSB7XG4gICAgQ2FyZENvZGUgPSAnY2FyZENvZGUnLFxuICAgIENhcmRDb2RlVmVyaWZpY2F0aW9uID0gJ2NhcmRDb2RlVmVyaWZpY2F0aW9uJyxcbiAgICBDYXJkRXhwaXJ5ID0gJ2NhcmRFeHBpcnknLFxuICAgIENhcmROYW1lID0gJ2NhcmROYW1lJyxcbiAgICBDYXJkTnVtYmVyID0gJ2NhcmROdW1iZXInLFxuICAgIENhcmROdW1iZXJWZXJpZmljYXRpb24gPSAnY2FyZE51bWJlclZlcmlmaWNhdGlvbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkc01hcCB7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVdPzogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkRXhwaXJ5XTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZV06IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVWZXJpZmljYXRpb25dPzogQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucyB7XG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsPzogc3RyaW5nO1xuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucyBleHRlbmRzIEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnMge1xuICAgIGluc3RydW1lbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFN0eWxlc01hcCB7XG4gICAgZGVmYXVsdD86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbiAgICBlcnJvcj86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbiAgICBmb2N1cz86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzID0gUGFydGlhbDxcbiAgICBQaWNrPENTU1N0eWxlRGVjbGFyYXRpb24sICdjb2xvcicgfCAnZm9udEZhbWlseScgfCAnZm9udFNpemUnIHwgJ2ZvbnRXZWlnaHQnPlxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YSB7XG4gICAgZmllbGRUeXBlOiBzdHJpbmc7XG4gICAgZXJyb3JzPzogQnJhaW50cmVlRm9ybUVycm9yc0RhdGE7XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEJsdXJFdmVudERhdGEgPSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YTtcbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEVudGVyRXZlbnREYXRhID0gQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGE7XG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRGb2N1c0V2ZW50RGF0YSA9IEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZENhcmRUeXBlQ2hhbmdlRXZlbnREYXRhIHtcbiAgICBjYXJkVHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSB7XG4gICAgZXJyb3JzOiB7XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRFeHBpcnldPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgfTtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhIHtcbiAgICBmaWVsZFR5cGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgUGF5UGFsIENoZWNrb3V0XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVBheXBhbENoZWNrb3V0PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWxDaGVja291dCB7XG4gICAgbG9hZFBheVBhbFNESyhcbiAgICAgICAgY29uZmlnOiBCcmFpbnRyZWVQYXlwYWxTZGtDcmVhdG9yQ29uZmlnLFxuICAgICAgICBjYWxsYmFjazogKGVycjogbnVsbCB8IHVuZGVmaW5lZCB8IEJyYWludHJlZUVycm9yKSA9PiB2b2lkLFxuICAgICk6IHZvaWQ7XG4gICAgY3JlYXRlUGF5bWVudChvcHRpb25zOiBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0KTogUHJvbWlzZTxzdHJpbmc+O1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD47XG4gICAgdG9rZW5pemVQYXltZW50KG9wdGlvbnM6IFBheXBhbEF1dGhvcml6ZURhdGEpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyB7XG4gICAgY29tcG9uZW50cz86IHN0cmluZztcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgICBpbnRlbnQ/OiBzdHJpbmc7XG4gICAgaXNDcmVkaXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBjb21taXQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVmVubW9cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShjYWxsYmFjazogKGVycm9yOiBCcmFpbnRyZWVFcnJvciwgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkKSA9PiB1bmtub3duKTogdm9pZDtcbiAgICBpc0Jyb3dzZXJTdXBwb3J0ZWQoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBhbGxvd0Rlc2t0b3A/OiBib29sZWFuO1xuICAgIHBheW1lbnRNZXRob2RVc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFZpc2EgQ2hlY2tvdXRcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVZpc2FDaGVja291dD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVmlzYUNoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpOiBQcm9taXNlPFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQ+O1xuICAgIGNyZWF0ZUluaXRPcHRpb25zKG9wdGlvbnM6IFBhcnRpYWw8VmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM+KTogVmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBCTlBMIENvbmZpZ3VyYXRvciByZWxhdGVkIHR5cGVzXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheVBhbEJOUExDb25maWd1cmF0aW9uSXRlbSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBib29sZWFuO1xuICAgIHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIExvY2FsIE1ldGhvZHNcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnIHtcbiAgICBwYXltZW50VHlwZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGZhbGxiYWNrOiB7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgICBidXR0b25UZXh0OiBzdHJpbmc7XG4gICAgfTtcbiAgICBjdXJyZW5jeUNvZGU6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGdpdmVuTmFtZTogc3RyaW5nO1xuICAgIHN1cm5hbWU6IHN0cmluZztcbiAgICBhZGRyZXNzOiB7XG4gICAgICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBvblBheW1lbnRTdGFydChkYXRhOiBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhLCBzdGFydDogKCkgPT4gUHJvbWlzZTx2b2lkPik6IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhIHtcbiAgICBwYXltZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHN0YXJ0UGF5bWVudChcbiAgICAgICAgY29uZmlnOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRDb25maWcsXG4gICAgICAgIGNhbGxiYWNrOiAoXG4gICAgICAgICAgICBzdGFydFBheW1lbnRFcnJvcjogQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYXlsb2FkOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCxcbiAgICAgICAgKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICk6IHZvaWQ7XG59XG5cbi8qKlxuICpcbiAqIE90aGVyXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RXaW5kb3cgZXh0ZW5kcyBCcmFpbnRyZWVXaW5kb3cge1xuICAgIGJyYWludHJlZT86IEJyYWludHJlZVNESztcbiAgICBwYXlwYWw/OiBQYXlwYWxTREs7XG4gICAgVj86IFZpc2FDaGVja291dFNESztcbn1cbiIsImltcG9ydCB7XG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZUVycm9yLFxuICAgIEJyYWludHJlZUVycm9yQ29kZSxcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICBCcmFpbnRyZWVNb2R1bGUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnQsXG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dCxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi91dGlscy9pcy1icmFpbnRyZWUtZXJyb3InO1xuaW1wb3J0IHsgVmlzYUNoZWNrb3V0U0RLIH0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTZGsge1xuICAgIHByaXZhdGUgYnJhaW50cmVlVmVubW8/OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0O1xuICAgIHByaXZhdGUgYnJhaW50cmVlTG9jYWxQYXltZW50PzogQnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIHByaXZhdGUgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIHByaXZhdGUgY2xpZW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhQ29sbGVjdG9yPzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwcml2YXRlIGdvb2dsZVBheW1lbnQ/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50O1xuICAgIHByaXZhdGUgdGhyZWVEUz86IEJyYWludHJlZVRocmVlRFNlY3VyZTtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dD86IFByb21pc2U8QnJhaW50cmVlVmlzYUNoZWNrb3V0PjtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dFNESz86IFZpc2FDaGVja291dFNESztcbiAgICBwcml2YXRlIHVzQmFua0FjY291bnQ/OiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBicmFpbnRyZWVTY3JpcHRMb2FkZXI6IEJyYWludHJlZVNjcmlwdExvYWRlcikge31cblxuICAgIGluaXRpYWxpemUoY2xpZW50VG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldENsaWVudFRva2VuKGNsaWVudFRva2VuKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9yKTtcblxuICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgQ2xpZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9jbGllbnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q2xpZW50KCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50PiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFRva2VuID0gdGhpcy5nZXRDbGllbnRUb2tlbk9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENyZWF0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkQ2xpZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gYXdhaXQgY2xpZW50Q3JlYXRvci5jcmVhdGUoeyBhdXRob3JpemF0aW9uOiBjbGllbnRUb2tlbiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBEYXRhIGNvbGxlY3RvclxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfZGF0YS1jb2xsZWN0b3IuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coXG4gICAgICAgIG9wdGlvbnM/OiBQYXJ0aWFsPEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnPixcbiAgICApOiBQcm9taXNlPEJyYWludHJlZURhdGFDb2xsZWN0b3I+IHtcbiAgICAgICAgY29uc3QgZW1wdHlEYXRhQ29sbGVjdG9yID0ge1xuICAgICAgICAgICAgZGV2aWNlRGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGVhcmRvd246ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhQ29sbGVjdG9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvciA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWREYXRhQ29sbGVjdG9yKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ29sbGVjdG9yQ29uZmlnOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBrb3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ29sbGVjdG9yID0gYXdhaXQgZGF0YUNvbGxlY3Rvci5jcmVhdGUoZGF0YUNvbGxlY3RvckNvbmZpZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc0JyYWludHJlZUVycm9yKGVycm9yKSAmJiBlcnJvci5jb2RlID09PSBCcmFpbnRyZWVFcnJvckNvZGUuS291bnROb3RFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eURhdGFDb2xsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhQ29sbGVjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIEdvb2dsZSBQYXltZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9nb29nbGUtcGF5bWVudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCcmFpbnRyZWVHb29nbGVQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlR29vZ2xlUGF5bWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuZ29vZ2xlUGF5bWVudCkge1xuICAgICAgICAgICAgY29uc3QgW2NsaWVudCwgYnJhaW50cmVlR29vZ2xlUGF5bWVudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkR29vZ2xlUGF5bWVudCgpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ29vZ2xlUGF5bWVudCA9IGF3YWl0IGJyYWludHJlZUdvb2dsZVBheW1lbnQuY3JlYXRlKHsgY2xpZW50IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ29vZ2xlUGF5bWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSAzRFNcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3RocmVlLWQtc2VjdXJlLmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZVRocmVlRFMoKTogUHJvbWlzZTxCcmFpbnRyZWVUaHJlZURTZWN1cmU+IHtcbiAgICAgICAgaWYgKCF0aGlzLnRocmVlRFMpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjbGllbnQsIHRocmVlRFNlY3VyZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkM0RTKCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgdGhpcy50aHJlZURTID0gYXdhaXQgdGhyZWVEU2VjdXJlLmNyZWF0ZSh7IGNsaWVudCwgdmVyc2lvbjogMiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlRFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgTG9jYWwgUGF5bWVudCBNZXRob2RzXG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9sb2NhbC1wYXltZW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZUxvY2FsUGF5bWVudChcbiAgICAgICAgbWVyY2hhbnRBY2NvdW50SWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUxvY2FsUGF5bWVudCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50KSB7XG4gICAgICAgICAgICBjb25zdCBbY2xpZW50LCBsb2NhbFBheW1lbnRDcmVhdG9yXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRMb2NhbFBheW1lbnQoKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogKGJyYWludHJlZUxvY2FsUGF5bWVudDogQnJhaW50cmVlTG9jYWxQYXltZW50KSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgICByZWplY3Q6IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgbG9jYWxQYXltZW50Q3JlYXRvci5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsaWVudCwgbWVyY2hhbnRBY2NvdW50SWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlTG9jYWxQYXltZW50OiBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJyYWludHJlZUxvY2FsUGF5bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFVzQmFua0FjY291bnRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3VzLWJhbmstYWNjb3VudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc0JhbmtBY2NvdW50KCkge1xuICAgICAgICBpZiAoIXRoaXMudXNCYW5rQWNjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHVzQmFua0FjY291bnQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVXNCYW5rQWNjb3VudCgpO1xuXG4gICAgICAgICAgICB0aGlzLnVzQmFua0FjY291bnQgPSBhd2FpdCB1c0JhbmtBY2NvdW50LmNyZWF0ZSh7IGNsaWVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVzQmFua0FjY291bnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmlzYS1jaGVja291dC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQoKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNhQ2hlY2tvdXQpIHtcbiAgICAgICAgICAgIHRoaXMudmlzYUNoZWNrb3V0ID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dCgpLFxuICAgICAgICAgICAgXSkudGhlbigoW2NsaWVudCwgcGF5cGFsXSkgPT4gcGF5cGFsLmNyZWF0ZSh7IGNsaWVudCB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dCBTREtcbiAgICAgKiB2aXNhIGNoZWNrb3V0IGRvYzogaHR0cHM6Ly9kZXZlbG9wZXIudmlzYS5jb20vY2FwYWJpbGl0aWVzL3Zpc2FfY2hlY2tvdXQvZG9jcy1ob3ctdG9cbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldFZpc2FDaGVja291dFNkayh0ZXN0TW9kZT86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2FDaGVja291dFNESykge1xuICAgICAgICAgICAgdGhpcy52aXNhQ2hlY2tvdXRTREsgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2FDaGVja291dFNESztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBWZW5tbyBDaGVja291dFxuICAgICAqIGJyYWludHJlZSB2ZW5tbyBjaGVja291dCBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmVubW8uaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VmVubW9DaGVja291dE9yVGhyb3coKSB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVWZW5tbykge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmVubW9DaGVja291dCgpO1xuXG4gICAgICAgICAgICBjb25zdCB2ZW5tb0NoZWNrb3V0Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBhbGxvd0Rlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZFVzYWdlOiAnbXVsdGlfdXNlJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB2ZW5tb0NoZWNrb3V0LmNyZWF0ZSh2ZW5tb0NoZWNrb3V0Q29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKGJyYWludHJlZVZlbm1vQ2hlY2tvdXQuaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVZlbm1vID0gYnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkQnJvd3NlckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVWZW5tbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFByaXZhdGUgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXRDbGllbnRUb2tlbihjbGllbnRUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xpZW50VG9rZW4gPSBjbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENsaWVudFRva2VuT3JUaHJvdygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRlYXJkb3duTW9kdWxlKG1vZHVsZT86IEJyYWludHJlZU1vZHVsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbW9kdWxlID8gbW9kdWxlLnRlYXJkb3duKCkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEJyYWludHJlZUVycm9yIHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgICAgICgndHlwZScgaW4gZXJyb3IgfHwgJ21lc3NhZ2UnIGluIGVycm9yIHx8ICdjb2RlJyBpbiBlcnJvciksXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGZhaWxzXG4gKiB0byBsb2FkLCBvciBmb3Igc29tZSByZWFzb24sIGl0IGlzIGluYWNjZXNzaWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyYWludHJlZU1vZHVsZU5hbWUgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OLFxufSBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyaXNvbic7XG5cbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZID0ge1xuICAgIFtCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0yNkJYRE5uSkkyM0pZUnlGQmo0eGU0c1ZOclVTU2lTU3UxMWt4VlhOTS92RVBPTm00THVMMDB3NlphVGdRZXd0JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1CK3Z6Ylp3blF0eldCdGhwa1Q0VFhLVWliTzY1dHllSzdlQ3hTdnBibGdwclRlcDIrSUFYQjJDeHhqcm43MTBPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtdXlBR0wxLzMrWEpBSG5Hb055NGVDb1hkeko0ZjdJbHpwKzZ3OVBObkVqczZEQ0N6OVdNeUpqTU4xZ3pjNzhVKycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LUxJdk9FTWtJVkV3VnVZQmRWT1FjMUFDNVliR0dsd3lmVWhlUzBBQ0syMThEMlNUdVZZUWxaNEZ5RVBvd0FFZlQnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtMWJvOUpEeitLc2N0aGMwODVjQ0tXdXI4Q0x3VW9CcG9OeXhzRGk3OTMybUNsMHpGcTNBNW12K0ZRTHc5R0hwVicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC14bUhCVmFVK3c3NFYrT2ViRDNBYVBPTkZ4SFVHTWYrUVJzOEcvSnhWUFhOTlA3TURhMmpMMElDV0hJZTJ0VGZKJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LVdLREpsOG1xb1A4MnFacE1HSDZBYlp4bnZYblNXOElMVjRNNjRDeU1MaXVnR013dTdMeVA4OXdqQ2tIcXNpQmUnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1WUVVscEdIenNHdnM1WGVpR0ZpcDdFWFJzdm9IV0VYRFZtZ0NhY2ZieWllWkk5bWRCT3FxM05Tb3lvMjhPQ09CJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQteXg3bUFEZnpUTjBUNDNRNnJsSDQ5TElnMUVKMGlVWmdCcC9FY3pYOUxYc1VHa3lTZ3hyRCtuV0hRUkJreWZvVCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtUVg0clBqb2oxWkRodUcwYVN5S3M1NmxFS0RxVE1UY2pZeFVIWTFTek81VlpEc3FJRTJOVGtxb3Q3S05TQ3lvdicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LVZ2WUJBQ2ZTdTBDci9KMzJ1S214RzdBWGNOT0pFMUF6SUlMM2tiaWt5UzdZS3A1Zno1SXMrTnpOUC9seWF1TnknLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LTlvR3NaTVJad3BHdERFRFlhL2RGdDc2ZEVDcWoxeEFuaTlnSUtnYzNLZk1JaVJuUjczbkVlZVVETGlCenhoRmEnLFxuICAgIH0sXG4gICAgW0JSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1vK25iUUdjd05OeElCZVhldTMrWG1iU3ErQ2c4UjNFTjNOMGw1aFhDZ01NVTJSR1kwdDF6MExyb1NFSUFiZkFPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1XcmZiV1BCUzRtSDg2R0FveWNQU2dpSDhoUThLSDdBNjdDOTNIamh1bnYveGhOazJZcEJuM3diRkE0RmhnOVUvJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtVkYzODludnZyUlVnRHNUWE14VFlPUkR0VmVnQjlJUWEzQ3hyLy9EeUpuTFluejgvWDhWQ3pFdmNrMmMrTWVndCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXRaS3gyckVRYmZtWnBvUFNZNVZQbUpFaGFxNFg3NWRMdndITXMzVkU5VStDOGxQeXcraFdUSUwxK0dQdldDSUgnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtRTZrM3dPcFA3c3lDRER3YVJETEYwNjk0MlkwME5rYndKdldpMk9RWHd3S3pHd0c1ZmQzRTdSRlV2Q0NlY2Z2TycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0yNThGT044TFpHRzBXOVFhejRKaWo4M3BaSHUzMFluS2pKQTdnTnVsTEJoNkNjbGt1Y2dGK3RIRFF1WUZSWWZXJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXRhSjJwLzArbjBWSDMyOFBPQW9CaXVFYkwzdG5IVVRFOVM0MmhLMVYrVHhzM1grUVlqWk95S1czNUpnSFJGZk8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC0rTlNaSDRaajNzTzViZFd2UEtoVTVOMTZRRHhldWVUVlRuVVZlbGVlRVNraExTYXo0T2IxaGgvNW15ZWNjOVltJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtNjZEaUJqZ2h4azFPbUJqOGFrc044Z2JRK0N3b1FjeDF2UGZpWFVOMDhnMWlRVk0rQndld0YwcDd0b00zaTdTUycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtQjVVd1k0MmtFNFJvTG9XYlE3WXBxb3NVbFVhZDIvRGxHV2l3MEhob1piU1BrMzBDUUFhU0ExMG9oeUxEVGtEVScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LUF3OUVlc1NhVWVXeGUzNlBxRUhpT3lPeU9xOE02Q0liMWd3Ny95SE5WUFJ6R3RGWFhjZDJPUThxWHJJbE9qMlAnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LXJoQkwxaHBaNzFKcUcrMlRzVDBEaWg0N21iang4Y2pKQ3BlWmprOXR3M2RmMWdGTUtmQ1RtTXladW5ocjdINFknLFxuICAgIH0sXG4gICAgW0JSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTl06IHtcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtMFdOeGtzSXBSUCtmWVppSWRyMTJnNkRCVVFmTER6WUNRSlp0Ui9DOEtrY3dTR2hQSGZjRnAzdFRhR2NNeUZUcScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtbFdNMWprNEJPeG9ETlY2S29wN3RWTnZRZ0lObG1FVnowYy9Pd00rSE5ISzNRQzh4cXdkNTRPdnJ0MlFSRFRqaCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbF06XG4gICAgICAgICAgICAnc2hhMzg0LWZYVW1WeEMyRU1aQkRYWjdlVEhTVEwvTEZCckhlai9NU1hUL3ZUQlh2cmE0bHpnTE5HdlJFQXAreDBHWU9idUgnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1waGExeEd1R1NrbVpINXg5YXFIdlJhTzR4TGVhN3JtUS83OVBGajl6eE56eHVGY09XWmc3Z09QN0ZpYnlnT0VDJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3Rvcl06XG4gICAgICAgICAgICAnc2hhMzg0LVE2UEkyRjllZWtXYkF4aHJveWJsK2FFY3ZxaGRvd04vRVFsR3dCVXlKT3pQRm45OTgydTl4bDZTVTZYZkdLemMnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50XTpcbiAgICAgICAgICAgICdzaGEzODQtVzNSTFFTS0pMMXRRMytZN21QNnRta2FtdFo4YlY0WXcvWHhMOUpqNUp0WEhyYUQ4bG9NRjhoQUlHNW0yeks3RicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1USVRRTXNGV0EzZWxETkdQMm1XejJvS0JvNHFqdCtUbHF6b3ZjYVBvZUJpQWgvd1BCaTZuYWU1MEFEZGdVMS9pJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXTpcbiAgICAgICAgICAgICdzaGEzODQtWWl5Y1lOODlabEwvRXZjYXE0eTFhalcxbWhkN0pZZlpCRHVPd0h0SW40L0pubTIwR0wrL1hDTSt6WUF3V0Q4RCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LS9PZGFUdjlxcmtLempPYnRVZTZ5emZEaEhvekZXLyt1WGxyU2w3MzZzT1pSSnBqR1FFVHZwWVhxTUZGZzY5eHYnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tb106XG4gICAgICAgICAgICAnc2hhMzg0LWRBK29qZFc5dmJKUzRKYXZjWHlPczlkNXVaSEpnNWROdFl1cG9QU0gyenNYSWlZRFZTNWFtTGIvdThxbVE2b3onLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdOlxuICAgICAgICAgICAgJ3NoYTM4NC0zMVprUzU4K2lhV3NXMDZmdFc1Mnp6VlpGcDQzV1BkN3BOWVJpZGRZeW5TTmc2T2g3V0diU0ZHb3JBVUg2VDF6JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1qbGJyd052TDNIdkxBVUN0TFNtcm5RMkdIMXVkQ1VyUlMvYlZtUmVBUzVmdUlWdmNXOFBrby9Ha2c4MnRsZ3RyJyxcbiAgICB9LFxufTtcbiIsImV4cG9ydCBlbnVtIEFwcGxlUGF5R2F0ZXdheVR5cGUge1xuICAgIEJSQUlOVFJFRSA9ICdicmFpbnRyZWUnLFxuICAgIEJSQUlOVFJFRV9GQVNUTEFORSA9ICdicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0Jyxcbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB9IGZyb20gJy4vYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eSc7XG5pbXBvcnQgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcnNpb24tbWFuYWdlcic7XG5pbXBvcnQgaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbiBmcm9tICcuL2lzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24nO1xuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVDbGllbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yLFxuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyxcbiAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgIEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3IsXG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3IsXG4gICAgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcixcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWaXNhQ2hlY2tvdXRTREsgfSBmcm9tICcuL3Zpc2FjaGVja291dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcjogQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgbG9hZENsaWVudCgpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlQ2xpZW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudCxcbiAgICAgICAgICAgICdjbGllbnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkRmFzdGxhbmUoKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmUsXG4gICAgICAgICAgICAnZmFzdGxhbmUubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkUGF5cGFsQ2hlY2tvdXQoKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAncGF5cGFsLWNoZWNrb3V0Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFBheXBhbCgpOiBQcm9taXNlPEJyYWludHJlZVBheXBhbENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlUGF5cGFsQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbCxcbiAgICAgICAgICAgICdwYXlwYWwubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkTG9jYWxQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50LFxuICAgICAgICAgICAgJ2xvY2FsLXBheW1lbnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkRGF0YUNvbGxlY3RvcigpOiBQcm9taXNlPEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3RvcixcbiAgICAgICAgICAgICdkYXRhLWNvbGxlY3Rvci5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRVc0JhbmtBY2NvdW50KCk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50LFxuICAgICAgICAgICAgJ3VzLWJhbmstYWNjb3VudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRHb29nbGVQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50LFxuICAgICAgICAgICAgJ2dvb2dsZS1wYXltZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZDNEUygpOiBQcm9taXNlPEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZSxcbiAgICAgICAgICAgICd0aHJlZS1kLXNlY3VyZS5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxvYWRWaXNhQ2hlY2tvdXQoKTogUHJvbWlzZTxCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXQsXG4gICAgICAgICAgICAndmlzYS1jaGVja291dC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxvYWRWZW5tb0NoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tbyxcbiAgICAgICAgICAgICd2ZW5tby5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRIb3N0ZWRGaWVsZHMoKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHMsXG4gICAgICAgICAgICAnaG9zdGVkLWZpZWxkcy5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRWaXNhQ2hlY2tvdXRTZGsodGVzdE1vZGU/OiBib29sZWFuKTogUHJvbWlzZTxWaXNhQ2hlY2tvdXRTREs+IHtcbiAgICAgICAgaWYgKHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlY7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNoID0gdGVzdE1vZGVcbiAgICAgICAgICAgID8gJ3NoYTM4NC0wZXUxczFHdHF6WGxMOUR0TGdtd3pDNVdXbEVIL0FEUk0wbjM4Y1ZRa3Z0VCtXL2dleTk2cmNiMUx3dVVPUERtJ1xuICAgICAgICAgICAgOiAnc2hhMzg0LTFmMWNzdlAzWkZ4ZzRkSUxIMUdhWTRMSGxaMG9YN1JrODNyeG1MbHdibklpNFRNME5ZelhvZXYxVm9FaVZEUzYnO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlclxuICAgICAgICAgICAgLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICAgICAgYC8vJHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdE1vZGUgPyAnc2FuZGJveC0nIDogJydcbiAgICAgICAgICAgICAgICB9YXNzZXRzLnNlY3VyZS5jaGVja291dC52aXNhLmNvbS9jaGVja291dC13aWRnZXQvcmVzb3VyY2VzL2pzL2ludGVncmF0aW9uL3YxL3Nkay5qc2AsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyaXR5OiBoYXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlY7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PFQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycz4oXG4gICAgICAgIGJyYWludHJlZU1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgICAgIGZpbGVOYW1lOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIGxldCBtb2R1bGUgPSB0aGlzLmdldEJyYWludHJlZU1vZHVsZShicmFpbnRyZWVNb2R1bGVOYW1lKTtcblxuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBicmFpbnRyZWVTZGtWZXJzaW9uID0gdGhpcy5icmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlci5nZXRTREtWZXJzaW9uKCk7XG5cbiAgICAgICAgY29uc3Qgc2NyaXB0UGF0aCA9IGAvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8ke2JyYWludHJlZVNka1ZlcnNpb259L2pzLyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICBjb25zdCBpbnRlZ3JpdHkgPSBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uKGJyYWludHJlZVNka1ZlcnNpb24pXG4gICAgICAgICAgICA/IHRoaXMuZ2V0SW50ZWdyaXR5VmFsdWVzQnlNb2R1bGVOYW1lKGJyYWludHJlZU1vZHVsZU5hbWUsIGJyYWludHJlZVNka1ZlcnNpb24pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgc2NyaXB0UGF0aCxcbiAgICAgICAgICAgIGludGVncml0eVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogJ2Fub255bW91cycsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcblxuICAgICAgICBtb2R1bGUgPSB0aGlzLmdldEJyYWludHJlZU1vZHVsZShicmFpbnRyZWVNb2R1bGVOYW1lKTtcblxuICAgICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgIHJldHVybiBtb2R1bGUgYXMgVDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJyYWludHJlZU1vZHVsZShcbiAgICAgICAgYnJhaW50cmVlTW9kdWxlTmFtZTogQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICApOiBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuYnJhaW50cmVlPy5bYnJhaW50cmVlTW9kdWxlTmFtZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnRlZ3JpdHlWYWx1ZXNCeU1vZHVsZU5hbWUoXG4gICAgICAgIG1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgICAgIHZlcnNpb246IGtleW9mIHR5cGVvZiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZLFxuICAgICk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGludGVncml0eSA9IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFlbdmVyc2lvbl1bbW9kdWxlTmFtZV07XG5cbiAgICAgICAgaWYgKCFpbnRlZ3JpdHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBmaWxlTmFtZSB2YWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGVncml0eTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIH0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5JztcblxuZnVuY3Rpb24gaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbihcbiAgICB2ZXJzaW9uOiBzdHJpbmcsXG4pOiB2ZXJzaW9uIGlzIGtleW9mIHR5cGVvZiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIHtcbiAgICByZXR1cm4gdmVyc2lvbiBpbiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIG1ldGhvZCBpcyB1bmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZVxuICogY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSBhcmd1bWVudHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlcXVpcmVtZW50cyxcbiAqIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludmFsaWRBcmd1bWVudEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2ludmFsaWRfYXJndW1lbnQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIHBheW1lbnQgZmxvdyBpcyBjYW5jZWxsZWQuIEl0IGNvdWxkIGJlXG4gKiBkdWUgdG8gYSBkZWxpYmVyYXRlIHVzZXIgaW50ZXJhY3Rpb24sIGkuZS46IHRoZSB1c2VyIGNsaWNrcyBvbiBhIGNhbmNlbFxuICogYnV0dG9uIHdoaWNoIGRpc21pc3NlcyB0aGUgcGF5bWVudCBtb2RhbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfY2FuY2VsbGVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IHsgQnJhaW50cmVlU2RrIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQXBwbGVQYXlHYXRld2F5VHlwZSB9IGZyb20gJy4vYXBwbGUtcGF5JztcbmltcG9ydCB7IFdpdGhBcHBsZVBheVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYXBwbGUtcGF5LXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IHZhbGlkYXRpb25FbmRwb2ludCA9IChiaWdQYXlFbmRwb2ludDogc3RyaW5nKSA9PlxuICAgIGAke2JpZ1BheUVuZHBvaW50fS9hcGkvcHVibGljL3YxL3BheW1lbnRzL2FwcGxlcGF5L3ZhbGlkYXRlX21lcmNoYW50YDtcblxuaW50ZXJmYWNlIEFwcGxlUGF5UHJvbWlzZSB7XG4gICAgcmVzb2x2ZSgpOiB2b2lkO1xuICAgIHJlamVjdChyZWFzb24/OiBFcnJvcik6IHZvaWQ7XG59XG5cbmVudW0gRGVmYXVsdExhYmVscyB7XG4gICAgU2hpcHBpbmcgPSAnU2hpcHBpbmcnLFxuICAgIFN1YnRvdGFsID0gJ1N1YnRvdGFsJyxcbiAgICBTdG9yZUNyZWRpdCA9ICdTdG9yZSBDcmVkaXQnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheVBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc2hpcHBpbmdMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TaGlwcGluZztcbiAgICBwcml2YXRlIF9zdWJUb3RhbExhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgIHByaXZhdGUgX3N0b3JlQ3JlZGl0TGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU3RvcmVDcmVkaXQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBfc2Vzc2lvbkZhY3Rvcnk6IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnksXG4gICAgICAgIHByaXZhdGUgX2JyYWludHJlZVNkazogQnJhaW50cmVlU2RrLFxuICAgICAgICBwcml2YXRlIF9hcHBsZVBheVNjcmlwdExvYWRlcjogQXBwbGVQYXlTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhBcHBsZVBheVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCFvcHRpb25zPy5tZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX2FwcGxlUGF5U2NyaXB0TG9hZGVyLmxvYWRTZGsoKTtcblxuICAgICAgICB0aGlzLl9zaGlwcGluZ0xhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc2hpcHBpbmdMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgICAgICB0aGlzLl9zdWJUb3RhbExhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc3VidG90YWxMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgICAgICB0aGlzLl9zdG9yZUNyZWRpdExhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc3RvcmVDcmVkaXRMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlN0b3JlQ3JlZGl0O1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUgJiZcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2QuY2xpZW50VG9rZW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShwYXltZW50TWV0aG9kLmNsaWVudFRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQgfSA9IHBheWxvYWQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBwYXltZW50O1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuX2dldEJhc2VSZXF1ZXN0KHN0YXRlLCBwYXltZW50TWV0aG9kKTtcbiAgICAgICAgY29uc3QgYXBwbGVQYXlTZXNzaW9uID0gdGhpcy5fc2Vzc2lvbkZhY3RvcnkuY3JlYXRlKHJlcXVlc3QpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXNlU3RvcmVDcmVkaXQ6IHBheWxvYWQudXNlU3RvcmVDcmVkaXQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uYmVnaW4oKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQXBwbGVQYXlFdmVudHMoYXBwbGVQYXlTZXNzaW9uLCBwYXltZW50TWV0aG9kLCB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJhc2VSZXF1ZXN0KFxuICAgICAgICBzdGF0ZTogUGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICk6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCB7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzdG9yZVByb2ZpbGU6IHsgc3RvcmVDb3VudHJ5Q29kZSwgc3RvcmVOYW1lIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGNvZGUsIGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IGNhcnQ7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogeyBtZXJjaGFudENhcGFiaWxpdGllcywgc3VwcG9ydGVkTmV0d29ya3MgfSxcbiAgICAgICAgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgeyBncmFuZFRvdGFsLCBpc1N0b3JlQ3JlZGl0QXBwbGllZCwgb3V0c3RhbmRpbmdCYWxhbmNlIH0gPSBjaGVja291dDtcblxuICAgICAgICBjb25zdCBsaW5lSXRlbXM6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbVtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc3VidG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjaGVja291dC50YXhlcy5mb3JFYWNoKCh0YXgpID0+XG4gICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7dGF4LmFtb3VudC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5fc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc2hpcHBpbmdDb3N0VG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNTdG9yZUNyZWRpdEFwcGxpZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RvcmVDcmVkaXQgfSA9IHN0YXRlLmdldEN1c3RvbWVyT3JUaHJvdygpO1xuXG4gICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N0b3JlQ3JlZGl0TGFiZWwsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgLSR7TWF0aC5taW4oZ3JhbmRUb3RhbCwgc3RvcmVDcmVkaXQpLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzdG9yZUNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjb2RlLFxuICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgIGxpbmVJdGVtcyxcbiAgICAgICAgICAgIHRvdGFsOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke291dHN0YW5kaW5nQmFsYW5jZS50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlQXBwbGVQYXlFdmVudHMoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBwcm9taXNlOiBBcHBsZVBheVByb21pc2UsXG4gICAgKSB7XG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnZhbGlkYXRlbWVyY2hhbnQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBib2R5OiBtZXJjaGFudFNlc3Npb24gfSA9IGF3YWl0IHRoaXMuX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZU1lcmNoYW50VmFsaWRhdGlvbihtZXJjaGFudFNlc3Npb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXJjaGFudCB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbmNhbmNlbCA9IGFzeW5jICgpID0+XG4gICAgICAgICAgICBwcm9taXNlLnJlamVjdChuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCdDb250aW51ZSB3aXRoIGFwcGxlcGF5JykpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnBheW1lbnRhdXRob3JpemVkID0gKGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX29uUGF5bWVudEF1dGhvcml6ZWQoZXZlbnQsIGFwcGxlUGF5U2Vzc2lvbiwgcGF5bWVudE1ldGhvZCwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25WYWxpZGF0ZU1lcmNoYW50KFxuICAgICAgICBwYXltZW50RGF0YTogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlWYWxpZGF0ZU1lcmNoYW50RXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBbXG4gICAgICAgICAgICBgdmFsaWRhdGlvblVybD0ke2V2ZW50LnZhbGlkYXRpb25VUkx9YCxcbiAgICAgICAgICAgIGBtZXJjaGFudElkZW50aWZpZXI9JHtwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEubWVyY2hhbnRJZH1gLFxuICAgICAgICAgICAgYGRpc3BsYXlOYW1lPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnN0b3JlTmFtZX1gLFxuICAgICAgICAgICAgYGRvbWFpbk5hbWU9JHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YCxcbiAgICAgICAgXS5qb2luKCcmJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcbiAgICAgICAgICAgIHZhbGlkYXRpb25FbmRwb2ludChwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudHNVcmwpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgICAgICAgICAgICAgICdYLVhTUkYtVE9LRU4nOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25QYXltZW50QXV0aG9yaXplZChcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50QXV0aG9yaXplZEV2ZW50LFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgcHJvbWlzZTogQXBwbGVQYXlQcm9taXNlLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBldmVudC5wYXltZW50O1xuXG4gICAgICAgIGxldCBkZXZpY2VTZXNzaW9uSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAocGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmdhdGV3YXkgPT09IEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFKSB7XG4gICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQgPSBhd2FpdCB0aGlzLl9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50OiBQYXltZW50ID0ge1xuICAgICAgICAgICAgbWV0aG9kSWQ6IHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxlX3BheV90b2tlbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9kYXRhOiB0b2tlbi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiB0b2tlbi5wYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25faWQ6IHRva2VuLnRyYW5zYWN0aW9uSWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnQpO1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX1NVQ0NFU1MpO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfRkFJTFVSRSk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldEJyYWludHJlZURldmljZURhdGEoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5fYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VEYXRhO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB0aHJvdyBhbiBlcnJvciB0byBhdm9pZCBicmVha2luZyBjaGVja291dCBmbG93XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQXBwbGVQYXlXaW5kb3cgZnJvbSAnLi9hcHBsZS1wYXktd2luZG93JztcbmltcG9ydCBpc0FwcGxlUGF5V2luZG93IGZyb20gJy4vaXMtYXBwbGUtcGF5LXdpbmRvdyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcHBsZVBheVdpbmRvdyh3aW5kb3c6IFdpbmRvdyk6IGFzc2VydHMgd2luZG93IGlzIEFwcGxlUGF5V2luZG93IHtcbiAgICBpZiAoIWlzQXBwbGVQYXlXaW5kb3cod2luZG93KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxlIHBheSBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheVNlc3Npb25GYWN0b3J5IHtcbiAgICBjcmVhdGUocmVxdWVzdDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0KTogQXBwbGVQYXlTZXNzaW9uIHtcbiAgICAgICAgYXNzZXJ0QXBwbGVQYXlXaW5kb3cod2luZG93KTtcblxuICAgICAgICByZXR1cm4gbmV3IEFwcGxlUGF5U2Vzc2lvbigxLCByZXF1ZXN0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXBwbGVQYXlXaW5kb3cgZnJvbSAnLi9hcHBsZS1wYXktd2luZG93JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBcHBsZVBheVdpbmRvdyh3aW5kb3c6IFdpbmRvdyk6IHdpbmRvdyBpcyBBcHBsZVBheVdpbmRvdyB7XG4gICAgcmV0dXJuICdBcHBsZVBheVNlc3Npb24nIGluIHdpbmRvdztcbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgYXNzZXJ0QXBwbGVQYXlXaW5kb3cgfSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuaW1wb3J0IGlzQXBwbGVQYXlTZGtXaW5kb3cgZnJvbSAnLi9pcy1hcHBsZS1wYXktc2RrLXdpbmRvdyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5U2NyaXB0TG9hZGVyIHtcbiAgICBwcml2YXRlIHNka1ZlcnNpb24gPSAnMS5sYXRlc3QnO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcikge31cblxuICAgIGFzeW5jIGxvYWRTZGsoKSB7XG4gICAgICAgIGlmIChpc0FwcGxlUGF5U2RrV2luZG93KHdpbmRvdykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICBgaHR0cHM6Ly9hcHBsZXBheS5jZG4tYXBwbGUuY29tL2pzYXBpLyR7dGhpcy5zZGtWZXJzaW9ufS9hcHBsZS1wYXktc2RrLmpzYCxcbiAgICAgICAgKTtcblxuICAgICAgICBhc3NlcnRBcHBsZVBheVdpbmRvdyh3aW5kb3cpO1xuICAgIH1cbn1cbiIsImludGVyZmFjZSBBcHBsZVBheVNka1dpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgQXBwbGVQYXlTREs/OiB7XG4gICAgICAgIG9yaWdpbjogc3RyaW5nO1xuICAgICAgICBwdWJsaWNQYXRoOiBzdHJpbmc7XG4gICAgICAgIHRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBcHBsZVBheVNka1dpbmRvdyh3aW5kb3c6IFdpbmRvdyk6IHdpbmRvdyBpcyBBcHBsZVBheVNka1dpbmRvdyB7XG4gICAgcmV0dXJuICdBcHBsZVBheVNESycgaW4gd2luZG93O1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlUmVxdWVzdFNlbmRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIsIFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYXBwbGUtcGF5LXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgY3JlYXRlQXBwbGVQYXlQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8QXBwbGVQYXlQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCB7IGdldEhvc3QgfSA9IHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuICAgIHJldHVybiBuZXcgQXBwbGVQYXlQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIGNyZWF0ZVJlcXVlc3RTZW5kZXIoeyBob3N0OiBnZXRIb3N0KCkgfSksXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBBcHBsZVBheVNlc3Npb25GYWN0b3J5KCksXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTZGsoXG4gICAgICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpLCB3aW5kb3csIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKSxcbiAgICAgICAgKSxcbiAgICAgICAgbmV3IEFwcGxlUGF5U2NyaXB0TG9hZGVyKG5ldyBTY3JpcHRMb2FkZXIoKSksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVBcHBsZVBheVBheW1lbnRTdHJhdGVneSwgW3sgaWQ6ICdhcHBsZXBheScgfV0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE1pc3NpbmdEYXRhRXJyb3JUeXBlIHtcbiAgICBNaXNzaW5nQmlsbGluZ0FkZHJlc3MsXG4gICAgTWlzc2luZ0NhcnQsXG4gICAgTWlzc2luZ0NoZWNrb3V0LFxuICAgIE1pc3NpbmdDb25zaWdubWVudHMsXG4gICAgTWlzc2luZ0N1c3RvbWVyLFxuICAgIE1pc3NpbmdDaGVja291dENvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXIsXG4gICAgTWlzc2luZ09yZGVyQ29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcklkLFxuICAgIE1pc3NpbmdQYXltZW50LFxuICAgIE1pc3NpbmdQYXltZW50SWQsXG4gICAgTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdQYXltZW50TWV0aG9kLFxuICAgIE1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmwsXG4gICAgTWlzc2luZ1BheW1lbnRTdGF0dXMsXG4gICAgTWlzc2luZ1BheW1lbnRUb2tlbixcbiAgICBNaXNzaW5nU2hpcHBpbmdBZGRyZXNzLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3Igd2hlbiBkYXRhIHRoYXQgaXMgZXhwZWN0ZWQgdG8gZXhpc3QgaXMgbWlzc2luZy4gVXN1YWxseSBpdFxuICogaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQgY2VydGFpbiBkYXRhIGhhcyBub3QgYmVlbiByZXRyaWV2ZWQgZnJvbSBvciBzYXZlZCB0b1xuICogdGhlIHNlcnZlciB5ZXQuIEFuZCBzdWNoIGRhdGEgaXMgcmVxdWlyZWQgdG8gcGVyZm9ybSBjZXJ0YWluIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3NpbmdEYXRhRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ0RhdGFFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdtaXNzaW5nX2RhdGEnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgYmlsbGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDYXJ0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NvbnNpZ25tZW50czpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNoZWNrb3V0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDdXN0b21lcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWc6XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyQ29uZmlnOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbmZpZ3VyYXRpb24gZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcklkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0Lic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW46XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2Q6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBzaGlwcGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSB0cnkgdG8gY2FsbCBhIG1ldGhvZCB0aGF0IGlzIG9ubHkgYSBzdHViIGFuZCBoYXMgbm90XG4gKiBiZWVuIGZ1bGx5IGltcGxlbWVudGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbXBsZW1lbnRlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdOb3QgaW1wbGVtZW50ZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEltcGxlbWVudGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2ltcGxlbWVudGVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVTZGsgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3NSZXF1ZXN0Qm9keSxcbiAgICBDYXJ0LFxuICAgIENoZWNrb3V0LFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEltcGxlbWVudGVkRXJyb3IsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFNoaXBwaW5nT3B0aW9uLFxuICAgIFN0b3JlQ29uZmlnLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQXBwbGVQYXlHYXRld2F5VHlwZSB9IGZyb20gJy4vYXBwbGUtcGF5JztcbmltcG9ydCB7IFdpdGhBcHBsZVBheUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2FwcGxlLXBheS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgdmFsaWRhdGlvbkVuZHBvaW50ID0gKGJpZ1BheUVuZHBvaW50OiBzdHJpbmcpID0+XG4gICAgYCR7YmlnUGF5RW5kcG9pbnR9L2FwaS9wdWJsaWMvdjEvcGF5bWVudHMvYXBwbGVwYXkvdmFsaWRhdGVfbWVyY2hhbnRgO1xuXG5lbnVtIERlZmF1bHRMYWJlbHMge1xuICAgIFN1YnRvdGFsID0gJ1N1YnRvdGFsJyxcbiAgICBTaGlwcGluZyA9ICdTaGlwcGluZycsXG59XG5cbmZ1bmN0aW9uIGlzU2hpcHBpbmdPcHRpb25zKG9wdGlvbnM6IFNoaXBwaW5nT3B0aW9uW10gfCB1bmRlZmluZWQpOiBvcHRpb25zIGlzIFNoaXBwaW5nT3B0aW9uW10ge1xuICAgIHJldHVybiBvcHRpb25zIGluc3RhbmNlb2YgQXJyYXk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3BheW1lbnRNZXRob2Q/OiBQYXltZW50TWV0aG9kO1xuICAgIHByaXZhdGUgX2FwcGxlUGF5QnV0dG9uPzogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfb25BdXRob3JpemVDYWxsYmFjayA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfb25FcnJvciA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfb25DbGljayA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfc3ViVG90YWxMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TdWJ0b3RhbDtcbiAgICBwcml2YXRlIF9zaGlwcGluZ0xhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgIHByaXZhdGUgX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3JlcXVlc3RTZW5kZXI6IFJlcXVlc3RTZW5kZXIsXG4gICAgICAgIHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgX3Nlc3Npb25GYWN0b3J5OiBBcHBsZVBheVNlc3Npb25GYWN0b3J5LFxuICAgICAgICBwcml2YXRlIF9icmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICAgICAgcHJpdmF0ZSBfYXBwbGVQYXlTY3JpcHRMb2FkZXI6IEFwcGxlUGF5U2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQXBwbGVQYXlDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBhcHBsZXBheSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkIHx8ICFhcHBsZXBheSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIHN1YnRvdGFsTGFiZWwsXG4gICAgICAgICAgICBvbkVycm9yID0gbm9vcCxcbiAgICAgICAgICAgIG9uQ2xpY2sgPSBub29wLFxuICAgICAgICAgICAgb25QYXltZW50QXV0aG9yaXplLFxuICAgICAgICB9ID0gYXBwbGVwYXk7XG5cbiAgICAgICAgdGhpcy5fc2hpcHBpbmdMYWJlbCA9IHNoaXBwaW5nTGFiZWwgfHwgRGVmYXVsdExhYmVscy5TaGlwcGluZztcbiAgICAgICAgdGhpcy5fc3ViVG90YWxMYWJlbCA9IHN1YnRvdGFsTGFiZWwgfHwgRGVmYXVsdExhYmVscy5TdWJ0b3RhbDtcbiAgICAgICAgdGhpcy5fb25BdXRob3JpemVDYWxsYmFjayA9IG9uUGF5bWVudEF1dGhvcml6ZTtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIHRoaXMuX29uQ2xpY2sgPSBvbkNsaWNrO1xuXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9hcHBsZVBheVNjcmlwdExvYWRlci5sb2FkU2RrKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbigpO1xuXG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmdhdGV3YXkgPT09IEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFICYmXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5fYnJhaW50cmVlU2RrLmluaXRpYWxpemUodGhpcy5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBzaWduSW4oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFxuICAgICAgICAgICAgJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIEFwcGxlLCB0aGUgc2hvcHBlciBtdXN0IGNsaWNrIG9uIFwiQXBwbGUgUGF5XCIgYnV0dG9uLicsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2lnbk91dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoJ05lZWQgdG8gZG8gc2lnbm91dCB2aWEgYXBwbGUuJyk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dChvcHRpb25zPzogRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgb3B0aW9ucz8uY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjaz8uKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUJ1dHRvbihjb250YWluZXJJZDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQXBwbGVQYXlCdXR0b25FbGVtZW50KCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFwcGxlUGF5QnV0dG9uKTtcblxuICAgICAgICByZXR1cm4gYXBwbGVQYXlCdXR0b247XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlQXBwbGVQYXlCdXR0b25FbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgYXBwbGVQYXlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcHBsZS1wYXktYnV0dG9uJyk7XG5cbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKCdidXR0b25zdHlsZScsICdibGFjaycpO1xuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncGxhaW4nKTtcbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgICAgICctLWFwcGxlLXBheS1idXR0b24td2lkdGg6IDEwMCU7IC0tYXBwbGUtcGF5LWJ1dHRvbi1oZWlnaHQ6IDQwcHg7IC0tYXBwbGUtcGF5LWJ1dHRvbi1ib3JkZXItcmFkaXVzOiA0cHg7JyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gYXBwbGVQYXlCdXR0b247XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2soZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0FwcGxlUGF5U2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25DbGljaygpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9wYXltZW50TWV0aG9kIHx8ICF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuX2dldEJhc2VSZXF1ZXN0KGNhcnQsIGNoZWNrb3V0LCBjb25maWcsIHRoaXMuX3BheW1lbnRNZXRob2QpO1xuICAgICAgICBjb25zdCBhcHBsZVBheVNlc3Npb24gPSB0aGlzLl9zZXNzaW9uRmFjdG9yeS5jcmVhdGUocmVxdWVzdCk7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlQXBwbGVQYXlFdmVudHMoYXBwbGVQYXlTZXNzaW9uLCB0aGlzLl9wYXltZW50TWV0aG9kLCBjb25maWcpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5iZWdpbigpO1xuICAgICAgICB0aGlzLl9oYXNBcHBsZVBheVNlc3Npb24gPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJhc2VSZXF1ZXN0KFxuICAgICAgICBjYXJ0OiBDYXJ0LFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlQ291bnRyeUNvZGUsIHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBjb2RlLCBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBjYXJ0O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogeyBtZXJjaGFudENhcGFiaWxpdGllcywgc3VwcG9ydGVkTmV0d29ya3MgfSxcbiAgICAgICAgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgdG90YWw6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbSA9IHJlcXVpcmVzU2hpcHBpbmdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHJlcXVpcmVkQmlsbGluZ0NvbnRhY3RGaWVsZHM6IFsncG9zdGFsQWRkcmVzcyddLFxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM6IFsnZW1haWwnLCAncGhvbmUnXSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzdG9yZUNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjb2RlLFxuICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgIGxpbmVJdGVtczogW10sXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkcz8ucHVzaCgncG9zdGFsQWRkcmVzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGluZUl0ZW1zOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnN1YnRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY2hlY2tvdXQudGF4ZXMuZm9yRWFjaCgodGF4KSA9PlxuICAgICAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3RheC5hbW91bnQudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmVxdWVzdC5saW5lSXRlbXMgPSBsaW5lSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVBcHBsZVBheUV2ZW50cyhcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgKSB7XG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnZhbGlkYXRlbWVyY2hhbnQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBib2R5OiBtZXJjaGFudFNlc3Npb24gfSA9IGF3YWl0IHRoaXMuX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZU1lcmNoYW50VmFsaWRhdGlvbihtZXJjaGFudFNlc3Npb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnNoaXBwaW5nY29udGFjdHNlbGVjdGVkID0gYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU2hpcHBpbmdDb250YWN0U2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uLCBjb25maWcsIGV2ZW50KTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25zaGlwcGluZ21ldGhvZHNlbGVjdGVkID0gYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU2hpcHBpbmdNZXRob2RTZWxlY3RlZChhcHBsZVBheVNlc3Npb24sIGNvbmZpZywgZXZlbnQpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbmNhbmNlbCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGAvcmVtb3RlLWNoZWNrb3V0LyR7cGF5bWVudE1ldGhvZC5pZH0vc2lnbm91dGA7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldCh1cmwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yKG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9ucGF5bWVudGF1dGhvcml6ZWQgPSBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICB0aGlzLl9vblBheW1lbnRBdXRob3JpemVkKGV2ZW50LCBhcHBsZVBheVNlc3Npb24sIHBheW1lbnRNZXRob2QpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkKFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgY29uZmlnOiBTdG9yZUNvbmZpZyxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKGV2ZW50LnNoaXBwaW5nQ29udGFjdCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKHNoaXBwaW5nQWRkcmVzcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uYWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzdG9yZVByb2ZpbGU6IHsgc3RvcmVOYW1lIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgbGV0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQgPSBjaGVja291dC5jb25zaWdubWVudHNbMF0uc2VsZWN0ZWRTaGlwcGluZ09wdGlvbj8uaWQ7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZU9wdGlvbnMgPSBjaGVja291dC5jb25zaWdubWVudHNbMF0uYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IGF2YWlsYWJsZU9wdGlvbnM/LmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IHNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQpO1xuICAgICAgICBjb25zdCB1bnNlbGVjdGVkT3B0aW9ucyA9IGF2YWlsYWJsZU9wdGlvbnM/LmZpbHRlcihcbiAgICAgICAgICAgIChvcHRpb24pID0+IG9wdGlvbi5pZCAhPT0gc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdPcHRpb25zOiBBcHBsZVBheUpTLkFwcGxlUGF5U2hpcHBpbmdNZXRob2RbXSA9IHNlbGVjdGVkT3B0aW9uXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc2VsZWN0ZWRPcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtzZWxlY3RlZE9wdGlvbi5jb3N0LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHNlbGVjdGVkT3B0aW9uLmFkZGl0aW9uYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBzZWxlY3RlZE9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgaWYgKHVuc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgLi4udW5zZWxlY3RlZE9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+IG9wdGlvbi5pc1JlY29tbWVuZGVkKSxcbiAgICAgICAgICAgICAgICAuLi51bnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gIW9wdGlvbi5pc1JlY29tbWVuZGVkKSxcbiAgICAgICAgICAgIF0uZm9yRWFjaCgob3B0aW9uKSA9PlxuICAgICAgICAgICAgICAgIHNoaXBwaW5nT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtvcHRpb24uY29zdC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogb3B0aW9uLmFkZGl0aW9uYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogb3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTaGlwcGluZ09wdGlvbnMoYXZhaWxhYmxlT3B0aW9ucykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9ucyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19JTlZBTElEX1NISVBQSU5HX1BPU1RBTF9BRERSRVNTLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWNvbW1lbmRlZE9wdGlvbiA9IGF2YWlsYWJsZU9wdGlvbnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24uaXNSZWNvbW1lbmRlZCk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9uSWQgPSByZWNvbW1lbmRlZE9wdGlvbiA/IHJlY29tbWVuZGVkT3B0aW9uLmlkIDogYXZhaWxhYmxlT3B0aW9uc1swXS5pZDtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25JZCA9IHNlbGVjdGVkT3B0aW9uID8gc2VsZWN0ZWRPcHRpb24uaWQgOiBvcHRpb25JZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdPcHRpb24oc2VsZWN0ZWRPcHRpb25JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3U2hpcHBpbmdNZXRob2RzOiBzaGlwcGluZ09wdGlvbnMsXG4gICAgICAgICAgICBuZXdUb3RhbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld0xpbmVJdGVtczogdGhpcy5fZ2V0VXBkYXRlZExpbmVJdGVtcyhjaGVja291dCwgZGVjaW1hbFBsYWNlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBjb25maWc6IFN0b3JlQ29uZmlnLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWRFdmVudCxcbiAgICApIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzaGlwcGluZ01ldGhvZDogeyBpZGVudGlmaWVyOiBvcHRpb25JZCB9LFxuICAgICAgICB9ID0gZXZlbnQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKG9wdGlvbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5faGFzQXBwbGVQYXlTZXNzaW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nTWV0aG9kU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG5ld1RvdGFsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV3TGluZUl0ZW1zOiB0aGlzLl9nZXRVcGRhdGVkTGluZUl0ZW1zKGNoZWNrb3V0LCBkZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0VXBkYXRlZExpbmVJdGVtcyhcbiAgICAgICAgY2hlY2tvdXQ6IENoZWNrb3V0LFxuICAgICAgICBkZWNpbWFsUGxhY2VzOiBudW1iZXIsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10ge1xuICAgICAgICBjb25zdCBsaW5lSXRlbXM6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbVtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc3VidG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjaGVja291dC50YXhlcy5mb3JFYWNoKCh0YXgpID0+XG4gICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7dGF4LmFtb3VudC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3NoaXBwaW5nTGFiZWwsXG4gICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnNoaXBwaW5nQ29zdFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVJdGVtcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF91cGRhdGVTaGlwcGluZ09wdGlvbihvcHRpb25JZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNlbGVjdFNoaXBwaW5nT3B0aW9uKG9wdGlvbklkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgIHBheW1lbnREYXRhOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVZhbGlkYXRlTWVyY2hhbnRFdmVudCxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYm9keSA9IFtcbiAgICAgICAgICAgIGB2YWxpZGF0aW9uVXJsPSR7ZXZlbnQudmFsaWRhdGlvblVSTH1gLFxuICAgICAgICAgICAgYG1lcmNoYW50SWRlbnRpZmllcj0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5tZXJjaGFudElkfWAsXG4gICAgICAgICAgICBgZGlzcGxheU5hbWU9JHtwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEuc3RvcmVOYW1lfWAsXG4gICAgICAgICAgICBgZG9tYWluTmFtZT0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX1gLFxuICAgICAgICBdLmpvaW4oJyYnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFxuICAgICAgICAgICAgdmFsaWRhdGlvbkVuZHBvaW50KHBheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50c1VybCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ1gtWFNSRi1UT0tFTic6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblBheW1lbnRBdXRob3JpemVkKFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnQsXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHRva2VuLCBiaWxsaW5nQ29udGFjdCwgc2hpcHBpbmdDb250YWN0IH0gPSBldmVudC5wYXltZW50O1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVzU2hpcHBpbmcgPSBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgbGV0IGRldmljZVNlc3Npb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpIHtcbiAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCA9IGF3YWl0IHRoaXMuX2dldEJyYWludHJlZURldmljZURhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheW1lbnQ6IFBheW1lbnQgPSB7XG4gICAgICAgICAgICBtZXRob2RJZDogcGF5bWVudE1ldGhvZC5pZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVfcGF5X3Rva2VuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2RhdGE6IHRva2VuLnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IHRva2VuLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZDogdG9rZW4udHJhbnNhY3Rpb25JZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQmlsbGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKGJpbGxpbmdDb250YWN0KTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRTaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKHNoaXBwaW5nQ29udGFjdCk7XG4gICAgICAgIGNvbnN0IGVtYWlsQWRkcmVzcyA9IHNoaXBwaW5nQ29udGFjdD8uZW1haWxBZGRyZXNzO1xuICAgICAgICBjb25zdCBwaG9uZSA9IHNoaXBwaW5nQ29udGFjdD8ucGhvbmVOdW1iZXIgfHwgJyc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3Moe1xuICAgICAgICAgICAgICAgIC4uLnRyYW5zZm9ybWVkQmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKHtcbiAgICAgICAgICAgICAgICB1c2VTdG9yZUNyZWRpdDogZmFsc2UsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnQpO1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX1NVQ0NFU1MpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25BdXRob3JpemVDYWxsYmFjaygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX0ZBSUxVUkUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKFxuICAgICAgICBjb250YWN0PzogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRDb250YWN0LFxuICAgICk6IEFkZHJlc3NSZXF1ZXN0Qm9keSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGNvbnRhY3Q/LmdpdmVuTmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBjb250YWN0Py5mYW1pbHlOYW1lIHx8ICcnLFxuICAgICAgICAgICAgY2l0eTogY29udGFjdD8ubG9jYWxpdHkgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzBdKSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MyOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzFdKSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGNvbnRhY3Q/LnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogY29udGFjdD8uY291bnRyeUNvZGUgfHwgJycsXG4gICAgICAgICAgICBwaG9uZTogY29udGFjdD8ucGhvbmVOdW1iZXIgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLl9icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHRocm93IGFuIGVycm9yIHRvIGF2b2lkIGJyZWFraW5nIGNoZWNrb3V0IGZsb3dcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyLCBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5IGZyb20gJy4vYXBwbGUtcGF5LWN1c3RvbWVyLXN0cmF0ZWd5JztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IGNyZWF0ZUFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8QXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3QgeyBnZXRIb3N0IH0gPSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuICAgIHJldHVybiBuZXcgQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBjcmVhdGVSZXF1ZXN0U2VuZGVyKHsgaG9zdDogZ2V0SG9zdCgpIH0pLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSgpLFxuICAgICAgICBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSwgd2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBBcHBsZVBheVNjcmlwdExvYWRlcihuZXcgU2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5LCBbeyBpZDogJ2FwcGxlcGF5JyB9XSk7XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIHNob3BwZXIgdHJpZXMgdG8gc2lnbiBpbiBhcyBhIGd1ZXN0IGJ1dFxuICogdGhleSBhcmUgYWxyZWFkeSBzaWduZWQgaW4gYXMgYSByZWdpc3RlcmVkIGN1c3RvbWVyLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkIGR1cmluZyBidXkgbm93IGNhcnQgY3JlYXRpb24gcHJvY2Vzcy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdidXlfbm93X2NhcnRfY3JlYXRpb25fZXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEJyYWludHJlZVNkayB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQWRkcmVzc1JlcXVlc3RCb2R5LFxuICAgIEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yLFxuICAgIENhcnQsXG4gICAgQ2hlY2tvdXQsXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFNoaXBwaW5nT3B0aW9uLFxuICAgIFN0b3JlQ29uZmlnLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQXBwbGVQYXlHYXRld2F5VHlwZSB9IGZyb20gJy4vYXBwbGUtcGF5JztcbmltcG9ydCBBcHBsZVBheUJ1dHRvbkluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEFwcGxlUGF5QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYXBwbGUtcGF5LWJ1dHRvbi1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgdmFsaWRhdGlvbkVuZHBvaW50ID0gKGJpZ1BheUVuZHBvaW50OiBzdHJpbmcpID0+XG4gICAgYCR7YmlnUGF5RW5kcG9pbnR9L2FwaS9wdWJsaWMvdjEvcGF5bWVudHMvYXBwbGVwYXkvdmFsaWRhdGVfbWVyY2hhbnRgO1xuXG5lbnVtIERlZmF1bHRMYWJlbHMge1xuICAgIFN1YnRvdGFsID0gJ1N1YnRvdGFsJyxcbiAgICBTaGlwcGluZyA9ICdTaGlwcGluZycsXG59XG5cbmV4cG9ydCBlbnVtIEJ1dHRvblN0eWxlT3B0aW9uIHtcbiAgICBCbGFjayA9ICdibGFjaycsXG4gICAgV2hpdGUgPSAnd2hpdGUnLFxuICAgIFdoaXRlQm9yZGVyID0gJ3doaXRlLWJvcmRlcicsXG59XG5cbmZ1bmN0aW9uIGlzU2hpcHBpbmdPcHRpb25zKG9wdGlvbnM6IFNoaXBwaW5nT3B0aW9uW10gfCB1bmRlZmluZWQpOiBvcHRpb25zIGlzIFNoaXBwaW5nT3B0aW9uW10ge1xuICAgIHJldHVybiBvcHRpb25zIGluc3RhbmNlb2YgQXJyYXk7XG59XG5cbmNvbnN0IGdldEJ1dHRvblN0eWxlID0gKGJ1dHRvblN0eWxlPzogQnV0dG9uU3R5bGVPcHRpb24pOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAoYnV0dG9uU3R5bGUpIHtcbiAgICAgICAgY2FzZSBCdXR0b25TdHlsZU9wdGlvbi5XaGl0ZTpcbiAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xuXG4gICAgICAgIGNhc2UgQnV0dG9uU3R5bGVPcHRpb24uV2hpdGVCb3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ3doaXRlLW91dGxpbmUnO1xuXG4gICAgICAgIGNhc2UgQnV0dG9uU3R5bGVPcHRpb24uQmxhY2s6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ2JsYWNrJztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheUJ1dHRvblN0cmF0ZWd5IGltcGxlbWVudHMgQ2hlY2tvdXRCdXR0b25TdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7XG4gICAgcHJpdmF0ZSBfYXBwbGVQYXlCdXR0b24/OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9yZXF1aXJlc1NoaXBwaW5nPzogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9idXlOb3dJbml0aWFsaXplT3B0aW9ucz86IEFwcGxlUGF5QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnNbJ2J1eU5vd0luaXRpYWxpemVPcHRpb25zJ107XG4gICAgcHJpdmF0ZSBfb25BdXRob3JpemVDYWxsYmFjayA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfc3ViVG90YWxMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TdWJ0b3RhbDtcbiAgICBwcml2YXRlIF9zaGlwcGluZ0xhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3JlcXVlc3RTZW5kZXI6IFJlcXVlc3RTZW5kZXIsXG4gICAgICAgIHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgX3Nlc3Npb25GYWN0b3J5OiBBcHBsZVBheVNlc3Npb25GYWN0b3J5LFxuICAgICAgICBwcml2YXRlIF9icmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICAgICAgcHJpdmF0ZSBfYXBwbGVQYXlTY3JpcHRMb2FkZXI6IEFwcGxlUGF5U2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IENoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQXBwbGVQYXlCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgY29udGFpbmVySWQsIGFwcGxlcGF5IH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQgfHwgIWFwcGxlcGF5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9hcHBsZVBheVNjcmlwdExvYWRlci5sb2FkU2RrKCk7XG5cbiAgICAgICAgY29uc3QgeyBvblBheW1lbnRBdXRob3JpemUsIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zLCByZXF1aXJlc1NoaXBwaW5nIH0gPSBhcHBsZXBheTtcblxuICAgICAgICB0aGlzLl9yZXF1aXJlc1NoaXBwaW5nID0gcmVxdWlyZXNTaGlwcGluZztcblxuICAgICAgICB0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyA9IGJ1eU5vd0luaXRpYWxpemVPcHRpb25zO1xuXG4gICAgICAgIHRoaXMuX29uQXV0aG9yaXplQ2FsbGJhY2sgPSBvblBheW1lbnRBdXRob3JpemU7XG5cbiAgICAgICAgaWYgKCFidXlOb3dJbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0KCk7XG5cbiAgICAgICAgaWYgKGNhcnQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmdhdGV3YXkgPT09IEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFICYmXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5fYnJhaW50cmVlU2RrLmluaXRpYWxpemUodGhpcy5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hcHBsZVBheUJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbihcbiAgICAgICAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LnN0eWxlT3B0aW9uLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9hcHBsZVBheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVCdXR0b24oY29udGFpbmVySWQ6IHN0cmluZywgc3R5bGVPcHRpb24/OiBCdXR0b25TdHlsZU9wdGlvbik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBjcmVhdGUgd2FsbGV0IGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQXBwbGVQYXlCdXR0b25FbGVtZW50KHN0eWxlT3B0aW9uKTtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXBwbGVQYXlCdXR0b24pO1xuXG4gICAgICAgIHJldHVybiBhcHBsZVBheUJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVBcHBsZVBheUJ1dHRvbkVsZW1lbnQoc3R5bGVPcHRpb24/OiBCdXR0b25TdHlsZU9wdGlvbik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgYXBwbGVQYXlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcHBsZS1wYXktYnV0dG9uJyk7XG5cbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKCdidXR0b25zdHlsZScsIGdldEJ1dHRvblN0eWxlKHN0eWxlT3B0aW9uKSk7XG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdwbGFpbicpO1xuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAnc3R5bGUnLFxuICAgICAgICAgICAgJy0tYXBwbGUtcGF5LWJ1dHRvbi13aWR0aDogMTAwJTsgLS1hcHBsZS1wYXktYnV0dG9uLWhlaWdodDogNDBweDsgLS1hcHBsZS1wYXktYnV0dG9uLWJvcmRlci1yYWRpdXM6IDRweDsnLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBhcHBsZVBheUJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVXYWxsZXRCdXR0b25DbGljayhldmVudDogRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3BheW1lbnRNZXRob2QgfHwgIXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICAgICAgc3RvcmVOYW1lLFxuICAgICAgICAgICAgfSA9IHRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0UmVxdWVzdFdpdGhFbXB0eVRvdGFsKFxuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkcz8ucHVzaCgncG9zdGFsQWRkcmVzcycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhcHBsZVBheVNlc3Npb24gPSB0aGlzLl9zZXNzaW9uRmFjdG9yeS5jcmVhdGUocmVxdWVzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFwcGxlUGF5RXZlbnRzKGFwcGxlUGF5U2Vzc2lvbiwgdGhpcy5fcGF5bWVudE1ldGhvZCwgc3RvcmVOYW1lKTtcblxuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmJlZ2luKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuX2dldEJhc2VSZXF1ZXN0KGNhcnQsIGNoZWNrb3V0LCBjb25maWcsIHRoaXMuX3BheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgY29uc3QgYXBwbGVQYXlTZXNzaW9uID0gdGhpcy5fc2Vzc2lvbkZhY3RvcnkuY3JlYXRlKHJlcXVlc3QpO1xuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVBcHBsZVBheUV2ZW50cyhcbiAgICAgICAgICAgICAgICBhcHBsZVBheVNlc3Npb24sXG4gICAgICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICBjb25maWcuc3RvcmVQcm9maWxlLnN0b3JlTmFtZSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5iZWdpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0UmVxdWVzdFdpdGhFbXB0eVRvdGFsKFxuICAgICAgICBjb3VudHJ5Q29kZTogc3RyaW5nLFxuICAgICAgICBjdXJyZW5jeUNvZGU6IHN0cmluZyxcbiAgICAgICAgc3VwcG9ydGVkTmV0d29ya3M6IHN0cmluZ1tdLFxuICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllczogQXBwbGVQYXlKUy5BcHBsZVBheU1lcmNoYW50Q2FwYWJpbGl0eVtdLFxuICAgICk6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgIHN1cHBvcnRlZE5ldHdvcmtzLFxuICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICB0b3RhbDogeyBsYWJlbDogJycsIGFtb3VudDogJzAnLCB0eXBlOiAncGVuZGluZycgfSxcbiAgICAgICAgICAgIHJlcXVpcmVkQmlsbGluZ0NvbnRhY3RGaWVsZHM6IFsncG9zdGFsQWRkcmVzcyddLFxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM6IFsnZW1haWwnLCAncGhvbmUnXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRCYXNlUmVxdWVzdChcbiAgICAgICAgY2FydDogQ2FydCxcbiAgICAgICAgY2hlY2tvdXQ6IENoZWNrb3V0LFxuICAgICAgICBjb25maWc6IFN0b3JlQ29uZmlnLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICk6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZUNvdW50cnlDb2RlLCBzdG9yZU5hbWUgfSxcbiAgICAgICAgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgY29kZSwgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gY2FydDtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IHsgbWVyY2hhbnRDYXBhYmlsaXRpZXMsIHN1cHBvcnRlZE5ldHdvcmtzIH0sXG4gICAgICAgIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGNvbnN0IHJlcXVpcmVzU2hpcHBpbmcgPSBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDA7XG4gICAgICAgIGNvbnN0IHRvdGFsOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW0gPSByZXF1aXJlc1NoaXBwaW5nXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICByZXF1aXJlZEJpbGxpbmdDb250YWN0RmllbGRzOiBbJ3Bvc3RhbEFkZHJlc3MnXSxcbiAgICAgICAgICAgIHJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzOiBbJ2VtYWlsJywgJ3Bob25lJ10sXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogc3RvcmVDb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY29kZSxcbiAgICAgICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICBsaW5lSXRlbXM6IFtdLFxuICAgICAgICAgICAgdG90YWwsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM/LnB1c2goJ3Bvc3RhbEFkZHJlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5fc3ViVG90YWxMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0YXgubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlcXVlc3QubGluZUl0ZW1zID0gbGluZUl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlQXBwbGVQYXlFdmVudHMoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBzdG9yZU5hbWU6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9udmFsaWRhdGVtZXJjaGFudCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJvZHk6IG1lcmNoYW50U2Vzc2lvbiB9ID0gYXdhaXQgdGhpcy5fb25WYWxpZGF0ZU1lcmNoYW50KFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uKG1lcmNoYW50U2Vzc2lvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWVyY2hhbnQgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgJiYgIXRoaXMuX3JlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnBheW1lbnRtZXRob2RzZWxlY3RlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jcmVhdGVCdXlOb3dDYXJ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUGF5bWVudE1ldGhvZFNlbGVjdGVkKGFwcGxlUGF5U2Vzc2lvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uc2hpcHBpbmdjb250YWN0c2VsZWN0ZWQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyAmJiB0aGlzLl9yZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fY3JlYXRlQnV5Tm93Q2FydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZChhcHBsZVBheVNlc3Npb24sIHN0b3JlTmFtZSwgZXZlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnNoaXBwaW5nbWV0aG9kc2VsZWN0ZWQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uLCBzdG9yZU5hbWUsIGV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25jYW5jZWwgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGAvcmVtb3RlLWNoZWNrb3V0LyR7cGF5bWVudE1ldGhvZC5pZH0vc2lnbm91dGA7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldCh1cmwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25wYXltZW50YXV0aG9yaXplZCA9IGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX29uUGF5bWVudEF1dGhvcml6ZWQoZXZlbnQsIGFwcGxlUGF5U2Vzc2lvbiwgcGF5bWVudE1ldGhvZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfY3JlYXRlQnV5Tm93Q2FydCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcnRSZXF1ZXN0Qm9keSA9IHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zPy5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHk/LigpO1xuXG4gICAgICAgICAgICBpZiAoIWNhcnRSZXF1ZXN0Qm9keSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDYXJ0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYnV5Tm93Q2FydCA9IGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChcbiAgICAgICAgICAgICAgICBjYXJ0UmVxdWVzdEJvZHksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dChidXlOb3dDYXJ0LmlkKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCB7IHNob3VsZEV4ZWN1dGVTcGFtQ2hlY2sgfSA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgICAgICBpZiAoc2hvdWxkRXhlY3V0ZVNwYW1DaGVjaykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVQYXltZW50TWV0aG9kU2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24pIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3BheW1lbnRNZXRob2QgfHwgIXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0QmFzZVJlcXVlc3QoY2FydCwgY2hlY2tvdXQsIGNvbmZpZywgdGhpcy5fcGF5bWVudE1ldGhvZCk7XG5cbiAgICAgICAgZGVsZXRlIHJlcXVlc3QudG90YWwudHlwZTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50TWV0aG9kU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG5ld1RvdGFsOiByZXF1ZXN0LnRvdGFsLFxuICAgICAgICAgICAgbmV3TGluZUl0ZW1zOiByZXF1ZXN0LmxpbmVJdGVtcyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaGFuZGxlU2hpcHBpbmdDb250YWN0U2VsZWN0ZWQoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBzdG9yZU5hbWU6IHN0cmluZyxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKGV2ZW50LnNoaXBwaW5nQ29udGFjdCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKHNoaXBwaW5nQWRkcmVzcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uYWJvcnQoKTtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwcGluZyBhZGRyZXNzIHVwZGF0ZSBmYWlsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgbGV0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQgPSBjaGVja291dC5jb25zaWdubWVudHNbMF0uc2VsZWN0ZWRTaGlwcGluZ09wdGlvbj8uaWQ7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZU9wdGlvbnMgPSBjaGVja291dC5jb25zaWdubWVudHNbMF0uYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IGF2YWlsYWJsZU9wdGlvbnM/LmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IHNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQpO1xuICAgICAgICBjb25zdCB1bnNlbGVjdGVkT3B0aW9ucyA9IGF2YWlsYWJsZU9wdGlvbnM/LmZpbHRlcihcbiAgICAgICAgICAgIChvcHRpb24pID0+IG9wdGlvbi5pZCAhPT0gc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdPcHRpb25zOiBBcHBsZVBheUpTLkFwcGxlUGF5U2hpcHBpbmdNZXRob2RbXSA9IHNlbGVjdGVkT3B0aW9uXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc2VsZWN0ZWRPcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtzZWxlY3RlZE9wdGlvbi5jb3N0LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHNlbGVjdGVkT3B0aW9uLmFkZGl0aW9uYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBzZWxlY3RlZE9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgaWYgKHVuc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgLi4udW5zZWxlY3RlZE9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+IG9wdGlvbi5pc1JlY29tbWVuZGVkKSxcbiAgICAgICAgICAgICAgICAuLi51bnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gIW9wdGlvbi5pc1JlY29tbWVuZGVkKSxcbiAgICAgICAgICAgIF0uZm9yRWFjaCgob3B0aW9uKSA9PlxuICAgICAgICAgICAgICAgIHNoaXBwaW5nT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtvcHRpb24uY29zdC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogb3B0aW9uLmFkZGl0aW9uYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogb3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTaGlwcGluZ09wdGlvbnMoYXZhaWxhYmxlT3B0aW9ucykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9ucyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19JTlZBTElEX1NISVBQSU5HX1BPU1RBTF9BRERSRVNTLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWNvbW1lbmRlZE9wdGlvbiA9IGF2YWlsYWJsZU9wdGlvbnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24uaXNSZWNvbW1lbmRlZCk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9uSWQgPSByZWNvbW1lbmRlZE9wdGlvbiA/IHJlY29tbWVuZGVkT3B0aW9uLmlkIDogYXZhaWxhYmxlT3B0aW9uc1swXS5pZDtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25JZCA9IHNlbGVjdGVkT3B0aW9uID8gc2VsZWN0ZWRPcHRpb24uaWQgOiBvcHRpb25JZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdPcHRpb24oc2VsZWN0ZWRPcHRpb25JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoaXBwaW5nIG9wdGlvbnMgdXBkYXRlIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG5ld1NoaXBwaW5nTWV0aG9kczogc2hpcHBpbmdPcHRpb25zLFxuICAgICAgICAgICAgbmV3VG90YWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHRoaXMuX2dldFVwZGF0ZWRMaW5lSXRlbXMoY2hlY2tvdXQsIGRlY2ltYWxQbGFjZXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ01ldGhvZFNlbGVjdGVkKFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgc3RvcmVOYW1lOiBzdHJpbmcsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5U2hpcHBpbmdNZXRob2RTZWxlY3RlZEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzaGlwcGluZ01ldGhvZDogeyBpZGVudGlmaWVyOiBvcHRpb25JZCB9LFxuICAgICAgICB9ID0gZXZlbnQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKG9wdGlvbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5hYm9ydCgpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoaXBwaW5nIG9wdGlvbiBzZWxlY3Rpb24gdXBkYXRlIGZhaWxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nTWV0aG9kU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG5ld1RvdGFsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV3TGluZUl0ZW1zOiB0aGlzLl9nZXRVcGRhdGVkTGluZUl0ZW1zKGNoZWNrb3V0LCBkZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0VXBkYXRlZExpbmVJdGVtcyhcbiAgICAgICAgY2hlY2tvdXQ6IENoZWNrb3V0LFxuICAgICAgICBkZWNpbWFsUGxhY2VzOiBudW1iZXIsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10ge1xuICAgICAgICBjb25zdCBsaW5lSXRlbXM6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbVtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc3VidG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjaGVja291dC50YXhlcy5mb3JFYWNoKCh0YXgpID0+XG4gICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7dGF4LmFtb3VudC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3NoaXBwaW5nTGFiZWwsXG4gICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnNoaXBwaW5nQ29zdFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVJdGVtcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF91cGRhdGVTaGlwcGluZ09wdGlvbihvcHRpb25JZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNlbGVjdFNoaXBwaW5nT3B0aW9uKG9wdGlvbklkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgIHBheW1lbnREYXRhOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVZhbGlkYXRlTWVyY2hhbnRFdmVudCxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYm9keSA9IFtcbiAgICAgICAgICAgIGB2YWxpZGF0aW9uVXJsPSR7ZXZlbnQudmFsaWRhdGlvblVSTH1gLFxuICAgICAgICAgICAgYG1lcmNoYW50SWRlbnRpZmllcj0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5tZXJjaGFudElkfWAsXG4gICAgICAgICAgICBgZGlzcGxheU5hbWU9JHtwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEuc3RvcmVOYW1lfWAsXG4gICAgICAgICAgICBgZG9tYWluTmFtZT0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX1gLFxuICAgICAgICBdLmpvaW4oJyYnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFxuICAgICAgICAgICAgdmFsaWRhdGlvbkVuZHBvaW50KHBheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50c1VybCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ1gtWFNSRi1UT0tFTic6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblBheW1lbnRBdXRob3JpemVkKFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnQsXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHRva2VuLCBiaWxsaW5nQ29udGFjdCwgc2hpcHBpbmdDb250YWN0IH0gPSBldmVudC5wYXltZW50O1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVzU2hpcHBpbmcgPSBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgbGV0IGRldmljZVNlc3Npb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpIHtcbiAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCA9IGF3YWl0IHRoaXMuX2dldEJyYWludHJlZURldmljZURhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheW1lbnQ6IFBheW1lbnQgPSB7XG4gICAgICAgICAgICBtZXRob2RJZDogcGF5bWVudE1ldGhvZC5pZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVfcGF5X3Rva2VuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2RhdGE6IHRva2VuLnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IHRva2VuLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZDogdG9rZW4udHJhbnNhY3Rpb25JZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQmlsbGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKGJpbGxpbmdDb250YWN0KTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRTaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKHNoaXBwaW5nQ29udGFjdCk7XG4gICAgICAgIGNvbnN0IGVtYWlsQWRkcmVzcyA9IHNoaXBwaW5nQ29udGFjdD8uZW1haWxBZGRyZXNzO1xuICAgICAgICBjb25zdCBwaG9uZSA9IHNoaXBwaW5nQ29udGFjdD8ucGhvbmVOdW1iZXIgfHwgJyc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3Moe1xuICAgICAgICAgICAgICAgIC4uLnRyYW5zZm9ybWVkQmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKHtcbiAgICAgICAgICAgICAgICB1c2VTdG9yZUNyZWRpdDogZmFsc2UsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnQpO1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX1NVQ0NFU1MpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25BdXRob3JpemVDYWxsYmFjaygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX0ZBSUxVUkUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXltZW50IGNhbm5vdCBjb21wbGV0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyhcbiAgICAgICAgY29udGFjdD86IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50Q29udGFjdCxcbiAgICApOiBBZGRyZXNzUmVxdWVzdEJvZHkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlyc3ROYW1lOiBjb250YWN0Py5naXZlbk5hbWUgfHwgJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogY29udGFjdD8uZmFtaWx5TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGNpdHk6IGNvbnRhY3Q/LmxvY2FsaXR5IHx8ICcnLFxuICAgICAgICAgICAgY29tcGFueTogJycsXG4gICAgICAgICAgICBhZGRyZXNzMTogKGNvbnRhY3Q/LmFkZHJlc3NMaW5lcyAmJiBjb250YWN0LmFkZHJlc3NMaW5lc1swXSkgfHwgJycsXG4gICAgICAgICAgICBhZGRyZXNzMjogKGNvbnRhY3Q/LmFkZHJlc3NMaW5lcyAmJiBjb250YWN0LmFkZHJlc3NMaW5lc1sxXSkgfHwgJycsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBjb250YWN0Py5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGNvbnRhY3Q/LmNvdW50cnlDb2RlIHx8ICcnLFxuICAgICAgICAgICAgcGhvbmU6IGNvbnRhY3Q/LnBob25lTnVtYmVyIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBjb250YWN0Py5hZG1pbmlzdHJhdGl2ZUFyZWEgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBjb250YWN0Py5hZG1pbmlzdHJhdGl2ZUFyZWEgfHwgJycsXG4gICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldEJyYWludHJlZURldmljZURhdGEoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5fYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VEYXRhO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB0aHJvdyBhbiBlcnJvciB0byBhdm9pZCBicmVha2luZyBjaGVja291dCBmbG93XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciwgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9hcHBsZS1wYXktYnV0dG9uLXN0cmF0ZWd5JztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IGNyZWF0ZUFwcGxlUGF5QnV0dG9uU3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCB7IGdldEhvc3QgfSA9IHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIG5ldyBBcHBsZVBheUJ1dHRvblN0cmF0ZWd5KFxuICAgICAgICBjcmVhdGVSZXF1ZXN0U2VuZGVyKHsgaG9zdDogZ2V0SG9zdCgpIH0pLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSgpLFxuICAgICAgICBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSwgd2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBBcHBsZVBheVNjcmlwdExvYWRlcihuZXcgU2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQXBwbGVQYXlCdXR0b25TdHJhdGVneSwgW3sgaWQ6ICdhcHBsZXBheScgfV0pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJpc0V4cGVyaW1lbnRFbmFibGVkIiwiZmVhdHVyZXMiLCJleHBlcmltZW50TmFtZSIsImZhbGxiYWNrVmFsdWUiLCJkIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTiIsIkJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTiIsIkJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIiwiYnJhaW50cmVlV2luZG93Iiwid2luZG93IiwiZ2V0U0RLVmVyc2lvbiIsInN0b3JlQ29uZmlnIiwidGhpcyIsImdldFN0YXRlIiwiZ2V0U3RvcmVDb25maWciLCJjaGVja291dFNldHRpbmdzIiwiZ2V0UHJlbG9hZGVkU0RLVmVyc2lvbiIsImJyYWludHJlZSIsInByZWxvYWRlZFZlcnNpb24iLCJmaW5kIiwidmFsdWVzIiwibW9kdWxlIiwiVkVSU0lPTiIsIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IiLCJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIlRvdGFsUHJpY2VTdGF0dXNUeXBlIiwiQnJhaW50cmVlT3JkZXJTdGF0dXMiLCJOb25JbnN0YW50TG9jYWxQYXltZW50TWV0aG9kcyIsIkJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZSIsIkJyYWludHJlZUVycm9yVHlwZSIsIkJyYWludHJlZUVycm9yQ29kZSIsIkJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMiLCJOb3RJbml0aWFsaXplZEVycm9yIiwic3VidHlwZSIsIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQiLCJQYXltZW50Tm90SW5pdGlhbGl6ZWQiLCJTaGlwcGluZ05vdEluaXRpYWxpemVkIiwiU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCIsImdldEVycm9yTWVzc2FnZSIsIkJyYWludHJlZUVudiIsIkJyYWludHJlZU1vZHVsZU5hbWUiLCJCcmFpbnRyZWVGb3JtRmllbGRUeXBlIiwiQnJhaW50cmVlU2RrIiwiYnJhaW50cmVlU2NyaXB0TG9hZGVyIiwiaW5pdGlhbGl6ZSIsImNsaWVudFRva2VuIiwic2V0Q2xpZW50VG9rZW4iLCJkZWluaXRpYWxpemUiLCJ0ZWFyZG93bk1vZHVsZSIsImRhdGFDb2xsZWN0b3IiLCJ1bmRlZmluZWQiLCJnZXRDbGllbnQiLCJjbGllbnQiLCJnZXRDbGllbnRUb2tlbk9yVGhyb3ciLCJjbGllbnRDcmVhdG9yIiwibG9hZENsaWVudCIsImNyZWF0ZSIsImF1dGhvcml6YXRpb24iLCJnZXREYXRhQ29sbGVjdG9yT3JUaHJvdyIsIm9wdGlvbnMiLCJlbXB0eURhdGFDb2xsZWN0b3IiLCJkZXZpY2VEYXRhIiwidGVhcmRvd24iLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvYWREYXRhQ29sbGVjdG9yIiwiZGF0YUNvbGxlY3RvckNvbmZpZyIsImtvdW50IiwiZXJyb3IiLCJCb29sZWFuIiwiaXNCcmFpbnRyZWVFcnJvciIsImNvZGUiLCJLb3VudE5vdEVuYWJsZWQiLCJnZXRCcmFpbnRyZWVHb29nbGVQYXltZW50IiwiZ29vZ2xlUGF5bWVudCIsImJyYWludHJlZUdvb2dsZVBheW1lbnQiLCJhbGwiLCJsb2FkR29vZ2xlUGF5bWVudCIsImdldEJyYWludHJlZVRocmVlRFMiLCJ0aHJlZURTIiwidGhyZWVEU2VjdXJlIiwibG9hZDNEUyIsInZlcnNpb24iLCJnZXRCcmFpbnRyZWVMb2NhbFBheW1lbnQiLCJtZXJjaGFudEFjY291bnRJZCIsImJyYWludHJlZUxvY2FsUGF5bWVudCIsImxvY2FsUGF5bWVudENyZWF0b3IiLCJsb2FkTG9jYWxQYXltZW50IiwicmVqZWN0IiwiZ2V0VXNCYW5rQWNjb3VudCIsInVzQmFua0FjY291bnQiLCJsb2FkVXNCYW5rQWNjb3VudCIsImdldEJyYWludHJlZVZpc2FDaGVja291dCIsInZpc2FDaGVja291dCIsImxvYWRWaXNhQ2hlY2tvdXQiLCJ0aGVuIiwicGF5cGFsIiwiZ2V0VmlzYUNoZWNrb3V0U2RrIiwidGVzdE1vZGUiLCJ2aXNhQ2hlY2tvdXRTREsiLCJsb2FkVmlzYUNoZWNrb3V0U2RrIiwiZ2V0VmVubW9DaGVja291dE9yVGhyb3ciLCJicmFpbnRyZWVWZW5tbyIsInZlbm1vQ2hlY2tvdXQiLCJsb2FkVmVubW9DaGVja291dCIsInZlbm1vQ2hlY2tvdXRDb25maWciLCJhbGxvd0Rlc2t0b3AiLCJwYXltZW50TWV0aG9kVXNhZ2UiLCJicmFpbnRyZWVWZW5tb0NoZWNrb3V0IiwiaXNCcm93c2VyU3VwcG9ydGVkIiwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IiLCJCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIiwiQ2xpZW50IiwiUGF5cGFsQ2hlY2tvdXQiLCJQYXlwYWwiLCJMb2NhbFBheW1lbnQiLCJEYXRhQ29sbGVjdG9yIiwiVXNCYW5rQWNjb3VudCIsIkdvb2dsZVBheW1lbnQiLCJUaHJlZURTZWN1cmUiLCJWaXNhQ2hlY2tvdXQiLCJWZW5tbyIsIkhvc3RlZEZpZWxkcyIsIkZhc3RsYW5lIiwiQXBwbGVQYXlHYXRld2F5VHlwZSIsIkJyYWludHJlZVNjcmlwdExvYWRlciIsInNjcmlwdExvYWRlciIsImJyYWludHJlZUhvc3RXaW5kb3ciLCJicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciIsImxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93IiwibG9hZEZhc3RsYW5lIiwibG9hZFBheXBhbENoZWNrb3V0IiwibG9hZFBheXBhbCIsImxvYWRIb3N0ZWRGaWVsZHMiLCJWIiwiaGFzaCIsImxvYWRTY3JpcHQiLCJhc3luYyIsImF0dHJpYnV0ZXMiLCJpbnRlZ3JpdHkiLCJjcm9zc29yaWdpbiIsImJyYWludHJlZU1vZHVsZU5hbWUiLCJmaWxlTmFtZSIsImdldEJyYWludHJlZU1vZHVsZSIsImJyYWludHJlZVNka1ZlcnNpb24iLCJzY3JpcHRQYXRoIiwiZ2V0SW50ZWdyaXR5VmFsdWVzQnlNb2R1bGVOYW1lIiwibW9kdWxlTmFtZSIsInRvUmVzb2x2YWJsZU1vZHVsZSIsInJlc29sdmVJZHMiLCJhc3NpZ24iLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJqb2luIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiRGVmYXVsdExhYmVscyIsIkFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IiwiX3JlcXVlc3RTZW5kZXIiLCJfcGF5bWVudEludGVncmF0aW9uU2VydmljZSIsIl9zZXNzaW9uRmFjdG9yeSIsIl9icmFpbnRyZWVTZGsiLCJfYXBwbGVQYXlTY3JpcHRMb2FkZXIiLCJfc2hpcHBpbmdMYWJlbCIsIlNoaXBwaW5nIiwiX3N1YlRvdGFsTGFiZWwiLCJTdWJ0b3RhbCIsIl9zdG9yZUNyZWRpdExhYmVsIiwiU3RvcmVDcmVkaXQiLCJtZXRob2RJZCIsImxvYWRTZGsiLCJhcHBsZXBheSIsInNoaXBwaW5nTGFiZWwiLCJzdWJ0b3RhbExhYmVsIiwic3RvcmVDcmVkaXRMYWJlbCIsInBheW1lbnRNZXRob2QiLCJsb2FkUGF5bWVudE1ldGhvZCIsImdldFBheW1lbnRNZXRob2RPclRocm93IiwiaW5pdGlhbGl6YXRpb25EYXRhIiwiZ2F0ZXdheSIsIkJSQUlOVFJFRSIsImV4ZWN1dGUiLCJwYXlsb2FkIiwicGF5bWVudCIsInN0YXRlIiwicmVxdWVzdCIsIl9nZXRCYXNlUmVxdWVzdCIsImFwcGxlUGF5U2Vzc2lvbiIsInN1Ym1pdE9yZGVyIiwidXNlU3RvcmVDcmVkaXQiLCJiZWdpbiIsIl9oYW5kbGVBcHBsZVBheUV2ZW50cyIsImZpbmFsaXplIiwiY2hlY2tvdXQiLCJnZXRDaGVja291dE9yVGhyb3ciLCJjYXJ0IiwiZ2V0Q2FydE9yVGhyb3ciLCJjb25maWciLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJzdG9yZVByb2ZpbGUiLCJzdG9yZUNvdW50cnlDb2RlIiwic3RvcmVOYW1lIiwiY3VycmVuY3kiLCJkZWNpbWFsUGxhY2VzIiwibWVyY2hhbnRDYXBhYmlsaXRpZXMiLCJzdXBwb3J0ZWROZXR3b3JrcyIsImdyYW5kVG90YWwiLCJpc1N0b3JlQ3JlZGl0QXBwbGllZCIsIm91dHN0YW5kaW5nQmFsYW5jZSIsImxpbmVJdGVtcyIsImxhYmVsIiwiYW1vdW50Iiwic3VidG90YWwiLCJ0b0ZpeGVkIiwidGF4ZXMiLCJmb3JFYWNoIiwidGF4IiwicHVzaCIsInNoaXBwaW5nQ29zdFRvdGFsIiwic3RvcmVDcmVkaXQiLCJnZXRDdXN0b21lck9yVGhyb3ciLCJNYXRoIiwibWluIiwiY291bnRyeUNvZGUiLCJjdXJyZW5jeUNvZGUiLCJ0b3RhbCIsInByb21pc2UiLCJvbnZhbGlkYXRlbWVyY2hhbnQiLCJldmVudCIsImJvZHkiLCJtZXJjaGFudFNlc3Npb24iLCJfb25WYWxpZGF0ZU1lcmNoYW50IiwiY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24iLCJlcnIiLCJvbmNhbmNlbCIsIm9ucGF5bWVudGF1dGhvcml6ZWQiLCJfb25QYXltZW50QXV0aG9yaXplZCIsInBheW1lbnREYXRhIiwidmFsaWRhdGlvblVSTCIsIm1lcmNoYW50SWQiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwicG9zdCIsInBheW1lbnRzVXJsIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiQWNjZXB0IiwidG9rZW4iLCJkZXZpY2VTZXNzaW9uSWQiLCJfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSIsImlkIiwiZm9ybWF0dGVkUGF5bG9hZCIsImFwcGxlX3BheV90b2tlbiIsInBheW1lbnRfZGF0YSIsInBheW1lbnRfbWV0aG9kIiwidHJhbnNhY3Rpb25faWQiLCJ0cmFuc2FjdGlvbklkZW50aWZpZXIiLCJzdWJtaXRQYXltZW50IiwiY29tcGxldGVQYXltZW50IiwiQXBwbGVQYXlTZXNzaW9uIiwiU1RBVFVTX1NVQ0NFU1MiLCJTVEFUVVNfRkFJTFVSRSIsIl8iLCJhc3NlcnRBcHBsZVBheVdpbmRvdyIsImlzQXBwbGVQYXlXaW5kb3ciLCJBcHBsZVBheVNlc3Npb25GYWN0b3J5IiwiQXBwbGVQYXlTY3JpcHRMb2FkZXIiLCJzZGtWZXJzaW9uIiwiaXNBcHBsZVBheVNka1dpbmRvdyIsImdldEhvc3QiLCJjcmVhdGVSZXF1ZXN0U2VuZGVyIiwiaG9zdCIsImdldFNjcmlwdExvYWRlciIsIlNjcmlwdExvYWRlciIsIk1pc3NpbmdEYXRhRXJyb3JUeXBlIiwiTWlzc2luZ0RhdGFFcnJvciIsIk1pc3NpbmdCaWxsaW5nQWRkcmVzcyIsIk1pc3NpbmdDYXJ0IiwiTWlzc2luZ0NvbnNpZ25tZW50cyIsIk1pc3NpbmdDaGVja291dCIsIk1pc3NpbmdDdXN0b21lciIsIk1pc3NpbmdDaGVja291dENvbmZpZyIsIk1pc3NpbmdPcmRlckNvbmZpZyIsIk1pc3NpbmdPcmRlciIsIk1pc3NpbmdPcmRlcklkIiwiTWlzc2luZ1BheW1lbnQiLCJNaXNzaW5nUGF5bWVudFRva2VuIiwiTWlzc2luZ1BheW1lbnRNZXRob2QiLCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzIiwiTm90SW1wbGVtZW50ZWRFcnJvciIsIkFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSIsIl9vbkF1dGhvcml6ZUNhbGxiYWNrIiwibm9vcCIsIl9vbkVycm9yIiwiX29uQ2xpY2siLCJfaGFzQXBwbGVQYXlTZXNzaW9uIiwiY29udGFpbmVyIiwib25FcnJvciIsIm9uQ2xpY2siLCJvblBheW1lbnRBdXRob3JpemUiLCJfcGF5bWVudE1ldGhvZCIsIl9lIiwidmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbiIsIl9hcHBsZVBheUJ1dHRvbiIsIl9jcmVhdGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrIiwiYmluZCIsInNpZ25JbiIsInNpZ25PdXQiLCJleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0IiwiY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayIsImNvbnRhaW5lcklkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFwcGxlUGF5QnV0dG9uIiwiX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInByZXZlbnREZWZhdWx0IiwicmVxdWlyZXNTaGlwcGluZyIsInBoeXNpY2FsSXRlbXMiLCJsZW5ndGgiLCJyZXF1aXJlZEJpbGxpbmdDb250YWN0RmllbGRzIiwicmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHMiLCJvbnNoaXBwaW5nY29udGFjdHNlbGVjdGVkIiwiX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkIiwib25zaGlwcGluZ21ldGhvZHNlbGVjdGVkIiwiX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQiLCJ1cmwiLCJsb2FkQ2hlY2tvdXQiLCJzaGlwcGluZ0FkZHJlc3MiLCJfdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyIsInNoaXBwaW5nQ29udGFjdCIsInVwZGF0ZVNoaXBwaW5nQWRkcmVzcyIsImFib3J0Iiwic2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCIsImNvbnNpZ25tZW50cyIsInNlbGVjdGVkU2hpcHBpbmdPcHRpb24iLCJhdmFpbGFibGVPcHRpb25zIiwiYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zIiwic2VsZWN0ZWRPcHRpb24iLCJ1bnNlbGVjdGVkT3B0aW9ucyIsImZpbHRlciIsIm9wdGlvbiIsInNoaXBwaW5nT3B0aW9ucyIsImRlc2NyaXB0aW9uIiwiY29zdCIsImRldGFpbCIsImFkZGl0aW9uYWxEZXNjcmlwdGlvbiIsImlkZW50aWZpZXIiLCJpc1JlY29tbWVuZGVkIiwiQXJyYXkiLCJjb21wbGV0ZVNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbiIsIlNUQVRVU19JTlZBTElEX1NISVBQSU5HX1BPU1RBTF9BRERSRVNTIiwicmVjb21tZW5kZWRPcHRpb24iLCJvcHRpb25JZCIsInNlbGVjdGVkT3B0aW9uSWQiLCJfdXBkYXRlU2hpcHBpbmdPcHRpb24iLCJuZXdTaGlwcGluZ01ldGhvZHMiLCJuZXdUb3RhbCIsIm5ld0xpbmVJdGVtcyIsIl9nZXRVcGRhdGVkTGluZUl0ZW1zIiwic2hpcHBpbmdNZXRob2QiLCJjb21wbGV0ZVNoaXBwaW5nTWV0aG9kU2VsZWN0aW9uIiwic2VsZWN0U2hpcHBpbmdPcHRpb24iLCJiaWxsaW5nQ29udGFjdCIsInRyYW5zZm9ybWVkQmlsbGluZ0FkZHJlc3MiLCJ0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyIsImVtYWlsQWRkcmVzcyIsInBob25lIiwicGhvbmVOdW1iZXIiLCJ1cGRhdGVCaWxsaW5nQWRkcmVzcyIsImVtYWlsIiwiY29udGFjdCIsImZpcnN0TmFtZSIsImdpdmVuTmFtZSIsImxhc3ROYW1lIiwiZmFtaWx5TmFtZSIsImNpdHkiLCJsb2NhbGl0eSIsImNvbXBhbnkiLCJhZGRyZXNzMSIsImFkZHJlc3NMaW5lcyIsImFkZHJlc3MyIiwicG9zdGFsQ29kZSIsInN0YXRlT3JQcm92aW5jZSIsImFkbWluaXN0cmF0aXZlQXJlYSIsInN0YXRlT3JQcm92aW5jZUNvZGUiLCJjdXN0b21GaWVsZHMiLCJCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvciIsIkJ1dHRvblN0eWxlT3B0aW9uIiwiQXBwbGVQYXlCdXR0b25TdHJhdGVneSIsImJ1eU5vd0luaXRpYWxpemVPcHRpb25zIiwiX3JlcXVpcmVzU2hpcHBpbmciLCJfYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMiLCJsb2FkRGVmYXVsdENoZWNrb3V0IiwiZ2V0Q2FydCIsInN0eWxlT3B0aW9uIiwiYnV0dG9uU3R5bGUiLCJXaGl0ZSIsIldoaXRlQm9yZGVyIiwiQmxhY2siLCJnZXRCdXR0b25TdHlsZSIsImdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSIsIl9nZXRSZXF1ZXN0V2l0aEVtcHR5VG90YWwiLCJvbnBheW1lbnRtZXRob2RzZWxlY3RlZCIsIl9jcmVhdGVCdXlOb3dDYXJ0IiwiX2hhbmRsZVBheW1lbnRNZXRob2RTZWxlY3RlZCIsImNhcnRSZXF1ZXN0Qm9keSIsImJ1eU5vd0NhcnQiLCJjcmVhdGVCdXlOb3dDYXJ0Iiwic2hvdWxkRXhlY3V0ZVNwYW1DaGVjayIsImNvbXBsZXRlUGF5bWVudE1ldGhvZFNlbGVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/apple-pay.js\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/ApplePayButton.tsx":
/*!***************************************************************!*\
  !*** ./packages/apple-pay-integration/src/ApplePayButton.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/apple-pay */ \"../checkout-sdk-js/dist/esm/integrations/apple-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/checkout-button-integration */ \"./packages/checkout-button-integration/src/CheckoutButton.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_utility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/utility */ \"./packages/utility/src/navigateToOrderConfirmation.ts\");\n\n\n\n\n\nconst ApplePayButton = (props) => {\n    const { language, onUnhandledError } = props;\n    const integrations = [_bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_0__.createApplePayCustomerStrategy];\n    const additionalInitializationOptions = {\n        shippingLabel: language.translate('cart.shipping_text'),\n        subtotalLabel: language.translate('cart.subtotal_text'),\n        onPaymentAuthorize: _bigcommerce_checkout_utility__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        onError: onUnhandledError,\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__[\"default\"], Object.assign({ additionalInitializationOptions: additionalInitializationOptions, integrations: integrations }, props)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ApplePayButton, [\n    { id: 'applepay' },\n]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL0FwcGxlUGF5QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWtHO0FBQzVDO0FBRTZCO0FBSzVCO0FBQ3FCO0FBRTVFLE1BQU0sY0FBYyxHQUEyQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ3JFLE1BQU0sRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFN0MsTUFBTSxZQUFZLEdBQUcsQ0FBQyw0R0FBOEIsQ0FBQyxDQUFDO0lBRXRELE1BQU0sK0JBQStCLEdBQUc7UUFDcEMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUM7UUFDdkQsYUFBYSxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUM7UUFDdkQsa0JBQWtCLEVBQUUscUVBQTJCO1FBQy9DLE9BQU8sRUFBRSxnQkFBZ0I7S0FDNUIsQ0FBQztJQUVGLE9BQU8sQ0FDSCwyREFBQyx5RkFBYyxrQkFDWCwrQkFBK0IsRUFBRSwrQkFBK0IsRUFDaEUsWUFBWSxFQUFFLFlBQVksSUFDdEIsS0FBSyxFQUNYLENBQ0wsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUErQyxjQUFjLEVBQUU7SUFDL0YsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFO0NBQ3JCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9BcHBsZVBheUJ1dHRvbi50c3g/MGY2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBcHBsZVBheUN1c3RvbWVyU3RyYXRlZ3kgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2ludGVncmF0aW9ucy9hcHBsZS1wYXknO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IENoZWNrb3V0QnV0dG9uIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIHR5cGUgQ2hlY2tvdXRCdXR0b25Qcm9wcyxcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IG5hdmlnYXRlVG9PcmRlckNvbmZpcm1hdGlvbiB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC91dGlsaXR5JztcblxuY29uc3QgQXBwbGVQYXlCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PENoZWNrb3V0QnV0dG9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYW5ndWFnZSwgb25VbmhhbmRsZWRFcnJvciB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBpbnRlZ3JhdGlvbnMgPSBbY3JlYXRlQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5XTtcblxuICAgIGNvbnN0IGFkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIHNoaXBwaW5nTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zaGlwcGluZ190ZXh0JyksXG4gICAgICAgIHN1YnRvdGFsTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zdWJ0b3RhbF90ZXh0JyksXG4gICAgICAgIG9uUGF5bWVudEF1dGhvcml6ZTogbmF2aWdhdGVUb09yZGVyQ29uZmlybWF0aW9uLFxuICAgICAgICBvbkVycm9yOiBvblVuaGFuZGxlZEVycm9yLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Q2hlY2tvdXRCdXR0b25cbiAgICAgICAgICAgIGFkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnM9e2FkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnN9XG4gICAgICAgICAgICBpbnRlZ3JhdGlvbnM9e2ludGVncmF0aW9uc31cbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlQ29tcG9uZW50PENoZWNrb3V0QnV0dG9uUHJvcHMsIENoZWNrb3V0QnV0dG9uUmVzb2x2ZUlkPihBcHBsZVBheUJ1dHRvbiwgW1xuICAgIHsgaWQ6ICdhcHBsZXBheScgfSxcbl0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/ApplePayButton.tsx\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx":
/*!**********************************************************************!*\
  !*** ./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/apple-pay */ \"../checkout-sdk-js/dist/esm/integrations/apple-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\nconst ApplePayPaymentMethod = ({ method, checkoutService, language, onUnhandledError, }) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n        const initializePayment = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            try {\n                yield checkoutService.initializePayment({\n                    gatewayId: method.gateway,\n                    methodId: method.id,\n                    integrations: [_bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_1__.createApplePayPaymentStrategy],\n                    applepay: {\n                        shippingLabel: language.translate('cart.shipping_text'),\n                        subtotalLabel: language.translate('cart.subtotal_text'),\n                    },\n                });\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        void initializePayment();\n        return () => {\n            const deinitializePayment = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n                try {\n                    yield checkoutService.deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        onUnhandledError(error);\n                    }\n                }\n            });\n            void deinitializePayment();\n        };\n    }, [checkoutService, language, method, onUnhandledError]);\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ApplePayPaymentMethod, [{ id: 'applepay' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL0FwcGxlUGF5UGF5bWVudE1ldGhvZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRztBQUNoQztBQU1WO0FBRXZELE1BQU0scUJBQXFCLEdBQTBDLENBQUMsRUFDbEUsTUFBTSxFQUNOLGVBQWUsRUFDZixRQUFRLEVBQ1IsZ0JBQWdCLEdBQ25CLEVBQUUsRUFBRTtJQUNELGdEQUFTLENBQUMsR0FBRyxFQUFFO1FBQ1gsTUFBTSxpQkFBaUIsR0FBRyxHQUFTLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUM7Z0JBQ0QsTUFBTSxlQUFlLENBQUMsaUJBQWlCLENBQUM7b0JBQ3BDLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTztvQkFDekIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO29CQUNuQixZQUFZLEVBQUUsQ0FBQywyR0FBNkIsQ0FBQztvQkFDN0MsUUFBUSxFQUFFO3dCQUNOLGFBQWEsRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDO3dCQUN2RCxhQUFhLEVBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQztxQkFDMUQ7aUJBQ0osQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2IsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7b0JBQ3pCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUMsRUFBQztRQUVGLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztRQUV6QixPQUFPLEdBQUcsRUFBRTtZQUNSLE1BQU0sbUJBQW1CLEdBQUcsR0FBUyxFQUFFLENBQUM7Z0JBQ3BDLElBQUksQ0FBQztvQkFDRCxNQUFNLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQzt3QkFDdEMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPO3dCQUN6QixRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7cUJBQ3RCLENBQUMsQ0FBQztnQkFDUCxDQUFDO2dCQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7b0JBQ2IsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7d0JBQ3pCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM1QixDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDLEVBQUM7WUFFRixLQUFLLG1CQUFtQixFQUFFLENBQUM7UUFDL0IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0lBRTFELHlEQUF5RDtJQUN6RCxPQUFPLHlIQUFLLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsaUVBQWUseUZBQXFCLENBQ2hDLHFCQUFxQixFQUNyQixDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQ3ZCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvQXBwbGVQYXlQYXltZW50TWV0aG9kLnRzeD82ZjhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvYXBwbGUtcGF5JztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgdHlwZSBQYXltZW50TWV0aG9kUHJvcHMsXG4gICAgdHlwZSBQYXltZW50TWV0aG9kUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuY29uc3QgQXBwbGVQYXlQYXltZW50TWV0aG9kOiBGdW5jdGlvbkNvbXBvbmVudDxQYXltZW50TWV0aG9kUHJvcHM+ID0gKHtcbiAgICBtZXRob2QsXG4gICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgIGxhbmd1YWdlLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG59KSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZVBheW1lbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrb3V0U2VydmljZS5pbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0aW9uczogW2NyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5XSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVwYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBwaW5nTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zaGlwcGluZ190ZXh0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbExhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoJ2NhcnQuc3VidG90YWxfdGV4dCcpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdm9pZCBpbml0aWFsaXplUGF5bWVudCgpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWluaXRpYWxpemVQYXltZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrb3V0U2VydmljZS5kZWluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZVBheW1lbnQoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2hlY2tvdXRTZXJ2aWNlLCBsYW5ndWFnZSwgbWV0aG9kLCBvblVuaGFuZGxlZEVycm9yXSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LW5vLXVzZWxlc3MtZnJhZ21lbnRcbiAgICByZXR1cm4gPD48Lz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8UGF5bWVudE1ldGhvZFByb3BzLCBQYXltZW50TWV0aG9kUmVzb2x2ZUlkPihcbiAgICBBcHBsZVBheVBheW1lbnRNZXRob2QsXG4gICAgW3sgaWQ6ICdhcHBsZXBheScgfV0sXG4pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/index.ts":
/*!*****************************************************!*\
  !*** ./packages/apple-pay-integration/src/index.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApplePayButton: () => (/* reexport safe */ _ApplePayButton__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   ApplePayPaymentMethod: () => (/* reexport safe */ _ApplePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _ApplePayButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ApplePayButton */ \"./packages/apple-pay-integration/src/ApplePayButton.tsx\");\n/* harmony import */ var _ApplePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApplePayPaymentMethod */ \"./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7QUFDYyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9pbmRleC50cz83OTYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwbGVQYXlCdXR0b24gfSBmcm9tICcuL0FwcGxlUGF5QnV0dG9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwbGVQYXlQYXltZW50TWV0aG9kIH0gZnJvbSAnLi9BcHBsZVBheVBheW1lbnRNZXRob2QnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/index.ts\n\n}");

/***/ }),

/***/ "./packages/checkout-button-integration/src/CheckoutButton.tsx":
/*!*********************************************************************!*\
  !*** ./packages/checkout-button-integration/src/CheckoutButton.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\nconst CheckoutButton = ({ checkoutService: { deinitializeCustomer, initializeCustomer }, checkoutButtonContainerClass, containerId, methodId, onUnhandledError, onWalletButtonClick, additionalInitializationOptions, integrations, }) => {\n    const initializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield initializeCustomer({\n                methodId,\n                integrations,\n                [methodId]: Object.assign({ container: containerId, onUnhandledError, onClick: () => onWalletButtonClick(methodId) }, additionalInitializationOptions),\n            });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    const deinitializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield deinitializeCustomer({ methodId });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        void initializeCustomerStrategyOrThrow();\n        return () => {\n            void deinitializeCustomerStrategyOrThrow();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: checkoutButtonContainerClass, \"data-test\": containerId, id: containerId }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(CheckoutButton, []));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jaGVja291dC1idXR0b24taW50ZWdyYXRpb24vc3JjL0NoZWNrb3V0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFNVjtBQUV2RCxNQUFNLGNBQWMsR0FBMkMsQ0FBQyxFQUM1RCxlQUFlLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxFQUM3RCw0QkFBNEIsRUFDNUIsV0FBVyxFQUNYLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLCtCQUErQixFQUMvQixZQUFZLEdBQ2YsRUFBRSxFQUFFO0lBQ0QsTUFBTSxpQ0FBaUMsR0FBRyxHQUFTLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUM7WUFDRCxNQUFNLGtCQUFrQixDQUFDO2dCQUNyQixRQUFRO2dCQUNSLFlBQVk7Z0JBQ1osQ0FBQyxRQUFRLENBQUMsa0JBQ04sU0FBUyxFQUFFLFdBQVcsRUFDdEIsZ0JBQWdCLEVBQ2hCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsSUFDekMsK0JBQStCLENBQ3JDO2FBQ0osQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLE9BQU8sZ0JBQWdCLEtBQUssVUFBVSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztnQkFDbkUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRixNQUFNLG1DQUFtQyxHQUFHLEdBQVMsRUFBRSxDQUFDO1FBQ3BELElBQUksQ0FBQztZQUNELE1BQU0sb0JBQW9CLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFVBQVUsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQ25FLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQyxFQUFDO0lBRUYsZ0RBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxLQUFLLGlDQUFpQyxFQUFFLENBQUM7UUFFekMsT0FBTyxHQUFHLEVBQUU7WUFDUixLQUFLLG1DQUFtQyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDO1FBQ0YsdURBQXVEO0lBQzNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCxvRUFBSyxTQUFTLEVBQUUsNEJBQTRCLGVBQWEsV0FBVyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUksQ0FDNUYsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUNoQyxjQUFjLEVBQ2QsRUFBRSxDQUNMLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbi9zcmMvQ2hlY2tvdXRCdXR0b24udHN4P2FjMzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUHJvcHMsXG4gICAgdHlwZSBDaGVja291dEJ1dHRvblJlc29sdmVJZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmNvbnN0IENoZWNrb3V0QnV0dG9uOiBGdW5jdGlvbkNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlOiB7IGRlaW5pdGlhbGl6ZUN1c3RvbWVyLCBpbml0aWFsaXplQ3VzdG9tZXIgfSxcbiAgICBjaGVja291dEJ1dHRvbkNvbnRhaW5lckNsYXNzLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIG1ldGhvZElkLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgb25XYWxsZXRCdXR0b25DbGljayxcbiAgICBhZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgIGludGVncmF0aW9ucyxcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGludGVncmF0aW9ucyxcbiAgICAgICAgICAgICAgICBbbWV0aG9kSWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IG9uV2FsbGV0QnV0dG9uQ2xpY2sobWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25VbmhhbmRsZWRFcnJvciA9PT0gJ2Z1bmN0aW9uJyAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7IG1ldGhvZElkIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvblVuaGFuZGxlZEVycm9yID09PSAnZnVuY3Rpb24nICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2b2lkIGluaXRpYWxpemVDdXN0b21lclN0cmF0ZWd5T3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZUN1c3RvbWVyU3RyYXRlZ3lPclRocm93KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2hlY2tvdXRCdXR0b25Db250YWluZXJDbGFzc30gZGF0YS10ZXN0PXtjb250YWluZXJJZH0gaWQ9e2NvbnRhaW5lcklkfSAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8Q2hlY2tvdXRCdXR0b25Qcm9wcywgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQ+KFxuICAgIENoZWNrb3V0QnV0dG9uLFxuICAgIFtdLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/checkout-button-integration/src/CheckoutButton.tsx\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/toResolvableComponent.tsx":
/*!************************************************************************!*\
  !*** ./packages/payment-integration-api/src/toResolvableComponent.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ toResolvableComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction toResolvableComponent(\n// eslint-disable-next-line @typescript-eslint/naming-convention\nComponent, resolveIds) {\n    return Object.assign((props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props)), { resolveIds });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG9SZXNvbHZhYmxlQ29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0Q7QUFJbkMsU0FBUyxxQkFBcUI7QUFDekMsZ0VBQWdFO0FBQ2hFLFNBQWdDLEVBQ2hDLFVBQXlCO0lBRXpCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQWEsRUFBRSxFQUFFLENBQUMsMkRBQUMsU0FBUyxvQkFBSyxLQUFLLEVBQUksRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFDdEYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3RvUmVzb2x2YWJsZUNvbXBvbmVudC50c3g/YTQ5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdHlwZSBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdHlwZSBSZXNvbHZhYmxlQ29tcG9uZW50IGZyb20gJy4vUmVzb2x2YWJsZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZUNvbXBvbmVudDxUUHJvcHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBUSWRlbnRpZmllcj4oXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgIENvbXBvbmVudDogQ29tcG9uZW50VHlwZTxUUHJvcHM+LFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlQ29tcG9uZW50PFRQcm9wcywgVElkZW50aWZpZXI+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigocHJvcHM6IFRQcm9wcykgPT4gPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCB7IHJlc29sdmVJZHMgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/toResolvableComponent.tsx\n\n}");

/***/ })

}]);