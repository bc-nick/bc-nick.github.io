"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_braintree_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/braintree.js":
/*!*************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/braintree.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBraintreeAchPaymentStrategy: () => (/* binding */ K),\n/* harmony export */   createBraintreeCreditCardPaymentStrategy: () => (/* binding */ tt),\n/* harmony export */   createBraintreeFastlaneCustomerStrategy: () => (/* binding */ ct),\n/* harmony export */   createBraintreeFastlanePaymentStrategy: () => (/* binding */ Ue),\n/* harmony export */   createBraintreeLocalMethodsPaymentStrategy: () => (/* binding */ Ne),\n/* harmony export */   createBraintreePaypalButtonStrategy: () => (/* binding */ wt),\n/* harmony export */   createBraintreePaypalCreditButtonStrategy: () => (/* binding */ Pt),\n/* harmony export */   createBraintreePaypalCreditCustomerStrategy: () => (/* binding */ st),\n/* harmony export */   createBraintreePaypalCustomerStrategy: () => (/* binding */ rt),\n/* harmony export */   createBraintreePaypalPaymentStrategy: () => (/* binding */ we),\n/* harmony export */   createBraintreeVenmoButtonStrategy: () => (/* binding */ Dt),\n/* harmony export */   createBraintreeVenmoPaymentStrategy: () => (/* binding */ Ge),\n/* harmony export */   createBraintreeVisaCheckoutButtonStrategy: () => (/* binding */ kt),\n/* harmony export */   createBraintreeVisaCheckoutCustomerStrategy: () => (/* binding */ mt),\n/* harmony export */   createBraintreeVisaCheckoutPaymentStrategy: () => (/* binding */ We)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _braintree_browser_detection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @braintree/browser-detection */ \"../checkout-sdk-js/node_modules/@braintree/browser-detection/dist/browser-detection.js\");\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\nvar h,y,m;class p extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class g extends p{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}!function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(h||(h={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(y||(y={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(m||(m={}));const v=\"3.128.0\",f=\"3.123.2\",b=\"3.106.0\",w={[b]:{[y.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[y.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[y.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[y.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[y.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[y.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[y.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[y.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[y.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[y.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[y.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[y.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[f]:{[y.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[y.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[y.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[y.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[y.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[y.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[y.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[y.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[y.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[y.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[y.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[y.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[v]:{[y.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[y.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[y.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[y.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[y.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[y.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[y.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[y.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[y.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[y.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[y.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[y.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var C,S,P,I,O,k,E,T,A=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class z{constructor(e,t,i){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=i}loadClient(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.Client,\"client.min.js\")})}loadFastlane(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.GooglePayment,\"google-payment.min.js\")})}load3DS(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(y.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(y.Venmo,\"venmo.min.js\")}loadHostedFields(){return A(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(y.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return A(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new g;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return A(this,void 0,void 0,function*(){let i=this.getBraintreeModule(e);if(i)return i;const n=this.braintreeSDKVersionManager.getSDKVersion(),r=`//js.braintreegateway.com/web/${n}/js/${t}`,o=n in w?this.getIntegrityValuesByModuleName(e,n):void 0;if(yield this.scriptLoader.loadScript(r,o?{async:!0,attributes:{integrity:o,crossorigin:\"anonymous\"}}:void 0),i=this.getBraintreeModule(e),!i)throw new g;return i})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const i=w[t][e];if(!i)throw new Error(\"Unexpected fileName value\");return i}}class N extends p{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(C||(C={}));class D extends p{constructor(e){super(function(e){switch(e){case C.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case C.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case C.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case C.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}function M(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(S||(S={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(P||(P={})),function(e){e.TRUSTLY=\"trustly\"}(I||(I={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(O||(O={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(k||(k={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(E||(E={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(T||(T={}));var _=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class B{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return _(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return _(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return _(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadDataCollector(),n=Object.assign({client:t,kount:!0},e);this.dataCollector=yield i.create(n)}catch(e){if(M(e)&&e.code===E.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return _(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return _(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return _(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,i]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((n,r)=>{i.create({client:t,merchantAccountId:e},(e,t)=>{e&&r(e),n(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return _(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return _(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return _(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),i={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},n=yield t.create(i);if(!n.isBrowserSupported())throw new N;this.braintreeVenmo=n}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new D(C.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}function x(e,t,i=!0){var n;return null!==(n=e[t])&&void 0!==n?n:i}class F{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(x(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?v:x(t,\"PAYPAL-5636.update_braintree_sdk_version\")?f:b)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const i=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(Object.values(e),e=>!!e.VERSION);return null==i?void 0:i.VERSION}}}function L(e,t){return Object.assign(e,{resolveIds:t})}class V extends p{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}var j;!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(j||(j={}));class U extends p{constructor(e){super(function(e){switch(e){case j.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case j.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case j.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case j.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case j.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case j.MissingCheckoutConfig:case j.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case j.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case j.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case j.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case j.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case j.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case j.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class R extends V{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function H(e){return Boolean(e.instrumentId)}class W extends p{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function q(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}class $ extends p{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}function G(e){return!!e&&\"accountNumber\"in e&&\"routingNumber\"in e&&\"ownershipType\"in e&&\"accountType\"in e}var Y=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class J{constructor(e,t){this.paymentIntegrationService=e,this.braintreeSdk=t}initialize(e){return Y(this,void 0,void 0,function*(){const{methodId:t,braintreeach:i}=e||{};if(!t)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');this.getMandateText=null==i?void 0:i.getMandateText,yield this.paymentIntegrationService.loadPaymentMethod(t);const n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t),{clientToken:r,initializationData:o}=n;if(!r||!o)throw new U(j.MissingPaymentMethod);this.braintreeSdk.initialize(r);try{this.usBankAccount=yield this.braintreeSdk.getUsBankAccount()}catch(e){this.handleBraintreeError(e)}})}execute(e,t){return Y(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new R([\"payment\"]);const r=H(i.paymentData||{}),o=r?yield this.tokenizePaymentForVaultedInstrument(i):yield this.tokenizePayment(i),a=r?yield this.preparePaymentDataForVaultedInstrument(o,i):yield this.preparePaymentData(o,i);yield this.paymentIntegrationService.submitOrder(n,t),yield this.paymentIntegrationService.submitPayment(a)})}finalize(){return Promise.reject(new W)}deinitialize(){return Y(this,void 0,void 0,function*(){return yield this.braintreeSdk.deinitialize(),Promise.resolve()})}tokenizePayment({paymentData:e}){return Y(this,void 0,void 0,function*(){const t=this.getUsBankAccountOrThrow();if(!G(e))throw new R([\"payment.paymentData\"]);const i=H(e)?\"The data are used for stored instrument verification\":\"function\"==typeof this.getMandateText&&this.getMandateText();if(!i)throw new V(\"Unable to proceed because getMandateText is not provided or returned undefined value.\");try{const{nonce:n}=yield t.tokenize({bankDetails:this.getBankDetails(e),mandateText:i});return n}catch(e){this.handleBraintreeError(e)}})}tokenizePaymentForVaultedInstrument(e){return Y(this,void 0,void 0,function*(){const{methodId:t,paymentData:i={}}=e,n=this.paymentIntegrationService.getState(),{config:r}=n.getPaymentMethodOrThrow(t);if(!r.isVaultingEnabled)throw new V(\"Vaulting is disabled but a vaulted instrument was being used for this transaction\");return G(i)?this.tokenizePayment(e):null})}preparePaymentData(e,t){return Y(this,void 0,void 0,function*(){const{methodId:i,paymentData:n={}}=t;if(!G(n))throw new R([\"payment.paymentData\"]);const{deviceData:r}=yield this.braintreeSdk.getDataCollectorOrThrow(),{shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a,routingNumber:s,accountNumber:d}=n;return{methodId:i,paymentData:{deviceSessionId:r,shouldSetAsDefaultInstrument:a,shouldSaveInstrument:o,formattedPayload:{tokenized_bank_account:{issuer:s,masked_account_number:d.substr(-4),token:e}}}}})}preparePaymentDataForVaultedInstrument(e,t){return Y(this,void 0,void 0,function*(){const{methodId:i,paymentData:n={}}=t;if(!H(n)||!q(n))throw new R([\"payment.paymentData\"]);const{deviceData:r}=yield this.braintreeSdk.getDataCollectorOrThrow(),{instrumentId:o,shouldSetAsDefaultInstrument:a}=n;return{methodId:i,paymentData:Object.assign({deviceSessionId:r,instrumentId:o,shouldSetAsDefaultInstrument:a},e&&{nonce:e})}})}getBankDetails(e){const t=this.paymentIntegrationService.getState().getBillingAddressOrThrow(),i=e.ownershipType.toLowerCase(),n=e.accountType.toLowerCase();return Object.assign(Object.assign({accountNumber:e.accountNumber,routingNumber:e.routingNumber,ownershipType:i},\"personal\"===i?{firstName:e.firstName,lastName:e.lastName}:{businessName:e.businessName}),{accountType:n,billingAddress:{streetAddress:t.address1,extendedAddress:t.address2,locality:t.city,region:t.stateOrProvinceCode,postalCode:t.postalCode}})}getUsBankAccountOrThrow(){if(!this.usBankAccount)throw new D(C.PaymentNotInitialized);return this.usBankAccount}handleBraintreeError(e){if(!M(e))throw e;throw new $(e.message)}}const K=L(t=>new J(t,(t=>{const i=new F(t),n=new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),window,i);return new B(n)})(t)),[{id:\"braintreeach\"}]);class X extends p{constructor(e,t){super(t||\"Unable to proceed because the payment form contains invalid data.\"),this.details=e,this.name=\"PaymentInvalidFormError\",this.type=\"payment_invalid_form\"}}class Q extends p{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class Z{constructor(e){const t=new Promise((e,t)=>{this.cancel=t});this.promise=Promise.race([e,t])}}let ee=null;const te=[\"buttons\",\"messages\"];var ie,ne,re,oe,ae,se;!function(e){e.HORIZONTAL=\"horizontal\",e.VERTICAL=\"vertical\"}(ie||(ie={})),function(e){e.SMALL=\"small\",e.MEDIUM=\"medium\",e.LARGE=\"large\",e.RESPONSIVE=\"responsive\"}(ne||(ne={})),function(e){e.GOLD=\"gold\",e.BLUE=\"blue\",e.SIlVER=\"silver\",e.BLACK=\"black\",e.WHITE=\"white\"}(re||(re={})),function(e){e.CHECKOUT=\"checkout\",e.PAY=\"pay\",e.BUYNOW=\"buynow\",e.PAYPAL=\"paypal\",e.CREDIT=\"credit\"}(oe||(oe={})),function(e){e.PILL=\"pill\",e.RECT=\"rect\"}(ae||(ae={})),function(e){e.CART=\"cart\",e.HOME=\"homepage\",e.PAYMENT=\"payment\",e.PRODUCT=\"product\"}(se||(se={}));var de=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class le{constructor(e,t,i){this.braintreeScriptLoader=e,this.braintreeHostWindow=t,this.overlay=i,this.dataCollectors={}}initialize(e,t){this.clientToken=e,this.threeDSecureOptions=t}getBraintreeFastlane(e,t,i){return de(this,void 0,void 0,function*(){if(t&&(window.localStorage.setItem(\"axoEnv\",\"sandbox\"),window.localStorage.setItem(\"fastlaneEnv\",\"sandbox\")),!this.braintreeHostWindow.braintreeFastlane){const t=this.getClientTokenOrThrow(),n=yield this.getClient(),r=yield this.getSessionId(e),o=yield this.braintreeScriptLoader.loadFastlane(),a={root:{backgroundColorPrimary:\"transparent\"}};this.braintreeHostWindow.braintreeFastlane=yield o.create({authorization:t,client:n,deviceData:r,styles:i||a})}return this.braintreeHostWindow.braintreeFastlane})}getClient(){return de(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=t.create({authorization:e})}return this.client})}getPaypal(){return this.braintreePaypal||(this.braintreePaypal=Promise.all([this.getClient(),this.braintreeScriptLoader.loadPaypal()]).then(([e,t])=>t.create({client:e}))),this.braintreePaypal}paypal(e){var{shouldSaveInstrument:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"shouldSaveInstrument\"]);const n=(0,_braintree_browser_detection__WEBPACK_IMPORTED_MODULE_2__.supportsPopups)();return this.getPaypal().then(e=>{var r;return n&&(null===(r=this.overlay)||void 0===r||r.show({onClick:()=>e.focusWindow()})),e.tokenize(Object.assign({enableShippingAddress:!0,flow:t?\"vault\":\"checkout\",useraction:\"commit\"},i))}).then(e=>{var t;return null===(t=this.overlay)||void 0===t||t.remove(),e}).catch(e=>{var t;throw null===(t=this.overlay)||void 0===t||t.remove(),e})}getPaypalCheckout(e,t,i){return de(this,void 0,void 0,function*(){const n=yield this.getClient(),r=yield this.braintreeScriptLoader.loadPaypalCheckout(),o={client:n};return this.paypalCheckout=yield r.create(o,(n,r)=>{var o;if(n)return i(n);const a=Object.assign(Object.assign({currency:e.currency},e.isCreditEnabled&&{\"enable-funding\":\"paylater\"}),{components:te.toString(),intent:e.intent,commit:null===(o=e.commit)||void 0===o||o});this.braintreeHostWindow.paypal?t(r):function(e,t){return ee||(ee=new Promise((i,n)=>{e.loadPayPalSDK(t,t=>{t?(ee=null,n(t)):i(e)})})),ee}(r,a).then(()=>t(r))}),this.paypalCheckout})}getDataCollector(e){return de(this,void 0,void 0,function*(){const t=(null==e?void 0:e.paypal)?\"paypal\":\"default\";let i=this.dataCollectors[t];if(!i){try{const t=yield this.getClient(),n=yield this.braintreeScriptLoader.loadDataCollector(),r=Object.assign({client:t,kount:!0},e);i=yield n.create(r)}catch(e){if(!M(e)||\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"!==e.code)throw e;i={deviceData:void 0,teardown:()=>Promise.resolve()}}this.dataCollectors[t]=i}return i})}getBraintreeEnv(e=!1){return e?h.Sandbox:h.Production}mapToBraintreeShippingAddressOverride(e){return{recipientName:`${e.firstName} ${e.lastName}`,line1:e.address1,line2:e.address2,city:e.city,state:e.stateOrProvinceCode,postalCode:e.postalCode,countryCode:e.countryCode,phone:e.phone}}mapToLegacyShippingAddress(e){const{email:t,phone:i,shippingAddress:n}=e,r=(null==n?void 0:n.recipientName)||\"\",[o,a]=r.split(\" \");return{email:t,first_name:o||\"\",last_name:a||\"\",phone_number:i,address_line_1:null==n?void 0:n.line1,address_line_2:null==n?void 0:n.line2,city:null==n?void 0:n.city,state:null==n?void 0:n.state,country_code:null==n?void 0:n.countryCode,postal_code:null==n?void 0:n.postalCode}}mapToLegacyBillingAddress(e){const{billingAddress:t,email:i,firstName:n,lastName:r,phone:o,shippingAddress:a}=e,s=t||a;return{email:i,first_name:n,last_name:r,phone_number:o,address_line_1:null==s?void 0:s.line1,address_line_2:null==s?void 0:s.line2,city:null==s?void 0:s.city,state:null==s?void 0:s.state,country_code:null==s?void 0:s.countryCode,postal_code:null==s?void 0:s.postalCode}}removeElement(e){const t=e&&document.getElementById(e);t&&t.remove()}getSessionId(e){return de(this,void 0,void 0,function*(){const{deviceData:t}=yield this.getDataCollector({riskCorrelationId:e});return t})}teardown(){return de(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollectors.default),yield this.teardownModule(this.dataCollectors.paypal),this.dataCollectors={},yield this.teardownModule(this.paypalCheckout),this.paypalCheckout=void 0})}get3DS(){return de(this,void 0,void 0,function*(){return this.threeDS||(this.threeDS=Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]).then(([e,t])=>t.create({client:e,version:2}))),this.threeDS})}getVenmoCheckout(e){return de(this,void 0,void 0,function*(){if(!this.venmoCheckout){const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadVenmoCheckout(),n=Object.assign({client:t,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},e||{});this.venmoCheckout=yield new Promise((e,t)=>{i.create(n,(i,n)=>i?t(i):n.isBrowserSupported()?void e(n):t(new N))})}return this.venmoCheckout})}verifyCard(e,t,i){return de(this,void 0,void 0,function*(){const n=yield this.tokenizeCard(e,t);return this.challenge3DSVerification(n,i)})}tokenizeCard(e,t){return de(this,void 0,void 0,function*(){const{paymentData:n}=e;if(!function(e){if(\"object\"!=typeof e||null===e)return!1;const t=e;return\"object\"==typeof t.ccExpiry&&null!==t.ccExpiry&&\"string\"==typeof t.ccNumber&&\"string\"==typeof t.ccName}(n))throw new R([\"payment.paymentData\"]);const r=this.getErrorsRequiredFields(n);if(!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(r))throw new X(r);const o=this.mapToCreditCard(n,t),a=yield this.getClient(),{creditCards:s}=yield a.request(o);return{nonce:s[0].nonce,bin:s[0].details.bin}})}challenge3DSVerification(e,t){return de(this,void 0,void 0,function*(){const i=yield this.get3DS();return this.present3DSChallenge(i,t,e)})}teardownModule(e){return e?e.teardown():Promise.resolve()}getClientTokenOrThrow(){if(!this.clientToken)throw new D(C.PaymentNotInitialized);return this.clientToken}getErrorsRequiredFields(e){const{ccNumber:t,ccExpiry:i}=e,n={};return t||(n.ccNumber=[{message:\"Credit card number is required\",type:\"required\"}]),i||(n.ccExpiry=[{message:\"Expiration date is required\",type:\"required\"}]),n}mapToCreditCard(e,t){return{data:{creditCard:{cardholderName:e.ccName,number:e.ccNumber,cvv:e.ccCvv,expirationDate:`${e.ccExpiry.month}/${e.ccExpiry.year}`,options:{validate:!1},billingAddress:t&&{countryCodeAlpha2:t.countryCode,locality:t.city,countryName:t.country,postalCode:t.postalCode,streetAddress:t.address2?`${t.address1} ${t.address2}`:t.address1}}},endpoint:\"payment_methods/credit_cards\",method:\"post\"}}present3DSChallenge(e,t,i){const{nonce:n,bin:r}=i;if(!this.threeDSecureOptions||!n)throw new D(C.PaymentNotInitialized);const{addFrame:o,removeFrame:a,challengeRequested:s=!0,additionalInformation:d}=this.threeDSecureOptions,l=()=>de(this,void 0,void 0,function*(){const t=yield e.cancelVerifyCard();return u.cancel(new Q),t}),c=t.toFixed(2),u=new Z(e.verifyCard({addFrame:(e,t)=>{o&&o(e,t,l)},amount:Number(c),bin:r,challengeRequested:s,nonce:n,removeFrame:a,onLookupComplete:(e,t)=>{t()},collectDeviceData:!0,additionalInformation:d}));return u.promise}}class ce{constructor(e){this.paymentIntegrationService=e,this.braintreeHostWindow=window}render(e,t,i){const n=t&&document.getElementById(t);if(this.braintreeHostWindow.paypal&&n){const r=this.paymentIntegrationService.getState(),o=r.getCartOrThrow(),a=r.getBillingAddressOrThrow(),s=r.getPaymentMethodOrThrow(e);if(!s.initializationData)return;const{paypalBNPLConfiguration:d=[]}=s.initializationData,l=i===se.PAYMENT?\"checkout\":i,c=d&&d.find(({id:e})=>e===l);if(!c||!c.status)return;i===se.CART&&(n.removeAttribute(\"data-pp-style-logo-type\"),n.removeAttribute(\"data-pp-style-logo-position\"),n.removeAttribute(\"data-pp-style-text-color\"),n.removeAttribute(\"data-pp-style-text-size\")),this.braintreeHostWindow.paypal.Messages({amount:o.cartAmount,buyerCountry:a.countryCode,placement:i,style:this.getPaypalMessagesStylesFromBNPLConfig(c)}).render(`#${t}`)}}getPaypalMessagesStylesFromBNPLConfig({styles:e}){const t={};return e.color&&(t.color=e.color),e.layout&&(t.layout=e.layout),(e[\"logo-type\"]||e[\"logo-position\"])&&(t.logo={},e[\"logo-type\"]&&(t.logo.type=e[\"logo-type\"]),e[\"logo-position\"]&&(t.logo.position=e[\"logo-position\"])),e.ratio&&(t.ratio=e.ratio),(e[\"text-color\"]||e[\"text-size\"])&&(t.text={},e[\"text-color\"]&&(t.text.color=e[\"text-color\"]),e[\"text-size\"]&&(t.text.size=+e[\"text-size\"])),t}}class ue{constructor(e){const{element:t,closeElement:i,mainElement:n}=this._createElements(e);this._element=t,this._closeElement=i,this._mainElement=n}show(e){this._mainElement.parentElement||(this._registerClick(e),document.body.appendChild(this._mainElement),setTimeout(()=>this._element.style.opacity=\"1\"))}remove(){this._mainElement.parentElement&&(this._unregisterClick&&this._unregisterClick(),this._removeAfterTransition(),setTimeout(()=>this._element.style.opacity=\"0\"))}_createElements(e){const t=document.createElement(\"div\"),{background:i=\"rgba(0, 0, 0, 0.8)\",id:n=\"checkoutOverlay\",transitionDuration:r=400,hasCloseButton:o=!1,innerHtml:a=null}=e||{};let s,d,l,c,u=t;if(n&&(t.id=n),a){const e=document.createElement(\"div\");c=`${n}--overlayText`,e.className=c,e.appendChild(a),t.appendChild(e)}return o&&(l=`${n}--close`,s=document.createElement(\"div\"),s.className=l,d=`${n}--layout`,u=document.createElement(\"div\"),u.className=d,u.appendChild(t),u.appendChild(s)),u.appendChild(function(e){const{id:t,background:i,transitionDuration:n,classLayout:r,classOverlayText:o,classClose:a}=e,s=document.createElement(\"style\"),d=r?`, .${r}`:\"\";return s.id=`${t}--styles`,s.type=\"text/css\",s.innerText=`\\n        #${t}${d} {\\n            display: block;\\n            height: 100%;\\n            width: 100%;\\n            left: 0;\\n            top: 0;\\n            position: fixed;\\n            z-index: 2147483647;\\n        }\\n        #${t} {\\n            transition: opacity ${n}ms ease-out;\\n            background: ${i};\\n            opacity: 0;\\n        }\\n    `,o&&(s.innerText+=`\\n             #${t} {\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n             }\\n             #${t} .${o} {\\n                color: white;\\n                max-width: 330px;\\n                font-size: 1.2em;\\n                text-align: center;\\n             }\\n        `),a&&(s.innerText+=`\\n            #${t} {\\n                opacity: 1;\\n            }\\n            .${r} .${a} {\\n                position: fixed;\\n                right: 16px;\\n                top: 16px;\\n                width: 16px;\\n                height: 16px;\\n                opacity: 0.6;\\n                cursor: pointer;\\n                z-index: 3147483647;\\n            }\\n            .${r} .${a}::after, .${r} .${a}::before {\\n                position: absolute;\\n                left: 8px;\\n                content: '';\\n                height: 16px;\\n                width: 2px;\\n                background-color: #fff;\\n            }\\n            .${r} .${a}::after {\\n                transform: rotate(-45deg);\\n            }\\n            .${r} .${a}::before {\\n                transform: rotate(45deg);\\n            }\\n        `),s}({id:n,background:i,transitionDuration:r,classLayout:d,classOverlayText:c,classClose:l})),{element:t,closeElement:s,mainElement:u}}_addEventListener(e,t){e&&t&&e.addEventListener(\"click\",t)}_removeEventListener(e,t){e&&t&&e.removeEventListener(\"click\",t)}_registerClick(e){if(this._unregisterClick&&this._unregisterClick(),e){const{onClick:t,onClickClose:i}=e;this._addEventListener(this._element,t),this._addEventListener(this._closeElement,i),this._unregisterClick=()=>{this._removeEventListener(this._element,t),this._removeEventListener(this._closeElement,i),this._unregisterClick=void 0}}}_removeAfterTransition(){const e=t=>{\"opacity\"===t.propertyName&&(this._mainElement.parentElement&&this._mainElement.remove(),this._element.removeEventListener(\"transitionend\",e))};this._element.addEventListener(\"transitionend\",e)}}const he={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},ye=\"embedded-checkout-loading-indicator-rotation\";class me{constructor(e){this.styles=Object.assign(Object.assign({},he),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${ye} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(i=>{e.style.setProperty(i,t[i])})}defineAnimation(){var e;if(document.getElementById(ye))return;const t=document.createElement(\"style\");t.id=ye,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${ye} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}const pe={\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"};function ge(e){return\"object\"==typeof e&&null!==e&&\"name\"in e&&\"BraintreeError\"===e.name}function ve(e){return{recipientName:`${e.firstName} ${e.lastName}`,line1:e.address1,line2:e.address2,city:e.city,state:e.stateOrProvinceCode,postalCode:e.postalCode,countryCode:e.countryCode,phone:e.phone}}var fe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class be{constructor(e,t,i,n){this.paymentIntegrationService=e,this.braintreeIntegrationService=t,this.braintreeMessages=i,this.loadingIndicator=n,this.braintreeHostWindow=window}initialize(e){return fe(this,void 0,void 0,function*(){const{braintree:t,methodId:i}=e;if(this.braintree=t,this.paymentMethod&&this.paymentMethod.nonce||(this.paymentMethod=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i)),this.paymentMethod.clientToken&&(null==t?void 0:t.bannerContainerId))return yield this.loadPaypal(),this.loadPaypalCheckoutInstance();if(this.paymentMethod.clientToken)return this.loadPaypal();const n=yield this.paymentIntegrationService.loadPaymentMethod(i);if(this.paymentMethod=n.getPaymentMethodOrThrow(i),null==t?void 0:t.bannerContainerId)return this.loadPaypalCheckoutInstance();if(!this.paymentMethod.clientToken)throw new U(j.MissingPaymentMethod);return this.loadPaypal()})}execute(e,t){var i;return fe(this,void 0,void 0,function*(){const{payment:n}=e,r=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]),{onError:o}=this.braintree||{};if(!n)throw new R([\"payment\"]);try{const e=yield this.preparePaymentData(n,r.useStoreCredit);yield this.paymentIntegrationService.submitOrder(r,t),yield this.paymentIntegrationService.submitPayment(e)}catch(e){this.isProviderError(e)&&(yield this.loadPaypal(),null===(i=this.paypalButtonRender)||void 0===i||i.close(),yield this.loadPaypalCheckoutInstance(),yield new Promise((e,t)=>{o&&\"function\"==typeof o&&o(new Error(\"INSTRUMENT_DECLINED\")),t()})),this.handleError(e)}})}finalize(){return Promise.reject(new W)}deinitialize(){var e;return this.braintreeTokenizePayload=void 0,null===(e=this.paypalButtonRender)||void 0===e||e.close(),this.braintreeIntegrationService.teardown()}preparePaymentData(e,t){var i;return fe(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),r=n.getOutstandingBalance(t),o=n.getStoreConfig();if(!r)throw new U(j.MissingCheckout);if(!o)throw new U(j.MissingCheckoutConfig);if(!this.paymentMethod)throw new D(C.PaymentNotInitialized);const{currency:a,storeProfile:{storeLanguage:s}}=o,{nonce:d,config:{isVaultingEnabled:l}}=this.paymentMethod,{methodId:c,paymentData:u={}}=e,h=(null===(i=this.braintreeTokenizePayload)||void 0===i?void 0:i.nonce)||d;if(h){const t=yield this.paymentIntegrationService.loadPaymentMethod(c);return this.paymentMethod=t.getPaymentMethod(c),Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(h)})}if(H(u)||(y=u,Boolean(y.instrumentId)&&!Object.prototype.hasOwnProperty.call(y,\"ccNumber\")&&!Object.prototype.hasOwnProperty.call(y,\"ccCvv\"))){if(!l)throw new V(\"Vaulting is disabled but a vaulted instrument was being used for this transaction\");return Promise.resolve(e)}var y;if(!q(u))throw new U(j.MissingPayment);const{shouldSaveInstrument:m,shouldSetAsDefaultInstrument:p}=u;if(m&&!l)throw new V(\"Vaulting is disabled but shouldSaveInstrument is set to true\");const g=n.getShippingAddress(),v=g?ve(g):void 0;return Promise.all([this.braintreeIntegrationService.paypal({amount:r,locale:s,currency:a.code,offerCredit:\"braintreepaypalcredit\"===this.paymentMethod.id,shippingAddressOverride:v,shouldSaveInstrument:m||!1,shippingAddressEditable:!1}),this.braintreeIntegrationService.getSessionId()]).then(([{nonce:t,details:i}={},n])=>Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(t,i&&i.email,n,m,p)}))})}formattedPayload(e,t,i,n,r){return{formattedPayload:{vault_payment_instrument:n||null,set_as_default_stored_instrument:r||null,device_info:i||null,paypal_account:{token:e,email:t||null}}}}loadPaypalCheckoutInstance(){return fe(this,void 0,void 0,function*(){const{clientToken:e,initializationData:t,id:i}=this.paymentMethod||{};if(!e)throw new U(j.MissingPaymentMethod);try{this.braintreeIntegrationService.initialize(e);const n={currency:this.paymentIntegrationService.getState().getCartOrThrow().currency.code,intent:null==t?void 0:t.intent,isCreditEnabled:null==t?void 0:t.isCreditEnabled},r=\"braintreepaypalcredit\"===i||!(null==t?void 0:t.isCreditEnabled);yield this.braintreeIntegrationService.getPaypalCheckout(n,e=>{var t;r&&i&&(null===(t=this.braintree)||void 0===t?void 0:t.bannerContainerId)&&this.renderPayPalMessages(i,this.braintree.bannerContainerId),this.renderPayPalButton(e)},this.handleError)}catch(e){this.handleError(e)}})}renderPayPalMessages(e,t){this.braintreeMessages.render(e,t,se.PAYMENT)}renderPayPalButton(e){const{onPaymentError:t,submitForm:i,onRenderButton:n,containerId:r,onError:o}=this.braintree||{};if(!r)return;if(!this.paymentMethod)throw new D(C.PaymentNotInitialized);this.loadingIndicatorContainer=r.split(\"#\")[1];const{id:a,config:{testMode:s}}=this.paymentMethod,{paypal:d}=this.braintreeHostWindow,l=null==d?void 0:d.FUNDING.PAYPAL;d&&l?(this.paypalButtonRender=d.Buttons({env:s?\"sandbox\":\"production\",commit:!1,fundingSource:l,onClick:()=>{this.toggleLoadingIndicator(!0)},createOrder:()=>this.setupPayment(e,a,t),onApprove:t=>fe(this,void 0,void 0,function*(){this.braintreeTokenizePayload=yield this.tokenizePaymentOrThrow(t,e),i&&\"function\"==typeof i&&i()}),onCancel:()=>{this.toggleLoadingIndicator(!1)},onError:e=>{this.toggleLoadingIndicator(!1),null==o||o(e)}}),n&&\"function\"==typeof n&&n(),this.paypalButtonRender.isEligible()&&this.paypalButtonRender.render(`${r}`)):this.removeElement(r.split(\"#\")[1])}setupPayment(e,t,i){return fe(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState();try{const i=n.getCustomer(),r=n.getPaymentMethodOrThrow(t),o=n.getCheckoutOrThrow().outstandingBalance,a=n.getStoreConfigOrThrow().currency.code,s=n.getShippingAddress()||(null==i?void 0:i.addresses[0]),d=s?ve(s):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:d,amount:o,currency:a,offerCredit:!1,intent:r.initializationData.intent})}catch(e){throw i&&(ge(e)||e instanceof p)&&i(e),e}})}tokenizePaymentOrThrow(e,t,i){return fe(this,void 0,void 0,function*(){try{return yield t.tokenizePayment(e)}catch(e){throw i&&(ge(e)||e instanceof p)&&i(e),e}})}loadPaypal(){return fe(this,void 0,void 0,function*(){const{clientToken:e,initializationData:t}=this.paymentMethod||{};if(!e||!t)throw new U(j.MissingPaymentMethod);try{this.braintreeIntegrationService.initialize(e),yield this.braintreeIntegrationService.getPaypal()}catch(e){this.handleError(e)}return Promise.resolve()})}handleError(e){if(!ge(e))throw e;if(\"PAYPAL_POPUP_CLOSED\"===e.code)throw new Q(e.message);throw new $(e.message)}isProviderError(e){var t,i,n;return!!function(e){return\"object\"==typeof e&&null!==e&&\"errors\"in e}(e)&&\"2046\"===(null===(n=null===(i=((null===(t=null==e?void 0:e.errors)||void 0===t?void 0:t.filter(e=>e.provider_error))||[])[0])||void 0===i?void 0:i.provider_error)||void 0===n?void 0:n.code)}removeElement(e){const t=e&&document.getElementById(e);t&&t.remove()}toggleLoadingIndicator(e){e&&this.loadingIndicatorContainer?this.loadingIndicator.show(this.loadingIndicatorContainer):this.loadingIndicator.hide()}}const we=L(t=>{const i=window,n=new ue,r=new F(t),o=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,r),i,n),a=new ce(t);return new be(t,o,a,new me({containerStyles:pe}))},[{id:\"braintreepaypal\"},{id:\"braintreepaypalcredit\"}]);var Ce;!function(e){e.Json=\"application/json\",e.JsonV1=\"application/vnd.bc.v1+json\"}(Ce||(Ce={}));const Se=Ce,Pe={\"X-Checkout-SDK-Version\":\"1.867.0\"};class Ie{constructor(e){this.requestSender=e}getOrderStatus(e=\"braintreelocalmethods\",t){return i=this,n=void 0,o=function*(){const i=`/api/storefront/initialization/${e}`,n=Object.assign({\"X-API-INTERNAL\":\"This API endpoint is for internal use only and may change in the future\",\"Content-Type\":Se.Json},Pe);return(yield this.requestSender.get(i,Object.assign({headers:n},t))).body},new((r=void 0)||(r=Promise))(function(e,t){function a(e){try{d(o.next(e))}catch(e){t(e)}}function s(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(a,s)}d((o=o.apply(i,n||[])).next())});// removed by dead control flow\n var i, n, r, o; }}const Oe={body:{},headers:{},status:0};class ke extends p{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||Oe;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}class Ee extends ke{constructor(e){super(e,{message:\"There is a problem processing your payment. Please try again later.\"}),this.name=\"PaymentMethodInvalidError\",this.type=\"payment_method_invalid\"}}class Te extends ke{constructor(e){super(e,{message:\"The request has timed out or aborted.\"}),this.name=\"TimeoutError\",this.type=\"timeout\"}}var Ae=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class ze{constructor(e,t,i,n,r=3e3,a=3e5){this.paymentIntegrationService=e,this.braintreeSdk=t,this.braintreeRequestSender=i,this.loadingIndicator=n,this.pollingInterval=r,this.maxPollingIntervalTime=a,this.isLPMsUpdateExperimentEnabled=!1,this.pollingTimer=0,this.stopPolling=lodash__WEBPACK_IMPORTED_MODULE_1__.noop,this.isPollingEnabled=!1}initialize(e){return Ae(this,void 0,void 0,function*(){const{gatewayId:t,methodId:i,braintreelocalmethods:n}=e;if(this.gatewayId=t,!i)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new V('Unable to initialize payment because \"options.gatewayId\" argument is not provided.');if(!n)throw new V('Unable to initialize payment because \"options.braintreelocalmethods\" argument is not provided.');this.braintreelocalmethods=n,this.loadingIndicatorContainer=n.container.split(\"#\")[1],yield this.paymentIntegrationService.loadPaymentMethod(t);const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(t),{clientToken:a,config:s,initializationData:d}=o,l=r.getStoreConfigOrThrow().checkoutSettings.features;if(this.isPollingEnabled=x(l,\"PAYPAL-5258.braintree_local_methods_polling\"),this.isLPMsUpdateExperimentEnabled=x(l,\"PAYPAL-4853.add_new_payment_flow_for_braintree_lpms\"),!a||!d||!s.merchantId)throw new U(j.MissingPaymentMethod);try{this.braintreeSdk.initialize(a),this.isNonInstantPaymentMethod(i)||(this.braintreeLocalPayment=yield this.braintreeSdk.getBraintreeLocalPayment(s.merchantId))}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new W)}deinitialize(){return Ae(this,void 0,void 0,function*(){return this.toggleLoadingIndicator(!1),Promise.resolve()})}execute(e,t){return Ae(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new R([\"payment\"]);const{methodId:r}=i;this.toggleLoadingIndicator(!0),this.isNonInstantPaymentMethod(r)?yield this.executeWithNotInstantLPM(r):yield this.executeWithInstantLPM(r,n,t)})}executeWithNotInstantLPM(e){return Ae(this,void 0,void 0,function*(){try{const t=yield this.getLPMsBasicPaymentData();yield this.paymentIntegrationService.submitOrder(),yield this.paymentIntegrationService.submitPayment({methodId:e,paymentData:Object.assign(Object.assign({},t),{formattedPayload:{method:e}})})}catch(e){if(this.isBraintreeRedirectError(e)){const t=e.body.additional_action_required.data.redirect_url;return new Promise((e,i)=>{window.location.replace(t),this.toggleLoadingIndicator(!1),i()})}return this.handleError(e),Promise.reject(e)}})}executeWithInstantLPM(e,t,i){return Ae(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment)throw new Ee;yield new Promise((n,r)=>{var o;null===(o=this.braintreeLocalPayment)||void 0===o||o.startPayment(this.getInstantLPMConfig(e,t,i),this.getInstantLPMCallback(n,r,e,t,i))})})}getLPMsBasicPaymentData(){return Ae(this,void 0,void 0,function*(){const{deviceData:e}=yield this.braintreeSdk.getDataCollectorOrThrow();return{deviceSessionId:e}})}getInstantLPMConfig(e,t,i){const n=this.paymentIntegrationService.getState(),r=n.getCartOrThrow(),o=n.getBillingAddressOrThrow(),{firstName:a,lastName:s,countryCode:d}=o,{currency:l,email:c,lineItems:u}=r,h=u.physicalItems.length>0,y=n.getCheckoutOrThrow().outstandingBalance,m=n.getStoreConfigOrThrow().links.checkoutLink;return{paymentType:e,amount:y,fallback:{url:m,buttonText:\"Complete Payment\"},currencyCode:l.code,shippingAddressRequired:h,email:c,givenName:a,surname:s,address:{countryCode:d},onPaymentStart:(n,r)=>Ae(this,void 0,void 0,function*(){if(!this.isLPMsUpdateExperimentEnabled)return this.orderId=n.paymentId,void r();const o=yield this.getLPMsBasicPaymentData(),a=Object.assign(Object.assign({},o),{formattedPayload:{method:e,[`${e}_account`]:{order_id:n.paymentId}}});try{yield this.paymentIntegrationService.submitOrder(t,i),yield this.paymentIntegrationService.submitPayment({methodId:e,paymentData:a})}catch(t){if(this.isBraintreeOrderSavedResponse(t)&&t.body.additional_action_required.data.order_id_saved_successfully)return r(),this.isPollingEnabled?new Promise((t,i)=>{this.initializePollingMechanism(e,t,i,this.gatewayId)}):void 0;throw t}})}}getInstantLPMCallback(e,t,i,n,r){const o=this.paymentIntegrationService.getState().getCartOrThrow();return(a,s)=>Ae(this,void 0,void 0,function*(){if(a)return\"LOCAL_PAYMENT_WINDOW_CLOSED\"===a.code?(this.toggleLoadingIndicator(!1),this.resetPollingMechanism(),t()):(this.isPollingEnabled&&this.resetPollingMechanism(),this.toggleLoadingIndicator(!1),t(new Ee));const d=yield this.getLPMsBasicPaymentData(),l=Object.assign(Object.assign({},d),{formattedPayload:{method:i,[`${i}_account`]:Object.assign({email:o.email,token:s.nonce},this.isLPMsUpdateExperimentEnabled?{}:{order_id:this.orderId})}});try{return this.isLPMsUpdateExperimentEnabled||(yield this.paymentIntegrationService.submitOrder(n,r)),yield this.paymentIntegrationService.submitPayment({methodId:i,paymentData:l}),e(void 0)}catch(e){return this.handleError(e),t(e)}})}toggleLoadingIndicator(e){e&&this.loadingIndicatorContainer?this.loadingIndicator.show(this.loadingIndicatorContainer):this.loadingIndicator.hide()}handleError(e){const{onError:t}=this.braintreelocalmethods||{};this.isPollingEnabled&&this.resetPollingMechanism(),this.toggleLoadingIndicator(!1),t&&\"function\"==typeof t&&t(e)}isNonInstantPaymentMethod(e){return e.toUpperCase()in I}isBraintreeRedirectError(e){var t;if(\"object\"!=typeof e||null===e)return!1;const{body:i}=e;return!!i&&!!(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.redirect_url)}isBraintreeOrderSavedResponse(e){var t;if(\"object\"!=typeof e||null===e)return!1;const{body:i}=e;return!!i&&(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.hasOwnProperty(\"order_id_saved_successfully\"))}initializePollingMechanism(e,t,i,n){return Ae(this,void 0,void 0,function*(){yield new Promise((e,t)=>{const i=setTimeout(e,this.pollingInterval);this.stopPolling=()=>(clearTimeout(i),this.toggleLoadingIndicator(!1),t())});try{this.pollingTimer+=this.pollingInterval;const r=yield this.braintreeRequestSender.getOrderStatus(n,{params:{useMetadata:!1}}),o=r.status===P.Pending,a=r.status===P.Completed,s=r.status===P.Failed;if(a)return this.deinitializePollingMechanism(),t();if(s)return i();if(!a&&o&&this.pollingTimer<this.maxPollingIntervalTime)return yield this.initializePollingMechanism(e,t,i,n);yield this.reinitializeStrategy({methodId:e,gatewayId:n,braintreelocalmethods:this.braintreelocalmethods}),this.handleError(new Te)}catch(e){i()}})}deinitializePollingMechanism(){this.stopPolling(),this.pollingTimer=0}resetPollingMechanism(){this.deinitializePollingMechanism()}reinitializeStrategy(e){return Ae(this,void 0,void 0,function*(){yield this.deinitialize(),yield this.initialize(e)})}}const Ne=L(t=>{const i=window,n=new F(t),r=new B(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n)),o=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_3__.createRequestSender)(),a=new Ie(o);return new ze(t,r,a,new me({styles:{backgroundColor:\"black\"}}))},[{gateway:\"braintreelocalmethods\"}]);function De(e){return\"string\"!=typeof e}function Me(e,t){if(t||e)return function(e){var t,i;const n={},r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(e.root,De),o=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(e.input,De),a=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(e.toggle,De),d=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(null===(t=e.text)||void 0===t?void 0:t.body,De),l=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(null===(i=e.text)||void 0===i?void 0:i.caption,De),c=e.branding;return Object.keys(r).length&&(n.root=r),Object.keys(o).length&&(n.input=o),Object.keys(a).length&&(n.toggle=a),Object.keys(d).length&&(n.text={},n.text.body=d),Object.keys(l).length&&(n.text=Object.assign({},n.text),n.text.caption=l),c&&(n.branding=c),n}(function(e,t){var i,n,r,o,a,s,d,l,c,u,h,y,m,p,g,v,f,b,w,C,S,P;return{root:{backgroundColorPrimary:(null==e?void 0:e.fastlaneRootSettingsBackgroundColor)||(null===(i=null==t?void 0:t.root)||void 0===i?void 0:i.backgroundColorPrimary),errorColor:(null==e?void 0:e.fastlaneRootSettingsErrorColor)||(null===(n=null==t?void 0:t.root)||void 0===n?void 0:n.errorColor),fontFamily:(null==e?void 0:e.fastlaneRootSettingsFontFamily)||(null===(r=null==t?void 0:t.root)||void 0===r?void 0:r.fontFamily),fontSizeBase:(null==e?void 0:e.fastlaneRootSettingsFontSize)||(null===(o=null==t?void 0:t.root)||void 0===o?void 0:o.fontSizeBase),padding:(null==e?void 0:e.fastlaneRootSettingsPadding)||(null===(a=null==t?void 0:t.root)||void 0===a?void 0:a.padding),primaryColor:(null==e?void 0:e.fastlaneRootSettingsPrimaryColor)||(null===(s=null==t?void 0:t.root)||void 0===s?void 0:s.primaryColor)},input:{borderRadius:(null==e?void 0:e.fastlaneInputSettingsBorderRadius)||(null===(d=null==t?void 0:t.input)||void 0===d?void 0:d.borderRadius),borderColor:(null==e?void 0:e.fastlaneInputSettingsBorderColor)||(null===(l=null==t?void 0:t.input)||void 0===l?void 0:l.borderColor),focusBorderColor:(null==e?void 0:e.fastlaneInputSettingsFocusBorderBase)||(null===(c=null==t?void 0:t.input)||void 0===c?void 0:c.focusBorderColor),backgroundColor:(null==e?void 0:e.fastlaneInputSettingsBackgroundColor)||(null===(u=null==t?void 0:t.input)||void 0===u?void 0:u.backgroundColor),borderWidth:(null==e?void 0:e.fastlaneInputSettingsBorderWidth)||(null===(h=null==t?void 0:t.input)||void 0===h?void 0:h.borderWidth),textColorBase:(null==e?void 0:e.fastlaneInputSettingsTextColorBase)||(null===(y=null==t?void 0:t.input)||void 0===y?void 0:y.textColorBase)},toggle:{colorPrimary:(null==e?void 0:e.fastlaneToggleSettingsColorPrimary)||(null===(m=null==t?void 0:t.toggle)||void 0===m?void 0:m.colorPrimary),colorSecondary:(null==e?void 0:e.fastlaneToggleSettingsColorSecondary)||(null===(p=null==t?void 0:t.toggle)||void 0===p?void 0:p.colorSecondary)},text:{body:{color:(null==e?void 0:e.fastlaneTextBodySettingsColor)||(null===(v=null===(g=null==t?void 0:t.text)||void 0===g?void 0:g.body)||void 0===v?void 0:v.color),fontSize:(null==e?void 0:e.fastlaneTextBodySettingsFontSize)||(null===(b=null===(f=null==t?void 0:t.text)||void 0===f?void 0:f.body)||void 0===b?void 0:b.fontSize)},caption:{color:(null==e?void 0:e.fastlaneTextCaptionSettingsColor)||(null===(C=null===(w=null==t?void 0:t.text)||void 0===w?void 0:w.caption)||void 0===C?void 0:C.color),fontSize:(null==e?void 0:e.fastlaneTextCaptionSettingsFontSize)||(null===(P=null===(S=null==t?void 0:t.text)||void 0===S?void 0:S.caption)||void 0===P?void 0:P.fontSize)}},branding:(null==e?void 0:e.fastlaneBrandingSettings)||(null==t?void 0:t.branding)}}(e,t))}function _e(e){return!!e&&(\"authenticationState\"in e||\"addresses\"in e||\"instruments\"in e)}var Be,xe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Fe{constructor(e,t,i){this.paymentIntegrationService=e,this.braintreeFastlaneUtils=t,this.braintreeSdk=i}initialize(e){var t;return xe(this,void 0,void 0,function*(){const{methodId:i,braintreefastlane:n}=e;if(!i)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!n)throw new V('Unable to initialize payment because \"options.braintreefastlane\" argument is not provided.');if(!n.onInit||\"function\"!=typeof n.onInit)throw new V('Unable to initialize payment because \"options.braintreefastlane.onInit\" argument is not provided or it is not a function.');if(!n.onChange||\"function\"!=typeof n.onChange)throw new V('Unable to initialize payment because \"options.braintreefastlane.onChange\" argument is not provided or it is not a function.');yield this.paymentIntegrationService.loadPaymentMethod(i);const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(i),{initializationData:a,clientToken:s}=o||{},{isFastlaneStylingEnabled:d}=a||{},l=x(r.getStoreConfigOrThrow().checkoutSettings.features,\"PROJECT-7080.braintree_fastlane_three_ds\");this.is3DSEnabled=o.config.is3dsEnabled,s&&l&&this.braintreeSdk.initialize(s);const c=Me(d?null===(t=o.initializationData)||void 0===t?void 0:t.fastlaneStyles:void 0,n.styles);yield this.braintreeFastlaneUtils.initializeBraintreeFastlaneOrThrow(i,c),this.shouldRunAuthenticationFlow()&&(yield this.braintreeFastlaneUtils.runPayPalAuthenticationFlowOrThrow()),yield this.initializeCardComponent(),this.onError=n.onError,n.onInit(e=>this.renderBraintreeCardComponent(e)),n.onChange(()=>this.handleBraintreeStoredInstrumentChange(i))})}execute(e,t){return xe(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new R([\"payment\"]);yield this.paymentIntegrationService.submitOrder(n,t);const r=yield this.preparePaymentPayload(i.methodId);yield this.paymentIntegrationService.submitPayment(r),this.braintreeFastlaneUtils.removeSessionIdFromCookies()})}finalize(){return Promise.reject(new W)}deinitialize(){return xe(this,void 0,void 0,function*(){return this.braintreeCardComponent=void 0,Promise.resolve()})}initializeCardComponent(){return xe(this,void 0,void 0,function*(){const e=this.paymentIntegrationService.getState(),{phone:t,firstName:i,lastName:n}=e.getBillingAddressOrThrow(),r=`${i} ${n}`,o={styles:{},fields:Object.assign({cardholderName:{prefill:r,enabled:!0}},t&&{phoneNumber:{prefill:t}})},a=this.braintreeFastlaneUtils.getBraintreeFastlaneComponentOrThrow();this.braintreeCardComponent=yield a(o)})}renderBraintreeCardComponent(e){const t=this.getBraintreeCardComponentOrThrow();if(!e)throw new V('Unable to initialize payment because \"container\" argument is not provided.');t.render(e)}preparePaymentPayload(e){var t,i;return xe(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),r=n.getBillingAddressOrThrow(),o=`${r.firstName} ${r.lastName}`,a=this.getPayPalInstruments()[0],s=yield this.braintreeFastlaneUtils.getDeviceSessionId(),d=x(n.getStoreConfigOrThrow().checkoutSettings.features,\"PROJECT-7080.braintree_fastlane_three_ds\");if(a){const t=this.is3DSEnabled&&d?yield this.get3DS(a.bigpayToken,(null==a?void 0:a.iin)||\"\"):void 0;return{methodId:e,paymentData:{deviceSessionId:s,formattedPayload:{paypal_fastlane_token:{token:t||a.bigpayToken}}}}}const{getPaymentToken:l}=this.getBraintreeCardComponentOrThrow(),c=yield l({name:{fullName:o},billingAddress:this.mapToPayPalAddress(r)}),u=(null===(i=null===(t=c.paymentSource.card)||void 0===t?void 0:t.binDetails)||void 0===i?void 0:i.bin)||\"\",h=this.is3DSEnabled&&d?yield this.get3DS(c.id,u):void 0;return{methodId:e,paymentData:{deviceSessionId:s,nonce:h||c.id}}})}get3DS(e,t){return xe(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=yield this.braintreeSdk.getBraintreeThreeDS(),r=i.getOrderOrThrow();return new Promise((i,o)=>{n.verifyCard({amount:null==r?void 0:r.orderAmount,nonce:e,bin:t,onLookupComplete:(e,t)=>{n.on(\"customer-canceled\",()=>{\"function\"==typeof this.onError&&this.onError(new Q),o(new Q)}),t()}},(e,t)=>(e&&\"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT\"===e.code&&(\"function\"==typeof this.onError&&this.onError(new Q),o(new Q)),i(t.nonce)))})})}mapToPayPalAddress(e){return{streetAddress:(null==e?void 0:e.address1)||\"\",locality:(null==e?void 0:e.city)||\"\",region:(null==e?void 0:e.stateOrProvinceCode)||(null==e?void 0:e.stateOrProvince)||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCodeAlpha2:(null==e?void 0:e.countryCode)||\"\"}}shouldRunAuthenticationFlow(){const e=this.paymentIntegrationService.getState(),t=e.getCartOrThrow(),i=e.getCustomerOrThrow(),n=e.getPaymentProviderCustomer(),r=_e(n)?n:{},o=this.braintreeFastlaneUtils.getSessionIdFromCookies();return!(!i.isGuest||(null==r?void 0:r.authenticationState)===O.CANCELED||(null==r?void 0:r.authenticationState)||o!==t.id)}getBraintreeCardComponentOrThrow(){if(!this.braintreeCardComponent)throw new g;return this.braintreeCardComponent}getPayPalInstruments(){const e=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow();return(_e(e)?e:{}).instruments||[]}handleBraintreeStoredInstrumentChange(e){return xe(this,void 0,void 0,function*(){const t=this.braintreeFastlaneUtils.getBraintreeFastlaneOrThrow(),{selectionChanged:i,selectedCard:n}=yield t.profile.showCardSelector();if(i){const t=this.paymentIntegrationService.getState().getPaymentProviderCustomer(),i=_e(t)?t:{},r=this.braintreeFastlaneUtils.mapPayPalToBcInstrument(e,[n]);if(r&&r.length>0)return yield this.paymentIntegrationService.updatePaymentProviderCustomer(Object.assign(Object.assign({},i),{instruments:[...r]})),r[0]}})}}!function(e){e.CVV=\"cvv\",e.PAN=\"pan\"}(Be||(Be={}));class Le{static get(e){const t=`${encodeURIComponent(`${e}`)}=`,i=document.cookie;let n=null;const r=i.indexOf(t);if(r>-1){let e=i.indexOf(\";\",r);-1===e&&(e=i.length),n=decodeURIComponent(i.substring(r+t.length,e))}return n}static set(e,t,i={secure:!0}){let n=`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;const{expires:r,path:o,domain:a,secure:s}=i;if(r)n+=`; expires=${r.toUTCString()}`;else{const e=new Date,t=60;e.setTime(e.getTime()+60*t*1e3),n+=`; expires=${e.toUTCString()}`}o&&(n+=`; path=${o}`),a&&(n+=`; domain=${a}`),s&&(n+=\"; secure\"),document.cookie=n}static remove(e,t){Le.set(e,\"\",Object.assign({expires:new Date(0)},t))}}var Ve=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class je{constructor(e,t){this.paymentIntegrationService=e,this.braintreeIntegrationService=t}getDeviceSessionId(){return Ve(this,void 0,void 0,function*(){const e=this.paymentIntegrationService.getState().getCart();return this.braintreeIntegrationService.getSessionId(null==e?void 0:e.id)})}initializeBraintreeFastlaneOrThrow(e,t){return Ve(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=i.getCart(),{clientToken:r,config:o}=i.getPaymentMethodOrThrow(e);if(!r)throw new U(j.MissingPaymentMethod);this.methodId=e,this.braintreeIntegrationService.initialize(r),this.braintreeFastlane=yield this.braintreeIntegrationService.getBraintreeFastlane(null==n?void 0:n.id,o.testMode,t)})}getBraintreeFastlaneOrThrow(){if(!this.braintreeFastlane)throw new g;return this.braintreeFastlane}getBraintreeFastlaneComponentOrThrow(){return this.getBraintreeFastlaneOrThrow().FastlaneCardComponent}runPayPalAuthenticationFlowOrThrow(e,t){var i;return Ve(this,void 0,void 0,function*(){try{const n=this.getMethodIdOrThrow(),r=this.getBraintreeFastlaneOrThrow(),{lookupCustomerByEmail:o,triggerAuthenticationFlow:a}=r.identity,s=this.paymentIntegrationService.getState(),d=s.getCartOrThrow(),l=s.getCustomer(),c=s.getBillingAddress(),{isFastlaneShippingOptionAutoSelectEnabled:u}=s.getPaymentMethodOrThrow(n).initializationData||{},h=e||(null==l?void 0:l.email)||(null==c?void 0:c.email)||\"\",{customerContextId:y}=yield o(h);if(!y)return yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:O.UNRECOGNIZED,addresses:[],instruments:[]}),void this.saveSessionIdToCookies(d.id);const{authenticationState:m,profileData:p}=yield a(y),g=(null===(i=null==p?void 0:p.shippingAddress)||void 0===i?void 0:i.phoneNumber)||\"\";if(m===O.CANCELED)return yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:m,addresses:[],instruments:[]}),void this.removeSessionIdFromCookies();const v=this.mapPayPalToBcAddress([p.shippingAddress],[g])||[],f=this.getPayPalBillingAddresses(p),b=f?this.mapPayPalToBcAddress([f],[g]):[],w=p.card?this.mapPayPalToBcInstrument(n,[p.card]):[],C=this.mergeShippingAndBillingAddresses(v,b);if(this.saveSessionIdToCookies(d.id),yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:m,addresses:C,instruments:w}),b.length>0&&d.lineItems.physicalItems.length>0&&(yield this.paymentIntegrationService.updateBillingAddress(b[0])),b.length>0&&d.lineItems.digitalItems.length>0&&0===d.lineItems.physicalItems.length){const{firstName:e,lastName:t}=C[0],i=Object.assign(Object.assign({},b[0]),{firstName:e,lastName:t});yield this.paymentIntegrationService.updateBillingAddress(i)}v.length>0&&d.lineItems.physicalItems.length>0&&(yield this.paymentIntegrationService.updateShippingAddress(v[0]),t&&u&&(yield this.setShippingOption()))}catch(e){}})}getSessionIdFromCookies(){return Le.get(\"bc-fastlane-sessionId\")||\"\"}saveSessionIdToCookies(e){const t=new Date;t.setDate(t.getDate()+14),Le.set(\"bc-fastlane-sessionId\",e,{expires:t,secure:!0})}removeSessionIdFromCookies(){Le.remove(\"bc-fastlane-sessionId\")}mapPayPalToBcInstrument(e,t){if(t)return t.map(t=>{const{id:i,paymentSource:n}=t,{brand:r,expiry:o,lastDigits:a,binDetails:s}=n.card,[d,l]=o.split(\"-\");return{bigpayToken:i,brand:r,defaultInstrument:!1,expiryMonth:l,expiryYear:d,iin:(null==s?void 0:s.bin)||\"\",last4:a,method:e,provider:e,trustedShippingAddress:!1,type:\"card\",untrustedShippingCardVerificationMode:Be.PAN}})}mapPayPalToBcAddress(e,t){if(!e)return[];const i=this.paymentIntegrationService.getState().getCountries()||[],n=e=>{const t=i.find(t=>t.code===e);return(null==t?void 0:t.name)||\"\"};return e.map(e=>({id:Date.now(),type:\"paypal-address\",firstName:e.firstName||\"\",lastName:e.lastName||\"\",company:e.company||\"\",address1:e.streetAddress,address2:e.extendedAddress||\"\",city:e.locality,stateOrProvince:e.region,stateOrProvinceCode:e.region,country:n(e.countryCodeAlpha2),countryCode:e.countryCodeAlpha2,postalCode:e.postalCode,phone:t&&t[0]||\"\",customFields:[]}))}getPayPalBillingAddresses(e){const{card:t,name:i}=e||{};if(!t)return;const{firstName:r,lastName:o}=t.paymentSource.card.billingAddress,{firstName:a,lastName:s}=i||{},{shippingAddress:d}=e||{},l=Object.assign(Object.assign({},t.paymentSource.card.billingAddress),{firstName:r||a,lastName:o||s});return d&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual)(this.normalizeAddress(l),this.normalizeAddress(d))?d:l}normalizeAddress(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.omit)(e,[\"id\"])}mergeShippingAndBillingAddresses(e,t){const i=t.filter(t=>!e.some(e=>(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual)(this.normalizeAddress(e),this.normalizeAddress(t))));return[...e,...i]}getMethodIdOrThrow(){if(!this.methodId)throw new V('Unable to proceed because \"methodId\" argument is not provided.');return this.methodId}setShippingOption(){var e;return Ve(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getConsignments()||[],i=(null===(e=t[0])||void 0===e?void 0:e.availableShippingOptions)||[],n=i.find(e=>e.isRecommended);if(n||i.length){const e=n||i[0];yield this.paymentIntegrationService.selectShippingOption(e.id)}})}}const Ue=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i),o=new je(t,r),a=new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),s=new B(a);return new Fe(t,o,s)},[{id:\"braintreeacceleratedcheckout\"}]);var Re=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class He{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i}initialize(e){return Re(this,void 0,void 0,function*(){const{braintreevisacheckout:t,methodId:i}=e;if(!t)throw new V('Unable to initialize payment because \"options.braintreevisacheckout\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState();this.paymentMethod=n.getPaymentMethodOrThrow(i);const r=n.getCheckoutOrThrow(),a=n.getStoreConfigOrThrow(),{clientToken:s,config:d}=this.paymentMethod||{};if(!s)throw new U(j.MissingPaymentMethod);const{onError:l=lodash__WEBPACK_IMPORTED_MODULE_1__.noop,onPaymentSelect:c=lodash__WEBPACK_IMPORTED_MODULE_1__.noop}=t;this.braintreeSdk.initialize(s);const u=yield this.braintreeSdk.getBraintreeVisaCheckout(),h=yield this.braintreeSdk.getVisaCheckoutSdk(null==d?void 0:d.testMode),y=u.createInitOptions({settings:{locale:a.storeProfile.storeLanguage,shipping:{collectShipping:!1}},paymentRequest:{currencyCode:a.currency.code,subtotal:String(r.subtotal)}});yield h.init(y),h.on(\"payment.success\",e=>this.tokenizePayment(u,e).then(()=>Promise.all([this.paymentIntegrationService.loadCheckout(),this.paymentIntegrationService.loadPaymentMethod(i)])).then(()=>c()).catch(e=>l(e))),h.on(\"payment.error\",(e,t)=>l(t))})}execute(e,t){var i,n;return Re(this,void 0,void 0,function*(){const{payment:r}=e,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!r)throw new V('Unable to submit payment because \"payload.payment\" argument is not provided.');if(!(null===(n=null===(i=this.paymentMethod)||void 0===i?void 0:i.initializationData)||void 0===n?void 0:n.nonce))throw new U(j.MissingPaymentMethod);const{nonce:a}=this.paymentMethod.initializationData;try{yield this.paymentIntegrationService.submitOrder(o,t),yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},r),{paymentData:{nonce:a}}))}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new W)}deinitialize(){return Re(this,void 0,void 0,function*(){yield this.braintreeSdk.deinitialize()})}tokenizePayment(e,t){return Re(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.mapToVisaCheckoutAddress(n),billingAddress:a=this.mapToVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}mapToVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}handleError(e){if(e instanceof Error&&\"BraintreeError\"===e.name)throw new $(e.message);throw e}}const We=L(t=>{const i=window,n=new F(t),r=new B(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n));return new He(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r)},[{id:\"braintreevisacheckout\"}]);var qe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class $e{constructor(e,t){this.paymentIntegrationService=e,this.braintreeIntegrationService=t}initialize(e){return qe(this,void 0,void 0,function*(){const{methodId:t}=e;yield this.paymentIntegrationService.loadPaymentMethod(t);const i=this.paymentIntegrationService.getState();this.venmoOptions=e.braintreevenmo;const n=i.getPaymentMethodOrThrow(t);yield this.initializeBraintreeVenmo(n)})}execute(e){return qe(this,void 0,void 0,function*(){const{payment:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!t)throw new R([\"payment\"]);try{const e=yield this.preparePaymentData(t);yield this.paymentIntegrationService.submitOrder(i),yield this.paymentIntegrationService.submitPayment(e)}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new W)}deinitialize(){return qe(this,void 0,void 0,function*(){return yield this.braintreeIntegrationService.teardown(),Promise.resolve()})}handleError(e){if(!M(e))throw e;if(\"PAYPAL_POPUP_CLOSED\"===e.code)throw new Q(e.message);throw new $(e.message)}initializeBraintreeVenmo(e){var t;return qe(this,void 0,void 0,function*(){const{clientToken:i}=e;if(!i)throw new U(j.MissingPaymentMethod);const n=x(this.paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings.features,\"PAYPAL-5406.braintree_venmo_web_fallback_support\");try{this.braintreeIntegrationService.initialize(i),this.braintreeVenmoCheckout=yield this.braintreeIntegrationService.getVenmoCheckout(Object.assign(Object.assign({},void 0!==(null===(t=this.venmoOptions)||void 0===t?void 0:t.allowDesktop)?{allowDesktop:this.venmoOptions.allowDesktop}:{}),n?{mobileWebFallBack:n}:{}))}catch(e){this.handleError(e)}})}preparePaymentData(e){return qe(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState(),{nonce:i}=t.getPaymentMethodOrThrow(e.methodId);if(i)return Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(i)});const n=yield this.braintreeVenmoTokenize(),r=yield this.braintreeIntegrationService.getSessionId();return Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(n.nonce,n.details.email,r)})})}formattedPayload(e,t,i){return{formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:i||null,paypal_account:{token:e,email:t||null}}}}braintreeVenmoTokenize(){return new Promise((e,t)=>{var i;null===(i=this.braintreeVenmoCheckout)||void 0===i||i.tokenize((i,n)=>{if(i)return t(i);e(n)})})}}const Ge=L(t=>{const i=window,n=(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),r=new F(t),o=new z(n,i,r),a=new le(o,i);return new $e(t,a)},[{id:\"braintreevenmo\"}]);var Ye=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Je{constructor(e,t,i){this.paymentIntegrationService=e,this.braintreeIntegrationService=t,this.braintreeHostedForm=i}initialize(e){return Ye(this,void 0,void 0,function*(){const{methodId:t,gatewayId:i,braintree:n}=e;yield this.paymentIntegrationService.loadPaymentMethod(t);const r=this.paymentIntegrationService.getState();this.paymentMethod=r.getPaymentMethodOrThrow(t);const{clientToken:o}=this.paymentMethod;if(!o)throw new U(j.MissingPaymentMethod);this.threeDSecure=null==n?void 0:n.threeDSecure,this.onPaymentError=null==n?void 0:n.onPaymentError;try{this.braintreeIntegrationService.initialize(o,this.threeDSecure),this.isHostedPaymentFormEnabled(t,i)&&(null==n?void 0:n.form)&&(yield this.braintreeHostedForm.initialize(n.form,n.unsupportedCardBrands,o),this.isHostedFormInitialized=this.braintreeHostedForm.isInitialized()),this.is3dsEnabled=this.paymentMethod.config.is3dsEnabled,this.deviceSessionId=yield this.braintreeIntegrationService.getSessionId(),this.shouldInitializeBraintreeFastlane()&&(yield this.initializeBraintreeFastlaneOrThrow(t))}catch(e){return this.handleError(e,t)}})}execute(e){return Ye(this,void 0,void 0,function*(){const{payment:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!t)throw new R([\"payment\"]);this.isHostedFormInitialized&&this.braintreeHostedForm.validate(),yield this.paymentIntegrationService.submitOrder(i);const n=this.paymentIntegrationService.getState(),r=n.getBillingAddressOrThrow(),o=n.getOrderOrThrow().orderAmount;try{const e=this.isHostedFormInitialized?yield this.prepareHostedPaymentData(t,r,o):yield this.preparePaymentData(t,r,o);yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},t),{paymentData:e}))}catch(e){return this.processAdditionalAction(e,t,o)}})}finalize(){return Promise.reject(new W)}deinitialize(){return Ye(this,void 0,void 0,function*(){return this.isHostedFormInitialized=!1,yield Promise.all([this.braintreeIntegrationService.teardown(),this.braintreeHostedForm.deinitialize()]),Promise.resolve()})}handleError(e,t){var i;if(ge(e)){if(!(t&&this.paymentIntegrationService.getState().isPaymentMethodInitialized({methodId:t})||\"HOSTED_FIELDS_INVALID_FIELD_SELECTOR\"!==e.code))return;if(e.code.startsWith(\"THREEDS_\"))return null===(i=this.onPaymentError)||void 0===i||i.call(this,new $(\"THREEDS_VERIFICATION_FAILED\")),Promise.reject();throw new $(e.message)}throw e}preparePaymentData(e,t,i){return Ye(this,void 0,void 0,function*(){const{paymentData:n}=e,r={deviceSessionId:this.deviceSessionId};if(this.isSubmittingWithStoredCard(e))return Object.assign(Object.assign({},r),n);const{shouldSaveInstrument:o=!1,shouldSetAsDefaultInstrument:a=!1}=q(n)?n:{},{nonce:s}=this.shouldPerform3DSVerification(e)?yield this.braintreeIntegrationService.verifyCard(e,t,i):yield this.braintreeIntegrationService.tokenizeCard(e,t);return Object.assign(Object.assign({},r),{nonce:s,shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a})})}prepareHostedPaymentData(e,t,i){return Ye(this,void 0,void 0,function*(){const{paymentData:n}=e,r={deviceSessionId:this.deviceSessionId};if(this.isSubmittingWithStoredCard(e)){const{nonce:e}=yield this.braintreeHostedForm.tokenizeForStoredCardVerification();return Object.assign(Object.assign(Object.assign({},r),n),{nonce:e})}const{shouldSaveInstrument:o=!1,shouldSetAsDefaultInstrument:a=!1}=q(n)?n:{},{nonce:s}=this.shouldPerform3DSVerification(e)?yield this.verifyCardWithHostedForm(t,i):yield this.braintreeHostedForm.tokenize(t);return Object.assign(Object.assign({},r),{shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a,nonce:s})})}prepareAdditionalActionPaymentData(e,t){const{paymentData:i}=e,n={deviceSessionId:this.deviceSessionId,nonce:t},{shouldSaveInstrument:r=!1,shouldSetAsDefaultInstrument:o=!1}=q(i)?i:{};return this.isSubmittingWithStoredCard(e)&&(r||o)?Object.assign(Object.assign({},i),n):Object.assign({},n)}verifyCardWithHostedForm(e,t){return Ye(this,void 0,void 0,function*(){const i=yield this.braintreeHostedForm.tokenize(e);return this.braintreeIntegrationService.challenge3DSVerification(i,t)})}processAdditionalAction(e,t,i){return Ye(this,void 0,void 0,function*(){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))return this.handleError(e);try{const{payer_auth_request:n}=function(e){return\"object\"==typeof e&&null!==e&&\"name\"in e&&\"body\"in e&&\"status\"in e.body&&\"three_ds_result\"in e.body&&\"payer_auth_request\"in e.body.three_ds_result&&\"errors\"in e.body}(e)&&e.body.three_ds_result||{},{paymentData:r}=t,o=this.paymentIntegrationService.getState();if(!r||!H(r))throw new R([\"instrumentId\"]);const a=o.getCardInstrumentOrThrow(r.instrumentId),{nonce:s}=yield this.braintreeIntegrationService.challenge3DSVerification({nonce:n||\"\",bin:a.iin},i),d=this.prepareAdditionalActionPaymentData(t,s);yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},t),{paymentData:d}))}catch(e){return this.handleError(e)}})}isHostedPaymentFormEnabled(e,t){return!!e&&!0===this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}isSubmittingWithStoredCard(e){return!(!e.paymentData||!H(e.paymentData))}shouldPerform3DSVerification(e){return!(!this.is3dsEnabled||this.isSubmittingWithStoredCard(e))}shouldInitializeBraintreeFastlane(){var e;const t=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow(),i=_e(t)?t:{};return(null===(e=this.paymentMethod)||void 0===e?void 0:e.initializationData.isAcceleratedCheckoutEnabled)&&!(null==i?void 0:i.authenticationState)}initializeBraintreeFastlaneOrThrow(e){return Ye(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getPaymentMethodOrThrow(e),{clientToken:r,config:o}=n;if(!r)throw new U(j.MissingPaymentMethod);this.braintreeIntegrationService.initialize(r,this.threeDSecure),yield this.braintreeIntegrationService.getBraintreeFastlane(i.id,o.testMode)})}}function Ke(e){return\"cardNumber\"in e}function Xe(e){if(!M(e))return!1;const{details:t}=e;return void 0===t||\"object\"==typeof t&&null!==t&&void 0===t.invalidFieldKeys||(i=t,Array.isArray(i)&&i.every(e=>\"string\"==typeof e));// removed by dead control flow\n var i; }var Qe,Ze=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};!function(e){e[e.CreditCard=0]=\"CreditCard\",e[e.StoredCardVerification=1]=\"StoredCardVerification\"}(Qe||(Qe={}));class et{constructor(e,t){this.braintreeScriptLoader=e,this.braintreeSDKVersionManager=t,this.isInitializedHostedForm=!1,this.handleBlur=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onBlur)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy),errors:this.mapErrors(e.fields)})},this.handleFocus=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onFocus)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy)})},this.handleCardTypeChange=e=>{var t,i;const n=1===e.cards.length?e.cards[0].type.replace(/^master-card$/,\"mastercard\"):void 0;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onCardTypeChange)||void 0===i||i.call(t,{cardType:n})},this.handleInputSubmitRequest=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onEnter)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy)})},this.handleValidityChange=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onValidate)||void 0===i||i.call(t,{isValid:this.isValidForm(e),errors:this.mapValidationErrors(e.fields)})}}initialize(e,t,n){var r,o,a,s,d;return Ze(this,void 0,void 0,function*(){this.clientToken=n,this.formOptions=e,this.type=Ke(e.fields)?Qe.CreditCard:Qe.StoredCardVerification;const l=this.mapFieldOptions(e.fields,t);(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(l)?this.isInitializedHostedForm=!1:(this.cardFields=yield this.createHostedFields({fields:l,styles:e.styles&&this.mapStyleOptions(e.styles)}),null===(r=this.cardFields)||void 0===r||r.on(\"blur\",this.handleBlur),null===(o=this.cardFields)||void 0===o||o.on(\"focus\",this.handleFocus),null===(a=this.cardFields)||void 0===a||a.on(\"cardTypeChange\",this.handleCardTypeChange),null===(s=this.cardFields)||void 0===s||s.on(\"validityChange\",this.handleValidityChange),null===(d=this.cardFields)||void 0===d||d.on(\"inputSubmitRequest\",this.handleInputSubmitRequest),this.isInitializedHostedForm=!0)})}isInitialized(){return!!this.isInitializedHostedForm}deinitialize(){var e;return Ze(this,void 0,void 0,function*(){this.isInitializedHostedForm&&(this.isInitializedHostedForm=!1,yield null===(e=this.cardFields)||void 0===e?void 0:e.teardown())})}validate(){if(!this.cardFields)throw new D(C.PaymentNotInitialized);const e=this.cardFields.getState();if(!this.isValidForm(e)){this.handleValidityChange(e);const t=this.mapValidationErrors(e.fields);throw new X(t)}}tokenize(e){var t,i,n,o,a;return Ze(this,void 0,void 0,function*(){if(!this.cardFields)throw new D(C.PaymentNotInitialized);try{const o=yield this.cardFields.tokenize((0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)({billingAddress:e&&this.mapBillingAddress(e)},lodash__WEBPACK_IMPORTED_MODULE_1__.isNil));return null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onValidate)||void 0===i||i.call(t,{isValid:!0,errors:{}}),{nonce:o.nonce,bin:null===(n=o.details)||void 0===n?void 0:n.bin}}catch(e){if(Xe(e)){const t=this.mapTokenizeError(e);if(t)throw null===(a=null===(o=this.formOptions)||void 0===o?void 0:o.onValidate)||void 0===a||a.call(o,{isValid:!1,errors:t}),new X(t)}throw e}})}tokenizeForStoredCardVerification(){var e,t,i,n,r;return Ze(this,void 0,void 0,function*(){if(!this.cardFields)throw new D(C.PaymentNotInitialized);try{const n=yield this.cardFields.tokenize();return null===(t=null===(e=this.formOptions)||void 0===e?void 0:e.onValidate)||void 0===t||t.call(e,{isValid:!0,errors:{}}),{nonce:n.nonce,bin:null===(i=n.details)||void 0===i?void 0:i.bin}}catch(e){if(Xe(e)){const t=this.mapTokenizeError(e,!0);if(t)throw null===(r=null===(n=this.formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:!1,errors:t}),new X(t)}throw e}})}createHostedFields(e){return Ze(this,void 0,void 0,function*(){const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadHostedFields(),n=this.braintreeSDKVersionManager.getSDKVersion()===v?Object.assign(Object.assign({},e),{preventCursorJumps:!0}):e;return i.create(Object.assign(Object.assign({},n),{client:t}))})}getClient(){return Ze(this,void 0,void 0,function*(){if(!this.clientToken)throw new D(C.PaymentNotInitialized);if(!this.client){const e=yield this.braintreeScriptLoader.loadClient();this.client=e.create({authorization:this.clientToken})}return this.client})}mapBillingAddress(e){return{countryName:e.country,postalCode:e.postalCode,streetAddress:e.address2?`${e.address1} ${e.address2}`:e.address1}}mapFieldOptions(e,t){if(Ke(e)){const i={};return null==t||t.forEach(e=>{(e=>Object.values(T).includes(e))(e)&&(i[e]=!1)}),(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)({number:Object.assign({container:`#${e.cardNumber.containerId}`,placeholder:e.cardNumber.placeholder,internalLabel:e.cardNumber.accessibilityLabel},Object.keys(i).length>0?{supportedCardBrands:i}:{}),expirationDate:{container:`#${e.cardExpiry.containerId}`,placeholder:e.cardExpiry.placeholder,internalLabel:e.cardExpiry.accessibilityLabel},cvv:e.cardCode&&{container:`#${e.cardCode.containerId}`,placeholder:e.cardCode.placeholder,internalLabel:e.cardCode.accessibilityLabel},cardholderName:{container:`#${e.cardName.containerId}`,placeholder:e.cardName.placeholder,internalLabel:e.cardName.accessibilityLabel}},lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)}return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)({number:e.cardNumberVerification&&{container:`#${e.cardNumberVerification.containerId}`,placeholder:e.cardNumberVerification.placeholder},cvv:e.cardCodeVerification&&{container:`#${e.cardCodeVerification.containerId}`,placeholder:e.cardCodeVerification.placeholder}},lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)}mapStyleOptions(e){const t=(e={})=>(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)({color:e.color,\"font-family\":e.fontFamily,\"font-size\":e.fontSize,\"font-weight\":e.fontWeight},lodash__WEBPACK_IMPORTED_MODULE_1__.isNil);return{input:t(e.default),\".invalid\":t(e.error),\":focus\":t(e.focus)}}mapFieldType(e){switch(e){case\"number\":return this.type===Qe.StoredCardVerification?m.CardNumberVerification:m.CardNumber;case\"expirationDate\":return m.CardExpiry;case\"cvv\":return this.type===Qe.StoredCardVerification?m.CardCodeVerification:m.CardCode;case\"cardholderName\":return m.CardName;default:throw new Error(\"Unexpected field type\")}}mapErrors(e){const t={};if(e)for(const[i,n]of Object.entries(e))if(n&&this.isValidParam(i)){const{isValid:e,isEmpty:r,isPotentiallyValid:o}=n;t[i]={isValid:e,isEmpty:r,isPotentiallyValid:o}}return t}mapValidationErrors(e){return Object.keys(e).reduce((t,i)=>{var n;return Object.assign(Object.assign({},t),{[this.mapFieldType(i)]:(null===(n=e[i])||void 0===n?void 0:n.isValid)?void 0:[this.createInvalidError(this.mapFieldType(i))]})},{})}mapTokenizeError(e,t=!1){var i,n;if(\"HOSTED_FIELDS_FIELDS_EMPTY\"===e.code){const e=[this.createRequiredError(this.mapFieldType(\"cvv\"))];return t?{[this.mapFieldType(\"cvv\")]:e}:{[this.mapFieldType(\"cvv\")]:e,[this.mapFieldType(\"expirationDate\")]:[this.createRequiredError(this.mapFieldType(\"expirationDate\"))],[this.mapFieldType(\"number\")]:[this.createRequiredError(this.mapFieldType(\"number\"))],[this.mapFieldType(\"cardholderName\")]:[this.createRequiredError(this.mapFieldType(\"cardholderName\"))]}}return null===(n=null===(i=e.details)||void 0===i?void 0:i.invalidFieldKeys)||void 0===n?void 0:n.reduce((e,t)=>{const i=this.mapFieldType(t);return Object.assign(Object.assign({},e),{[i]:[this.createInvalidError(i)]})},{})}createRequiredError(e){var t;return{fieldType:e,message:null!==(t={[m.CardCode]:\"CVV is required\",[m.CardCodeVerification]:\"CVV is required\",[m.CardNumber]:\"Credit card number is required\",[m.CardNumberVerification]:\"Credit card number is required\",[m.CardExpiry]:\"Expiration date is required\",[m.CardName]:\"Full name is required\"}[e])&&void 0!==t?t:\"Field is required\",type:\"required\"}}createInvalidError(e){var t,i,n,r;const o={[m.CardCode]:{message:\"Invalid card code\",type:\"invalid_card_code\"},[m.CardCodeVerification]:{message:\"Invalid card code\",type:\"invalid_card_code\"},[m.CardNumber]:{message:\"Invalid card number\",type:\"invalid_card_number\"},[m.CardNumberVerification]:{message:\"Invalid card number\",type:\"invalid_card_number\"},[m.CardExpiry]:{message:\"Invalid card expiry\",type:\"invalid_card_expiry\"},[m.CardName]:{message:\"Invalid card name\",type:\"invalid_card_name\"}};return{fieldType:e,message:null!==(i=null===(t=o[e])||void 0===t?void 0:t.message)&&void 0!==i?i:\"Invalid field\",type:null!==(r=null===(n=o[e])||void 0===n?void 0:n.type)&&void 0!==r?r:\"invalid\"}}isValidForm(e){return Object.keys(e.fields).every(t=>{var i;return null===(i=e.fields[t])||void 0===i?void 0:i.isValid})}isValidParam(e){return[\"number\",\"cvv\",\"expirationDate\",\"postalCode\",\"cardholderName\",\"cardType\"].includes(e)}}const tt=L(t=>{const i=window,n=new F(t),r=new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),o=new le(r,i),a=new et(r,n);return new Je(t,o,a)},[{id:\"braintree\"}]);var it=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class nt{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return it(this,void 0,void 0,function*(){const{braintreepaypal:t,methodId:i}=e,{container:n,onError:r}=t||{};if(!i)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new V('Unable to initialize payment because \"options.braintreepaypal\" argument is not provided.');if(!n)throw new V('Unable to initialize payment because \"options.braintreepaypal.container\" argument is not provided.');let o,a=this.paymentIntegrationService.getState();try{if(o=a.getPaymentMethodOrThrow(i),!o.clientToken)throw new U(j.MissingPaymentToken)}catch(e){a=yield this.paymentIntegrationService.loadPaymentMethod(i),o=a.getPaymentMethodOrThrow(i)}const{clientToken:s,config:d,initializationData:l}=o,{paymentButtonStyles:c}=l||{},{checkoutTopButtonStyles:u}=c||{};if(!s||!l)throw new U(j.MissingPaymentMethod);const h={currency:a.getCartOrThrow().currency.code,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{this.renderPayPalButton(e,t,i,Boolean(d.testMode),u)},e=>this.handleError(e,n,r))})}deinitialize(){return it(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}signIn(e,t){return it(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return it(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}renderPayPalButton(e,t,i,n,r){const{container:a,onClick:s=lodash__WEBPACK_IMPORTED_MODULE_1__.noop}=t,{paypal:d}=this.braintreeHostWindow,l=null==d?void 0:d.FUNDING.PAYPAL;if(d&&l){const o=d.Buttons({env:this.braintreeIntegrationService.getBraintreeEnv(n),fundingSource:l,style:Object.assign(Object.assign({},r),{height:40}),createOrder:()=>this.setupPayment(e,t,i),onApprove:n=>this.tokenizePayment(n,e,i,t),onClick:s});o.isEligible()&&o.render(`#${a}`)}else this.braintreeIntegrationService.removeElement(a)}setupPayment(e,t,i){var n;return it(this,void 0,void 0,function*(){try{yield this.paymentIntegrationService.loadDefaultCheckout();const t=this.paymentIntegrationService.getState(),r=t.getCheckoutOrThrow().outstandingBalance,o=t.getCartOrThrow().currency.code,a=t.getCustomer(),s=t.getPaymentMethodOrThrow(i),d=null==a?void 0:a.addresses[0],l=d?this.braintreeIntegrationService.mapToBraintreeShippingAddressOverride(d):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:l,amount:r,currency:o,offerCredit:!1,intent:null===(n=s.initializationData)||void 0===n?void 0:n.intent})}catch(e){const{container:i,onError:n}=t;this.handleError(e,i,n)}})}tokenizePayment(e,t,i,n){return it(this,void 0,void 0,function*(){try{const{deviceData:n}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),r=yield t.tokenizePayment(e),{details:o,nonce:a}=r,s=this.braintreeIntegrationService.mapToLegacyBillingAddress(o),d=this.braintreeIntegrationService.mapToLegacyShippingAddress(o);return this.formPoster.postForm(\"/checkout.php\",{payment_type:\"paypal\",provider:i,action:\"set_external_checkout\",nonce:a,device_data:n,billing_address:JSON.stringify(s),shipping_address:JSON.stringify(d)}),r}catch(e){const{container:t,onError:i}=n;this.handleError(e,t,i)}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!M(e))throw e;i(e)}}const rt=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i);return new nt(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r,i)},[{id:\"braintreepaypal\"}]);var ot=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class at{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return ot(this,void 0,void 0,function*(){const{braintreepaypalcredit:t,methodId:i}=e,{container:n,onError:r}=t||{};if(!i)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new V('Unable to initialize payment because \"options.braintreepaypalcredit\" argument is not provided.');if(!n)throw new V('Unable to initialize payment because \"options.braintreepaypalcredit.container\" argument is not provided.');let o,a=this.paymentIntegrationService.getState();try{if(o=a.getPaymentMethodOrThrow(i),!o.clientToken)throw new U(j.MissingPaymentToken)}catch(e){a=yield this.paymentIntegrationService.loadPaymentMethod(i),o=a.getPaymentMethodOrThrow(i)}const{clientToken:s,config:d,initializationData:l}=o,{paymentButtonStyles:c}=l||{},{checkoutTopButtonStyles:u}=c||{};if(!s||!l)throw new U(j.MissingPaymentMethod);const h={currency:a.getCartOrThrow().currency.code,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{this.renderPayPalButton(e,t,i,Boolean(d.testMode),Object.assign(Object.assign({},u),{height:40}))},e=>this.handleError(e,n,r))})}deinitialize(){return ot(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}signIn(e,t){return ot(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return ot(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}renderPayPalButton(e,t,i,n,r){const{container:a,onClick:s=lodash__WEBPACK_IMPORTED_MODULE_1__.noop}=t,{paypal:d}=this.braintreeHostWindow;let l=!1;d&&[d.FUNDING.PAYLATER,d.FUNDING.CREDIT].forEach(o=>{if(!l){const c=d.Buttons({env:n?\"sandbox\":\"production\",fundingSource:o,style:r,createOrder:()=>this.setupPayment(e,t,i),onApprove:n=>this.tokenizePayment(n,e,i,t),onClick:s});c.isEligible()&&(c.render(`#${a}`),l=!0)}}),d&&l||this.braintreeIntegrationService.removeElement(a)}setupPayment(e,t,i){var n;return ot(this,void 0,void 0,function*(){try{yield this.paymentIntegrationService.loadDefaultCheckout();const t=this.paymentIntegrationService.getState(),r=t.getCheckoutOrThrow().outstandingBalance,o=t.getCartOrThrow().currency.code,a=t.getCustomer(),s=t.getPaymentMethodOrThrow(i),d=null==a?void 0:a.addresses[0],l=d?this.braintreeIntegrationService.mapToBraintreeShippingAddressOverride(d):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:l,amount:r,currency:o,offerCredit:!0,intent:null===(n=s.initializationData)||void 0===n?void 0:n.intent})}catch(e){const{container:i,onError:n}=t;this.handleError(e,i,n)}})}tokenizePayment(e,t,i,n){return ot(this,void 0,void 0,function*(){try{const{deviceData:n}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),r=yield t.tokenizePayment(e),{details:o,nonce:a}=r,s=this.braintreeIntegrationService.mapToLegacyBillingAddress(o),d=this.braintreeIntegrationService.mapToLegacyShippingAddress(o);return this.formPoster.postForm(\"/checkout.php\",{payment_type:\"paypal\",provider:i,action:\"set_external_checkout\",nonce:a,device_data:n,billing_address:JSON.stringify(s),shipping_address:JSON.stringify(d)}),r}catch(e){const{container:t,onError:i}=n;this.handleError(e,t,i)}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!M(e))throw e;i(e)}}const st=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i);return new at(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r,i)},[{id:\"braintreepaypalcredit\"}]);var dt=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class lt{constructor(e,t){this.paymentIntegrationService=e,this.braintreeFastlaneUtils=t,this.isAcceleratedCheckoutEnabled=!1}initialize({methodId:e,braintreefastlane:t}){var i;return dt(this,void 0,void 0,function*(){if(!e)throw new V('Unable to proceed because \"methodId\" argument is not provided.');const n=yield this.getValidPaymentMethodOrThrow(e),{isAcceleratedCheckoutEnabled:r,isFastlaneStylingEnabled:o}=n.initializationData||{},a=o?null===(i=n.initializationData)||void 0===i?void 0:i.fastlaneStyles:void 0;this.isAcceleratedCheckoutEnabled=!!r;try{if(this.isAcceleratedCheckoutEnabled){const e=Me(a,null==t?void 0:t.styles);yield this.braintreeFastlaneUtils.initializeBraintreeFastlaneOrThrow(n.id,e)}}catch(e){}return Promise.resolve()})}deinitialize(){return dt(this,void 0,void 0,function*(){return Promise.resolve()})}signIn(e,t){return dt(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return dt(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){return dt(this,void 0,void 0,function*(){const{checkoutPaymentMethodExecuted:t,continueWithCheckoutCallback:i}=e||{};if(\"function\"!=typeof i)throw new V('Unable to proceed because \"continueWithCheckoutCallback\" argument is not provided and it must be a function.');const n=this.paymentIntegrationService.getState().getCustomerOrThrow();if(this.isAcceleratedCheckoutEnabled&&n.isGuest){const e=yield this.shouldRunAuthenticationFlow();t&&\"function\"==typeof t&&t(),e&&(yield this.braintreeFastlaneUtils.runPayPalAuthenticationFlowOrThrow(void 0,!0))}i()})}shouldRunAuthenticationFlow(){var e;return dt(this,void 0,void 0,function*(){const t=\"braintreeacceleratedcheckout\";try{yield this.paymentIntegrationService.loadPaymentMethod(t);const i=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t);return(null===(e=i.initializationData)||void 0===e?void 0:e.shouldRunAcceleratedCheckout)||!1}catch(e){return!1}})}getValidPaymentMethodOrThrow(e){return dt(this,void 0,void 0,function*(){let t=e;try{yield this.paymentIntegrationService.loadPaymentMethod(t)}catch(i){t=\"braintree\"===e?\"braintreeacceleratedcheckout\":\"braintree\",yield this.paymentIntegrationService.loadPaymentMethod(t)}return this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t)})}}const ct=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i),o=new je(t,r);return new lt(t,o)},[{id:\"braintreeacceleratedcheckout\"},{id:\"braintree\"}]);class ut extends p{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}var ht=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class yt{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i,this.buttonClassName=\"visa-checkout-wrapper\",this.onError=lodash__WEBPACK_IMPORTED_MODULE_1__.noop}initialize(e){return ht(this,void 0,void 0,function*(){const{braintreevisacheckout:t,methodId:i}=e;if(!i)throw new V('Unable to proceed because \"methodId\" argument is not provided.');if(!t)throw new V('Unable to proceed because \"options.braintreevisacheckout\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState(),r=n.getCheckoutOrThrow(),{clientToken:a,config:s}=n.getPaymentMethodOrThrow(i),d=n.getStoreConfigOrThrow();if(!a)throw new U(j.MissingPaymentMethod);this.braintreeSdk.initialize(a);const l=yield this.braintreeSdk.getBraintreeVisaCheckout(),c=yield this.braintreeSdk.getVisaCheckoutSdk(s.testMode),{container:u,onError:h}=t;this.onError=h||lodash__WEBPACK_IMPORTED_MODULE_1__.noop;const y=l.createInitOptions({paymentRequest:{currencyCode:d.currency.code,subtotal:String(r.subtotal)},settings:{locale:d.storeProfile.storeLanguage,shipping:{collectShipping:!0}}}),m=this.createSignInButton(u,this.buttonClassName);yield c.init(y),c.on(\"payment.success\",e=>this.tokenizePayment(l,e).then(()=>this.paymentIntegrationService.loadCheckout()).catch(e=>this.handleError(e))),c.on(\"payment.error\",(e,t)=>this.handleError(t)),m.style.visibility=\"visible\"})}deinitialize(){return ht(this,void 0,void 0,function*(){yield this.braintreeSdk.deinitialize()})}signIn(){throw new ut('In order to sign in via VisaCheckout, the shopper must click on \"Visa Checkout\" button.')}signOut(e){return ht(this,void 0,void 0,function*(){return yield this.paymentIntegrationService.signOutCustomer(e),Promise.resolve()})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}tokenizePayment(e,t){return ht(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.mapToVisaCheckoutAddress(n),billingAddress:a=this.mapToVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}mapToVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}createSignInButton(e,t){const i=document.querySelector(`#${e}`);if(!i)throw new Error(\"Unable to proceed because the provided container ID is not valid.\");return this.insertVisaCheckoutButton(i,t)}insertVisaCheckoutButton(e,t){const i=document.createElement(\"div\");return i.style.display=\"flex\",i.style.flexDirection=\"column\",i.style.visibility=\"hidden\",i.style.width=\"max-content\",i.className=t,i.innerHTML='\\n            <img\\n                alt=\"Visa Checkout\"\\n                class=\"v-button\"\\n                role=\"button\"\\n                src=\"https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&height=34&width=178\"\\n                />\\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>',e.appendChild(i),i}handleError(e){if(\"function\"!=typeof this.onError)throw e;this.onError(e)}}const mt=L(t=>{const i=window,n=new F(t),r=new B(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n));return new yt(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r)},[{id:\"braintreevisacheckout\"}]);class pt extends p{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}function gt(e){const{color:t,fundingicons:i,height:n=40,layout:o,shape:a,size:d,tagline:l}=e||{},c={color:t,fundingicons:i,height:vt(n),layout:o,shape:a||\"rect\",size:d,tagline:l};return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(c,lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)}function vt(e){const t=Number(e);return!t||Number.isNaN(t)?40:t>55?55:t<25?25:t}var ft=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class bt{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return ft(this,void 0,void 0,function*(){const{braintreepaypal:t,containerId:i,methodId:n}=e;if(!n)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!i)throw new V('Unable to initialize payment because \"options.containerId\" argument is not provided.');if(!t)throw new V('Unable to initialize payment because \"options.braintreepaypal\" argument is not provided.');let r,o=this.paymentIntegrationService.getState();if(t.buyNowInitializeOptions){if(!t.currencyCode)throw new V('Unable to initialize payment because \"options.braintreepaypalcredit.currencyCode\" argument is not provided.');r=t.currencyCode}else yield this.paymentIntegrationService.loadDefaultCheckout(),o=this.paymentIntegrationService.getState(),r=o.getCartOrThrow().currency.code;const a=o.getPaymentMethodOrThrow(n),{clientToken:s,config:d,initializationData:l}=a;if(!s||!l)throw new U(j.MissingPaymentMethod);const c={currency:r,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(c,e=>{this.renderPayPalButton(e,t,i,n,!!d.testMode)},e=>this.handleError(e,i,t.onError))})}deinitialize(){return ft(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}renderPayPalButton(e,t,i,n,r){const{style:o,shouldProcessPayment:a,onAuthorizeError:s,onEligibilityFailure:d}=t,{paypal:l}=this.braintreeHostWindow;if(l){const c=l.Buttons({env:r?\"sandbox\":\"production\",fundingSource:l.FUNDING.PAYPAL,style:gt(o),createOrder:()=>this.setupPayment(e,t,n),onApprove:t=>this.tokenizePayment(t,e,n,a,s)});c.isEligible()?c.render(`#${i}`):d&&\"function\"==typeof d&&d()}else this.braintreeIntegrationService.removeElement(i)}setupPayment(e,t,i){var n;return ft(this,void 0,void 0,function*(){const{onPaymentError:r,shippingAddress:o,buyNowInitializeOptions:a}=t;try{const r=\"function\"==typeof(null==a?void 0:a.getBuyNowCartRequestBody)?yield this.createBuyNowCart(a.getBuyNowCartRequestBody()):void 0;this.buyNowCartId=null==r?void 0:r.id;const s=this.paymentIntegrationService.getState(),d=s.getCustomer(),l=s.getPaymentMethodOrThrow(i),c=r?r.cartAmount:s.getCartOrThrow().cartAmount,u=r?t.currencyCode:s.getCartOrThrow().currency.code,h=o||(null==d?void 0:d.addresses[0]),y=h?ve(h):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:y,amount:c,currency:u,offerCredit:!1,intent:null===(n=l.initializationData)||void 0===n?void 0:n.intent})}catch(e){throw r&&(M(e)||e instanceof p)&&r(e),e}})}tokenizePayment(e,t,i,n,r){return ft(this,void 0,void 0,function*(){try{const{deviceData:r}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),o=yield t.tokenizePayment(e),{details:a,nonce:s}=o,d=this.braintreeIntegrationService.mapToLegacyBillingAddress(a),l=this.braintreeIntegrationService.mapToLegacyShippingAddress(a);return this.formPoster.postForm(\"/checkout.php\",Object.assign({payment_type:\"paypal\",provider:i,action:n?\"process_payment\":\"set_external_checkout\",nonce:s,device_data:r,billing_address:JSON.stringify(d),shipping_address:JSON.stringify(l)},this.buyNowCartId&&{cart_id:this.buyNowCartId})),o}catch(e){throw r&&(M(e)||e instanceof p)&&r(e),e}})}createBuyNowCart(e){return ft(this,void 0,void 0,function*(){if(!e)throw new U(j.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(e)}catch(e){throw new pt}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!M(e))throw e;i(e)}}const wt=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i);return new bt(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r,i)},[{id:\"braintreepaypal\"}]);var Ct=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class St{constructor(e,t,i,n,r){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeMessages=n,this.braintreeHostWindow=r}initialize(e){var t,i;return Ct(this,void 0,void 0,function*(){const{braintreepaypalcredit:n,containerId:r,methodId:o}=e;if(!o)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!r)throw new V('Unable to initialize payment because \"options.containerId\" argument is not provided.');if(!n)throw new V('Unable to initialize payment because \"options.braintreepaypalcredit\" argument is not provided.');let a,s=this.paymentIntegrationService.getState();if(n.buyNowInitializeOptions){if(!n.currencyCode)throw new V('Unable to initialize payment because \"options.braintreepaypalcredit.currencyCode\" argument is not provided.');a=n.currencyCode}else yield this.paymentIntegrationService.loadDefaultCheckout(),s=this.paymentIntegrationService.getState(),a=s.getCartOrThrow().currency.code;const d=s.getPaymentMethodOrThrow(o),{clientToken:l,config:c,initializationData:u}=d;if(!l||!u)throw new U(j.MissingPaymentMethod);const h={currency:a,intent:u.intent,isCreditEnabled:u.isCreditEnabled,commit:!1},y=x(null!==(i=null===(t=s.getStoreConfig())||void 0===t?void 0:t.checkoutSettings.features)&&void 0!==i?i:{},\"PAYPAL-5663.hide_braintree_card_banner_implementation_in_checkout_sdk\");this.braintreeIntegrationService.initialize(l),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{!y&&n.messagingContainerId&&this.renderPayPalMessages(o,n.messagingContainerId),this.renderPayPalButton(e,n,r,o,!!c.testMode)},e=>this.handleError(e,r,n.onError))})}deinitialize(){return Ct(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}renderPayPalMessages(e,t){this.braintreeMessages.render(e,t,se.CART)}renderPayPalButton(e,t,i,n,r){const{style:o,shouldProcessPayment:a,onAuthorizeError:s,onEligibilityFailure:d}=t,{paypal:l}=this.braintreeHostWindow;let c=!1;l&&[l.FUNDING.PAYLATER,l.FUNDING.CREDIT].forEach(u=>{const h=u===l.FUNDING.CREDIT?Object.assign({label:oe.CREDIT},gt(o)):gt(o);if(!c){const o=l.Buttons({env:r?\"sandbox\":\"production\",fundingSource:u,style:h,createOrder:()=>this.setupPayment(e,t,n),onApprove:t=>this.tokenizePayment(t,e,n,a,s)});o.isEligible()?(o.render(`#${i}`),c=!0):l.FUNDING.CREDIT&&d&&\"function\"==typeof d&&d()}}),l&&c||this.braintreeIntegrationService.removeElement(i)}setupPayment(e,t,i){var n;return Ct(this,void 0,void 0,function*(){const{onPaymentError:r,shippingAddress:o,buyNowInitializeOptions:a}=t;try{const r=\"function\"==typeof(null==a?void 0:a.getBuyNowCartRequestBody)?yield this.createBuyNowCart(a.getBuyNowCartRequestBody()):void 0;this.buyNowCartId=null==r?void 0:r.id;const s=this.paymentIntegrationService.getState(),d=s.getCustomer(),l=s.getPaymentMethodOrThrow(i),c=r?r.cartAmount:s.getCartOrThrow().cartAmount,u=r?t.currencyCode:s.getCartOrThrow().currency.code,h=o||(null==d?void 0:d.addresses[0]),y=h?ve(h):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:y,amount:c,currency:u,offerCredit:!0,intent:null===(n=l.initializationData)||void 0===n?void 0:n.intent})}catch(e){throw r&&(M(e)||e instanceof p)&&r(e),e}})}tokenizePayment(e,t,i,n,r){return Ct(this,void 0,void 0,function*(){try{const{deviceData:r}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),o=yield t.tokenizePayment(e),{details:a,nonce:s}=o,d=this.braintreeIntegrationService.mapToLegacyBillingAddress(a),l=this.braintreeIntegrationService.mapToLegacyShippingAddress(a);return this.formPoster.postForm(\"/checkout.php\",Object.assign({payment_type:\"paypal\",provider:i,action:n?\"process_payment\":\"set_external_checkout\",nonce:s,device_data:r,billing_address:JSON.stringify(d),shipping_address:JSON.stringify(l)},this.buyNowCartId&&{cart_id:this.buyNowCartId})),o}catch(e){throw r&&(M(e)||e instanceof p)&&r(e),e}})}createBuyNowCart(e){return Ct(this,void 0,void 0,function*(){if(!e)throw new U(j.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(e)}catch(e){throw new pt}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!M(e))throw e;i(e)}}const Pt=L(t=>{const i=window,n=new F(t),r=new le(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n),i),o=new ce(t);return new St(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r,o,i)},[{id:\"braintreepaypalcredit\"}]);var It=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Ot{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i}initialize(e){return It(this,void 0,void 0,function*(){const{containerId:t,methodId:i}=e;if(!i)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new V('Unable to initialize payment because \"options.containerId\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState(),{clientToken:r,initializationData:o,config:a}=n.getPaymentMethodOrThrow(i);if(!r||!o)throw new U(j.MissingPaymentMethod);this.braintreeSdk.initialize(r);const s=yield this.braintreeSdk.getBraintreeVisaCheckout(),{currency:{code:d},cartAmount:l}=n.getCartOrThrow(),c=yield this.braintreeSdk.getVisaCheckoutSdk(a.testMode),u=s.createInitOptions({paymentRequest:{currencyCode:d,subtotal:String(l)},settings:{shipping:{collectShipping:!0}}});this.createSignInButton(t),yield c.init(u),c.on(\"payment.success\",e=>It(this,void 0,void 0,function*(){yield this.paymentSuccess(s,e)}))})}deinitialize(){return Promise.resolve()}paymentSuccess(e,t){return It(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.toVisaCheckoutAddress(n),billingAddress:a=this.toVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}toVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}createSignInButton(e){const t=document.querySelector(`#${e}`);if(!t)throw new Error(\"Need a container to place the button\");return this.insertVisaCheckoutButton(t)}insertVisaCheckoutButton(e){const t=document.createElement(\"div\");return t.style.display=\"flex\",t.style.flexDirection=\"column\",t.style.alignItems=\"flex-end\",t.innerHTML='\\n            <img\\n                alt=\"Visa Checkout\"\\n                class=\"v-button\"\\n                role=\"button\"\\n                src=\"https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&height=34&width=178\"\\n                />\\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>',e.appendChild(t),t}}const kt=L(t=>{const i=window,n=new F(t),r=new B(new z((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),i,n));return new Ot(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),r)},[{id:\"braintreevisacheckout\"}]);function Et(e){const{billingAddress:t,email:i,firstName:n,lastName:r,phone:o,shippingAddress:a}=e,s=t||a;return{email:i,first_name:n,last_name:r,phone_number:o,address_line_1:null==s?void 0:s.line1,address_line_2:null==s?void 0:s.line2,city:null==s?void 0:s.city,state:null==s?void 0:s.state,country_code:null==s?void 0:s.countryCode,postal_code:null==s?void 0:s.postalCode}}function Tt(e){const{email:t,phone:i,shippingAddress:n}=e,r=(null==n?void 0:n.recipientName)||\"\",[o,a]=r.split(\" \");return{email:t,first_name:o||\"\",last_name:a||\"\",phone_number:i,address_line_1:null==n?void 0:n.line1,address_line_2:null==n?void 0:n.line2,city:null==n?void 0:n.city,state:null==n?void 0:n.state,country_code:null==n?void 0:n.countryCode,postal_code:null==n?void 0:n.postalCode}}var At=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};const zt=e=>{const{color:t,height:i}=e;return{backgroundColor:(n=t||\"\",n===re.WHITE?\"#FFFFFF\":\"#3D95CE\"),backgroundPosition:\"50% 50%\",backgroundSize:\"80px auto\",backgroundImage:`url(\"/app/assets/img/payment-providers/venmo-logo-${t===re.WHITE?re.BLUE:re.WHITE}.svg\")`,backgroundRepeat:\"no-repeat\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"0.2s ease\",minHeight:`${i||40}px`,minWidth:\"150px\",height:\"100%\",width:\"100%\",border:t===re.WHITE?\"1px solid black\":\"none\"};// removed by dead control flow\n var n; };class Nt{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i,this.onError=lodash__WEBPACK_IMPORTED_MODULE_1__.noop}initialize(e){return At(this,void 0,void 0,function*(){const{braintreevenmo:t,containerId:i,methodId:n}=e;if(!n)throw new V('Unable to initialize payment because \"options.methodId\" argument is not provided.');const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(n),{clientToken:o,initializationData:a}=r,{paymentButtonStyles:s}=a,{cartButtonStyles:d}=s||{},l=(null==t?void 0:t.style)||d;if(!o||!a)throw new U(j.MissingPaymentMethod);if(!i)throw new V('Unable to initialize payment because \"options.containerId\" argument is not provided.');yield this.paymentIntegrationService.loadDefaultCheckout(),this.onError=(null==t?void 0:t.onError)||this.handleError,this.braintreeSdk.initialize(o);try{const e=yield this.braintreeSdk.getVenmoCheckoutOrThrow();this.renderVenmoButton(e,i,null==t?void 0:t.buyNowInitializeOptions,l)}catch(e){(ge(e)||function(e){return e instanceof N}(e))&&this.handleInitializationVenmoError(e,i)}})}deinitialize(){return At(this,void 0,void 0,function*(){return yield this.braintreeSdk.deinitialize(),Promise.resolve()})}handleError(e){throw new Error(e.message)}createBuyNowCart(e){return At(this,void 0,void 0,function*(){if(\"function\"==typeof(null==e?void 0:e.getBuyNowCartRequestBody)){const t=null==e?void 0:e.getBuyNowCartRequestBody();if(!t)throw new U(j.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(t)}catch(e){throw new pt}}})}handleInitializationVenmoError(e,t){return this.removeVenmoContainer(t),this.onError(e)}removeVenmoContainer(e){const t=document.getElementById(e);t&&t.remove()}renderVenmoButton(e,t,i,n){const r=document.getElementById(t),{color:o}=n||{};if(!r)throw new V(\"Unable to create wallet button without valid container ID.\");r.setAttribute(\"aria-label\",\"Venmo\"),Object.assign(r.style,zt(n||{})),r.addEventListener(\"click\",()=>At(this,void 0,void 0,function*(){r.setAttribute(\"disabled\",\"true\");const t=yield this.createBuyNowCart(i);e.tokenize&&e.tokenize((e,i)=>At(this,void 0,void 0,function*(){r.removeAttribute(\"disabled\"),e&&this.onError(e),yield this.handlePostForm(i,null==t?void 0:t.id)}))})),o===re.BLUE&&(r.addEventListener(\"mouseenter\",()=>{r.style.backgroundColor=\"#0a7fc2\"}),r.addEventListener(\"mouseleave\",()=>{r.style.backgroundColor=zt(n||{}).backgroundColor}))}handlePostForm(e,t){return At(this,void 0,void 0,function*(){const{deviceData:i}=yield this.braintreeSdk.getDataCollectorOrThrow(),{nonce:n,details:r}=e;this.formPoster.postForm(\"/checkout.php\",Object.assign({nonce:n,provider:\"braintreevenmo\",payment_type:\"paypal\",device_data:i,action:\"set_external_checkout\",billing_address:JSON.stringify(Et(r)),shipping_address:JSON.stringify(Tt(r))},t&&{cart_id:t}))})}}const Dt=L(t=>{const i=window,n=(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)(),r=new F(t),o=new z(n,i,r),a=new B(o);return new Nt(t,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_4__.createFormPoster)(),a)},[{id:\"braintreevenmo\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9icmFpbnRyZWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsSUNvQ1lBLEVBVUFDLEVBeVRBQyxFQ2pXRyxNQUFlQyxVQUFzQkMsTUFJaEQsV0FBQUMsQ0FBWUMsR0NYRCxJQUFxQ0MsRURZNUNDLE1BQU1GLEdBQVcscUNBSnJCLEtBQUFHLEtBQU8sZ0JBQ1AsS0FBQUMsS0FBTyxXQ1R5Q0gsYURjWkEsVUNiaENJLE9BQU9DLGVBQ1BELE9BQU9DLGVEWVFDLEtDWmVOLEdEWWZNLEtDVlJDLFVBQVlQLEVEWW9CLG1CQUE1QkgsTUFBTVcsa0JBQ2JYLE1BQU1XLGtCQUFrQkYsaUJBRXhCQSxLQUFLRyxNQUFRLElBQUlaLE1BQU1TLEtBQUtQLFNBQVNVLEtBRTdDLEVFZlcsTUFBTUMsVUFBNENkLEVBQzdELFdBQUFFLENBQVlDLEdBQ1JFLE1BQ0lGLEdBQ0ksdUdBR1JPLEtBQUtKLEtBQU8sc0NBQ1pJLEtBQUtILEtBQU8sbUNBQ2hCLEdIc0JKLFNBQVlWLEdBQ1Isb0JBQ0EseUJBQ0gsQ0FIRCxDQUFZQSxJQUFBQSxFQUFZLEtBVXhCLFNBQVlDLEdBQ1Isa0JBQ0EsZ0NBQ0Esc0JBQ0EsZ0NBQ0EsOEJBQ0EsOEJBQ0Esa0JBQ0Esa0NBQ0EsOEJBQ0EsZ0NBQ0EsZ0JBQ0EsNkJBQ0gsQ0FiRCxDQUFZQSxJQUFBQSxFQUFtQixLQXlUL0IsU0FBWUMsR0FDUixzQkFDQSw4Q0FDQSwwQkFDQSxzQkFDQSwwQkFDQSxpREFDSCxDQVBELENBQVlBLElBQUFBLEVBQXNCLEtJeFczQixNQUFNZ0IsRUFBMEMsVUFDMUNDLEVBQWdDLFVBQ2hDQyxFQUErQixVQ0svQkMsRUFBa0MsQ0FDM0MsQ0FBQ0QsR0FBK0IsQ0FDNUIsQ0FBQ25CLEVBQW9CcUIsUUFDakIsMEVBQ0osQ0FBQ3JCLEVBQW9Cc0IsZ0JBQ2pCLDBFQUNKLENBQUN0QixFQUFvQnVCLFFBQ2pCLDBFQUNKLENB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RXRDLE9BQU8sSUFBSXc5QixHQUNQaDZCLEVBQ0FrdUIsMEVBQUFBLEdBQ0F0ckIsSUFJOEQsQ0FBQyxDQUFFMkQsR0FBSSxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ib290c3RyYXA/ZmZjYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUudHM/YTc4ZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLXZlcmlzb24udHM/ZjlhYiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5LnRzP2IyODciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdHlwZXMudHM/MzAyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2NyaXB0LWxvYWRlci50cz82NmFiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2lzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24udHM/ZmQ3MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3Vuc3VwcG9ydGVkLWJyb3dzZXItZXJyb3IudHM/OTk3ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtZXJyb3IudHM/MzI4OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLnRzPzgwNjQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3V0aWxpdHkvc3JjL2lzLWV4cGVyaW1lbnQtZW5hYmxlZC9pcy1leHBlcmltZW50LWVuYWJsZWQudHM/YzlhNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLXZlcnNpb24tbWFuYWdlci50cz8wNGY4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLXZhdWx0ZWQtaW5zdHJ1bWVudC50cz8xODBmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL29yZGVyLWZpbmFsaXphdGlvbi1ub3QtcmVxdWlyZWQtZXJyb3IudHM/YjVhMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtaG9zdGVkLWludHJ1bWVudC1saWtlLnRzPzg3NjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtZmFpbGVkLWVycm9yLnRzPzA3ZGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvaXMtdXMtYmFuay1hY2NvdW50LWluc3RydW1lbnQtbGlrZS50cz8xNTAwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1hY2gvYnJhaW50cmVlLWFjaC1wYXltZW50LXN0cmF0ZWd5LnRzP2FlY2QiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWFjaC9jcmVhdGUtYnJhaW50cmVlLWFjaC1wYXltZW50LXN0cmF0ZWd5LnRzPzU1YzYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvY3JlYXRlLWJyYWludHJlZS1zZGsudHM/MzRlNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWludmFsaWQtZm9ybS1lcnJvci50cz9jMGZiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNhbmNlbGxlZC1lcnJvci50cz8wODkwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2NhbmNlbGxhYmxlLXByb21pc2UvY2FuY2VsbGFibGUtcHJvbWlzZS50cz9mNzRhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2xvYWQtcGF5cGFsLXNkay1vbmNlLnRzPzdlMTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvcGF5cGFsLnRzPzg5YzYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLWludGVncmF0aW9uLXNlcnZpY2UudHM/NTljYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1jcmVkaXQtY2FyZC1pbnN0cnVtZW50LWxpa2UudHM/MTkyOSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtbWVzc2FnZXMudHM/ODAzZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdWkvc3JjL292ZXJsYXkvb3ZlcmxheS50cz9lZjY4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy91aS9zcmMvb3ZlcmxheS9vdmVybGF5LXN0eWxlLnRzPzc3MWYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3VpL3NyYy9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci50cz9iMDg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwtY29uc3RhbnRzLnRzPzE1YWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvaXMtYnJhaW50cmVlLWVycm9yLnRzPzY5YjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlLnRzP2UzZTYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9icmFpbnRyZWUtcGF5cGFsLXBheW1lbnQtc3RyYXRlZ3kudHM/MDI4ZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9pcy1icmFpbnRyZWUtcGF5cGFsLXByb3ZpZGVyLWVycm9yLnRzPzg0MDAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1wYXltZW50LXN0cmF0ZWd5LnRzPzJiMTMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vaHR0cC1yZXF1ZXN0L2NvbnRlbnQtdHlwZS50cz81MDRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9zZGstdmVyc2lvbi1oZWFkZXJzLnRzPzdiZjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXJlcXVlc3Qtc2VuZGVyLnRzPzM4ZmIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vaHR0cC1yZXF1ZXN0L2ludGVybmFsLWFwaS1oZWFkZXJzLnRzPzQxMTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcmVxdWVzdC1lcnJvci50cz9jODQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWludmFsaWQtZXJyb3IudHM/M2FkZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy90aW1lb3V0LWVycm9yLnRzPzA4MGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWxvY2FsLXBheW1lbnQtbWV0aG9kcy9icmFpbnRyZWUtbG9jYWwtbWV0aG9kcy1wYXltZW50LXN0cmF0ZWd5LnRzPzNhMjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWxvY2FsLXBheW1lbnQtbWV0aG9kcy9jcmVhdGUtYnJhaW50cmVlLWxvY2FsLW1ldGhvZHMtcGF5bWVudC1zdHJhdGVneS50cz9mZGMzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2dldC1mYXN0bGFuZS1zdHlsZXMudHM/MzgwOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtYWNjZWxlcmF0ZWQtY2hlY2tvdXQtY3VzdG9tZXIudHM/NzU0MSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaW5zdHJ1bWVudC50cz9mMmI2Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1mYXN0bGFuZS9icmFpbnRyZWUtZmFzdGxhbmUtcGF5bWVudC1zdHJhdGVneS50cz9jMTFiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdG9yYWdlL3NyYy9jb29raWUtc3RvcmFnZS50cz8xNTNjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1mYXN0bGFuZS9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMudHM/MWVkZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtZmFzdGxhbmUvY3JlYXRlLWJyYWludHJlZS1mYXN0bGFuZS1wYXltZW50LXN0cmF0ZWd5LnRzP2ZjNTAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtcGF5bWVudC1zdHJhdGVneS50cz8xNDIyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS12aXNhLWNoZWNrb3V0L2NyZWF0ZS1icmFpbnRyZWUtdmlzYS1jaGVja291dC1wYXltZW50LXN0cmF0ZWd5LnRzPzVlODgiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZlbm1vL2JyYWludHJlZS12ZW5tby1wYXltZW50LXN0cmF0ZWd5LnRzPzMwNzIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZlbm1vL2NyZWF0ZS1icmFpbnRyZWUtdmVubW8tcGF5bWVudC1zdHJhdGVneS50cz82MzY1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1jcmVkaXQtY2FyZC9icmFpbnRyZWUtY3JlZGl0LWNhcmQtcGF5bWVudC1zdHJhdGVneS50cz9hOWE5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtcGF5bWVudC1yZXF1ZXN0LTNkcy1lcnJvci50cz9iODM3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2lzLWJyYWludHJlZS1mb3JtLWZpZWxkcy1tYXAudHM/MWU0YyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtaG9zdGVkLWZvcm0tZXJyb3IudHM/ZWQ1OSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtaG9zdGVkLWZvcm0vYnJhaW50cmVlLWhvc3RlZC1mb3JtLnRzPzUxYzEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdXRpbHMvaXMtYnJhaW50cmVlLXN1cHBvcnRlZC1jYXJkLWJyYW5kLnRzP2Y5ZTciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWNyZWRpdC1jYXJkL2NyZWF0ZS1icmFpbnRyZWUtY3JlZGl0LWNhcmQtcGF5bWVudC1zdHJhdGVneS50cz9hNTBhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwvYnJhaW50cmVlLXBheXBhbC1jdXN0b21lci1zdHJhdGVneS50cz84MGI1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY2hlY2tvdXQtYnV0dG9ucy9kZWZhdWx0LWNoZWNrb3V0LWJ1dHRvbi1oZWlnaHQudHM/ZDQyNSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsL2NyZWF0ZS1icmFpbnRyZWUtcGF5cGFsLWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzBmZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC1jcmVkaXQvYnJhaW50cmVlLXBheXBhbC1jcmVkaXQtY3VzdG9tZXItc3RyYXRlZ3kudHM/YjAzMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1jcmVkaXQtY3VzdG9tZXItc3RyYXRlZ3kudHM/NjZjZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtZmFzdGxhbmUvYnJhaW50cmVlLWZhc3RsYW5lLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2JkMDciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWZhc3RsYW5lL2NyZWF0ZS1icmFpbnRyZWUtZmFzdGxhbmUtY3VzdG9tZXItc3RyYXRlZ3kudHM/NWU3MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9ub3QtaW1wbGVtZW50ZWQtZXJyb3IudHM/M2EzNSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmlzYS1jaGVja291dC9icmFpbnRyZWUtdmlzYS1jaGVja291dC1jdXN0b21lci1zdHJhdGVneS50cz9kY2FmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS12aXNhLWNoZWNrb3V0L2NyZWF0ZS1icmFpbnRyZWUtdmlzYS1jaGVja291dC1jdXN0b21lci1zdHJhdGVneS50cz9iN2IyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2J1eS1ub3ctY2FydC1jcmVhdGlvbi1lcnJvci50cz9kNjA0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2dldC12YWxpZC1idXR0b24tc3R5bGUudHM/ZTM4OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsL2JyYWludHJlZS1wYXlwYWwtYnV0dG9uLXN0cmF0ZWd5LnRzP2RiMWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1idXR0b24tc3RyYXRlZ3kudHM/ZmYxNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1idXR0b24tc3RyYXRlZ3kudHM/NTNjZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1jcmVkaXQtYnV0dG9uLXN0cmF0ZWd5LnRzPzg2NDIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtYnV0dG9uLXN0cmF0ZWd5LnRzP2YyNGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQvY3JlYXRlLWJyYWludHJlZS12aXNhLWNoZWNrb3V0LWJ1dHRvbi1zdHJhdGVneS50cz82MDc3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL21hcC10by1sZWdhY3ktYmlsbGluZy1hZGRyZXNzLnRzPzlkMzkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvbWFwLXRvLWxlZ2FjeS1zaGlwcGluZy1hZGRyZXNzLnRzPzQxNDAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZlbm1vL2JyYWludHJlZS12ZW5tby1idXR0b24tc3RyYXRlZ3kudHM/MzliOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9pc1Vuc3VwcG9ydGVkQnJvd3NlckVycm9yLnRzP2JlMWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZlbm1vL2NyZWF0ZS1icmFpbnRyZWUtdmVubW8tYnV0dG9uLXN0cmF0ZWd5LnRzPzc4YTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImltcG9ydCB7IE9taXQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHtcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgIFBheXBhbEJ1dHRvbk9wdGlvbnMsXG4gICAgUGF5cGFsQnV0dG9uUmVuZGVyLFxuICAgIFBheXBhbFNESyxcbiAgICBQYXlwYWxTdHlsZU9wdGlvbnMsXG59IGZyb20gJy4vcGF5cGFsJztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlQ2xpZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVQYXlsb2FkLFxuICAgIEJyYWludHJlZU1vZHVsZSxcbiAgICBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yLFxuICAgIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yLFxuICAgIEJyYWludHJlZVdpbmRvdyxcbiAgICBGYXN0bGFuZVN0eWxlc1NldHRpbmdzLFxuICAgIFZpc2FDaGVja291dFNESyxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICAgIFZpc2FDaGVja291dEluaXRPcHRpb25zLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICcuL3Zpc2FjaGVja291dCc7XG5cbi8qKlxuICpcbiAqIENvbnN0YW50c1xuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlRW52IHtcbiAgICBTYW5kYm94ID0gJ3NhbmRib3gnLFxuICAgIFByb2R1Y3Rpb24gPSAncHJvZHVjdGlvbicsXG59XG5cbi8qKlxuICpcbiAqIENvbW1vblxuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlTW9kdWxlTmFtZSB7XG4gICAgQ2xpZW50ID0gJ2NsaWVudCcsXG4gICAgRGF0YUNvbGxlY3RvciA9ICdkYXRhQ29sbGVjdG9yJyxcbiAgICBGYXN0bGFuZSA9ICdmYXN0bGFuZScsXG4gICAgR29vZ2xlUGF5bWVudCA9ICdnb29nbGVQYXltZW50JyxcbiAgICBIb3N0ZWRGaWVsZHMgPSAnaG9zdGVkRmllbGRzJyxcbiAgICBMb2NhbFBheW1lbnQgPSAnbG9jYWxQYXltZW50JyxcbiAgICBQYXlwYWwgPSAncGF5cGFsJyxcbiAgICBQYXlwYWxDaGVja291dCA9ICdwYXlwYWxDaGVja291dCcsXG4gICAgVGhyZWVEU2VjdXJlID0gJ3RocmVlRFNlY3VyZScsXG4gICAgVXNCYW5rQWNjb3VudCA9ICd1c0JhbmtBY2NvdW50JyxcbiAgICBWZW5tbyA9ICd2ZW5tbycsXG4gICAgVmlzYUNoZWNrb3V0ID0gJ3Zpc2FDaGVja291dCcsXG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZU1vZHVsZUNyZWF0b3JzID1cbiAgICB8IEJyYWludHJlZUNsaWVudENyZWF0b3JcbiAgICB8IEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JcbiAgICB8IEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3JcbiAgICB8IEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3JcbiAgICB8IEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcjtcblxuLy8gVE9ETzogcmVuYW1lIHRvIEJyYWludHJlZVNka01vZHVsZXNcbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU0RLIHtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdPzogQnJhaW50cmVlQ2xpZW50Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV0/OiBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3Rvcl0/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XT86IEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc10/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbF0/OiBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0XT86IEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tb10/OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdPzogQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50XT86IEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF0/OiBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRlQ29uZmlnLFxuICAgIEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0ZUNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIG1lcmNoYW50QWNjb3VudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhIHtcbiAgICBjbGllbnRUb2tlbjogc3RyaW5nO1xuICAgIGVuYWJsZUNoZWNrb3V0UGF5d2FsbEJhbm5lcj86IGJvb2xlYW47XG4gICAgaW50ZW50PzogJ2F1dGhvcml6ZScgfCAnb3JkZXInIHwgJ3NhbGUnO1xuICAgIGlzQ3JlZGl0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgaXNGYXN0bGFuZVN0eWxpbmdFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0Zhc3RsYW5lRW5hYmxlZD86IGJvb2xlYW47XG4gICAgaXNGYXN0bGFuZVNoaXBwaW5nT3B0aW9uQXV0b1NlbGVjdEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGZhc3RsYW5lU3R5bGVzPzogRmFzdGxhbmVTdHlsZXNTZXR0aW5ncztcbiAgICBpc0JyYWludHJlZUFuYWx5dGljc1YyRW5hYmxlZD86IGJvb2xlYW47XG4gICAgc2hvdWxkUnVuQWNjZWxlcmF0ZWRDaGVja291dD86IGJvb2xlYW47IC8vIFRPRE86IG9ubHkgZm9yIEJUIEFYTyBBL0IgdGVzdGluZyBwdXJwb3NlcywgaGVuY2Ugc2hvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgdGVzdGluZ1xuICAgIHBheW1lbnRCdXR0b25TdHlsZXM/OiBSZWNvcmQ8c3RyaW5nLCBQYXlwYWxTdHlsZU9wdGlvbnM+O1xuICAgIHBheXBhbEJOUExDb25maWd1cmF0aW9uPzogUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtW10gfCBudWxsO1xuICAgIG5vbmNlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbFJlcXVlc3Qge1xuICAgIGFtb3VudDogc3RyaW5nIHwgbnVtYmVyO1xuICAgIGJpbGxpbmdBZ3JlZW1lbnREZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgICBlbmFibGVTaGlwcGluZ0FkZHJlc3M6IHRydWU7XG4gICAgZmxvdzogJ2NoZWNrb3V0JyB8ICd2YXVsdCc7XG4gICAgaW50ZW50PzogJ2F1dGhvcml6ZScgfCAnb3JkZXInIHwgJ3NhbGUnO1xuICAgIGxhbmRpbmdQYWdlVHlwZT86ICdsb2dpbicgfCAnYmlsbGluZyc7XG4gICAgbG9jYWxlPzogc3RyaW5nO1xuICAgIG9mZmVyQ3JlZGl0PzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZT86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGU/OiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZTtcbiAgICB1c2VyYWN0aW9uPzogJ2NvbW1pdCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUge1xuICAgIGxpbmUxOiBzdHJpbmc7XG4gICAgbGluZTI/OiBzdHJpbmc7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIHN0YXRlOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgcmVjaXBpZW50TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgdHlwZTogJ1BheXBhbEFjY291bnQnIHwgJ1Zlbm1vQWNjb3VudCc7XG4gICAgZGV0YWlsczogQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscztcbiAgICBjcmVkaXRGaW5hbmNpbmdPZmZlcmVkPzoge1xuICAgICAgICB0b3RhbENvc3Q6IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICB0ZXJtOiBudW1iZXI7XG4gICAgICAgIG1vbnRobHlQYXltZW50OiB7XG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgdG90YWxJbnN0ZXJlc3Q6IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICBwYXllckFjY2VwdGFuY2U6IGJvb2xlYW47XG4gICAgICAgIGNhcnRBbW91bnRJbW11dGFibGU6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUVycm9yRGF0YSA9IE9taXQ8QnJhaW50cmVlRm9ybUZpZWxkU3RhdGUsICdpc0ZvY3VzZWQnPjtcblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUVycm9yRGF0YUtleXMgPVxuICAgIHwgJ251bWJlcidcbiAgICB8ICdleHBpcmF0aW9uRGF0ZSdcbiAgICB8ICdleHBpcmF0aW9uTW9udGgnXG4gICAgfCAnZXhwaXJhdGlvblllYXInXG4gICAgfCAnY3Z2J1xuICAgIHwgJ3Bvc3RhbENvZGUnO1xuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YSA9IFBhcnRpYWw8XG4gICAgUmVjb3JkPEJyYWludHJlZUZvcm1FcnJvckRhdGFLZXlzLCBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhPlxuPjtcblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEhvc3RlZCBGaWVsZHNcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkcyxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkcyB7XG4gICAgZ2V0U3RhdGUoKTogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGU7XG4gICAgdGVhcmRvd24oKTogUHJvbWlzZTx2b2lkPjtcbiAgICB0b2tlbml6ZShcbiAgICAgICAgb3B0aW9ucz86IEJyYWludHJlZUhvc3RlZEZpZWxkc1Rva2VuaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUhvc3RlZEZpZWxkc1Rva2VuaXplUGF5bG9hZD47XG4gICAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoZXZlbnQ6IEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgZmllbGRzOiB7XG4gICAgICAgIG51bWJlcj86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBleHBpcmF0aW9uRGF0ZT86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBleHBpcmF0aW9uTW9udGg/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgZXhwaXJhdGlvblllYXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgY3Z2PzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIHBvc3RhbENvZGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgY2FyZGhvbGRlck5hbWU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICB9O1xuICAgIHN0eWxlcz86IHtcbiAgICAgICAgaW5wdXQ/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgICAgICAnLmludmFsaWQnPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICAgICAgJy52YWxpZCc/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgICAgICAnOmZvY3VzJz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgfTtcbiAgICBwcmV2ZW50Q3Vyc29ySnVtcHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uIHtcbiAgICBjb250YWluZXI6IHN0cmluZyB8IEhUTUxFbGVtZW50O1xuICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgZm9ybWF0SW5wdXQ/OiBib29sZWFuO1xuICAgIG1hc2tJbnB1dD86IGJvb2xlYW4gfCB7IGNoYXJhY3Rlcj86IHN0cmluZzsgc2hvd0xhc3RGb3VyPzogc3RyaW5nIH07XG4gICAgc2VsZWN0PzogYm9vbGVhbiB8IHsgb3B0aW9ucz86IHN0cmluZ1tdIH07XG4gICAgbWF4Q2FyZExlbmd0aD86IG51bWJlcjtcbiAgICBtYXhsZW5ndGg/OiBudW1iZXI7XG4gICAgbWlubGVuZ3RoPzogbnVtYmVyO1xuICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgcmVqZWN0VW5zdXBwb3J0ZWRDYXJkcz86IGJvb2xlYW47XG4gICAgc3VwcG9ydGVkQ2FyZEJyYW5kcz86IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlIHtcbiAgICBjYXJkczogQnJhaW50cmVlSG9zdGVkRmllbGRzQ2FyZFtdO1xuICAgIGVtaXR0ZWRCeTogc3RyaW5nO1xuICAgIGZpZWxkczoge1xuICAgICAgICBudW1iZXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGV4cGlyYXRpb25EYXRlPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBleHBpcmF0aW9uTW9udGg/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBjdnY/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIHBvc3RhbENvZGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDYXJkIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgbmljZVR5cGU6IHN0cmluZztcbiAgICBjb2RlOiB7IG5hbWU6IHN0cmluZzsgc2l6ZTogbnVtYmVyIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhIHtcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgICBpc0VtcHR5OiBib29sZWFuO1xuICAgIGlzUG90ZW50aWFsbHlWYWxpZDogYm9vbGVhbjtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc1Rva2VuaXplT3B0aW9ucyB7XG4gICAgdmF1bHQ/OiBib29sZWFuO1xuICAgIGZpZWxkc1RvVG9rZW5pemU/OiBzdHJpbmdbXTtcbiAgICBjYXJkaG9sZGVyTmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzcz86IEJyYWludHJlZUJpbGxpbmdBZGRyZXNzUmVxdWVzdERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQmlsbGluZ0FkZHJlc3NSZXF1ZXN0RGF0YSB7XG4gICAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGV4dGVuZGVkQWRkcmVzcz86IHN0cmluZztcbiAgICBsb2NhbGl0eT86IHN0cmluZztcbiAgICByZWdpb24/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVOdW1lcmljPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEyPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xuICAgIGNvdW50cnlOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZvcm1FcnJvciBleHRlbmRzIEJyYWludHJlZUVycm9yIHtcbiAgICBkZXRhaWxzPzoge1xuICAgICAgICBpbnZhbGlkRmllbGRLZXlzPzogc3RyaW5nW107XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRTdGF0ZSB7XG4gICAgaXNGb2N1c2VkOiBib29sZWFuO1xuICAgIGlzRW1wdHk6IGJvb2xlYW47XG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBib29sZWFuO1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5pemF0aW9uUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBiaW46IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheVBhbFxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlUGF5cGFsQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlUGF5cGFsPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWwge1xuICAgIGNsb3NlV2luZG93KCk6IHZvaWQ7XG4gICAgZm9jdXNXaW5kb3coKTogdm9pZDtcbiAgICB0b2tlbml6ZShvcHRpb25zOiBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0KTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ+O1xuICAgIEJ1dHRvbnM/KG9wdGlvbnM6IFBheXBhbEJ1dHRvbk9wdGlvbnMpOiBQYXlwYWxCdXR0b25SZW5kZXI7XG59XG5cbi8qKlxuICogQSBzZXQgb2Ygb3B0aW9ucyB0aGF0IGFyZSByZXF1aXJlZCB0byBzdXBwb3J0IDNEIFNlY3VyZSBhdXRoZW50aWNhdGlvbiBmbG93LlxuICpcbiAqIElmIHRoZSBjdXN0b21lciB1c2VzIGEgY3JlZGl0IGNhcmQgdGhhdCBoYXMgM0QgU2VjdXJlIGVuYWJsZWQsIHRoZXkgd2lsbCBiZVxuICogYXNrZWQgdG8gdmVyaWZ5IHRoZWlyIGlkZW50aXR5IHdoZW4gdGhleSBwYXkuIFRoZSB2ZXJpZmljYXRpb24gaXMgZG9uZVxuICogdGhyb3VnaCBhIHdlYiBwYWdlIHZpYSBhbiBpZnJhbWUgcHJvdmlkZWQgYnkgdGhlIGNhcmQgaXNzdWVyLlxuICovXG4vLyBleHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMge1xuLy8gICAgIC8qKlxuLy8gICAgICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBpZnJhbWUgaXMgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlXG4vLyAgICAgICogY3VycmVudCBwYWdlLiBJdCBpcyByZXNwb25zaWJsZSBmb3IgZGV0ZXJtaW5pbmcgd2hlcmUgdGhlIGlmcmFtZSBzaG91bGRcbi8vICAgICAgKiBiZSBpbnNlcnRlZCBpbiB0aGUgRE9NLlxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIGVycm9yIC0gQW55IGVycm9yIHJhaXNlZCBkdXJpbmcgdGhlIHZlcmlmaWNhdGlvbiBwcm9jZXNzO1xuLy8gICAgICAqIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBub25lLlxuLy8gICAgICAqIEBwYXJhbSBpZnJhbWUgLSBUaGUgaWZyYW1lIGVsZW1lbnQgY29udGFpbmluZyB0aGUgdmVyaWZpY2F0aW9uIHdlYiBwYWdlXG4vLyAgICAgICogcHJvdmlkZWQgYnkgdGhlIGNhcmQgaXNzdWVyLlxuLy8gICAgICAqIEBwYXJhbSBjYW5jZWwgLSBBIGZ1bmN0aW9uLCB3aGVuIGNhbGxlZCwgd2lsbCBjYW5jZWwgdGhlIHZlcmlmaWNhdGlvblxuLy8gICAgICAqIHByb2Nlc3MgYW5kIHJlbW92ZSB0aGUgaWZyYW1lLlxuLy8gICAgICAqL1xuLy8gICAgIGFkZEZyYW1lKFxuLy8gICAgICAgICBlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQsXG4vLyAgICAgICAgIGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQsXG4vLyAgICAgICAgIGNhbmNlbDogKCkgPT4gUHJvbWlzZTxCcmFpbnRyZWVWZXJpZnlQYXlsb2FkPiB8IHVuZGVmaW5lZCxcbi8vICAgICApOiB2b2lkO1xuLy9cbi8vICAgICAvKipcbi8vICAgICAgKiBBIGNhbGxiYWNrIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgaWZyYW1lIGlzIGFib3V0IHRvIGJlIHJlbW92ZWQgZnJvbVxuLy8gICAgICAqIHRoZSBjdXJyZW50IHBhZ2UuXG4vLyAgICAgICovXG4vLyAgICAgcmVtb3ZlRnJhbWUoKTogdm9pZDtcbi8vIH1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtT3B0aW9ucyB7XG4gICAgZmllbGRzOiBCcmFpbnRyZWVGb3JtRmllbGRzTWFwIHwgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcDtcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXA7XG4gICAgb25CbHVyPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRCbHVyRXZlbnREYXRhKTogdm9pZDtcbiAgICBvbkNhcmRUeXBlQ2hhbmdlPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRDYXJkVHlwZUNoYW5nZUV2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25Gb2N1cz8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkRm9jdXNFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uVmFsaWRhdGU/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXZlbnREYXRhKTogdm9pZDtcbiAgICBvbkVudGVyPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRFbnRlckV2ZW50RGF0YSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUZvcm1GaWVsZFR5cGUge1xuICAgIENhcmRDb2RlID0gJ2NhcmRDb2RlJyxcbiAgICBDYXJkQ29kZVZlcmlmaWNhdGlvbiA9ICdjYXJkQ29kZVZlcmlmaWNhdGlvbicsXG4gICAgQ2FyZEV4cGlyeSA9ICdjYXJkRXhwaXJ5JyxcbiAgICBDYXJkTmFtZSA9ICdjYXJkTmFtZScsXG4gICAgQ2FyZE51bWJlciA9ICdjYXJkTnVtYmVyJyxcbiAgICBDYXJkTnVtYmVyVmVyaWZpY2F0aW9uID0gJ2NhcmROdW1iZXJWZXJpZmljYXRpb24nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZHNNYXAge1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXT86IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeV06IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdOiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJdOiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXAge1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZE9wdGlvbnM7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlclZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRPcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnMge1xuICAgIGFjY2Vzc2liaWxpdHlMYWJlbD86IHN0cmluZztcbiAgICBjb250YWluZXJJZDogc3RyaW5nO1xuICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVN0b3JlZENhcmRGaWVsZE9wdGlvbnMgZXh0ZW5kcyBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zIHtcbiAgICBpbnN0cnVtZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXAge1xuICAgIGRlZmF1bHQ/OiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXM7XG4gICAgZXJyb3I/OiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXM7XG4gICAgZm9jdXM/OiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXM7XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcyA9IFBhcnRpYWw8XG4gICAgUGljazxDU1NTdHlsZURlY2xhcmF0aW9uLCAnY29sb3InIHwgJ2ZvbnRGYW1pbHknIHwgJ2ZvbnRTaXplJyB8ICdmb250V2VpZ2h0Jz5cbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGEge1xuICAgIGZpZWxkVHlwZTogc3RyaW5nO1xuICAgIGVycm9ycz86IEJyYWludHJlZUZvcm1FcnJvcnNEYXRhO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRCbHVyRXZlbnREYXRhID0gQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGE7XG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRFbnRlckV2ZW50RGF0YSA9IEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhO1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkRm9jdXNFdmVudERhdGEgPSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YTtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRDYXJkVHlwZUNoYW5nZUV2ZW50RGF0YSB7XG4gICAgY2FyZFR5cGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFdmVudERhdGEge1xuICAgIGVycm9yczoge1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZV0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkRXhwaXJ5XT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROYW1lXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJdPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVWZXJpZmljYXRpb25dPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlclZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgIH07XG4gICAgaXNWYWxpZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YSB7XG4gICAgZmllbGRUeXBlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheVBhbCBDaGVja291dFxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVQYXlwYWxDaGVja291dD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQge1xuICAgIGxvYWRQYXlQYWxTREsoXG4gICAgICAgIGNvbmZpZzogQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICAgICAgY2FsbGJhY2s6IChlcnI6IG51bGwgfCB1bmRlZmluZWQgfCBCcmFpbnRyZWVFcnJvcikgPT4gdm9pZCxcbiAgICApOiB2b2lkO1xuICAgIGNyZWF0ZVBheW1lbnQob3B0aW9uczogQnJhaW50cmVlUGF5cGFsUmVxdWVzdCk6IFByb21pc2U8c3RyaW5nPjtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xuICAgIHRva2VuaXplUGF5bWVudChvcHRpb25zOiBQYXlwYWxBdXRob3JpemVEYXRhKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcge1xuICAgIGNvbXBvbmVudHM/OiBzdHJpbmc7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG4gICAgaW50ZW50Pzogc3RyaW5nO1xuICAgIGlzQ3JlZGl0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgY29tbWl0PzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFZlbm1vXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dCxcbiAgICBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVmVubW9DaGVja291dCBleHRlbmRzIEJyYWludHJlZU1vZHVsZSB7XG4gICAgdG9rZW5pemUoY2FsbGJhY2s6IChlcnJvcjogQnJhaW50cmVlRXJyb3IsIHBheWxvYWQ6IEJyYWludHJlZVRva2VuaXplUGF5bG9hZCkgPT4gdW5rbm93bik6IHZvaWQ7XG4gICAgaXNCcm93c2VyU3VwcG9ydGVkKCk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVmVubW9DcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgYWxsb3dEZXNrdG9wPzogYm9vbGVhbjtcbiAgICBwYXltZW50TWV0aG9kVXNhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBWaXNhIENoZWNrb3V0XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVWaXNhQ2hlY2tvdXQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZpc2FDaGVja291dCBleHRlbmRzIEJyYWludHJlZU1vZHVsZSB7XG4gICAgdG9rZW5pemUocGF5bWVudDogVmlzYUNoZWNrb3V0UGF5bWVudFN1Y2Nlc3NQYXlsb2FkKTogUHJvbWlzZTxWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkPjtcbiAgICBjcmVhdGVJbml0T3B0aW9ucyhvcHRpb25zOiBQYXJ0aWFsPFZpc2FDaGVja291dEluaXRPcHRpb25zPik6IFZpc2FDaGVja291dEluaXRPcHRpb25zO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgQk5QTCBDb25maWd1cmF0b3IgcmVsYXRlZCB0eXBlc1xuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXlQYWxCTlBMQ29uZmlndXJhdGlvbkl0ZW0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHN0YXR1czogYm9vbGVhbjtcbiAgICBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBMb2NhbCBNZXRob2RzXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxvY2FsUGF5bWVudENvbmZpZyB7XG4gICAgcGF5bWVudFR5cGU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBmYWxsYmFjazoge1xuICAgICAgICB1cmw6IHN0cmluZztcbiAgICAgICAgYnV0dG9uVGV4dDogc3RyaW5nO1xuICAgIH07XG4gICAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBnaXZlbk5hbWU6IHN0cmluZztcbiAgICBzdXJuYW1lOiBzdHJpbmc7XG4gICAgYWRkcmVzczoge1xuICAgICAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIH07XG4gICAgb25QYXltZW50U3RhcnQoZGF0YTogQnJhaW50cmVlTFBNUGF5bWVudFN0YXJ0RGF0YSwgc3RhcnQ6ICgpID0+IFByb21pc2U8dm9pZD4pOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxQTVN0YXJ0UGF5bWVudEVycm9yIHtcbiAgICBjb2RlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTFBNUGF5bWVudFN0YXJ0RGF0YSB7XG4gICAgcGF5bWVudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50c1BheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBzdGFydFBheW1lbnQoXG4gICAgICAgIGNvbmZpZzogQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnLFxuICAgICAgICBjYWxsYmFjazogKFxuICAgICAgICAgICAgc3RhcnRQYXltZW50RXJyb3I6IEJyYWludHJlZUxQTVN0YXJ0UGF5bWVudEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlTG9jYWxQYXltZW50c1BheWxvYWQsXG4gICAgICAgICkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICApOiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBPdGhlclxuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0V2luZG93IGV4dGVuZHMgQnJhaW50cmVlV2luZG93IHtcbiAgICBicmFpbnRyZWU/OiBCcmFpbnRyZWVTREs7XG4gICAgcGF5cGFsPzogUGF5cGFsU0RLO1xuICAgIFY/OiBWaXNhQ2hlY2tvdXRTREs7XG59XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgZmFpbHNcbiAqIHRvIGxvYWQsIG9yIGZvciBzb21lIHJlYXNvbiwgaXQgaXMgaW5hY2Nlc3NpYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaXMgbm90IGxvYWRlZCBvciByZWFkeSB0byBiZSB1c2VkLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZSc7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTiA9ICczLjEyOC4wJztcbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTiA9ICczLjEyMy4yJztcbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OID0gJzMuMTA2LjAnO1xuIiwiaW1wb3J0IHsgQnJhaW50cmVlTW9kdWxlTmFtZSB9IGZyb20gJy4vYnJhaW50cmVlJztcbmltcG9ydCB7XG4gICAgQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT04sXG59IGZyb20gJy4vYnJhaW50cmVlLXNkay12ZXJpc29uJztcblxuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkgPSB7XG4gICAgW0JSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT05dOiB7XG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LTI2QlhETm5KSTIzSllSeUZCajR4ZTRzVk5yVVNTaVNTdTExa3hWWE5NL3ZFUE9ObTRMdUwwMHc2WmFUZ1Fld3QnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LUIrdnpiWnduUXR6V0J0aHBrVDRUWEtVaWJPNjV0eWVLN2VDeFN2cGJsZ3ByVGVwMitJQVhCMkN4eGpybjcxME8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdOlxuICAgICAgICAgICAgJ3NoYTM4NC11eUFHTDEvMytYSkFIbkdvTnk0ZUNvWGR6SjRmN0lsenArNnc5UE5uRWpzNkRDQ3o5V015SmpNTjFnemM3OFUrJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtTEl2T0VNa0lWRXdWdVlCZFZPUWMxQUM1WWJHR2x3eWZVaGVTMEFDSzIxOEQyU1R1VllRbFo0RnlFUG93QUVmVCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdOlxuICAgICAgICAgICAgJ3NoYTM4NC0xYm85SkR6K0tzY3RoYzA4NWNDS1d1cjhDTHdVb0Jwb055eHNEaTc5MzJtQ2wwekZxM0E1bXYrRlFMdzlHSHBWJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF06XG4gICAgICAgICAgICAnc2hhMzg0LXhtSEJWYVUrdzc0VitPZWJEM0FhUE9ORnhIVUdNZitRUnM4Ry9KeFZQWE5OUDdNRGEyakwwSUNXSEllMnRUZkonLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtV0tESmw4bXFvUDgycVpwTUdINkFiWnhudlhuU1c4SUxWNE02NEN5TUxpdWdHTXd1N0x5UDg5d2pDa0hxc2lCZScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV06XG4gICAgICAgICAgICAnc2hhMzg0LVZRVWxwR0h6c0d2czVYZWlHRmlwN0VYUnN2b0hXRVhEVm1nQ2FjZmJ5aWVaSTltZEJPcXEzTlNveW8yOE9DT0InLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC15eDdtQURmelROMFQ0M1E2cmxINDlMSWcxRUowaVVaZ0JwL0Vjelg5TFhzVUdreVNneHJEK25XSFFSQmt5Zm9UJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dOlxuICAgICAgICAgICAgJ3NoYTM4NC1RWDRyUGpvajFaRGh1RzBhU3lLczU2bEVLRHFUTVRjall4VUhZMVN6TzVWWkRzcUlFMk5Ua3FvdDdLTlNDeW92JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXTpcbiAgICAgICAgICAgICdzaGEzODQtVnZZQkFDZlN1MENyL0ozMnVLbXhHN0FYY05PSkUxQXpJSUwza2Jpa3lTN1lLcDVmejVJcytOek5QL2x5YXVOeScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXTpcbiAgICAgICAgICAgICdzaGEzODQtOW9Hc1pNUlp3cEd0REVEWWEvZEZ0NzZkRUNxajF4QW5pOWdJS2djM0tmTUlpUm5SNzNuRWVlVURMaUJ6eGhGYScsXG4gICAgfSxcbiAgICBbQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT05dOiB7XG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LW8rbmJRR2N3Tk54SUJlWGV1MytYbWJTcStDZzhSM0VOM04wbDVoWENnTU1VMlJHWTB0MXowTHJvU0VJQWJmQU8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LVdyZmJXUEJTNG1IODZHQW95Y1BTZ2lIOGhROEtIN0E2N0M5M0hqaHVudi94aE5rMllwQm4zd2JGQTRGaGc5VS8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdOlxuICAgICAgICAgICAgJ3NoYTM4NC1WRjM4OW52dnJSVWdEc1RYTXhUWU9SRHRWZWdCOUlRYTNDeHIvL0R5Sm5MWW56OC9YOFZDekV2Y2syYytNZWd0JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtdFpLeDJyRVFiZm1acG9QU1k1VlBtSkVoYXE0WDc1ZEx2d0hNczNWRTlVK0M4bFB5dytoV1RJTDErR1B2V0NJSCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdOlxuICAgICAgICAgICAgJ3NoYTM4NC1FNmszd09wUDdzeUNERHdhUkRMRjA2OTQyWTAwTmtid0p2V2kyT1FYd3dLekd3RzVmZDNFN1JGVXZDQ2VjZnZPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF06XG4gICAgICAgICAgICAnc2hhMzg0LTI1OEZPTjhMWkdHMFc5UWF6NEppajgzcFpIdTMwWW5LakpBN2dOdWxMQmg2Q2Nsa3VjZ0YrdEhEUXVZRlJZZlcnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtdGFKMnAvMCtuMFZIMzI4UE9Bb0JpdUViTDN0bkhVVEU5UzQyaEsxVitUeHMzWCtRWWpaT3lLVzM1SmdIUkZmTycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV06XG4gICAgICAgICAgICAnc2hhMzg0LStOU1pINFpqM3NPNWJkV3ZQS2hVNU4xNlFEeGV1ZVRWVG5VVmVsZWVFU2toTFNhejRPYjFoaC81bXllY2M5WW0nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC02NkRpQmpnaHhrMU9tQmo4YWtzTjhnYlErQ3dvUWN4MXZQZmlYVU4wOGcxaVFWTStCd2V3RjBwN3RvTTNpN1NTJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dOlxuICAgICAgICAgICAgJ3NoYTM4NC1CNVV3WTQya0U0Um9Mb1diUTdZcHFvc1VsVWFkMi9EbEdXaXcwSGhvWmJTUGszMENRQWFTQTEwb2h5TERUa0RVJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXTpcbiAgICAgICAgICAgICdzaGEzODQtQXc5RWVzU2FVZVd4ZTM2UHFFSGlPeU95T3E4TTZDSWIxZ3c3L3lITlZQUnpHdEZYWGNkMk9ROHFYcklsT2oyUCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXTpcbiAgICAgICAgICAgICdzaGEzODQtcmhCTDFocFo3MUpxRysyVHNUMERpaDQ3bWJqeDhjakpDcGVaams5dHczZGYxZ0ZNS2ZDVG1NeVp1bmhyN0g0WScsXG4gICAgfSxcbiAgICBbQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0wV054a3NJcFJQK2ZZWmlJZHIxMmc2REJVUWZMRHpZQ1FKWnRSL0M4S2tjd1NHaFBIZmNGcDN0VGFHY015RlRxJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1sV00xams0Qk94b0ROVjZLb3A3dFZOdlFnSU5sbUVWejBjL093TStITkhLM1FDOHhxd2Q1NE92cnQyUVJEVGpoJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtZlhVbVZ4QzJFTVpCRFhaN2VUSFNUTC9MRkJySGVqL01TWFQvdlRCWHZyYTRsemdMTkd2UkVBcCt4MEdZT2J1SCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXBoYTF4R3VHU2ttWkg1eDlhcUh2UmFPNHhMZWE3cm1RLzc5UEZqOXp4Tnp4dUZjT1daZzdnT1A3RmlieWdPRUMnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtUTZQSTJGOWVla1diQXhocm95YmwrYUVjdnFoZG93Ti9FUWxHd0JVeUpPelBGbjk5ODJ1OXhsNlNVNlhmR0t6YycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1XM1JMUVNLSkwxdFEzK1k3bVA2dG1rYW10WjhiVjRZdy9YeEw5Smo1SnRYSHJhRDhsb01GOGhBSUc1bTJ6SzdGJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LVRJVFFNc0ZXQTNlbEROR1AybVd6Mm9LQm80cWp0K1RscXpvdmNhUG9lQmlBaC93UEJpNm5hZTUwQURkZ1UxL2knLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1ZaXljWU44OVpsTC9FdmNhcTR5MWFqVzFtaGQ3SllmWkJEdU93SHRJbjQvSm5tMjBHTCsvWENNK3pZQXdXRDhEJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtL09kYVR2OXFya0t6ak9idFVlNnl6ZkRoSG96RlcvK3VYbHJTbDczNnNPWlJKcGpHUUVUdnBZWHFNRkZnNjl4dicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtZEErb2pkVzl2YkpTNEphdmNYeU9zOWQ1dVpISmc1ZE50WXVwb1BTSDJ6c1hJaVlEVlM1YW1MYi91OHFtUTZveicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LTMxWmtTNTgraWFXc1cwNmZ0VzUyenpWWkZwNDNXUGQ3cE5ZUmlkZFl5blNOZzZPaDdXR2JTRkdvckFVSDZUMXonLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LWpsYnJ3TnZMM0h2TEFVQ3RMU21yblEyR0gxdWRDVXJSUy9iVm1SZUFTNWZ1SVZ2Y1c4UGtvL0drZzgydGxndHInLFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0ICogZnJvbSAnLi9icmFpbnRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXlwYWwnO1xuZXhwb3J0ICogZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgTW9kdWxlXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgVEluc3RhbmNlLFxuICAgIFRPcHRpb25zID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBURXJyb3IgPSBCcmFpbnRyZWVFcnJvcixcbj4ge1xuICAgIGNyZWF0ZShcbiAgICAgICAgY29uZmlnOiBUT3B0aW9ucyxcbiAgICAgICAgY2FsbGJhY2s/OiAoZXJyb3I6IFRFcnJvciwgaW5zdGFuY2U6IFRJbnN0YW5jZSkgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPFRJbnN0YW5jZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIGF1dGhvcml6YXRpb24/OiBzdHJpbmc7IC8vIEluZm86IGF1dGhvcml6YXRpb24gdXNlcyBjbGllbnRUb2tlbiBhcyBhIHZhbHVlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgV2luZG93XG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50Q3JlYXRvcjtcbiAgICBicmFpbnRyZWVGYXN0bGFuZT86IEJyYWludHJlZUZhc3RsYW5lO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgQ2xpZW50XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVDbGllbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVDbGllbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUNsaWVudCB7XG4gICAgcmVxdWVzdChwYXlsb2FkOiBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50UmVxdWVzdFJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCB7XG4gICAgZGF0YToge1xuICAgICAgICBjcmVkaXRDYXJkOiB7XG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzcz86IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBjdnY/OiBzdHJpbmc7XG4gICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbnVtYmVyOiBzdHJpbmc7XG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGJvb2xlYW47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgZW5kcG9pbnQ6IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICAgICAgY2FyZFR5cGU6IHN0cmluZztcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBzdHJpbmc7XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RGb3VyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RUd286IHN0cmluZztcbiAgICB9O1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGJpbkRhdGE6IHtcbiAgICAgICAgY29tbWVyY2lhbDogc3RyaW5nO1xuICAgICAgICBjb3VudHJ5T2ZJc3N1YW5jZTogc3RyaW5nO1xuICAgICAgICBkZWJpdDogc3RyaW5nO1xuICAgICAgICBkdXJiaW5SZWd1bGF0ZWQ6IHN0cmluZztcbiAgICAgICAgaGVhbHRoY2FyZTogc3RyaW5nO1xuICAgICAgICBpc3N1aW5nQmFuazogc3RyaW5nO1xuICAgICAgICBwYXlyb2xsOiBzdHJpbmc7XG4gICAgICAgIHByZXBhaWQ6IHN0cmluZztcbiAgICAgICAgcHJvZHVjdElkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UmVzcG9uc2Uge1xuICAgIGNyZWRpdENhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWRbXTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIERhdGEgQ29sbGVjdG9yXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGtvdW50PzogYm9vbGVhbjsgLy8gSW5mbzogdGhpcyBwYXJhbSBpcyBuZWVkZWQgZm9yIGZyYXVkIGRldGVjdGlvbiAoc2hvdWxkIGFsd2F5cyBiZSAndHJ1ZScpXG4gICAgcGF5cGFsPzogYm9vbGVhbjsgLy8gVE9ETzogYmFzZWQgb24gYnJhaW50cmVlIGRvY3VtZW50YXRpb24sIHRoaXMgcGFyYW0gaXMgZGVwcmVjYXRlZCwgc28gd2UgZG9udCBuZWVkIGl0IGFueW1vcmVcbiAgICByaXNrQ29ycmVsYXRpb25JZD86IHN0cmluZzsgLy8gSW5mbzogdGhlIG9wdGlvbiBpcyBuZWVkZWQgZm9yIFBheVBhbCBBbmFseXRpY3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBkZXZpY2VEYXRhPzogc3RyaW5nO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbnRlcmZhY2Ugd2hlbiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Ugd2lsbCBiZSByZW1vdmVkXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZURhdGFDb2xsZWN0b3JzIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwYXlwYWw/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgR29vZ2xlIFBheW1lbnRcbiAqXG4gKi9cbnR5cGUgQnJhaW50cmVlR29vZ2xlUGF5bWVudEFkZHJlc3NGb3JtYXQgPSAnRlVMTCcgfCAnTUlOJztcblxuZXhwb3J0IGVudW0gVG90YWxQcmljZVN0YXR1c1R5cGUge1xuICAgIEVTVElNQVRFRCA9ICdFU1RJTUFURUQnLFxuICAgIEZJTkFMID0gJ0ZJTkFMJyxcbiAgICBOT1RfQ1VSUkVOVExZX0tOT1dOID0gJ05PVF9DVVJSRU5UTFlfS05PV04nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdE9wdGlvbnMge1xuICAgIG1lcmNoYW50SW5mbzoge1xuICAgICAgICBhdXRoSnd0Pzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudElkPzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudE5hbWU/OiBzdHJpbmc7XG4gICAgfTtcbiAgICB0cmFuc2FjdGlvbkluZm86IHtcbiAgICAgICAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBjYXJkUmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBCcmFpbnRyZWVHb29nbGVQYXltZW50QWRkcmVzc0Zvcm1hdDtcbiAgICB9O1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3Qge1xuICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogc3RyaW5nW107XG4gICAgYXBpVmVyc2lvbjogbnVtYmVyO1xuICAgIGNhcmRSZXF1aXJlbWVudHM6IHtcbiAgICAgICAgYWxsb3dlZENhcmROZXR3b3Jrczogc3RyaW5nW107XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBzdHJpbmc7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGk6IHtcbiAgICAgICAgZ29vZ2xlVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgICAgICBzdGFydFRpbWVNczogbnVtYmVyO1xuICAgIH07XG4gICAgbWVyY2hhbnRJbmZvOiB7XG4gICAgICAgIG1lcmNoYW50SWQ6IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnROYW1lOiBzdHJpbmc7XG4gICAgICAgIGF1dGhKd3Q/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmFwaVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWVyY2hhbnRJZCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWV0YWRhdGEnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOnNka1ZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICBnYXRld2F5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRva2VuaXphdGlvblR5cGU6IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVHb29nbGVQYXltZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBjcmVhdGVQYXltZW50RGF0YVJlcXVlc3QoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3RPcHRpb25zLFxuICAgICk6IEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXlUaHJlZURTZWN1cmUge1xuICAgIHZlcmlmeUNhcmQob3B0aW9uczogQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBiaW46IHN0cmluZztcbiAgICBzaG93TG9hZGVyPzogYm9vbGVhbjtcbiAgICBvbkxvb2t1cENvbXBsZXRlKGRhdGE6IEJyYWludHJlZVRocmVlRFNlY3VyZVZlcmlmaWNhdGlvbkRhdGEsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgM0QgU2VjdXJlXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmUgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHZlcmlmeUNhcmQoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrPzogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZENhbGxiYWNrLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG4gICAgY2FuY2VsVmVyaWZ5Q2FyZCgpOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xuICAgIG9uPEsgZXh0ZW5kcyBrZXlvZiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcD4oXG4gICAgICAgIGV2ZW50OiBLLFxuICAgICAgICBoYW5kbGVyOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcFtLXSxcbiAgICApOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkQ2FsbGJhY2sgPSAoXG4gICAgdmVyaWZ5RXJyb3I6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRFcnJvcixcbiAgICBwYXlsb2FkOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCxcbikgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcCB7XG4gICAgJ2N1c3RvbWVyLWNhbmNlbGVkJzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgdmVyc2lvbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyIHwgc3RyaW5nO1xuICAgIGNoYWxsZW5nZVJlcXVlc3RlZD86IGJvb2xlYW47XG4gICAgc2hvd0xvYWRlcj86IGJvb2xlYW47XG4gICAgYmluPzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbj86IHtcbiAgICAgICAgYWNzV2luZG93U2l6ZT86ICcwMScgfCAnMDInIHwgJzAzJyB8ICcwNCcgfCAnMDUnO1xuICAgIH07XG4gICAgY29sbGVjdERldmljZURhdGE/OiBib29sZWFuO1xuICAgIGFkZEZyYW1lPyhcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVGcmFtZT8oKTogdm9pZDtcbiAgICBvbkxvb2t1cENvbXBsZXRlPyhkYXRhOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhLCBuZXh0OiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhIHtcbiAgICBsb29rdXA6IHtcbiAgICAgICAgdGhyZWVEU2VjdXJlVmVyc2lvbjogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudE1ldGhvZDogQnJhaW50cmVlVmVyaWZ5UGF5bG9hZDtcbiAgICByZXF1aXJlc1VzZXJBdXRoZW50aWNhdGlvbjogYm9vbGVhbjtcbiAgICB0aHJlZURTZWN1cmVJbmZvOiB7XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlT3JkZXJTdGF0dXMge1xuICAgIENvbXBsZXRlZCA9ICdDT01QTEVURUQnLFxuICAgIFBlbmRpbmcgPSAnUEVORElORycsXG4gICAgRmFpbGVkID0gJ0ZBSUxFRCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlT3JkZXJTdGF0dXNEYXRhIHtcbiAgICBzdGF0dXM6IEJyYWludHJlZU9yZGVyU3RhdHVzO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVVMgQmFuayBBY2NvdW50IChBQ0gpXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlVXNCYW5rQWNjb3VudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudCB7XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50VG9rZW5pemF0aW9uT3B0aW9ucyB7XG4gICAgYmFua0RldGFpbHM6IEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzO1xuICAgIG1hbmRhdGVUZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudERldGFpbHMge1xuICAgIGFjY291bnROdW1iZXI6IHN0cmluZztcbiAgICByb3V0aW5nTnVtYmVyOiBzdHJpbmc7XG4gICAgb3duZXJzaGlwVHlwZTogc3RyaW5nO1xuICAgIGFjY291bnRUeXBlOiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJ1c2luZXNzTmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzczoge1xuICAgICAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgICAgIGV4dGVuZGVkQWRkcmVzczogc3RyaW5nO1xuICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICByZWdpb246IHN0cmluZztcbiAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIH07XG59XG5cbi8vIFRPRE86IG1vdmUgdGhpcyBpbnRlcmZhY2UgaW4gc2VwYXJhdGUgdHlwZXMgZ3JvdXAgaWYgaXQgd2lsbCBiZSB1c2VkIGluIGFub3RoZXIgKG5vdCBBQ0gpIHN0cmF0ZWdpZXNcbi8vIFRoaXMgc2VlbXMgdG8gYmUgYW4gaW50ZXJmYWNlIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBkaWZmZXJlbnQgcGxhY2VzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMge1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBheWVySWQ/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcztcbiAgICBiaWxsaW5nQWRkcmVzcz86IEJyYWludHJlZUFkZHJlc3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQWRkcmVzcyB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMjogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcyBleHRlbmRzIEJyYWludHJlZUFkZHJlc3Mge1xuICAgIHJlY2lwaWVudE5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIG5vbi1pbnN0YW50IHBheW1lbnQgbWV0aG9kc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gTm9uSW5zdGFudExvY2FsUGF5bWVudE1ldGhvZHMge1xuICAgIFRSVVNUTFkgPSAndHJ1c3RseScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50TWV0aG9kUmVkaXJlY3RBY3Rpb24ge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvZmZzaXRlX3JlZGlyZWN0JztcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2Uge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBvcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHk6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEZhc3RsYW5lXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUZhc3RsYW5lLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnIHtcbiAgICBhdXRob3JpemF0aW9uOiBzdHJpbmc7XG4gICAgY2xpZW50OiBCcmFpbnRyZWVDbGllbnQ7XG4gICAgZGV2aWNlRGF0YT86IHN0cmluZztcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZSB7XG4gICAgaWRlbnRpdHk6IEJyYWludHJlZUZhc3RsYW5lSWRlbnRpdHk7XG4gICAgcHJvZmlsZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlO1xuICAgIEZhc3RsYW5lQ2FyZENvbXBvbmVudDogKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zLFxuICAgICkgPT4gUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQ+O1xuICAgIGV2ZW50czogQnJhaW50cmVlRmFzdGxhbmVFdmVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlIHtcbiAgICBzaG93Q2FyZFNlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZT47XG4gICAgc2hvd1NoaXBwaW5nQWRkcmVzc1NlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3NTZWxlY3RvclJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzc1NlbGVjdG9yUmVzcG9uc2Uge1xuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGJvb2xlYW47XG4gICAgc2VsZWN0ZWRBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcyB7XG4gICAgbmFtZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZTtcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICByZWdpb246IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVOdW1lcmljPzogbnVtYmVyO1xuICAgIGNvdW50cnlDb2RlQWxwaGEyOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZSB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZSB7XG4gICAgc2VsZWN0aW9uQ2hhbmdlZDogYm9vbGVhbjtcbiAgICBzZWxlY3RlZENhcmQ6IEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJyYWludHJlZUZhc3RsYW5lOiBCcmFpbnRyZWVGYXN0bGFuZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUlkZW50aXR5IHtcbiAgICBsb29rdXBDdXN0b21lckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVMb29rdXBDdXN0b21lckJ5RW1haWxSZXN1bHQ+O1xuICAgIHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3coXG4gICAgICAgIGN1c3RvbWVySWQ6IHN0cmluZyxcbiAgICAgICAgb3B0aW9ucz86IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbkN1c3RvbWVyUmVzdWx0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUxvb2t1cEN1c3RvbWVyQnlFbWFpbFJlc3VsdCB7XG4gICAgY3VzdG9tZXJDb250ZXh0SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbk9wdGlvbnMge1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHtcbiAgICByb290Pzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5Pzogc3RyaW5nO1xuICAgICAgICBlcnJvckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgICAgICBmb250U2l6ZUJhc2U/OiBzdHJpbmc7XG4gICAgICAgIHBhZGRpbmc/OiBzdHJpbmc7XG4gICAgICAgIHByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICB9O1xuICAgIGlucHV0Pzoge1xuICAgICAgICBib3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb2N1c0JvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlcldpZHRoPzogc3RyaW5nO1xuICAgICAgICB0ZXh0Q29sb3JCYXNlPzogc3RyaW5nO1xuICAgIH07XG4gICAgdG9nZ2xlPzoge1xuICAgICAgICBjb2xvclByaW1hcnk/OiBzdHJpbmc7XG4gICAgICAgIGNvbG9yU2Vjb25kYXJ5Pzogc3RyaW5nO1xuICAgIH07XG4gICAgdGV4dD86IHtcbiAgICAgICAgYm9keT86IHtcbiAgICAgICAgICAgIGNvbG9yPzogc3RyaW5nO1xuICAgICAgICAgICAgZm9udFNpemU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIGNhcHRpb24/OiB7XG4gICAgICAgICAgICBjb2xvcj86IHN0cmluZztcbiAgICAgICAgICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYnJhbmRpbmc/OiBzdHJpbmc7IC8vICdsaWdodCcgfCAnZGFyaydcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIHtcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBGQUlMRUQgPSAnZmFpbGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxsZWQnLFxuICAgIFVOUkVDT0dOSVpFRCA9ICd1bnJlY29nbml6ZWQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25DdXN0b21lclJlc3VsdCB7XG4gICAgYXV0aGVudGljYXRpb25TdGF0ZTogQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIHByb2ZpbGVEYXRhOiBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZURhdGEge1xuICAgIGZhc3RsYW5lQ3VzdG9tZXJBdXRoQXNzZXJ0aW9uVG9rZW46IHN0cmluZztcbiAgICBmYXN0bGFuZUN1c3RvbWVySWQ6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBjYXJkOiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50O1xuICAgIG5hbWU6IEJyYWludHJlZUZhc3RsYW5lTmFtZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZU5hbWUge1xuICAgIGZpcnN0TmFtZTogc3RyaW5nO1xuICAgIGxhc3ROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IG51bWJlcjtcbiAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZFBheW1lbnRTb3VyY2Uge1xuICAgIGJyYW5kOiBzdHJpbmc7XG4gICAgZXhwaXJ5OiBzdHJpbmc7XG4gICAgbGFzdERpZ2l0czogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBiaW5EZXRhaWxzPzoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFNvdXJjZSB7XG4gICAgY2FyZDogQnJhaW50cmVlRmFzdGxhbmVDYXJkUGF5bWVudFNvdXJjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICBpZDogc3RyaW5nOyAvLyBUaGlzIGlzIHRoZSBub25jZSAvIHRva2VuXG4gICAgcGF5bWVudFNvdXJjZTogQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U291cmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudE9wdGlvbnMge1xuICAgIHN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb247XG4gICAgZmllbGRzOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRGaWVsZHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50RmllbGRzIHtcbiAgICBjYXJkaG9sZGVyTmFtZT86IHtcbiAgICAgICAgZW5hYmxlZD86IGJvb2xlYW47XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwaG9uZU51bWJlcj86IHtcbiAgICAgICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYXN0bGFuZVN0eWxlc1NldHRpbmdzIHtcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0Vycm9yQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NGb250RmFtaWx5Pzogc3RyaW5nO1xuICAgIGZhc3RsYW5lUm9vdFNldHRpbmdzUGFkZGluZz86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc1ByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyV2lkdGg/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzRm9jdXNCb3JkZXJCYXNlPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2U/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yUHJpbWFyeT86IHN0cmluZztcbiAgICBmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnk/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVCcmFuZGluZ1NldHRpbmdzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lVG9rZW5pemVPcHRpb25zIHtcbiAgICBuYW1lPzoge1xuICAgICAgICBmdWxsTmFtZTogc3RyaW5nO1xuICAgIH07XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgc2hpcHBpbmdBZGRyZXNzPzogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRXZlbnRzIHtcbiAgICBhcG1TZWxlY3RlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lQXBtU2VsZWN0ZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG4gICAgZW1haWxTdWJtaXR0ZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUVtYWlsRW50ZXJlZEV2ZW50T3B0aW9ucykgPT4gdm9pZDtcbiAgICBvcmRlclBsYWNlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGNvbnRleHRfdHlwZTogJ2NzX2lkJztcbiAgICBjb250ZXh0X2lkOiBzdHJpbmc7IC8vIGNoZWNrb3V0IHNlc3Npb24gaWRcbiAgICBwYWdlX3R5cGU6ICdjaGVja291dF9wYWdlJztcbiAgICBwYWdlX25hbWU6IHN0cmluZzsgLy8gdGl0bGUgb2YgdGhlIGNoZWNrb3V0IGluaXRpYXRpb24gcGFnZVxuICAgIHBhcnRuZXJfbmFtZTogJ2JpZ2MnO1xuICAgIHVzZXJfdHlwZTogJ3N0b3JlX21lbWJlcicgfCAnc3RvcmVfZ3Vlc3QnOyAvLyB0eXBlIG9mIHRoZSB1c2VyIG9uIHRoZSBtZXJjaGFudCBzaXRlXG4gICAgc3RvcmVfaWQ6IHN0cmluZztcbiAgICBtZXJjaGFudF9uYW1lOiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudDogc3RyaW5nOyAvLyBzdHJpbmdpZnkgSlNPTiBvYmplY3QgXCJbeyB0cmVhdG1lbnRfZ3JvdXA6ICd0ZXN0JyB8ICdjb250cm9sJyB9XVwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBcG1TZWxlY3RlZEV2ZW50T3B0aW9uc1xuICAgIGV4dGVuZHMgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGFwbV9zaG93bjogJzAnIHwgJzEnOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiB0aGUgY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9saXN0OiBzdHJpbmc7IC8vIGxpc3Qgb2YgYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9zZWxlY3RlZDogc3RyaW5nOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBtZXRob2Qgc2VsZWN0ZWQgLyBtZXRob2RJZFxuICAgIGFwbV9sb2NhdGlvbjogJ3ByZS1lbWFpbCBzZWN0aW9uJyB8ICdwYXltZW50IHNlY3Rpb24nOyAvLyBwbGFjZW1lbnQgb2YgQVBNLCB3aGV0aGVyIGl0IGJlIGFib3ZlIHRoZSBlbWFpbCBlbnRyeSBvciBpbiB0aGUgcmFkaW8gYnV0dG9uc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRW1haWxFbnRlcmVkRXZlbnRPcHRpb25zXG4gICAgZXh0ZW5kcyBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50Q29tbW9uT3B0aW9ucyB7XG4gICAgdXNlcl9lbWFpbF9zYXZlZDogYm9vbGVhbjsgLy8gc2hvd3Mgd2hldGhlciBjaGVja291dCB3YXMgbG9hZGVkIHdpdGggb3Igd2l0aG91dCBhIHNhdmVkIGVtYWlsXG4gICAgYXBtX3Nob3duOiAnMCcgfCAnMSc7IC8vIGFsdGVybmF0ZSBwYXltZW50IHNob3duIG9uIHRoZSBjaGVja291dCBwYWdlXG4gICAgYXBtX2xpc3Q6IHN0cmluZzsgLy8gbGlzdCBvZiBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiBjaGVja291dCBwYWdlICdhcHBsZXBheSxnb29nbGVwYXkscGF5cGFsJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnNcbiAgICBleHRlbmRzIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBzZWxlY3RlZF9wYXltZW50X21ldGhvZDogc3RyaW5nO1xuICAgIGN1cnJlbmN5X2NvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQge1xuICAgIChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zKTogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50O1xuICAgIGdldFBheW1lbnRUb2tlbihcbiAgICAgICAgb3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50PjtcbiAgICByZW5kZXIoZWxlbWVudDogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheWxvYWQgVmVyaWZpY2F0aW9uXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlcmlmeVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBjYXJkVHlwZTogc3RyaW5nO1xuICAgICAgICBsYXN0Rm91cjogc3RyaW5nO1xuICAgICAgICBsYXN0VHdvOiBzdHJpbmc7XG4gICAgfTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgbGlhYmlsaXR5U2hpZnRlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEVycm9yc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlRXJyb3JUeXBlIHtcbiAgICBDdXN0b21lciA9ICdDVVNUT01FUicsXG4gICAgTWVyY2hhbnQgPSAnTUVSQ0hBTlQnLFxuICAgIE5ldHdvcmsgPSAnTkVUV09SSycsXG4gICAgSW50ZXJuYWwgPSAnSU5URVJOQUwnLFxuICAgIFVua25vd24gPSAnVU5LTk9XTicsXG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVycm9yQ29kZSB7XG4gICAgS291bnROb3RFbmFibGVkID0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvclR5cGU7XG4gICAgY29kZTogc3RyaW5nIHwgQnJhaW50cmVlRXJyb3JDb2RlLktvdW50Tm90RW5hYmxlZDtcbiAgICBkZXRhaWxzPzogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVSZWRpcmVjdEVycm9yIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzcyBleHRlbmRzIEFkZHJlc3Mge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMge1xuICAgIFZpc2EgPSAndmlzYScsXG4gICAgTWFzdGVyY2FyZCA9ICdtYXN0ZXJjYXJkJyxcbiAgICBBbWVyaWNhbkV4cHJlc3MgPSAnYW1lcmljYW4tZXhwcmVzcycsXG4gICAgRGluZXJzQ2x1YiA9ICdkaW5lcnMtY2x1YicsXG4gICAgRGlzY292ZXIgPSAnZGlzY292ZXInLFxuICAgIEpjYiA9ICdqY2InLFxuICAgIFVuaW9uUGF5ID0gJ3VuaW9uLXBheScsXG4gICAgTWFlc3RybyA9ICdtYWVzdHJvJyxcbiAgICBFbG8gPSAnZWxvJyxcbiAgICBNaXIgPSAnbWlyJyxcbiAgICBIaXBlciA9ICdoaXBlcicsXG4gICAgSGlwZXJjYXJkID0gJ2hpcGVyY2FyZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3NTdGF0ZSB7XG4gICAgZGF0YT86IEJpbGxpbmdBZGRyZXNzO1xuICAgIGVycm9yczogQmlsbGluZ0FkZHJlc3NFcnJvcnNTdGF0ZTtcbiAgICBzdGF0dXNlczogQmlsbGluZ0FkZHJlc3NTdGF0dXNlc1N0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdBZGRyZXNzRXJyb3JzU3RhdGUge1xuICAgIGxvYWRFcnJvcj86IEVycm9yO1xuICAgIHVwZGF0ZUVycm9yPzogRXJyb3I7XG4gICAgY29udGludWVBc0d1ZXN0RXJyb3I/OiBFcnJvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzc1N0YXR1c2VzU3RhdGUge1xuICAgIGlzTG9hZGluZz86IGJvb2xlYW47XG4gICAgaXNVcGRhdGluZz86IGJvb2xlYW47XG4gICAgaXNDb250aW51aW5nQXNHdWVzdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgIGRhdGE6IHtcbiAgICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiB7XG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXJkaG9sZGVyTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgY3Z2Pzogc3RyaW5nO1xuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIG51bWJlcjogc3RyaW5nO1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBib29sZWFuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGVuZHBvaW50OiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkgfSBmcm9tICcuL2JyYWludHJlZS1zZGstc2NyaXB0cy1pbnRlZ3JpdHknO1xuaW1wb3J0IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIGZyb20gJy4vYnJhaW50cmVlLXNkay12ZXJzaW9uLW1hbmFnZXInO1xuaW1wb3J0IGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24gZnJvbSAnLi9pc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uJztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlQ2xpZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMsXG4gICAgQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3IsXG4gICAgQnJhaW50cmVlUGF5cGFsQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yLFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3IsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVmlzYUNoZWNrb3V0U0RLIH0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXI6IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICkge31cblxuICAgIGFzeW5jIGxvYWRDbGllbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUNsaWVudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnQsXG4gICAgICAgICAgICAnY2xpZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZEZhc3RsYW5lKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lLFxuICAgICAgICAgICAgJ2Zhc3RsYW5lLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFBheXBhbENoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgJ3BheXBhbC1jaGVja291dC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRQYXlwYWwoKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVBheXBhbENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWwsXG4gICAgICAgICAgICAncGF5cGFsLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZExvY2FsUGF5bWVudCgpOiBQcm9taXNlPEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudCxcbiAgICAgICAgICAgICdsb2NhbC1wYXltZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZERhdGFDb2xsZWN0b3IoKTogUHJvbWlzZTxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3IsXG4gICAgICAgICAgICAnZGF0YS1jb2xsZWN0b3IubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkVXNCYW5rQWNjb3VudCgpOiBQcm9taXNlPEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudCxcbiAgICAgICAgICAgICd1cy1iYW5rLWFjY291bnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkR29vZ2xlUGF5bWVudCgpOiBQcm9taXNlPEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudCxcbiAgICAgICAgICAgICdnb29nbGUtcGF5bWVudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWQzRFMoKTogUHJvbWlzZTxCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmUsXG4gICAgICAgICAgICAndGhyZWUtZC1zZWN1cmUubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2FkVmlzYUNoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0LFxuICAgICAgICAgICAgJ3Zpc2EtY2hlY2tvdXQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2FkVmVubW9DaGVja291dCgpOiBQcm9taXNlPEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVmVubW8sXG4gICAgICAgICAgICAndmVubW8ubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkSG9zdGVkRmllbGRzKCk6IFByb21pc2U8QnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzLFxuICAgICAgICAgICAgJ2hvc3RlZC1maWVsZHMubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkVmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlPzogYm9vbGVhbik6IFByb21pc2U8VmlzYUNoZWNrb3V0U0RLPiB7XG4gICAgICAgIGlmICh0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IHRlc3RNb2RlXG4gICAgICAgICAgICA/ICdzaGEzODQtMGV1MXMxR3RxelhsTDlEdExnbXd6QzVXV2xFSC9BRFJNMG4zOGNWUWt2dFQrVy9nZXk5NnJjYjFMd3VVT1BEbSdcbiAgICAgICAgICAgIDogJ3NoYTM4NC0xZjFjc3ZQM1pGeGc0ZElMSDFHYVk0TEhsWjBvWDdSazgzcnhtTGx3Ym5JaTRUTTBOWXpYb2V2MVZvRWlWRFM2JztcblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXJcbiAgICAgICAgICAgIC5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgICAgIGAvLyR7XG4gICAgICAgICAgICAgICAgICAgIHRlc3RNb2RlID8gJ3NhbmRib3gtJyA6ICcnXG4gICAgICAgICAgICAgICAgfWFzc2V0cy5zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vY2hlY2tvdXQtd2lkZ2V0L3Jlc291cmNlcy9qcy9pbnRlZ3JhdGlvbi92MS9zZGsuanNgLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVncml0eTogaGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiAnYW5vbnltb3VzJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxUIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnM+KFxuICAgICAgICBicmFpbnRyZWVNb2R1bGVOYW1lOiBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgICAgICBmaWxlTmFtZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8VD4ge1xuICAgICAgICBsZXQgbW9kdWxlID0gdGhpcy5nZXRCcmFpbnRyZWVNb2R1bGUoYnJhaW50cmVlTW9kdWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlU2RrVmVyc2lvbiA9IHRoaXMuYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIuZ2V0U0RLVmVyc2lvbigpO1xuXG4gICAgICAgIGNvbnN0IHNjcmlwdFBhdGggPSBgLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvJHticmFpbnRyZWVTZGtWZXJzaW9ufS9qcy8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgY29uc3QgaW50ZWdyaXR5ID0gaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbihicmFpbnRyZWVTZGtWZXJzaW9uKVxuICAgICAgICAgICAgPyB0aGlzLmdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZShicmFpbnRyZWVNb2R1bGVOYW1lLCBicmFpbnRyZWVTZGtWZXJzaW9uKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcbiAgICAgICAgICAgIHNjcmlwdFBhdGgsXG4gICAgICAgICAgICBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGludGVncml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgbW9kdWxlID0gdGhpcy5nZXRCcmFpbnRyZWVNb2R1bGUoYnJhaW50cmVlTW9kdWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICByZXR1cm4gbW9kdWxlIGFzIFQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCcmFpbnRyZWVNb2R1bGUoXG4gICAgICAgIGJyYWludHJlZU1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgKTogQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LmJyYWludHJlZT8uW2JyYWludHJlZU1vZHVsZU5hbWVdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SW50ZWdyaXR5VmFsdWVzQnlNb2R1bGVOYW1lKFxuICAgICAgICBtb2R1bGVOYW1lOiBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiBrZXlvZiB0eXBlb2YgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSxcbiAgICApOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBpbnRlZ3JpdHkgPSBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZW3ZlcnNpb25dW21vZHVsZU5hbWVdO1xuXG4gICAgICAgIGlmICghaW50ZWdyaXR5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZmlsZU5hbWUgdmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlZ3JpdHk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB9IGZyb20gJy4vYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eSc7XG5cbmZ1bmN0aW9uIGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24oXG4gICAgdmVyc2lvbjogc3RyaW5nLFxuKTogdmVyc2lvbiBpcyBrZXlvZiB0eXBlb2YgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB7XG4gICAgcmV0dXJuIHZlcnNpb24gaW4gQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbjtcbiIsImltcG9ydCB7IFN0YW5kYXJkRXJyb3IgfSBmcm9tICcuL2luZGV4JztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHRoZSBzaG9wcGVyIGlzIHVzaW5nIGEgYnJvd3NlciB2ZXJzaW9uIHRoYXQgaXMgbm90XG4gKiBzdXBwb3J0ZWQgYnkgdXMgb3IgYW55IHRoaXJkIHBhcnR5IHByb3ZpZGVyIHdlIHVzZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1Vuc3VwcG9ydGVkIGJyb3dzZXIgZXJyb3InKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAndW5zdXBwb3J0ZWRfYnJvd3Nlcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlRXJyb3IgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQnJhaW50cmVlRXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBCcmFpbnRyZWVFcnJvciB7XG4gICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGVycm9yICE9PSBudWxsICYmXG4gICAgICAgICAgICAoJ3R5cGUnIGluIGVycm9yIHx8ICdtZXNzYWdlJyBpbiBlcnJvciB8fCAnY29kZScgaW4gZXJyb3IpLFxuICAgICk7XG59XG4iLCJpbXBvcnQge1xuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlU2NyaXB0TG9hZGVyIGZyb20gJy4vYnJhaW50cmVlLXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVDbGllbnQsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVFcnJvckNvZGUsXG4gICAgQnJhaW50cmVlR29vZ2xlUGF5bWVudCxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgQnJhaW50cmVlTW9kdWxlLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZSxcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50LFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlVmlzYUNoZWNrb3V0LFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBpc0JyYWludHJlZUVycm9yIGZyb20gJy4vdXRpbHMvaXMtYnJhaW50cmVlLWVycm9yJztcbmltcG9ydCB7IFZpc2FDaGVja291dFNESyB9IGZyb20gJy4vdmlzYWNoZWNrb3V0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlU2RrIHtcbiAgICBwcml2YXRlIGJyYWludHJlZVZlbm1vPzogQnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICBwcml2YXRlIGJyYWludHJlZUxvY2FsUGF5bWVudD86IEJyYWludHJlZUxvY2FsUGF5bWVudDtcbiAgICBwcml2YXRlIGNsaWVudD86IEJyYWludHJlZUNsaWVudDtcbiAgICBwcml2YXRlIGNsaWVudFRva2VuPzogc3RyaW5nO1xuICAgIHByaXZhdGUgZGF0YUNvbGxlY3Rvcj86IEJyYWludHJlZURhdGFDb2xsZWN0b3I7XG4gICAgcHJpdmF0ZSBnb29nbGVQYXltZW50PzogQnJhaW50cmVlR29vZ2xlUGF5bWVudDtcbiAgICBwcml2YXRlIHRocmVlRFM/OiBCcmFpbnRyZWVUaHJlZURTZWN1cmU7XG4gICAgcHJpdmF0ZSB2aXNhQ2hlY2tvdXQ/OiBQcm9taXNlPEJyYWludHJlZVZpc2FDaGVja291dD47XG4gICAgcHJpdmF0ZSB2aXNhQ2hlY2tvdXRTREs/OiBWaXNhQ2hlY2tvdXRTREs7XG4gICAgcHJpdmF0ZSB1c0JhbmtBY2NvdW50PzogQnJhaW50cmVlVXNCYW5rQWNjb3VudDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYnJhaW50cmVlU2NyaXB0TG9hZGVyOiBCcmFpbnRyZWVTY3JpcHRMb2FkZXIpIHt9XG5cbiAgICBpbml0aWFsaXplKGNsaWVudFRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRDbGllbnRUb2tlbihjbGllbnRUb2tlbik7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnRlYXJkb3duTW9kdWxlKHRoaXMuZGF0YUNvbGxlY3Rvcik7XG5cbiAgICAgICAgdGhpcy5kYXRhQ29sbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIENsaWVudFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfY2xpZW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldENsaWVudCgpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRUb2tlbiA9IHRoaXMuZ2V0Q2xpZW50VG9rZW5PclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDcmVhdG9yID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGF3YWl0IGNsaWVudENyZWF0b3IuY3JlYXRlKHsgYXV0aG9yaXphdGlvbjogY2xpZW50VG9rZW4gfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgRGF0YSBjb2xsZWN0b3JcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX2RhdGEtY29sbGVjdG9yLmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldERhdGFDb2xsZWN0b3JPclRocm93KFxuICAgICAgICBvcHRpb25zPzogUGFydGlhbDxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZz4sXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yPiB7XG4gICAgICAgIGNvbnN0IGVtcHR5RGF0YUNvbGxlY3RvciA9IHtcbiAgICAgICAgICAgIGRldmljZURhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRlYXJkb3duOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRoaXMuZGF0YUNvbGxlY3Rvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb2xsZWN0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRGF0YUNvbGxlY3RvcigpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvckNvbmZpZzogQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAga291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvbGxlY3RvciA9IGF3YWl0IGRhdGFDb2xsZWN0b3IuY3JlYXRlKGRhdGFDb2xsZWN0b3JDb25maWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgJiYgZXJyb3IuY29kZSA9PT0gQnJhaW50cmVlRXJyb3JDb2RlLktvdW50Tm90RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlEYXRhQ29sbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUNvbGxlY3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBHb29nbGUgUGF5bWVudFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfZ29vZ2xlLXBheW1lbnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QnJhaW50cmVlR29vZ2xlUGF5bWVudCgpOiBQcm9taXNlPEJyYWludHJlZUdvb2dsZVBheW1lbnQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmdvb2dsZVBheW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjbGllbnQsIGJyYWludHJlZUdvb2dsZVBheW1lbnRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZEdvb2dsZVBheW1lbnQoKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLmdvb2dsZVBheW1lbnQgPSBhd2FpdCBicmFpbnRyZWVHb29nbGVQYXltZW50LmNyZWF0ZSh7IGNsaWVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdvb2dsZVBheW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgM0RTXG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl90aHJlZS1kLXNlY3VyZS5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCcmFpbnRyZWVUaHJlZURTKCk6IFByb21pc2U8QnJhaW50cmVlVGhyZWVEU2VjdXJlPiB7XG4gICAgICAgIGlmICghdGhpcy50aHJlZURTKSB7XG4gICAgICAgICAgICBjb25zdCBbY2xpZW50LCB0aHJlZURTZWN1cmVdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZDNEUygpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRoaXMudGhyZWVEUyA9IGF3YWl0IHRocmVlRFNlY3VyZS5jcmVhdGUoeyBjbGllbnQsIHZlcnNpb246IDIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50aHJlZURTO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIExvY2FsIFBheW1lbnQgTWV0aG9kc1xuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfbG9jYWwtcGF5bWVudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCcmFpbnRyZWVMb2NhbFBheW1lbnQoXG4gICAgICAgIG1lcmNoYW50QWNjb3VudElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVMb2NhbFBheW1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCkge1xuICAgICAgICAgICAgY29uc3QgW2NsaWVudCwgbG9jYWxQYXltZW50Q3JlYXRvcl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkTG9jYWxQYXltZW50KCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVMb2NhbFBheW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IChicmFpbnRyZWVMb2NhbFBheW1lbnQ6IEJyYWludHJlZUxvY2FsUGF5bWVudCkgPT4gdm9pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0OiAoZXJyb3I6IEJyYWludHJlZUVycm9yKSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIGxvY2FsUGF5bWVudENyZWF0b3IuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGllbnQsIG1lcmNoYW50QWNjb3VudElkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZUxvY2FsUGF5bWVudDogQnJhaW50cmVlTG9jYWxQYXltZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShicmFpbnRyZWVMb2NhbFBheW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBVc0JhbmtBY2NvdW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl91cy1iYW5rLWFjY291bnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXNCYW5rQWNjb3VudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVzQmFua0FjY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICBjb25zdCB1c0JhbmtBY2NvdW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFVzQmFua0FjY291bnQoKTtcblxuICAgICAgICAgICAgdGhpcy51c0JhbmtBY2NvdW50ID0gYXdhaXQgdXNCYW5rQWNjb3VudC5jcmVhdGUoeyBjbGllbnQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy51c0JhbmtBY2NvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFZpc2EgQ2hlY2tvdXRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3Zpc2EtY2hlY2tvdXQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCkge1xuICAgICAgICBpZiAoIXRoaXMudmlzYUNoZWNrb3V0KSB7XG4gICAgICAgICAgICB0aGlzLnZpc2FDaGVja291dCA9IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRWaXNhQ2hlY2tvdXQoKSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtjbGllbnQsIHBheXBhbF0pID0+IHBheXBhbC5jcmVhdGUoeyBjbGllbnQgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmlzYUNoZWNrb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFZpc2EgQ2hlY2tvdXQgU0RLXG4gICAgICogdmlzYSBjaGVja291dCBkb2M6IGh0dHBzOi8vZGV2ZWxvcGVyLnZpc2EuY29tL2NhcGFiaWxpdGllcy92aXNhX2NoZWNrb3V0L2RvY3MtaG93LXRvXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRWaXNhQ2hlY2tvdXRTZGsodGVzdE1vZGU/OiBib29sZWFuKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNhQ2hlY2tvdXRTREspIHtcbiAgICAgICAgICAgIHRoaXMudmlzYUNoZWNrb3V0U0RLID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dFNkayh0ZXN0TW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXRTREs7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmVubW8gQ2hlY2tvdXRcbiAgICAgKiBicmFpbnRyZWUgdmVubW8gY2hlY2tvdXQgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3Zlbm1vLmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldFZlbm1vQ2hlY2tvdXRPclRocm93KCkge1xuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlVmVubW8pIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICBjb25zdCB2ZW5tb0NoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZlbm1vQ2hlY2tvdXQoKTtcblxuICAgICAgICAgICAgY29uc3QgdmVubW9DaGVja291dENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgYWxsb3dEZXNrdG9wOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RVc2FnZTogJ211bHRpX3VzZScsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBicmFpbnRyZWVWZW5tb0NoZWNrb3V0ID0gYXdhaXQgdmVubW9DaGVja291dC5jcmVhdGUodmVubW9DaGVja291dENvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmIChicmFpbnRyZWVWZW5tb0NoZWNrb3V0LmlzQnJvd3NlclN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVWZW5tbyA9IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlVmVubW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0Q2xpZW50VG9rZW4oY2xpZW50VG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDbGllbnRUb2tlbk9yVGhyb3coKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50VG9rZW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0ZWFyZG93bk1vZHVsZShtb2R1bGU/OiBCcmFpbnRyZWVNb2R1bGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZSA/IG1vZHVsZS50ZWFyZG93bigpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlcyB7XG4gICAgW2ZlYXR1cmVOYW1lOiBzdHJpbmddOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgIGZlYXR1cmVzOiBGZWF0dXJlcyxcbiAgICBleHBlcmltZW50TmFtZTogc3RyaW5nLFxuICAgIGZhbGxiYWNrVmFsdWUgPSB0cnVlLFxuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZlYXR1cmVzW2V4cGVyaW1lbnROYW1lXSA/PyBmYWxsYmFja1ZhbHVlO1xufVxuIiwiaW1wb3J0IHsgZmluZCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVIb3N0V2luZG93IH0gZnJvbSAnLi9icmFpbnRyZWUnO1xuaW1wb3J0IHtcbiAgICBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTixcbn0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcmlzb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBnZXRTREtWZXJzaW9uKCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnKCk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RvcmVDb25maWc/LmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXMgfHwge307XG5cbiAgICAgICAgY29uc3QgcHJlbG9hZGVkVmVyc2lvbiA9IHRoaXMuZ2V0UHJlbG9hZGVkU0RLVmVyc2lvbigpO1xuXG4gICAgICAgIGlmIChwcmVsb2FkZWRWZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJlbG9hZGVkVmVyc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRFbmFibGVkKGZlYXR1cmVzLCAnUEFZUEFMLTU4MDkuYnJhaW50cmVlX2hvc3RlZF9maWVsZHNfZml4X3ZlcnNpb24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRFbmFibGVkKGZlYXR1cmVzLCAnUEFZUEFMLTU2MzYudXBkYXRlX2JyYWludHJlZV9zZGtfdmVyc2lvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT047XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByZWxvYWRlZFNES1ZlcnNpb24oKTogdm9pZCB8IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGJyYWludHJlZSA9IHRoaXMuYnJhaW50cmVlV2luZG93LmJyYWludHJlZTtcblxuICAgICAgICBpZiAoYnJhaW50cmVlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkZWRWZXJzaW9uID0gZmluZDx7IFZFUlNJT04/OiBzdHJpbmcgfT4oXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhicmFpbnRyZWUpLFxuICAgICAgICAgICAgICAgIChtb2R1bGUpID0+ICEhbW9kdWxlLlZFUlNJT04sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJlbG9hZGVkVmVyc2lvbj8uVkVSU0lPTjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgRm9ybWF0dGVkUGF5bG9hZCxcbiAgICBGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4gICAgVmF1bHRlZEluc3RydW1lbnQsXG59IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCkgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NOdW1iZXInKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY0N2dicpXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PiB7XG4gICAgY29uc3QgZm9ybWF0dGVkSW5zdHJ1bWVudCA9IChpbnN0cnVtZW50IGFzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+KVxuICAgICAgICAuZm9ybWF0dGVkUGF5bG9hZDtcblxuICAgIGlmICghZm9ybWF0dGVkSW5zdHJ1bWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBCb29sZWFuKGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuICYmIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuLnRva2VuKVxuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB0cnlpbmcgdG8gbWFrZSBhbiBvcmRlciBmaW5hbGl6YXRpb24gcmVxdWVzdCBmb3IgYVxuICogcGF5bWVudCBtZXRob2QgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHN1Y2ggcHJvY2VkdXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1RoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ09yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb3N0ZWRJbnN0cnVtZW50IH0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICBpbnN0cnVtZW50OiB1bmtub3duLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgaW5zdHJ1bWVudCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5zdHJ1bWVudCAhPT0gbnVsbCAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgcGF5bWVudCBtZXRob2QgZXhwZXJpZW5jZXMgc29tZSBraW5kIG9mXG4gKiBmYWlsdXJlIChpLmUuOiBpdHMgY2xpZW50IGxpYnJhcnkgcmV0dXJucyBhIHJlamVjdGVkIHByb21pc2UpLiBBbmQgdGhlcmUgaXNcbiAqIG5vIG90aGVyIGVycm9yIHR5cGUgdGhhdCBpcyBtb3JlIHNwZWNpZmljIHRoYW4gdGhpcyBvbmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaGFzIHRocm93biBhbiB1bmV4cGVjdGVkIGVycm9yLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RGYWlsZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfaW52YWxpZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4gICAgV2l0aEJhbmtBY2NvdW50SW5zdHJ1bWVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlKFxuICAgIGluc3RydW1lbnQ/OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIFdpdGhCYW5rQWNjb3VudEluc3RydW1lbnQge1xuICAgIGlmICghaW5zdHJ1bWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgJ2FjY291bnROdW1iZXInIGluIGluc3RydW1lbnQgJiZcbiAgICAgICAgJ3JvdXRpbmdOdW1iZXInIGluIGluc3RydW1lbnQgJiZcbiAgICAgICAgJ293bmVyc2hpcFR5cGUnIGluIGluc3RydW1lbnQgJiZcbiAgICAgICAgJ2FjY291bnRUeXBlJyBpbiBpbnN0cnVtZW50XG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50LFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzLFxuICAgIGlzQnJhaW50cmVlRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBXaXRoQmFua0FjY291bnRJbnN0cnVtZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IGlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlIGZyb20gJy4uL2lzLXVzLWJhbmstYWNjb3VudC1pbnN0cnVtZW50LWxpa2UnO1xuXG5pbXBvcnQgeyBXaXRoQnJhaW50cmVlQWNoUGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9icmFpbnRyZWUtYWNoLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZUFjaFBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSB1c0JhbmtBY2NvdW50PzogQnJhaW50cmVlVXNCYW5rQWNjb3VudDtcbiAgICBwcml2YXRlIGdldE1hbmRhdGVUZXh0PzogKCkgPT4gc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlQWNoUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBicmFpbnRyZWVhY2ggfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRNYW5kYXRlVGV4dCA9IGJyYWludHJlZWFjaD8uZ2V0TWFuZGF0ZVRleHQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnJhaW50cmVlU2RrLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVzQmFua0FjY291bnQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRVc0JhbmtBY2NvdW50KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJyYWludHJlZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNTdWJtaXR0aW5nV2l0aFZhdWx0aW5nSW5zdHJ1bWVudCA9IGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSB8fCB7fSk7XG5cbiAgICAgICAgY29uc3Qgbm9uY2UgPSBpc1N1Ym1pdHRpbmdXaXRoVmF1bHRpbmdJbnN0cnVtZW50XG4gICAgICAgICAgICA/IGF3YWl0IHRoaXMudG9rZW5pemVQYXltZW50Rm9yVmF1bHRlZEluc3RydW1lbnQocGF5bWVudClcbiAgICAgICAgICAgIDogYXdhaXQgdGhpcy50b2tlbml6ZVBheW1lbnQocGF5bWVudCk7XG5cbiAgICAgICAgY29uc3Qgc3VibWl0UGF5bWVudFBheWxvYWQgPSBpc1N1Ym1pdHRpbmdXaXRoVmF1bHRpbmdJbnN0cnVtZW50XG4gICAgICAgICAgICA/IGF3YWl0IHRoaXMucHJlcGFyZVBheW1lbnREYXRhRm9yVmF1bHRlZEluc3RydW1lbnQobm9uY2UsIHBheW1lbnQpXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMucHJlcGFyZVBheW1lbnREYXRhKG5vbmNlLCBwYXltZW50KTtcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChzdWJtaXRQYXltZW50UGF5bG9hZCk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZGVpbml0aWFsaXplKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdG9rZW5pemVQYXltZW50KHsgcGF5bWVudERhdGEgfTogT3JkZXJQYXltZW50UmVxdWVzdEJvZHkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCB1c0JhbmtBY2NvdW50ID0gdGhpcy5nZXRVc0JhbmtBY2NvdW50T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghaXNVc0JhbmtBY2NvdW50SW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudC5wYXltZW50RGF0YSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hbmRhdGVUZXh0ID0gaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSlcbiAgICAgICAgICAgID8gJ1RoZSBkYXRhIGFyZSB1c2VkIGZvciBzdG9yZWQgaW5zdHJ1bWVudCB2ZXJpZmljYXRpb24nXG4gICAgICAgICAgICA6IHR5cGVvZiB0aGlzLmdldE1hbmRhdGVUZXh0ID09PSAnZnVuY3Rpb24nICYmIHRoaXMuZ2V0TWFuZGF0ZVRleHQoKTtcblxuICAgICAgICBpZiAoIW1hbmRhdGVUZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgZ2V0TWFuZGF0ZVRleHQgaXMgbm90IHByb3ZpZGVkIG9yIHJldHVybmVkIHVuZGVmaW5lZCB2YWx1ZS4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSBhd2FpdCB1c0JhbmtBY2NvdW50LnRva2VuaXplKHtcbiAgICAgICAgICAgICAgICBiYW5rRGV0YWlsczogdGhpcy5nZXRCYW5rRGV0YWlscyhwYXltZW50RGF0YSksXG4gICAgICAgICAgICAgICAgbWFuZGF0ZVRleHQsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG5vbmNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVCcmFpbnRyZWVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudEZvclZhdWx0ZWRJbnN0cnVtZW50KFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICApOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgcGF5bWVudERhdGEgPSB7fSB9ID0gcGF5bWVudDtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGNvbmZpZyB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY29uZmlnLmlzVmF1bHRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZhdWx0aW5nIGlzIGRpc2FibGVkIGJ1dCBhIHZhdWx0ZWQgaW5zdHJ1bWVudCB3YXMgYmVpbmcgdXNlZCBmb3IgdGhpcyB0cmFuc2FjdGlvbicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkVmVyaWZ5VmF1bHRpbmdJbnN0cnVtZW50ID0gaXNVc0JhbmtBY2NvdW50SW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpO1xuXG4gICAgICAgIHJldHVybiBzaG91bGRWZXJpZnlWYXVsdGluZ0luc3RydW1lbnQgPyB0aGlzLnRva2VuaXplUGF5bWVudChwYXltZW50KSA6IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlUGF5bWVudERhdGEoXG4gICAgICAgIG5vbmNlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICApOiBQcm9taXNlPFBheW1lbnQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgcGF5bWVudERhdGEgPSB7fSB9ID0gcGF5bWVudDtcblxuICAgICAgICBpZiAoIWlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsIHJvdXRpbmdOdW1iZXIsIGFjY291bnROdW1iZXIgfSA9XG4gICAgICAgICAgICBwYXltZW50RGF0YTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZDogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVkX2JhbmtfYWNjb3VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVyOiByb3V0aW5nTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza2VkX2FjY291bnRfbnVtYmVyOiBhY2NvdW50TnVtYmVyLnN1YnN0cigtNCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlUGF5bWVudERhdGFGb3JWYXVsdGVkSW5zdHJ1bWVudChcbiAgICAgICAgbm9uY2U6IHN0cmluZyB8IG51bGwsXG4gICAgICAgIHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgICk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBwYXltZW50RGF0YSA9IHt9IH0gPSBwYXltZW50O1xuXG4gICAgICAgIGlmICghaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkgfHwgIWlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudC5wYXltZW50RGF0YSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgeyBpbnN0cnVtZW50SWQsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgfSA9IHBheW1lbnREYXRhO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIC4uLihub25jZSAmJiB7IG5vbmNlIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJhbmtEZXRhaWxzKHBheW1lbnREYXRhOiBXaXRoQmFua0FjY291bnRJbnN0cnVtZW50KTogQnJhaW50cmVlVXNCYW5rQWNjb3VudERldGFpbHMge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IG93bmVyc2hpcFR5cGUgPSBwYXltZW50RGF0YS5vd25lcnNoaXBUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGFjY291bnRUeXBlID0gcGF5bWVudERhdGEuYWNjb3VudFR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjb3VudE51bWJlcjogcGF5bWVudERhdGEuYWNjb3VudE51bWJlcixcbiAgICAgICAgICAgIHJvdXRpbmdOdW1iZXI6IHBheW1lbnREYXRhLnJvdXRpbmdOdW1iZXIsXG4gICAgICAgICAgICBvd25lcnNoaXBUeXBlLFxuICAgICAgICAgICAgLi4uKG93bmVyc2hpcFR5cGUgPT09ICdwZXJzb25hbCdcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHBheW1lbnREYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogcGF5bWVudERhdGEubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiBwYXltZW50RGF0YS5idXNpbmVzc05hbWUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGFjY291bnRUeXBlLFxuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiBiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgICAgICBleHRlbmRlZEFkZHJlc3M6IGJpbGxpbmdBZGRyZXNzLmFkZHJlc3MyLFxuICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBiaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogYmlsbGluZ0FkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBiaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFVzQmFua0FjY291bnRPclRocm93KCk6IEJyYWludHJlZVVzQmFua0FjY291bnQge1xuICAgICAgICBpZiAoIXRoaXMudXNCYW5rQWNjb3VudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVzQmFua0FjY291bnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCcmFpbnRyZWVFcnJvcihlcnJvcjogdW5rbm93bik6IG5ldmVyIHtcbiAgICAgICAgaWYgKCFpc0JyYWludHJlZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUJyYWludHJlZVNkayB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlQWNoUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWFjaC1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlQWNoUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PEJyYWludHJlZUFjaFBheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIHJldHVybiBuZXcgQnJhaW50cmVlQWNoUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBjcmVhdGVCcmFpbnRyZWVTZGsocGF5bWVudEludGVncmF0aW9uU2VydmljZSksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVBY2hQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAnYnJhaW50cmVlYWNoJyB9XSk7XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVNjcmlwdExvYWRlciBmcm9tICcuL2JyYWludHJlZS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBCcmFpbnRyZWVTZGsgZnJvbSAnLi9icmFpbnRyZWUtc2RrJztcbmltcG9ydCBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyc2lvbi1tYW5hZ2VyJztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlU2RrID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTY3JpcHRMb2FkZXIgPSBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICBnZXRTY3JpcHRMb2FkZXIoKSxcbiAgICAgICAgd2luZG93LFxuICAgICAgICBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVTZGsoYnJhaW50cmVlU2NyaXB0TG9hZGVyKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJyYWludHJlZVNkaztcbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscyB7XG4gICAgW2tleTogc3RyaW5nXTogQXJyYXk8eyBtZXNzYWdlOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9Pjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEludmFsaWRGb3JtRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV0YWlsczogUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzLCBtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgZm9ybSBjb250YWlucyBpbnZhbGlkIGRhdGEuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRJbnZhbGlkRm9ybUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfaW52YWxpZF9mb3JtJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgcGF5bWVudCBmbG93IGlzIGNhbmNlbGxlZC4gSXQgY291bGQgYmVcbiAqIGR1ZSB0byBhIGRlbGliZXJhdGUgdXNlciBpbnRlcmFjdGlvbiwgaS5lLjogdGhlIHVzZXIgY2xpY2tzIG9uIGEgY2FuY2VsXG4gKiBidXR0b24gd2hpY2ggZGlzbWlzc2VzIHRoZSBwYXltZW50IG1vZGFsLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1BheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9jYW5jZWxsZWQnO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbmNlbGxhYmxlUHJvbWlzZTxUPiB7XG4gICAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgICBjYW5jZWwhOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocHJvbWlzZTogUHJvbWlzZTxUPikge1xuICAgICAgICBjb25zdCBjYW5jZWxsYWJsZSA9IG5ldyBQcm9taXNlPFQ+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsID0gcmVqZWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Byb21pc2UsIGNhbmNlbGxhYmxlXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsIEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgcGF5cGFsU2RrUHJvbWlzZTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dCB8IG51bGw+IHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRQYXlQYWxTREtPbmNlKFxuICAgIHBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICBjb25maWc6IEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4pOiBQcm9taXNlPEJyYWludHJlZVBheXBhbENoZWNrb3V0IHwgbnVsbD4ge1xuICAgIGlmICghcGF5cGFsU2RrUHJvbWlzZSkge1xuICAgICAgICBwYXlwYWxTZGtQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXQubG9hZFBheVBhbFNESyhjb25maWcsIChlcnI6IG51bGwgfCB1bmRlZmluZWQgfCBCcmFpbnRyZWVFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsU2RrUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXlwYWxTZGtQcm9taXNlO1xufVxuXG4vLyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TG9hZFBheVBhbFNES09uY2VQcm9taXNlKCkge1xuICAgIHBheXBhbFNka1Byb21pc2UgPSBudWxsO1xufVxuIiwiLy8gdGhlIFBheVBhbCBzaWRlIG9mIHRoaW5ncyB1c2VzIHVwcGVyY2FzZSBrZXlzIGluc3RlYWQgb2YgY2FtZWwgY2FzZVxuXG4vKipcbiAqXG4gKiBQYXlQYWwgY29uc3RhbnRzXG4gKlxuICovXG5leHBvcnQgY29uc3QgUEFZUEFMX0NPTVBPTkVOVFMgPSBbJ2J1dHRvbnMnLCAnbWVzc2FnZXMnXTtcblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVMYXlvdXRPcHRpb24ge1xuICAgIEhPUklaT05UQUwgPSAnaG9yaXpvbnRhbCcsXG4gICAgVkVSVElDQUwgPSAndmVydGljYWwnLFxufVxuXG5leHBvcnQgZW51bSBQYXlwYWxCdXR0b25TdHlsZVNpemVPcHRpb24ge1xuICAgIFNNQUxMID0gJ3NtYWxsJyxcbiAgICBNRURJVU0gPSAnbWVkaXVtJyxcbiAgICBMQVJHRSA9ICdsYXJnZScsXG4gICAgUkVTUE9OU0lWRSA9ICdyZXNwb25zaXZlJyxcbn1cblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbiB7XG4gICAgR09MRCA9ICdnb2xkJyxcbiAgICBCTFVFID0gJ2JsdWUnLFxuICAgIFNJbFZFUiA9ICdzaWx2ZXInLFxuICAgIEJMQUNLID0gJ2JsYWNrJyxcbiAgICBXSElURSA9ICd3aGl0ZScsXG59XG5cbmV4cG9ydCBlbnVtIFBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24ge1xuICAgIENIRUNLT1VUID0gJ2NoZWNrb3V0JyxcbiAgICBQQVkgPSAncGF5JyxcbiAgICBCVVlOT1cgPSAnYnV5bm93JyxcbiAgICBQQVlQQUwgPSAncGF5cGFsJyxcbiAgICBDUkVESVQgPSAnY3JlZGl0Jyxcbn1cblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVTaGFwZU9wdGlvbiB7XG4gICAgUElMTCA9ICdwaWxsJyxcbiAgICBSRUNUID0gJ3JlY3QnLFxufVxuXG4vKipcbiAqXG4gKiBQYXlQYWwgaW50ZXJmYWNlc1xuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxTREsge1xuICAgIEJ1dHRvbjogUGF5cGFsQnV0dG9uO1xuICAgIGNoZWNrb3V0OiBQYXlwYWxFeHByZXNzQ2hlY2tvdXQ7XG4gICAgRlVORElORzogUGF5cGFsRnVuZGluZ1R5cGVMaXN0O1xuICAgIEJ1dHRvbnMob3B0aW9uczogUGF5cGFsQnV0dG9uT3B0aW9ucyk6IFBheXBhbEJ1dHRvblJlbmRlcjtcbiAgICBNZXNzYWdlcyhvcHRpb25zOiBNZXNzYWdpbmdPcHRpb25zKTogTWVzc2FnaW5nUmVuZGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEJ1dHRvbiB7XG4gICAgcmVuZGVyKG9wdGlvbnM6IFBheXBhbEJ1dHRvbk9wdGlvbnMsIGNvbnRhaW5lcjogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXQge1xuICAgIGluaXRYTygpOiB2b2lkO1xuICAgIHN0YXJ0Rmxvdyh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gICAgY2xvc2VGbG93KCk6IHZvaWQ7XG4gICAgc2V0dXAobWVyY2hhbnRJZDogc3RyaW5nLCBvcHRpb25zOiBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zIHtcbiAgICBidXR0b246IHN0cmluZztcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2luZ09wdGlvbnMge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGJ1eWVyQ291bnRyeT86IHN0cmluZztcbiAgICBwbGFjZW1lbnQ6IHN0cmluZztcbiAgICBzdHlsZT86IE1lc3NhZ2VzU3R5bGVPcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VzU3R5bGVPcHRpb25zIHtcbiAgICBjb2xvcj86IHN0cmluZzsgLy8gJ2JsdWUnIHwgJ2JsYWNrJyB8ICd3aGl0ZScgfCAnd2hpdGUtbm8tYm9yZGVyJyB8ICdncmF5JyB8ICdtb25vY2hyb21lJyB8ICdncmF5c2NhbGUnXG4gICAgbGF5b3V0Pzogc3RyaW5nOyAvLyAndGV4dCcgfCAnZmxleCdcbiAgICBsb2dvPzoge1xuICAgICAgICB0eXBlPzogc3RyaW5nOyAvLyAncHJpbWFyeScgfCAnYWx0ZXJuYXRpdmUnIHwgJ2lubGluZScgfCAnbm9uZSdcbiAgICAgICAgcG9zaXRpb24/OiBzdHJpbmc7IC8vICdsZWZ0JyB8ICdyaWdodCcgfCAndG9wJ1xuICAgIH07XG4gICAgcmF0aW8/OiBzdHJpbmc7IC8vICcxeDEnIHwgJzF4NCcgfCAnOHgxJyB8ICcyMHgxJ1xuICAgIHRleHQ/OiB7XG4gICAgICAgIGFsaWduPzogc3RyaW5nOyAvLyAnbGVmdCcgfCAncmlnaHQnIHwgJ2NlbnRlcidcbiAgICAgICAgY29sb3I/OiBzdHJpbmc7IC8vICdibGFjaycgfCAnd2hpdGUnIHwgJ21vbm9jaHJvbWUnIHwgJ2dyYXlzY2FsZSdcbiAgICAgICAgc2l6ZT86IG51bWJlcjsgLy8gZnJvbSAxMCB0byAxNlxuICAgIH07XG59XG5cbmV4cG9ydCBlbnVtIE1lc3NhZ2luZ1BsYWNlbWVudHMge1xuICAgIENBUlQgPSAnY2FydCcsXG4gICAgSE9NRSA9ICdob21lcGFnZScsXG4gICAgUEFZTUVOVCA9ICdwYXltZW50JyxcbiAgICBQUk9EVUNUID0gJ3Byb2R1Y3QnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2luZ1JlbmRlciB7XG4gICAgcmVuZGVyKGNvbnRhaW5lcjogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxCdXR0b25PcHRpb25zIHtcbiAgICBlbnY/OiBzdHJpbmc7XG4gICAgY29tbWl0PzogYm9vbGVhbjtcbiAgICBzdHlsZT86IFBheXBhbFN0eWxlT3B0aW9ucztcbiAgICBmdW5kaW5nPzogUGF5cGFsRnVuZGluZ1R5cGU7XG4gICAgZnVuZGluZ1NvdXJjZT86IHN0cmluZztcbiAgICBjbGllbnQ/OiBQYXlwYWxDbGllbnRUb2tlbjtcbiAgICBwYXltZW50PyhkYXRhPzogUGF5cGFsQXV0aG9yaXplRGF0YSwgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMpOiBQcm9taXNlPHVua25vd24+O1xuICAgIG9uQXV0aG9yaXplPyhkYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8dW5rbm93bj47XG4gICAgY3JlYXRlT3JkZXI/KGRhdGE/OiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8dW5rbm93bj47XG4gICAgb25BcHByb3ZlPyhkYXRhPzogUGF5cGFsQXV0aG9yaXplRGF0YSwgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMpOiBQcm9taXNlPHVua25vd24+O1xuICAgIG9uQ2xpY2s/KCk6IHZvaWQ7XG4gICAgb25DYW5jZWw/KCk6IHZvaWQ7XG4gICAgb25FcnJvcj8oZXJyb3I6IEVycm9yKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxTdHlsZU9wdGlvbnMge1xuICAgIGxheW91dD86IFBheXBhbEJ1dHRvblN0eWxlTGF5b3V0T3B0aW9uO1xuICAgIHNpemU/OiBQYXlwYWxCdXR0b25TdHlsZVNpemVPcHRpb247XG4gICAgY29sb3I/OiBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uO1xuICAgIGxhYmVsPzogUGF5cGFsQnV0dG9uU3R5bGVMYWJlbE9wdGlvbjtcbiAgICBzaGFwZT86IFBheXBhbEJ1dHRvblN0eWxlU2hhcGVPcHRpb247XG4gICAgdGFnbGluZT86IGJvb2xlYW47XG4gICAgZnVuZGluZ2ljb25zPzogYm9vbGVhbjtcbiAgICBoZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQ2xpZW50VG9rZW4ge1xuICAgIHByb2R1Y3Rpb24/OiBzdHJpbmc7XG4gICAgc2FuZGJveD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxGdW5kaW5nVHlwZSB7XG4gICAgYWxsb3dlZD86IHN0cmluZ1tdO1xuICAgIGRpc2FsbG93ZWQ/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxBY3Rpb25zIHtcbiAgICBwYXltZW50OiBQYXlwYWxQYXltZW50QWN0aW9ucztcbiAgICByZXF1ZXN0OiBQYXlwYWxSZXF1ZXN0QWN0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxCdXR0b25SZW5kZXIge1xuICAgIHJlbmRlcihjb250YWluZXI6IHN0cmluZyk6IHZvaWQ7XG4gICAgaXNFbGlnaWJsZSgpOiBib29sZWFuO1xuICAgIGNsb3NlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQXV0aG9yaXplRGF0YSB7XG4gICAgcGF5ZXJJZDogc3RyaW5nO1xuICAgIHBheW1lbnRJZD86IHN0cmluZztcbiAgICBiaWxsaW5nVG9rZW4/OiBzdHJpbmc7XG4gICAgcGF5ZXJJRD86IHN0cmluZztcbiAgICBwYXltZW50SUQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsRnVuZGluZ1R5cGVMaXN0IHtcbiAgICBDQVJEPzogc3RyaW5nO1xuICAgIENSRURJVD86IHN0cmluZztcbiAgICBQQVlQQUw/OiBzdHJpbmc7XG4gICAgUEFZTEFURVI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsUGF5bWVudEFjdGlvbnMge1xuICAgIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxSZXF1ZXN0QWN0aW9ucyB7XG4gICAgcG9zdCh1cmw6IHN0cmluZywgcGF5bG9hZD86IG9iamVjdCwgb3B0aW9ucz86IG9iamVjdCk6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+O1xufVxuIiwiaW1wb3J0IHsgc3VwcG9ydHNQb3B1cHMgfSBmcm9tICdAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uJztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ2FuY2VsbGFibGVQcm9taXNlLFxuICAgIENyZWRpdENhcmRJbnN0cnVtZW50LFxuICAgIExlZ2FjeUFkZHJlc3MsXG4gICAgTm9uY2VJbnN0cnVtZW50LFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3IsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgbG9hZFBheVBhbFNES09uY2UgZnJvbSAnLi9sb2FkLXBheXBhbC1zZGstb25jZSc7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JzLFxuICAgIEJyYWludHJlZUVudixcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZU1vZHVsZSxcbiAgICBCcmFpbnRyZWVQYXlwYWwsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVSZXF1ZXN0RGF0YSxcbiAgICBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucyxcbiAgICBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuICAgIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVWZXJpZnlQYXlsb2FkLFxuICAgIFBBWVBBTF9DT01QT05FTlRTLFxuICAgIFRva2VuaXphdGlvblBheWxvYWQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi91dGlscy9pcy1icmFpbnRyZWUtZXJyb3InO1xuaW1wb3J0IGlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlIGZyb20gJy4vdXRpbHMvaXMtY3JlZGl0LWNhcmQtaW5zdHJ1bWVudC1saWtlJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxDb25maWcge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgbG9jYWxlOiBzdHJpbmc7XG4gICAgb2ZmZXJDcmVkaXQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZT86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlO1xuICAgIHNob3VsZFNhdmVJbnN0cnVtZW50PzogYm9vbGVhbjtcbn1cblxuLy8gSW5mbzogdGhpcyBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBuZWFyZXN0IGZ1dHVyZS4gUGxlYXNlLCBkbyBub3QgYWRkIGFueXRoaW5nIGhlcmUuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Uge1xuICAgIHByaXZhdGUgY2xpZW50PzogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnQ+O1xuICAgIHByaXZhdGUgY2xpZW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhQ29sbGVjdG9yczogQnJhaW50cmVlRGF0YUNvbGxlY3RvcnMgPSB7fTtcbiAgICBwcml2YXRlIHBheXBhbENoZWNrb3V0PzogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVQYXlwYWw/OiBQcm9taXNlPEJyYWludHJlZVBheXBhbD47XG4gICAgcHJpdmF0ZSB0aHJlZURTZWN1cmVPcHRpb25zPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucztcbiAgICBwcml2YXRlIHRocmVlRFM/OiBQcm9taXNlPEJyYWludHJlZVRocmVlRFNlY3VyZT47XG4gICAgcHJpdmF0ZSB2ZW5tb0NoZWNrb3V0PzogQnJhaW50cmVlVmVubW9DaGVja291dDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNjcmlwdExvYWRlcjogQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIHByaXZhdGUgb3ZlcmxheT86IE92ZXJsYXksXG4gICAgKSB7fVxuXG4gICAgaW5pdGlhbGl6ZShjbGllbnRUb2tlbjogc3RyaW5nLCB0aHJlZURTZWN1cmVPcHRpb25zPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucykge1xuICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgIHRoaXMudGhyZWVEU2VjdXJlT3B0aW9ucyA9IHRocmVlRFNlY3VyZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QnJhaW50cmVlRmFzdGxhbmUoXG4gICAgICAgIGNhcmRJZD86IHN0cmluZyxcbiAgICAgICAgaXNUZXN0TW9kZUVuYWJsZWQ/OiBib29sZWFuLFxuICAgICAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lPiB7XG4gICAgICAgIGlmIChpc1Rlc3RNb2RlRW5hYmxlZCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdheG9FbnYnLCAnc2FuZGJveCcpO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXN0bGFuZUVudicsICdzYW5kYm94Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWVGYXN0bGFuZSkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50VG9rZW4gPSB0aGlzLmdldENsaWVudFRva2VuT3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZURhdGEgPSBhd2FpdCB0aGlzLmdldFNlc3Npb25JZChjYXJkSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRmFzdGxhbmUoKTtcblxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICByb290OiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclByaW1hcnk6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWVGYXN0bGFuZSA9IGF3YWl0IGJyYWludHJlZUZhc3RsYW5lQ3JlYXRvci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgICAgIHN0eWxlczogc3R5bGVzIHx8IGRlZmF1bHRTdHlsZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuYnJhaW50cmVlRmFzdGxhbmU7XG4gICAgfVxuXG4gICAgLy8gSW5mbzogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZC4gVXNlIGdldENsaWVudCBtZXRob2QgZnJvbSBCcmFpbnRyZWVTZGsgY2xhc3MgaW5zdGVhZFxuICAgIGFzeW5jIGdldENsaWVudCgpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRUb2tlbiA9IHRoaXMuZ2V0Q2xpZW50VG9rZW5PclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDcmVhdG9yID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudENyZWF0b3IuY3JlYXRlKHsgYXV0aG9yaXphdGlvbjogY2xpZW50VG9rZW4gfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQ7XG4gICAgfVxuXG4gICAgZ2V0UGF5cGFsKCk6IFByb21pc2U8QnJhaW50cmVlUGF5cGFsPiB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVQYXlwYWwpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlUGF5cGFsID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFBheXBhbCgpLFxuICAgICAgICAgICAgXSkudGhlbigoW2NsaWVudCwgcGF5cGFsXSkgPT4gcGF5cGFsLmNyZWF0ZSh7IGNsaWVudCB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVQYXlwYWw7XG4gICAgfVxuXG4gICAgcGF5cGFsKHsgc2hvdWxkU2F2ZUluc3RydW1lbnQsIC4uLmNvbmZpZyB9OiBQYXlwYWxDb25maWcpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICBjb25zdCBuZXdXaW5kb3dGbG93ID0gc3VwcG9ydHNQb3B1cHMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYXlwYWwoKVxuICAgICAgICAgICAgLnRoZW4oKHBheXBhbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXdXaW5kb3dGbG93KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheT8uc2hvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBwYXlwYWwuZm9jdXNXaW5kb3coKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheXBhbC50b2tlbml6ZSh7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmxvdzogc2hvdWxkU2F2ZUluc3RydW1lbnQgPyAndmF1bHQnIDogJ2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgdXNlcmFjdGlvbjogJ2NvbW1pdCcsXG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJsYXk/LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJsYXk/LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+LFxuICAgICAgICBvblN1Y2Nlc3M6IChpbnN0YW5jZTogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpID0+IHZvaWQsXG4gICAgICAgIG9uRXJyb3I6IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dD4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRQYXlwYWxDaGVja291dCgpO1xuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0Q29uZmlnID0geyBjbGllbnQgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRDYWxsYmFjayA9IChcbiAgICAgICAgICAgIGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBheXBhbFNka0xvYWRDYWxsYmFjayA9ICgpID0+IG9uU3VjY2VzcyhicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICBjb25zdCBwYXlwYWxTZGtMb2FkQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjb25maWcuY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgLi4uKGNvbmZpZy5pc0NyZWRpdEVuYWJsZWQgJiYgeyAnZW5hYmxlLWZ1bmRpbmcnOiAncGF5bGF0ZXInIH0pLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFBBWVBBTF9DT01QT05FTlRTLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgaW50ZW50OiBjb25maWcuaW50ZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdDogY29uZmlnLmNvbW1pdCA/PyB0cnVlLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cucGF5cGFsKSB7XG4gICAgICAgICAgICAgICAgdm9pZCBsb2FkUGF5UGFsU0RLT25jZShicmFpbnRyZWVQYXlwYWxDaGVja291dCwgcGF5cGFsU2RrTG9hZENvbmZpZykudGhlbihcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsU2RrTG9hZENhbGxiYWNrLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wYXlwYWxDaGVja291dCA9IGF3YWl0IHBheXBhbENoZWNrb3V0LmNyZWF0ZShcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0Q29uZmlnLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRDYWxsYmFjayxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXlwYWxDaGVja291dDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXREYXRhQ29sbGVjdG9yKFxuICAgICAgICBvcHRpb25zPzogUGFydGlhbDxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZz4sXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yPiB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5OiBrZXlvZiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9ycyA9IG9wdGlvbnM/LnBheXBhbCA/ICdwYXlwYWwnIDogJ2RlZmF1bHQnO1xuXG4gICAgICAgIGxldCBjYWNoZWQgPSB0aGlzLmRhdGFDb2xsZWN0b3JzW2NhY2hlS2V5XTtcblxuICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb2xsZWN0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRGF0YUNvbGxlY3RvcigpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvckNvbmZpZzogQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAga291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNhY2hlZCA9IGF3YWl0IGRhdGFDb2xsZWN0b3IuY3JlYXRlKGRhdGFDb2xsZWN0b3JDb25maWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgJiYgZXJyb3IuY29kZSA9PT0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJykge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VEYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3JzW2NhY2hlS2V5XSA9IGNhY2hlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuXG4gICAgZ2V0QnJhaW50cmVlRW52KGlzVGVzdE1vZGUgPSBmYWxzZSk6IEJyYWludHJlZUVudiB7XG4gICAgICAgIHJldHVybiBpc1Rlc3RNb2RlID8gQnJhaW50cmVlRW52LlNhbmRib3ggOiBCcmFpbnRyZWVFbnYuUHJvZHVjdGlvbjtcbiAgICB9XG5cbiAgICBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3M6IEFkZHJlc3MpOiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWNpcGllbnROYW1lOiBgJHthZGRyZXNzLmZpcnN0TmFtZX0gJHthZGRyZXNzLmxhc3ROYW1lfWAsXG4gICAgICAgICAgICBsaW5lMTogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGxpbmUyOiBhZGRyZXNzLmFkZHJlc3MyLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcGhvbmU6IGFkZHJlc3MucGhvbmUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MoZGV0YWlsczogQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICBjb25zdCB7IGVtYWlsLCBwaG9uZSwgc2hpcHBpbmdBZGRyZXNzIH0gPSBkZXRhaWxzO1xuICAgICAgICBjb25zdCByZWNpcGllbnROYW1lID0gc2hpcHBpbmdBZGRyZXNzPy5yZWNpcGllbnROYW1lIHx8ICcnO1xuICAgICAgICBjb25zdCBbZmlyc3ROYW1lLCBsYXN0TmFtZV0gPSByZWNpcGllbnROYW1lLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3ROYW1lIHx8ICcnLFxuICAgICAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIHBob25lX251bWJlcjogcGhvbmUsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMTogc2hpcHBpbmdBZGRyZXNzPy5saW5lMSxcbiAgICAgICAgICAgIGFkZHJlc3NfbGluZV8yOiBzaGlwcGluZ0FkZHJlc3M/LmxpbmUyLFxuICAgICAgICAgICAgY2l0eTogc2hpcHBpbmdBZGRyZXNzPy5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IHNoaXBwaW5nQWRkcmVzcz8uc3RhdGUsXG4gICAgICAgICAgICBjb3VudHJ5X2NvZGU6IHNoaXBwaW5nQWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgICAgICBwb3N0YWxfY29kZTogc2hpcHBpbmdBZGRyZXNzPy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlsczogQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICBjb25zdCB7IGJpbGxpbmdBZGRyZXNzLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGhvbmUsIHNoaXBwaW5nQWRkcmVzcyB9ID0gZGV0YWlscztcblxuICAgICAgICBjb25zdCBhZGRyZXNzID0gYmlsbGluZ0FkZHJlc3MgfHwgc2hpcHBpbmdBZGRyZXNzO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogbGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXI6IHBob25lLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzE6IGFkZHJlc3M/LmxpbmUxLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3M/LmxpbmUyLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcz8uY2l0eSxcbiAgICAgICAgICAgIHN0YXRlOiBhZGRyZXNzPy5zdGF0ZSxcbiAgICAgICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgICAgICBwb3N0YWxfY29kZTogYWRkcmVzcz8ucG9zdGFsQ29kZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRJZD86IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudElkICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRTZXNzaW9uSWQoY2FydElkPzogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgcmlza0NvcnJlbGF0aW9uSWQ6IGNhcnRJZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgfVxuXG4gICAgYXN5bmMgdGVhcmRvd24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9ycy5kZWZhdWx0KTtcbiAgICAgICAgYXdhaXQgdGhpcy50ZWFyZG93bk1vZHVsZSh0aGlzLmRhdGFDb2xsZWN0b3JzLnBheXBhbCk7XG4gICAgICAgIHRoaXMuZGF0YUNvbGxlY3RvcnMgPSB7fTtcblxuICAgICAgICBhd2FpdCB0aGlzLnRlYXJkb3duTW9kdWxlKHRoaXMucGF5cGFsQ2hlY2tvdXQpO1xuICAgICAgICB0aGlzLnBheXBhbENoZWNrb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5fdmVubW9DaGVja291dCk7XG4gICAgICAgIC8vIHRoaXMuX3Zlbm1vQ2hlY2tvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gYXdhaXQgdGhpcy50ZWFyZG93bk1vZHVsZSh0aGlzLl92aXNhQ2hlY2tvdXQpO1xuICAgICAgICAvLyB0aGlzLl92aXNhQ2hlY2tvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0M0RTKCk6IFByb21pc2U8QnJhaW50cmVlVGhyZWVEU2VjdXJlPiB7XG4gICAgICAgIGlmICghdGhpcy50aHJlZURTKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlRFMgPSBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkM0RTKCksXG4gICAgICAgICAgICBdKS50aGVuKChbY2xpZW50LCB0aHJlZURTZWN1cmVdKSA9PiB0aHJlZURTZWN1cmUuY3JlYXRlKHsgY2xpZW50LCB2ZXJzaW9uOiAyIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlRFM7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VmVubW9DaGVja291dChcbiAgICAgICAgdmVubW9Db25maWc/OiBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWcsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0PiB7XG4gICAgICAgIGlmICghdGhpcy52ZW5tb0NoZWNrb3V0KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgdmVubW9DaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRWZW5tb0NoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIGFsbG93RGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kVXNhZ2U6ICdtdWx0aV91c2UnLFxuICAgICAgICAgICAgICAgIC4uLih2ZW5tb0NvbmZpZyB8fCB7fSksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnZlbm1vQ2hlY2tvdXQgPSBhd2FpdCBuZXcgUHJvbWlzZTxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgICAgIHZlbm1vQ2hlY2tvdXQuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICB2ZW5tb0NoZWNrb3V0Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAoZXJyb3I6IEJyYWludHJlZUVycm9yLCBicmFpbnRyZWVWZW5tb0NoZWNrb3V0OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnJhaW50cmVlVmVubW9DaGVja291dC5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFVuc3VwcG9ydGVkQnJvd3NlckVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJyYWludHJlZVZlbm1vQ2hlY2tvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZlbm1vQ2hlY2tvdXQ7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICBCcmFpbnRyZWUgQ3JlZGl0IENhcmQgYW5kIEJyYWludHJlZSBIb3N0ZWQgRm9ybVxuICAgKi9cbiAgICBhc3luYyB2ZXJpZnlDYXJkKFxuICAgICAgICBwYXltZW50OiBQYXltZW50LFxuICAgICAgICBiaWxsaW5nQWRkcmVzczogQWRkcmVzcyxcbiAgICAgICAgYW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTxOb25jZUluc3RydW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdG9rZW5pemF0aW9uUGF5bG9hZCA9IGF3YWl0IHRoaXMudG9rZW5pemVDYXJkKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24odG9rZW5pemF0aW9uUGF5bG9hZCwgYW1vdW50KTtcbiAgICB9XG5cbiAgICBhc3luYyB0b2tlbml6ZUNhcmQocGF5bWVudDogUGF5bWVudCwgYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MpOiBQcm9taXNlPFRva2VuaXphdGlvblBheWxvYWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSB9ID0gcGF5bWVudDtcblxuICAgICAgICBpZiAoIWlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnJvcnMgPSB0aGlzLmdldEVycm9yc1JlcXVpcmVkRmllbGRzKHBheW1lbnREYXRhKTtcblxuICAgICAgICBpZiAoIWlzRW1wdHkoZXJyb3JzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHRoaXMubWFwVG9DcmVkaXRDYXJkKHBheW1lbnREYXRhLCBiaWxsaW5nQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgY3JlZGl0Q2FyZHMgfSA9IGF3YWl0IGNsaWVudC5yZXF1ZXN0KHJlcXVlc3REYXRhKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9uY2U6IGNyZWRpdENhcmRzWzBdLm5vbmNlLFxuICAgICAgICAgICAgYmluOiBjcmVkaXRDYXJkc1swXS5kZXRhaWxzLmJpbixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24oXG4gICAgICAgIHRva2VuaXphdGlvblBheWxvYWQ6IFRva2VuaXphdGlvblBheWxvYWQsXG4gICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4ge1xuICAgICAgICBjb25zdCB0aHJlZURTZWN1cmUgPSBhd2FpdCB0aGlzLmdldDNEUygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByZXNlbnQzRFNDaGFsbGVuZ2UodGhyZWVEU2VjdXJlLCBhbW91bnQsIHRva2VuaXphdGlvblBheWxvYWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGVhcmRvd25Nb2R1bGUobW9kdWxlPzogQnJhaW50cmVlTW9kdWxlKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGUgPyBtb2R1bGUudGVhcmRvd24oKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2xpZW50VG9rZW5PclRocm93KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudFRva2VuO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RXJyb3JzUmVxdWlyZWRGaWVsZHMoXG4gICAgICAgIHBheW1lbnREYXRhOiBDcmVkaXRDYXJkSW5zdHJ1bWVudCxcbiAgICApOiBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMge1xuICAgICAgICBjb25zdCB7IGNjTnVtYmVyLCBjY0V4cGlyeSB9ID0gcGF5bWVudERhdGE7XG4gICAgICAgIGNvbnN0IGVycm9yczogUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzID0ge307XG5cbiAgICAgICAgaWYgKCFjY051bWJlcikge1xuICAgICAgICAgICAgZXJyb3JzLmNjTnVtYmVyID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0NyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBpZiAoIWNjRXhwaXJ5KSB7XG4gICAgICAgICAgICBlcnJvcnMuY2NFeHBpcnkgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXhwaXJhdGlvbiBkYXRlIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBUb0NyZWRpdENhcmQoXG4gICAgICAgIGNyZWRpdENhcmQ6IENyZWRpdENhcmRJbnN0cnVtZW50LFxuICAgICAgICBiaWxsaW5nQWRkcmVzcz86IEFkZHJlc3MsXG4gICAgKTogQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNyZWRpdENhcmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZGhvbGRlck5hbWU6IGNyZWRpdENhcmQuY2NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGNyZWRpdENhcmQuY2NOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGN2djogY3JlZGl0Q2FyZC5jY0N2dixcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGAke2NyZWRpdENhcmQuY2NFeHBpcnkubW9udGh9LyR7Y3JlZGl0Q2FyZC5jY0V4cGlyeS55ZWFyfWAsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M6IGJpbGxpbmdBZGRyZXNzICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlQWxwaGEyOiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBiaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IGJpbGxpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBiaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYmlsbGluZ0FkZHJlc3MuYWRkcmVzczJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2JpbGxpbmdBZGRyZXNzLmFkZHJlc3MxfSAke2JpbGxpbmdBZGRyZXNzLmFkZHJlc3MyfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJpbGxpbmdBZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kcG9pbnQ6ICdwYXltZW50X21ldGhvZHMvY3JlZGl0X2NhcmRzJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlc2VudDNEU0NoYWxsZW5nZShcbiAgICAgICAgdGhyZWVEU2VjdXJlOiBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICAgICB0b2tlbml6YXRpb25QYXlsb2FkOiBUb2tlbml6YXRpb25QYXlsb2FkLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4ge1xuICAgICAgICBjb25zdCB7IG5vbmNlLCBiaW4gfSA9IHRva2VuaXphdGlvblBheWxvYWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRocmVlRFNlY3VyZU9wdGlvbnMgfHwgIW5vbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYWRkRnJhbWUsXG4gICAgICAgICAgICByZW1vdmVGcmFtZSxcbiAgICAgICAgICAgIGNoYWxsZW5nZVJlcXVlc3RlZCA9IHRydWUsXG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24sXG4gICAgICAgIH0gPSB0aGlzLnRocmVlRFNlY3VyZU9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhbmNlbFZlcmlmeUNhcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRocmVlRFNlY3VyZS5jYW5jZWxWZXJpZnlDYXJkKCk7XG5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbi5jYW5jZWwobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvdW5kZWRBbW91bnQgPSBhbW91bnQudG9GaXhlZCgyKTtcblxuICAgICAgICBjb25zdCB2ZXJpZmljYXRpb24gPSBuZXcgQ2FuY2VsbGFibGVQcm9taXNlKFxuICAgICAgICAgICAgdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoe1xuICAgICAgICAgICAgICAgIGFkZEZyYW1lOiAoZXJyb3IsIGlmcmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZyYW1lKGVycm9yLCBpZnJhbWUsIGNhbmNlbFZlcmlmeUNhcmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IE51bWJlcihyb3VuZGVkQW1vdW50KSxcbiAgICAgICAgICAgICAgICBiaW4sXG4gICAgICAgICAgICAgICAgY2hhbGxlbmdlUmVxdWVzdGVkLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUZyYW1lLFxuICAgICAgICAgICAgICAgIG9uTG9va3VwQ29tcGxldGU6IChfZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb2xsZWN0RGV2aWNlRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdmVyaWZpY2F0aW9uLnByb21pc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ3JlZGl0Q2FyZEluc3RydW1lbnQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNDcmVkaXRDYXJkSW5zdHJ1bWVudExpa2UoXG4gICAgaW5zdHJ1bWVudDogdW5rbm93bixcbik6IGluc3RydW1lbnQgaXMgQ3JlZGl0Q2FyZEluc3RydW1lbnQge1xuICAgIGlmICh0eXBlb2YgaW5zdHJ1bWVudCAhPT0gJ29iamVjdCcgfHwgaW5zdHJ1bWVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgIGNvbnN0IGNyZWRpdENhcmRJbnN0cnVtZW50ID0gaW5zdHJ1bWVudCBhcyBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHVua25vd24+PjtcblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBjcmVkaXRDYXJkSW5zdHJ1bWVudC5jY0V4cGlyeSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgY3JlZGl0Q2FyZEluc3RydW1lbnQuY2NFeHBpcnkgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGNyZWRpdENhcmRJbnN0cnVtZW50LmNjTnVtYmVyID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0eXBlb2YgY3JlZGl0Q2FyZEluc3RydW1lbnQuY2NOYW1lID09PSAnc3RyaW5nJ1xuICAgICk7XG59XG4iLCJpbXBvcnQgeyBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtLFxufSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQgeyBNZXNzYWdlc1N0eWxlT3B0aW9ucywgTWVzc2FnaW5nUGxhY2VtZW50cyB9IGZyb20gJy4vcGF5cGFsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlTWVzc2FnZXMge1xuICAgIHByaXZhdGUgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIHJlbmRlcihtZXRob2RJZDogc3RyaW5nLCBjb250YWluZXJJZDogc3RyaW5nLCBwbGFjZW1lbnQ6IE1lc3NhZ2luZ1BsYWNlbWVudHMpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbWVzc2FnaW5nQ29udGFpbmVyID0gY29udGFpbmVySWQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cucGF5cGFsICYmIG1lc3NhZ2luZ0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHBheXBhbEJOUExDb25maWd1cmF0aW9uID0gW10gfSA9IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgICAgICBjb25zdCBiYW5uZWRJZCA9IHBsYWNlbWVudCA9PT0gTWVzc2FnaW5nUGxhY2VtZW50cy5QQVlNRU5UID8gJ2NoZWNrb3V0JyA6IHBsYWNlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGJhbm5lckNvbmZpZ3VyYXRpb24gPVxuICAgICAgICAgICAgICAgIHBheXBhbEJOUExDb25maWd1cmF0aW9uICYmXG4gICAgICAgICAgICAgICAgcGF5cGFsQk5QTENvbmZpZ3VyYXRpb24uZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gYmFubmVkSWQpO1xuXG4gICAgICAgICAgICBpZiAoIWJhbm5lckNvbmZpZ3VyYXRpb24gfHwgIWJhbm5lckNvbmZpZ3VyYXRpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBjb2RlIHdoZW4gdGhpcyBkYXRhIGF0dHJpYnV0ZXMgd2lsbCBiZSByZW1vdmVkIGZyb20gYmFubmVyIGRpdiBjb250YWluZXIgaW4gY29udGVudCBzZXJ2aWNlXG4gICAgICAgICAgICBpZiAocGxhY2VtZW50ID09PSBNZXNzYWdpbmdQbGFjZW1lbnRzLkNBUlQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXBwLXN0eWxlLWxvZ28tdHlwZScpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtbG9nby1wb3NpdGlvbicpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtdGV4dC1jb2xvcicpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtdGV4dC1zaXplJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5wYXlwYWxcbiAgICAgICAgICAgICAgICAuTWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGNhcnQuY2FydEFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgYnV5ZXJDb3VudHJ5OiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5nZXRQYXlwYWxNZXNzYWdlc1N0eWxlc0Zyb21CTlBMQ29uZmlnKGJhbm5lckNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlbmRlcihgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBheXBhbE1lc3NhZ2VzU3R5bGVzRnJvbUJOUExDb25maWcoe1xuICAgICAgICBzdHlsZXMsXG4gICAgfTogUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtKTogTWVzc2FnZXNTdHlsZU9wdGlvbnMge1xuICAgICAgICBjb25zdCBtZXNzYWdlc1N0eWxlczogTWVzc2FnZXNTdHlsZU9wdGlvbnMgPSB7fTtcblxuICAgICAgICBpZiAoc3R5bGVzLmNvbG9yKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5jb2xvciA9IHN0eWxlcy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZXMubGF5b3V0KSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sYXlvdXQgPSBzdHlsZXMubGF5b3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlc1snbG9nby10eXBlJ10gfHwgc3R5bGVzWydsb2dvLXBvc2l0aW9uJ10pIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzU3R5bGVzLmxvZ28gPSB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlc1snbG9nby10eXBlJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sb2dvLnR5cGUgPSBzdHlsZXNbJ2xvZ28tdHlwZSddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGVzWydsb2dvLXBvc2l0aW9uJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sb2dvLnBvc2l0aW9uID0gc3R5bGVzWydsb2dvLXBvc2l0aW9uJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVzLnJhdGlvKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5yYXRpbyA9IHN0eWxlcy5yYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZXNbJ3RleHQtY29sb3InXSB8fCBzdHlsZXNbJ3RleHQtc2l6ZSddKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy50ZXh0ID0ge307XG5cbiAgICAgICAgICAgIGlmIChzdHlsZXNbJ3RleHQtY29sb3InXSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzU3R5bGVzLnRleHQuY29sb3IgPSBzdHlsZXNbJ3RleHQtY29sb3InXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlc1sndGV4dC1zaXplJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy50ZXh0LnNpemUgPSArc3R5bGVzWyd0ZXh0LXNpemUnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXNzYWdlc1N0eWxlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgZ2V0T3ZlcmxheVN0eWxlIGZyb20gJy4vb3ZlcmxheS1zdHlsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmxheU9wdGlvbnMge1xuICAgIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uPzogbnVtYmVyO1xuICAgIGhhc0Nsb3NlQnV0dG9uPzogYm9vbGVhbjtcbiAgICBpbm5lckh0bWw/OiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmxheVNob3dPcHRpb25zIHtcbiAgICBvbkNsaWNrPyhldmVudDogTW91c2VFdmVudCk6IHZvaWQ7XG4gICAgb25DbGlja0Nsb3NlPyhldmVudDogTW91c2VFdmVudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudHMge1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIG1haW5FbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBjbG9zZUVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3ZlcmxheSB7XG4gICAgcHJpdmF0ZSBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfbWFpbkVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2Nsb3NlRWxlbWVudD86IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3VucmVnaXN0ZXJDbGljaz86ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3ZlcmxheU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBjbG9zZUVsZW1lbnQsIG1haW5FbGVtZW50IH0gPSB0aGlzLl9jcmVhdGVFbGVtZW50cyhvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5fY2xvc2VFbGVtZW50ID0gY2xvc2VFbGVtZW50O1xuICAgICAgICB0aGlzLl9tYWluRWxlbWVudCA9IG1haW5FbGVtZW50O1xuICAgIH1cblxuICAgIHNob3cob3B0aW9ucz86IE92ZXJsYXlTaG93T3B0aW9ucyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fbWFpbkVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJDbGljayhvcHRpb25zKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21haW5FbGVtZW50KTtcblxuICAgICAgICAvLyBGYWRlIEluXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJykpO1xuICAgIH1cblxuICAgIHJlbW92ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYWluRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdW5yZWdpc3RlckNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLl91bnJlZ2lzdGVyQ2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbW92ZUFmdGVyVHJhbnNpdGlvbigpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUVsZW1lbnRzKG9wdGlvbnM/OiBPdmVybGF5T3B0aW9ucyk6IEVsZW1lbnRzIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC44KScsXG4gICAgICAgICAgICBpZCA9ICdjaGVja291dE92ZXJsYXknLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gNDAwLFxuICAgICAgICAgICAgaGFzQ2xvc2VCdXR0b24gPSBmYWxzZSxcbiAgICAgICAgICAgIGlubmVySHRtbCA9IG51bGwsXG4gICAgICAgIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBsZXQgbWFpbkVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBsZXQgY2xvc2VFbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsYXNzTGF5b3V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjbGFzc0Nsb3NlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjbGFzc092ZXJsYXlUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBlbGVtZW50LmlkID0gaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5uZXJIdG1sKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICBjbGFzc092ZXJsYXlUZXh0ID0gYCR7aWR9LS1vdmVybGF5VGV4dGA7XG4gICAgICAgICAgICBvdmVybGF5VGV4dC5jbGFzc05hbWUgPSBjbGFzc092ZXJsYXlUZXh0O1xuICAgICAgICAgICAgb3ZlcmxheVRleHQuYXBwZW5kQ2hpbGQoaW5uZXJIdG1sKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvdmVybGF5VGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzQ2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIGNsYXNzQ2xvc2UgPSBgJHtpZH0tLWNsb3NlYDtcbiAgICAgICAgICAgIGNsb3NlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY2xvc2VFbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzQ2xvc2U7XG5cbiAgICAgICAgICAgIGNsYXNzTGF5b3V0ID0gYCR7aWR9LS1sYXlvdXRgO1xuICAgICAgICAgICAgbWFpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG1haW5FbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTGF5b3V0O1xuXG4gICAgICAgICAgICBtYWluRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIG1haW5FbGVtZW50LmFwcGVuZENoaWxkKGNsb3NlRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYWluRWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgIGdldE92ZXJsYXlTdHlsZSh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgY2xhc3NMYXlvdXQsXG4gICAgICAgICAgICAgICAgY2xhc3NPdmVybGF5VGV4dCxcbiAgICAgICAgICAgICAgICBjbGFzc0Nsb3NlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHsgZWxlbWVudCwgY2xvc2VFbGVtZW50LCBtYWluRWxlbWVudCB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZEV2ZW50TGlzdGVuZXIoZWxlbWVudD86IEhUTUxFbGVtZW50LCBvbkNsaWNrPzogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhb25DbGljaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3JlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICAgICAgb25DbGljaz86IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgaWYgKCFlbGVtZW50IHx8ICFvbkNsaWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcmVnaXN0ZXJDbGljayhvcHRpb25zPzogT3ZlcmxheVNob3dPcHRpb25zKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl91bnJlZ2lzdGVyQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25DbGljaywgb25DbGlja0Nsb3NlIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyKHRoaXMuX2VsZW1lbnQsIG9uQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9jbG9zZUVsZW1lbnQsIG9uQ2xpY2tDbG9zZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2VsZW1lbnQsIG9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fY2xvc2VFbGVtZW50LCBvbkNsaWNrQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZW1vdmVBZnRlclRyYW5zaXRpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGhhbmRsZVRyYW5zaXRpb246IChldmVudDogRXZlbnQpID0+IHZvaWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGBldmVudGAgaXMgbm90IGNvcnJlY3RseSB0eXBlZCBpbiB0aGlzIHZlcnNpb24gb2YgVFNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgICAgIGlmICgoZXZlbnQgYXMgVHJhbnNpdGlvbkV2ZW50KS5wcm9wZXJ0eU5hbWUgIT09ICdvcGFjaXR5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX21haW5FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWluRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbik7XG4gICAgfVxufVxuIiwiaW50ZXJmYWNlIE92ZXJsYXlTdHlsZU9wdGlvbnMge1xuICAgIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uPzogbnVtYmVyO1xuICAgIGNsYXNzTGF5b3V0Pzogc3RyaW5nO1xuICAgIGNsYXNzT3ZlcmxheVRleHQ/OiBzdHJpbmc7XG4gICAgY2xhc3NDbG9zZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3ZlcmxheVN0eWxlKG9wdGlvbnM6IE92ZXJsYXlTdHlsZU9wdGlvbnMpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgeyBpZCwgYmFja2dyb3VuZCwgdHJhbnNpdGlvbkR1cmF0aW9uLCBjbGFzc0xheW91dCwgY2xhc3NPdmVybGF5VGV4dCwgY2xhc3NDbG9zZSB9ID1cbiAgICAgICAgb3B0aW9ucztcbiAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGNvbnN0IGFkZENsYXNzTGF5b3V0ID0gY2xhc3NMYXlvdXQgPyBgLCAuJHtjbGFzc0xheW91dH1gIDogJyc7XG5cbiAgICBzdHlsZXMuaWQgPSBgJHtpZH0tLXN0eWxlc2A7XG4gICAgc3R5bGVzLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgIHN0eWxlcy5pbm5lclRleHQgPSBgXG4gICAgICAgICMke2lkfSR7YWRkQ2xhc3NMYXlvdXR9IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NztcbiAgICAgICAgfVxuICAgICAgICAjJHtpZH0ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAke3RyYW5zaXRpb25EdXJhdGlvbn1tcyBlYXNlLW91dDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7YmFja2dyb3VuZH07XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB9XG4gICAgYDtcblxuICAgIGlmIChjbGFzc092ZXJsYXlUZXh0KSB7XG4gICAgICAgIHN0eWxlcy5pbm5lclRleHQgKz0gYFxuICAgICAgICAgICAgICMke2lkfSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAjJHtpZH0gLiR7Y2xhc3NPdmVybGF5VGV4dH0ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMzMHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NDbG9zZSkge1xuICAgICAgICBzdHlsZXMuaW5uZXJUZXh0ICs9IGBcbiAgICAgICAgICAgICMke2lkfSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4ke2NsYXNzTGF5b3V0fSAuJHtjbGFzc0Nsb3NlfSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgICAgIHRvcDogMTZweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAzMTQ3NDgzNjQ3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLiR7Y2xhc3NMYXlvdXR9IC4ke2NsYXNzQ2xvc2V9OjphZnRlciwgLiR7Y2xhc3NMYXlvdXR9IC4ke2NsYXNzQ2xvc2V9OjpiZWZvcmUge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICBsZWZ0OiA4cHg7XG4gICAgICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgICAgIHdpZHRoOiAycHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4ke2NsYXNzTGF5b3V0fSAuJHtjbGFzc0Nsb3NlfTo6YWZ0ZXIge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuJHtjbGFzc0xheW91dH0gLiR7Y2xhc3NDbG9zZX06OmJlZm9yZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59XG4iLCJpbXBvcnQge1xuICAgIExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXMsXG4gICAgTG9hZGluZ0luZGljYXRvclN0eWxlcyxcbn0gZnJvbSAnLi9sb2FkaW5nLWluZGljYXRvci1zdHlsZXMnO1xuXG5jb25zdCBERUZBVUxUX1NUWUxFUzogTG9hZGluZ0luZGljYXRvclN0eWxlcyA9IHtcbiAgICBzaXplOiA3MCxcbiAgICBjb2xvcjogJyNkOWQ5ZDknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICd6LWluZGV4JzogJzEwMDAnLFxufTtcblxuY29uc3QgUk9UQVRJT05fQU5JTUFUSU9OID0gJ2VtYmVkZGVkLWNoZWNrb3V0LWxvYWRpbmctaW5kaWNhdG9yLXJvdGF0aW9uJztcblxuaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JPcHRpb25zIHtcbiAgICBzdHlsZXM/OiBMb2FkaW5nSW5kaWNhdG9yU3R5bGVzO1xuICAgIGNvbnRhaW5lclN0eWxlcz86IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdJbmRpY2F0b3Ige1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBzdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JTdHlsZXM7XG4gICAgcHJpdmF0ZSBjb250YWluZXJTdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogTG9hZGluZ0luZGljYXRvck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7IC4uLkRFRkFVTFRfU1RZTEVTLCAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLnN0eWxlcykgfTtcbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZXMgPSB7IC4uLihvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyU3R5bGVzKSB9O1xuXG4gICAgICAgIHRoaXMuZGVmaW5lQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmJ1aWxkQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yID0gdGhpcy5idWlsZEluZGljYXRvcigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcbiAgICB9XG5cbiAgICBzaG93KHBhcmVudElkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBhdHRhY2ggdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGJlY2F1c2UgdGhlIHBhcmVudCBJRCBpcyBub3QgdmFsaWQuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG5cbiAgICBoaWRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMjUwbXMgZWFzZS1vdXQnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgICB0aGlzLnNldFN0eWxlQXR0cmlidXRlKGNvbnRhaW5lciwgdGhpcy5jb250YWluZXJTdHlsZXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEluZGljYXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zdHlsZXMuc2l6ZX1weGA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnN0eWxlcy5zaXplfXB4YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuc3R5bGVzLnNpemV9cHhgO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIDFweCc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJDb2xvciA9IGAke3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcn0gJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMGRlZyknO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudHJhbnNmb3JtU3R5bGUgPSAncHJlc2VydmUtM2QnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gYCR7Uk9UQVRJT05fQU5JTUFUSU9OfSA1MDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC42OSwgMC4zMSwgMC41NiwgMC44MylgO1xuXG4gICAgICAgIHJldHVybiBpbmRpY2F0b3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZShlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0cnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoaywgYXR0cnNba10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlZmluZUFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZGVmaW5lIENTUyBhbmltYXRpb24sIHdlIG5lZWQgdG8gaW5zZXJ0IGEgc3R5bGVzaGVldCBpbnRvIHRoZSBob3N0IGZyYW1lLlxuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdG8gZG8gaXQgb25jZS5cbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFJPVEFUSU9OX0FOSU1BVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgICBzdHlsZS5pZCA9IFJPVEFUSU9OX0FOSU1BVElPTjtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBkb2N1bWVudC5oZWFkPy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoZSAybmQgcGFyYW1ldGVyIGZvciBJRTExLCBldmVuIHRob3VnaCBpdCBpc1xuICAgICAgICAgICAgLy8gMCBieSBkZWZhdWx0IGZvciBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gICAgICAgICAgICBzdHlsZS5zaGVldC5pbnNlcnRSdWxlKFxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzICR7Uk9UQVRJT05fQU5JTUFUSU9OfSB7XG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBMT0FESU5HX0lORElDQVRPUl9TVFlMRVMgPSB7XG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAncmdiYSgwLCAwLCAwLCAwLjQpJyxcbiAgICAnei1pbmRleCc6ICcxMDAwJyxcbn07XG4iLCJpbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVFcnJvcihcbiAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBFcnJvciB8IHVua25vd24sXG4pOiBlcnJvciBpcyBCcmFpbnRyZWVFcnJvciB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAnbmFtZScgaW4gZXJyb3IgJiZcbiAgICAgICAgKGVycm9yIGFzIEJyYWludHJlZUVycm9yKS5uYW1lID09PSAnQnJhaW50cmVlRXJyb3InXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKFxuICAgIGFkZHJlc3M6IEFkZHJlc3MsXG4pOiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVjaXBpZW50TmFtZTogYCR7YWRkcmVzcy5maXJzdE5hbWV9ICR7YWRkcmVzcy5sYXN0TmFtZX1gLFxuICAgICAgICBsaW5lMTogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgbGluZTI6IGFkZHJlc3MuYWRkcmVzczIsXG4gICAgICAgIGNpdHk6IGFkZHJlc3MuY2l0eSxcbiAgICAgICAgc3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICBjb3VudHJ5Q29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgcGhvbmU6IGFkZHJlc3MucGhvbmUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZU1lc3NhZ2VzLFxuICAgIEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgIEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4gICAgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgIE1lc3NhZ2luZ1BsYWNlbWVudHMsXG4gICAgUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICBQYXlwYWxCdXR0b25SZW5kZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgRm9ybWF0dGVkUGF5bG9hZCxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUGF5cGFsSW5zdHJ1bWVudCxcbiAgICBTdGFuZGFyZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLWVycm9yJztcbmltcG9ydCBpc0JyYWludHJlZVBheXBhbFByb3ZpZGVyRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLXBheXBhbC1wcm92aWRlci1lcnJvcic7XG5pbXBvcnQgbWFwVG9CcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSBmcm9tICcuLi9tYXAtdG8tYnJhaW50cmVlLXNoaXBwaW5nLWFkZHJlc3Mtb3ZlcnJpZGUnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVBheXBhbFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBXaXRoQnJhaW50cmVlUGF5cGFsUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcbiAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWU/OiBCcmFpbnRyZWVQYXlwYWxQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnM7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ/OiBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ7XG4gICAgcHJpdmF0ZSBwYXlwYWxCdXR0b25SZW5kZXI/OiBQYXlwYWxCdXR0b25SZW5kZXI7XG4gICAgcHJpdmF0ZSBsb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVNZXNzYWdlczogQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIHByaXZhdGUgbG9hZGluZ0luZGljYXRvcjogTG9hZGluZ0luZGljYXRvcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZTogYnJhaW50cmVlT3B0aW9ucywgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWUgPSBicmFpbnRyZWVPcHRpb25zO1xuXG4gICAgICAgIGlmICghdGhpcy5wYXltZW50TWV0aG9kIHx8ICF0aGlzLnBheW1lbnRNZXRob2Qubm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBheW1lbnRNZXRob2QuY2xpZW50VG9rZW4gJiYgYnJhaW50cmVlT3B0aW9ucz8uYmFubmVyQ29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBheXBhbCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF5cGFsQ2hlY2tvdXRJbnN0YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFBheXBhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoYnJhaW50cmVlT3B0aW9ucz8uYmFubmVyQ29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQYXlwYWxDaGVja291dEluc3RhbmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFBheXBhbCgpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBjb25zdCB7IG9uRXJyb3IgfSA9IHRoaXMuYnJhaW50cmVlIHx8IHt9O1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YShwYXltZW50LCBvcmRlci51c2VTdG9yZUNyZWRpdCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50RGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Byb3ZpZGVyRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkUGF5cGFsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBheXBhbEJ1dHRvblJlbmRlcj8uY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBheXBhbENoZWNrb3V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChfcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkVycm9yICYmIHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKG5ldyBFcnJvcignSU5TVFJVTUVOVF9ERUNMSU5FRCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlVG9rZW5pemVQYXlsb2FkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMucGF5cGFsQnV0dG9uUmVuZGVyPy5jbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJlcGFyZVBheW1lbnREYXRhKFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICAgICAgdXNlU3RvcmVDcmVkaXQ/OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGdyYW5kVG90YWwgPSBzdGF0ZS5nZXRPdXRzdGFuZGluZ0JhbGFuY2UodXNlU3RvcmVDcmVkaXQpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZygpO1xuXG4gICAgICAgIGlmICghZ3JhbmRUb3RhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZUxhbmd1YWdlIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgY29uZmlnOiB7IGlzVmF1bHRpbmdFbmFibGVkIH0sXG4gICAgICAgIH0gPSB0aGlzLnBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHBheW1lbnREYXRhID0ge30gfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmJyYWludHJlZVRva2VuaXplUGF5bG9hZD8ubm9uY2UgfHwgbm9uY2U7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHRoaXMuZm9ybWF0dGVkUGF5bG9hZCh0b2tlbiksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpIHx8IGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICBpZiAoIWlzVmF1bHRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnVmF1bHRpbmcgaXMgZGlzYWJsZWQgYnV0IGEgdmF1bHRlZCBpbnN0cnVtZW50IHdhcyBiZWluZyB1c2VkIGZvciB0aGlzIHRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBheW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB9ID0gcGF5bWVudERhdGE7XG5cbiAgICAgICAgaWYgKHNob3VsZFNhdmVJbnN0cnVtZW50ICYmICFpc1ZhdWx0aW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdWYXVsdGluZyBpcyBkaXNhYmxlZCBidXQgc2hvdWxkU2F2ZUluc3RydW1lbnQgaXMgc2V0IHRvIHRydWUnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHN0YXRlLmdldFNoaXBwaW5nQWRkcmVzcygpO1xuXG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlID0gc2hpcHBpbmdBZGRyZXNzXG4gICAgICAgICAgICA/IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoc2hpcHBpbmdBZGRyZXNzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnBheXBhbCh7XG4gICAgICAgICAgICAgICAgYW1vdW50OiBncmFuZFRvdGFsLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3kuY29kZSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogdGhpcy5wYXltZW50TWV0aG9kLmlkID09PSAnYnJhaW50cmVlcGF5cGFsY3JlZGl0JyxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRTZXNzaW9uSWQoKSxcbiAgICAgICAgXSkudGhlbigoW3sgbm9uY2UsIGRldGFpbHMgfSA9IHt9IGFzIGFueSwgc2Vzc2lvbklkXSkgPT4gKHtcbiAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICBwYXltZW50RGF0YTogdGhpcy5mb3JtYXR0ZWRQYXlsb2FkKFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIGRldGFpbHMgJiYgZGV0YWlscy5lbWFpbCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICksXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdHRlZFBheWxvYWQoXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIGVtYWlsPzogc3RyaW5nLFxuICAgICAgICBzZXNzaW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIHZhdWx0UGF5bWVudEluc3RydW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50PzogYm9vbGVhbixcbiAgICApOiBGb3JtYXR0ZWRQYXlsb2FkPFBheXBhbEluc3RydW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHZhdWx0UGF5bWVudEluc3RydW1lbnQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGRldmljZV9pbmZvOiBzZXNzaW9uSWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBwYXlwYWxfYWNjb3VudDoge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkUGF5cGFsQ2hlY2tvdXRJbnN0YW5jZSgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhLCBpZDogcGF5bWVudE1ldGhvZElkIH0gPSB0aGlzLnBheW1lbnRNZXRob2QgfHwge307XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0T3JUaHJvdygpXG4gICAgICAgICAgICAgICAgLmN1cnJlbmN5LmNvZGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0Q29uZmlnOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBpbml0aWFsaXphdGlvbkRhdGE/LmludGVudCxcbiAgICAgICAgICAgICAgICBpc0NyZWRpdEVuYWJsZWQ6IGluaXRpYWxpemF0aW9uRGF0YT8uaXNDcmVkaXRFbmFibGVkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaXNCcmFpbnRyZWVQYXlwYWxDcmVkaXQgPSBwYXltZW50TWV0aG9kSWQgPT09ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2hvd1BheVBhbENyZWRpdEJhbm5lciA9XG4gICAgICAgICAgICAgICAgaXNCcmFpbnRyZWVQYXlwYWxDcmVkaXQgfHwgIWluaXRpYWxpemF0aW9uRGF0YT8uaXNDcmVkaXRFbmFibGVkO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgICAgICAgICBwYXlwYWxDaGVja291dENvbmZpZyxcbiAgICAgICAgICAgICAgICAoYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2hvd1BheVBhbENyZWRpdEJhbm5lciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZT8uYmFubmVyQ29udGFpbmVySWRcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbE1lc3NhZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZS5iYW5uZXJDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbEJ1dHRvbihicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxNZXNzYWdlcyhtZXRob2RJZDogc3RyaW5nLCBjb250YWluZXJJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlTWVzc2FnZXMucmVuZGVyKG1ldGhvZElkLCBjb250YWluZXJJZCwgTWVzc2FnaW5nUGxhY2VtZW50cy5QQVlNRU5UKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBheVBhbEJ1dHRvbihicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpIHtcbiAgICAgICAgY29uc3QgeyBvblBheW1lbnRFcnJvciwgc3VibWl0Rm9ybSwgb25SZW5kZXJCdXR0b24sIGNvbnRhaW5lcklkLCBvbkVycm9yIH0gPVxuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWUgfHwge307XG5cbiAgICAgICAgaWYgKCFjb250YWluZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIgPSBjb250YWluZXJJZC5zcGxpdCgnIycpWzFdO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY29uZmlnOiB7IHRlc3RNb2RlIH0sXG4gICAgICAgIH0gPSB0aGlzLnBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgeyBwYXlwYWwgfSA9IHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdztcbiAgICAgICAgY29uc3QgZnVuZGluZ1NvdXJjZSA9IHBheXBhbD8uRlVORElORy5QQVlQQUw7XG5cbiAgICAgICAgaWYgKHBheXBhbCAmJiBmdW5kaW5nU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnBheXBhbEJ1dHRvblJlbmRlciA9IHBheXBhbC5CdXR0b25zKHtcbiAgICAgICAgICAgICAgICBlbnY6IHRlc3RNb2RlID8gJ3NhbmRib3gnIDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZnVuZGluZ1NvdXJjZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcih0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZU9yZGVyOiAoKSA9PiB0aGlzLnNldHVwUGF5bWVudChicmFpbnRyZWVQYXlwYWxDaGVja291dCwgaWQsIG9uUGF5bWVudEVycm9yKSxcbiAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IGFzeW5jIChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlVG9rZW5pemVQYXlsb2FkID0gYXdhaXQgdGhpcy50b2tlbml6ZVBheW1lbnRPclRocm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXplRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJtaXRGb3JtICYmIHR5cGVvZiBzdWJtaXRGb3JtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChvblJlbmRlckJ1dHRvbiAmJiB0eXBlb2Ygb25SZW5kZXJCdXR0b24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvblJlbmRlckJ1dHRvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXlwYWxCdXR0b25SZW5kZXIuaXNFbGlnaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXlwYWxCdXR0b25SZW5kZXIucmVuZGVyKGAke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkLnNwbGl0KCcjJylbMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXR1cFBheW1lbnQoXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgICAgIG9uUGF5bWVudEVycm9yOiBCcmFpbnRyZWVQYXlwYWxQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnNbJ29uUGF5bWVudEVycm9yJ10sXG4gICAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXIgPSBzdGF0ZS5nZXRDdXN0b21lcigpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY3VycmVuY3kuY29kZTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBzaGlwcGluZ0FkZHJlc3MgfHwgY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgPSBhZGRyZXNzXG4gICAgICAgICAgICAgICAgPyBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC5jcmVhdGVQYXltZW50KHtcbiAgICAgICAgICAgICAgICBmbG93OiAnY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGludGVudDogcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IgJiYgKGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpIHx8IGVycm9yIGluc3RhbmNlb2YgU3RhbmRhcmRFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBvblBheW1lbnRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnRPclRocm93KFxuICAgICAgICBhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIG9uRXJyb3I/OiAoZXJyb3I6IEJyYWludHJlZUVycm9yIHwgU3RhbmRhcmRFcnJvcikgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LnRva2VuaXplUGF5bWVudChhdXRob3JpemVEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvbkVycm9yICYmIChpc0JyYWludHJlZUVycm9yKGVycm9yKSB8fCBlcnJvciBpbnN0YW5jZW9mIFN0YW5kYXJkRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkUGF5cGFsKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHRoaXMucGF5bWVudE1ldGhvZCB8fCB7fTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0UGF5cGFsKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IEVycm9yIHwgdW5rbm93bik6IG5ldmVyIHtcbiAgICAgICAgaWYgKCFpc0JyYWludHJlZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BBWVBBTF9QT1BVUF9DTE9TRUQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzUHJvdmlkZXJFcnJvcihlcnJvcjogdW5rbm93bik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgY29uc3QgcGF5cGFsUHJvdmlkZXJFcnJvciA9IGVycm9yPy5lcnJvcnM/LmZpbHRlcigoZSkgPT4gZS5wcm92aWRlcl9lcnJvcikgfHwgW107XG5cbiAgICAgICAgICAgIHJldHVybiBwYXlwYWxQcm92aWRlckVycm9yWzBdPy5wcm92aWRlcl9lcnJvcj8uY29kZSA9PT0gJzIwNDYnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRWxlbWVudChlbGVtZW50SWQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRJZCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBMb2FkaW5nIEluZGljYXRvciBtZXRob2RzXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgdG9nZ2xlTG9hZGluZ0luZGljYXRvcihpc0xvYWRpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzTG9hZGluZyAmJiB0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0luZGljYXRvci5zaG93KHRoaXMubG9hZGluZ0luZGljYXRvckNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3IuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBQcm92aWRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGVycm9ycz86IEVycm9yRWxlbWVudFtdO1xuICAgIHN0YXR1cz86IHN0cmluZztcbiAgICB0aHJlZV9kc19yZXN1bHQ/OiB7XG4gICAgICAgIGFjc191cmw6IHVua25vd247XG4gICAgICAgIHBheWVyX2F1dGhfcmVxdWVzdDogdW5rbm93bjtcbiAgICAgICAgbWVyY2hhbnRfZGF0YTogdW5rbm93bjtcbiAgICAgICAgY2FsbGJhY2tfdXJsOiB1bmtub3duO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JFbGVtZW50IHtcbiAgICBjb2RlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHByb3ZpZGVyX2Vycm9yPzoge1xuICAgICAgICBjb2RlOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUHJvdmlkZXJFcnJvciB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2Vycm9ycycgaW4gZXJyb3I7XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IsIE92ZXJsYXkgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IHsgTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTIH0gZnJvbSAnLi4vYnJhaW50cmVlLXBheXBhbC1jb25zdGFudHMnO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVBheXBhbFBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBvdmVybGF5ID0gbmV3IE92ZXJsYXkoKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSA9IG5ldyBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoXG4gICAgICAgICAgICBnZXRTY3JpcHRMb2FkZXIoKSxcbiAgICAgICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgICAgICBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICAgICAgKSxcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgb3ZlcmxheSxcbiAgICApO1xuICAgIGNvbnN0IGJyYWludHJlZU1lc3NhZ2VzID0gbmV3IEJyYWludHJlZU1lc3NhZ2VzKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVQYXlwYWxQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIG5ldyBMb2FkaW5nSW5kaWNhdG9yKHtcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlczogTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTLFxuICAgICAgICB9KSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZVBheXBhbFBheW1lbnRTdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWwnIH0sXG4gICAgeyBpZDogJ2JyYWludHJlZXBheXBhbGNyZWRpdCcgfSxcbl0pO1xuIiwiZW51bSBDb250ZW50VHlwZSB7XG4gICAgSnNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICBKc29uVjEgPSAnYXBwbGljYXRpb24vdm5kLmJjLnYxK2pzb24nLFxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZW50VHlwZTtcbiIsImV4cG9ydCBjb25zdCBTREtfVkVSU0lPTl9IRUFERVJTID0geyAnWC1DaGVja291dC1TREstVmVyc2lvbic6IExJQlJBUllfVkVSU0lPTiB9O1xuIiwiaW1wb3J0IHsgUmVxdWVzdFNlbmRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCB7IEJyYWludHJlZU9yZGVyU3RhdHVzRGF0YSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ29udGVudFR5cGUsXG4gICAgSU5URVJOQUxfVVNFX09OTFksXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU0RLX1ZFUlNJT05fSEVBREVSUyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVJlcXVlc3RTZW5kZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcikge31cblxuICAgIGFzeW5jIGdldE9yZGVyU3RhdHVzKFxuICAgICAgICBtZXRob2RJZCA9ICdicmFpbnRyZWVsb2NhbG1ldGhvZHMnLFxuICAgICAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVPcmRlclN0YXR1c0RhdGE+IHtcbiAgICAgICAgY29uc3QgdXJsID0gYC9hcGkvc3RvcmVmcm9udC9pbml0aWFsaXphdGlvbi8ke21ldGhvZElkfWA7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAnWC1BUEktSU5URVJOQUwnOiBJTlRFUk5BTF9VU0VfT05MWSxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBDb250ZW50VHlwZS5Kc29uLFxuICAgICAgICAgICAgLi4uU0RLX1ZFUlNJT05fSEVBREVSUyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnJlcXVlc3RTZW5kZXIuZ2V0PEJyYWludHJlZU9yZGVyU3RhdHVzRGF0YT4odXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5ib2R5O1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBJTlRFUk5BTF9VU0VfT05MWSA9XG4gICAgJ1RoaXMgQVBJIGVuZHBvaW50IGlzIGZvciBpbnRlcm5hbCB1c2Ugb25seSBhbmQgbWF5IGNoYW5nZSBpbiB0aGUgZnV0dXJlJztcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmNvbnN0IERFRkFVTFRfUkVTUE9OU0UgPSB7XG4gICAgYm9keToge30sXG4gICAgaGVhZGVyczoge30sXG4gICAgc3RhdHVzOiAwLFxufTtcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB1bmFibGUgdG8gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4gSXQgd3JhcHNcbiAqIGFueSBzZXJ2ZXIgcmVzcG9uc2UgaW50byBhIEpTIGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdEVycm9yPFRCb2R5ID0gYW55PiBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGJvZHk6IFRCb2R5IHwge307XG4gICAgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgICBlcnJvcnM6IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgIHN0YXR1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlc3BvbnNlPzogUmVzcG9uc2U8VEJvZHkgfCB7fT4sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgIH06IHtcbiAgICAgICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgICAgICAgICBlcnJvcnM/OiBBcnJheTx7IGNvZGU6IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9PjtcbiAgICAgICAgfSA9IHt9LFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGJvZHksIGhlYWRlcnMsIHN0YXR1cyB9ID0gcmVzcG9uc2UgfHwgREVGQVVMVF9SRVNQT05TRTtcblxuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUmVxdWVzdEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlcXVlc3QnO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgUmVxdWVzdEVycm9yIGZyb20gJy4vcmVxdWVzdC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdW5hYmxlIHRvIHN1Y2Nlc3NmdWxseSBzdWJtaXQgYSBzZXJ2ZXIgcmVxdWVzdFxuICogdXNpbmcgYSBwYXltZW50IG1ldGhvZCBiZWNhdXNlIHRoZSBtZXRob2QgaGFzIGludmFsaWQgY29uZmlndXJhdGlvbiBvciBpcyBpblxuICogYW4gaW52YWxpZCBzdGF0ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEludmFsaWRFcnJvcjxUID0gYW55PiBleHRlbmRzIFJlcXVlc3RFcnJvcjxUPiB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2U/OiBSZXNwb25zZTxUPikge1xuICAgICAgICBzdXBlcihyZXNwb25zZSwge1xuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZXJlIGlzIGEgcHJvYmxlbSBwcm9jZXNzaW5nIHlvdXIgcGF5bWVudC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEludmFsaWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgcmVxdWVzdCBmYWlscyB0byBjb21wbGV0ZSB3aXRoaW4gaXRzIHJlcXVpcmVkIHRpbWVmcmFtZVxuICogYmVjYXVzZSBvZiBhIG5ldHdvcmsgaXNzdWUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVvdXRFcnJvcjxUID0gYW55PiBleHRlbmRzIFJlcXVlc3RFcnJvcjxUPiB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2U/OiBSZXNwb25zZTxUPikge1xuICAgICAgICBzdXBlcihyZXNwb25zZSwge1xuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSByZXF1ZXN0IGhhcyB0aW1lZCBvdXQgb3IgYWJvcnRlZC4nLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3RpbWVvdXQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnLFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudE1ldGhvZFJlZGlyZWN0QWN0aW9uLFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkLFxuICAgIEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEsXG4gICAgQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3IsXG4gICAgQnJhaW50cmVlT3JkZXJTYXZlZFJlc3BvbnNlLFxuICAgIEJyYWludHJlZU9yZGVyU3RhdHVzLFxuICAgIEJyYWludHJlZVJlZGlyZWN0RXJyb3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIE5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW5zdHJ1bWVudE1ldGEsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kSW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgVGltZW91dEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuXG5pbXBvcnQgQnJhaW50cmVlUmVxdWVzdFNlbmRlciBmcm9tICcuLi9icmFpbnRyZWUtcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBXaXRoQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1sb2NhbC1tZXRob2RzLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuY29uc3QgUE9MTElOR19JTlRFUlZBTCA9IDMwMDA7XG5jb25zdCBNQVhfUE9MTElOR19USU1FID0gMzAwMDAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnJhaW50cmVlbG9jYWxtZXRob2RzPzogQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudEluaXRpYWxpemVPcHRpb25zO1xuICAgIHByaXZhdGUgYnJhaW50cmVlTG9jYWxQYXltZW50PzogQnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIHByaXZhdGUgbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcj86IHN0cmluZztcbiAgICBwcml2YXRlIG9yZGVySWQ/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBnYXRld2F5SWQ/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBpc0xQTXNVcGRhdGVFeHBlcmltZW50RW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcG9sbGluZ1RpbWVyID0gMDtcbiAgICBwcml2YXRlIHN0b3BQb2xsaW5nID0gbm9vcDtcbiAgICBwcml2YXRlIGlzUG9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlUmVxdWVzdFNlbmRlcjogQnJhaW50cmVlUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBsb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLFxuICAgICAgICBwcml2YXRlIHBvbGxpbmdJbnRlcnZhbDogbnVtYmVyID0gUE9MTElOR19JTlRFUlZBTCxcbiAgICAgICAgcHJpdmF0ZSBtYXhQb2xsaW5nSW50ZXJ2YWxUaW1lOiBudW1iZXIgPSBNQVhfUE9MTElOR19USU1FLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZ2F0ZXdheUlkLCBtZXRob2RJZCwgYnJhaW50cmVlbG9jYWxtZXRob2RzIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMuZ2F0ZXdheUlkID0gZ2F0ZXdheUlkO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVsb2NhbG1ldGhvZHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVsb2NhbG1ldGhvZHNcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyYWludHJlZWxvY2FsbWV0aG9kcyA9IGJyYWludHJlZWxvY2FsbWV0aG9kcztcbiAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyID0gYnJhaW50cmVlbG9jYWxtZXRob2RzLmNvbnRhaW5lci5zcGxpdCgnIycpWzFdO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KGdhdGV3YXlJZCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXM7XG5cbiAgICAgICAgdGhpcy5pc1BvbGxpbmdFbmFibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BBWVBBTC01MjU4LmJyYWludHJlZV9sb2NhbF9tZXRob2RzX3BvbGxpbmcnLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaXNMUE1zVXBkYXRlRXhwZXJpbWVudEVuYWJsZWQgPSBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgICAnUEFZUEFMLTQ4NTMuYWRkX25ld19wYXltZW50X2Zsb3dfZm9yX2JyYWludHJlZV9scG1zJyxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEgfHwgIWNvbmZpZy5tZXJjaGFudElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc05vbkluc3RhbnRQYXltZW50TWV0aG9kKG1ldGhvZElkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlTG9jYWxQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICBjb25maWcubWVyY2hhbnRJZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gcGF5bG9hZDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCB9ID0gcGF5bWVudDtcblxuICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNOb25JbnN0YW50UGF5bWVudE1ldGhvZChtZXRob2RJZCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVdpdGhOb3RJbnN0YW50TFBNKG1ldGhvZElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVdpdGhJbnN0YW50TFBNKG1ldGhvZElkLCBvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVXaXRoTm90SW5zdGFudExQTShtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBiYXNpY1BheW1lbnREYXRhID0gYXdhaXQgdGhpcy5nZXRMUE1zQmFzaWNQYXltZW50RGF0YSgpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNpY1BheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQnJhaW50cmVlUmVkaXJlY3RFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5yZWRpcmVjdF91cmw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShyZWRpcmVjdFVybCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVXaXRoSW5zdGFudExQTShcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgb3JkZXI6IE9taXQ8T3JkZXJSZXF1ZXN0Qm9keSwgJ3BheW1lbnQnPixcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50Py5zdGFydFBheW1lbnQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnN0YW50TFBNQ29uZmlnKG1ldGhvZElkLCBvcmRlciwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnN0YW50TFBNQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBtZXRob2RJZCwgb3JkZXIsIG9wdGlvbnMpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRMUE1zQmFzaWNQYXltZW50RGF0YSgpOiBQcm9taXNlPFBheW1lbnRJbnN0cnVtZW50TWV0YT4ge1xuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuIHsgZGV2aWNlU2Vzc2lvbklkOiBkZXZpY2VEYXRhIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnN0YW50TFBNQ29uZmlnKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBvcmRlcjogT21pdDxPcmRlclJlcXVlc3RCb2R5LCAncGF5bWVudCc+LFxuICAgICAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICAgKTogQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGJpbGxpbmcgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBjb3VudHJ5Q29kZSB9ID0gYmlsbGluZztcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSwgZW1haWwsIGxpbmVJdGVtcyB9ID0gY2FydDtcbiAgICAgICAgY29uc3QgaXNTaGlwcGluZ1JlcXVpcmVkID0gbGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgZ3JhbmRUb3RhbCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpLm91dHN0YW5kaW5nQmFsYW5jZTtcbiAgICAgICAgY29uc3QgY2hlY2tvdXRVcmwgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5saW5rcy5jaGVja291dExpbms7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBheW1lbnRUeXBlOiBtZXRob2RJZCxcbiAgICAgICAgICAgIGFtb3VudDogZ3JhbmRUb3RhbCxcbiAgICAgICAgICAgIGZhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjaGVja291dFVybCxcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0OiAnQ29tcGxldGUgUGF5bWVudCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeS5jb2RlLFxuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IGlzU2hpcHBpbmdSZXF1aXJlZCxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZ2l2ZW5OYW1lOiBmaXJzdE5hbWUsXG4gICAgICAgICAgICBzdXJuYW1lOiBsYXN0TmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBheW1lbnRTdGFydDogYXN5bmMgKGRhdGE6IEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEsIHN0YXJ0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJJZCA9IGRhdGEucGF5bWVudElkO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2ljUGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLmdldExQTXNCYXNpY1BheW1lbnREYXRhKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2ljUGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBbYCR7bWV0aG9kSWR9X2FjY291bnRgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBkYXRhLnBheW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Ym1pdCBvcmRlciBhbmQgcGF5bWVudCBzaG91bGQgYmUgcGVyZm9ybWVkIHRvIHBhc3Mgb3JkZXJfaWQgdG8gdGhlIGJhY2tlbmRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JyYWludHJlZU9yZGVyU2F2ZWRSZXNwb25zZShlcnJvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5vcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBtZXRob2QgY2FsbCBpbml0aWF0ZXMgdGhlIHBvcHVwXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLmluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRld2F5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnN0YW50TFBNQ2FsbGJhY2soXG4gICAgICAgIHJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCxcbiAgICAgICAgcmVqZWN0OiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgb3JkZXI6IE9taXQ8T3JkZXJSZXF1ZXN0Qm9keSwgJ3BheW1lbnQnPixcbiAgICAgICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zLFxuICAgICkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcblxuICAgICAgICByZXR1cm4gYXN5bmMgKFxuICAgICAgICAgICAgc3RhcnRQYXltZW50RXJyb3I6IEJyYWludHJlZUxQTVN0YXJ0UGF5bWVudEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgcGF5bG9hZERhdGE6IEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkLFxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFydFBheW1lbnRFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydFBheW1lbnRFcnJvci5jb2RlID09PSAnTE9DQUxfUEFZTUVOVF9XSU5ET1dfQ0xPU0VEJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UG9sbGluZ01lY2hhbmlzbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQb2xsaW5nTWVjaGFuaXNtKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJhc2ljUGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLmdldExQTXNCYXNpY1BheW1lbnREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAuLi5iYXNpY1BheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake21ldGhvZElkfV9hY2NvdW50YF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBjYXJ0LmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHBheWxvYWREYXRhLm5vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkID8geyBvcmRlcl9pZDogdGhpcy5vcmRlcklkIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogTG9hZGluZyBJbmRpY2F0b3IgbWV0aG9kc1xuICAgICAqXG4gICAgICogKi9cbiAgICBwcml2YXRlIHRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoaXNMb2FkaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcgJiYgdGhpcy5sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3Iuc2hvdyh0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgY29uc3QgeyBvbkVycm9yIH0gPSB0aGlzLmJyYWludHJlZWxvY2FsbWV0aG9kcyB8fCB7fTtcblxuICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UG9sbGluZ01lY2hhbmlzbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICBpZiAob25FcnJvciAmJiB0eXBlb2Ygb25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFV0aWxzXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgaXNOb25JbnN0YW50UGF5bWVudE1ldGhvZChtZXRob2RJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBtZXRob2RJZC50b1VwcGVyQ2FzZSgpIGluIE5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNCcmFpbnRyZWVSZWRpcmVjdEVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQnJhaW50cmVlUmVkaXJlY3RFcnJvciB7XG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnIHx8IGVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGJvZHkgfTogUGFydGlhbDxCcmFpbnRyZWVMb2NhbFBheW1lbnRNZXRob2RSZWRpcmVjdEFjdGlvbj4gPSBlcnJvcjtcblxuICAgICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIWJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ/LmRhdGEucmVkaXJlY3RfdXJsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2UoXG4gICAgICAgIHJlc3BvbnNlOiB1bmtub3duLFxuICAgICk6IHJlc3BvbnNlIGlzIEJyYWludHJlZU9yZGVyU2F2ZWRSZXNwb25zZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdvYmplY3QnIHx8IHJlc3BvbnNlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGJvZHkgfTogUGFydGlhbDxCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2U+ID0gcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZD8uZGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3JkZXJfaWRfc2F2ZWRfc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQb2xsaW5nIG1lY2hhbmlzbVxuICAgICAqXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBvbGxpbmdNZWNoYW5pc20oXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHJlc29sdmVQcm9taXNlOiAoKSA9PiB2b2lkLFxuICAgICAgICByZWplY3RQcm9taXNlOiAoKSA9PiB2b2lkLFxuICAgICAgICBnYXRld2F5SWQ/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlc29sdmUsIHRoaXMucG9sbGluZ0ludGVydmFsKTtcblxuICAgICAgICAgICAgdGhpcy5zdG9wUG9sbGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxpbmdUaW1lciArPSB0aGlzLnBvbGxpbmdJbnRlcnZhbDtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXJTdGF0dXMgPSBhd2FpdCB0aGlzLmJyYWludHJlZVJlcXVlc3RTZW5kZXIuZ2V0T3JkZXJTdGF0dXMoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZU1ldGFkYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzT3JkZXJQZW5kaW5nID0gb3JkZXJTdGF0dXMuc3RhdHVzID09PSBCcmFpbnRyZWVPcmRlclN0YXR1cy5QZW5kaW5nO1xuICAgICAgICAgICAgY29uc3QgaXNPcmRlckFwcHJvdmVkID0gb3JkZXJTdGF0dXMuc3RhdHVzID09PSBCcmFpbnRyZWVPcmRlclN0YXR1cy5Db21wbGV0ZWQ7XG4gICAgICAgICAgICBjb25zdCBpc1BvbGxpbmdFcnJvciA9IG9yZGVyU3RhdHVzLnN0YXR1cyA9PT0gQnJhaW50cmVlT3JkZXJTdGF0dXMuRmFpbGVkO1xuXG4gICAgICAgICAgICBpZiAoaXNPcmRlckFwcHJvdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVByb21pc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzUG9sbGluZ0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdFByb21pc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc09yZGVyQXBwcm92ZWQgJiZcbiAgICAgICAgICAgICAgICBpc09yZGVyUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgIHRoaXMucG9sbGluZ1RpbWVyIDwgdGhpcy5tYXhQb2xsaW5nSW50ZXJ2YWxUaW1lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplUG9sbGluZ01lY2hhbmlzbShcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICByZWplY3RQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBnYXRld2F5SWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWluaXRpYWxpemVTdHJhdGVneSh7XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgZ2F0ZXdheUlkLFxuICAgICAgICAgICAgICAgIGJyYWludHJlZWxvY2FsbWV0aG9kczogdGhpcy5icmFpbnRyZWVsb2NhbG1ldGhvZHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihuZXcgVGltZW91dEVycm9yKCkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG4gICAgICAgIHRoaXMucG9sbGluZ1RpbWVyID0gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0UG9sbGluZ01lY2hhbmlzbSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZWluaXRpYWxpemVTdHJhdGVneShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWluaXRpYWxpemUoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKG9wdGlvbnMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQgeyBMb2FkaW5nSW5kaWNhdG9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCBCcmFpbnRyZWVSZXF1ZXN0U2VuZGVyIGZyb20gJy4uL2JyYWludHJlZS1yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCBCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtbG9jYWwtbWV0aG9kcy1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTZGsgPSBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgKTtcbiAgICBjb25zdCByZXF1ZXN0U2VuZGVyID0gY3JlYXRlUmVxdWVzdFNlbmRlcigpO1xuICAgIGNvbnN0IGJyYWludHJlZVJlcXVlc3RTZW5kZXIgPSBuZXcgQnJhaW50cmVlUmVxdWVzdFNlbmRlcihyZXF1ZXN0U2VuZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVTZGssXG4gICAgICAgIGJyYWludHJlZVJlcXVlc3RTZW5kZXIsXG4gICAgICAgIG5ldyBMb2FkaW5nSW5kaWNhdG9yKHsgc3R5bGVzOiB7IGJhY2tncm91bmRDb2xvcjogJ2JsYWNrJyB9IH0pLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBnYXRld2F5OiAnYnJhaW50cmVlbG9jYWxtZXRob2RzJyB9LFxuXSk7XG4iLCJpbXBvcnQgeyBvbWl0QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbiwgRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyB9IGZyb20gJy4uL2luZGV4JztcblxuZnVuY3Rpb24gaXNJbnZhbGlkU3R5bGVPcHRpb24oc3R5bGVPcHRpb246IHVua25vd24pIHtcbiAgICByZXR1cm4gdHlwZW9mIHN0eWxlT3B0aW9uICE9PSAnc3RyaW5nJztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RmFzdGxhbmVTdHlsZXMoXG4gICAgc3R5bGVTZXR0aW5ncz86IEZhc3RsYW5lU3R5bGVzU2V0dGluZ3MsXG4gICAgdWlTdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbik6IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXVpU3R5bGVzICYmICFzdHlsZVNldHRpbmdzKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFuVXBGYXN0bGFuZVN0eWxlcyhtZXJnZUZhc3RsYW5lU3R5bGVzKHN0eWxlU2V0dGluZ3MsIHVpU3R5bGVzKSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRmFzdGxhbmVTdHlsZXMoXG4gICAgc3R5bGVTZXR0aW5ncz86IEZhc3RsYW5lU3R5bGVzU2V0dGluZ3MsXG4gICAgdWlTdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbik6IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5OlxuICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lUm9vdFNldHRpbmdzQmFja2dyb3VuZENvbG9yIHx8XG4gICAgICAgICAgICAgICAgdWlTdHlsZXM/LnJvb3Q/LmJhY2tncm91bmRDb2xvclByaW1hcnksXG4gICAgICAgICAgICBlcnJvckNvbG9yOiBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVJvb3RTZXR0aW5nc0Vycm9yQ29sb3IgfHwgdWlTdHlsZXM/LnJvb3Q/LmVycm9yQ29sb3IsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRGYW1pbHkgfHwgdWlTdHlsZXM/LnJvb3Q/LmZvbnRGYW1pbHksXG4gICAgICAgICAgICBmb250U2l6ZUJhc2U6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVSb290U2V0dGluZ3NGb250U2l6ZSB8fCB1aVN0eWxlcz8ucm9vdD8uZm9udFNpemVCYXNlLFxuICAgICAgICAgICAgcGFkZGluZzogc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVSb290U2V0dGluZ3NQYWRkaW5nIHx8IHVpU3R5bGVzPy5yb290Py5wYWRkaW5nLFxuICAgICAgICAgICAgcHJpbWFyeUNvbG9yOlxuICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lUm9vdFNldHRpbmdzUHJpbWFyeUNvbG9yIHx8IHVpU3R5bGVzPy5yb290Py5wcmltYXJ5Q29sb3IsXG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyUmFkaXVzIHx8IHVpU3R5bGVzPy5pbnB1dD8uYm9yZGVyUmFkaXVzLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyQ29sb3IgfHwgdWlTdHlsZXM/LmlucHV0Py5ib3JkZXJDb2xvcixcbiAgICAgICAgICAgIGZvY3VzQm9yZGVyQ29sb3I6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzRm9jdXNCb3JkZXJCYXNlIHx8XG4gICAgICAgICAgICAgICAgdWlTdHlsZXM/LmlucHV0Py5mb2N1c0JvcmRlckNvbG9yLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lSW5wdXRTZXR0aW5nc0JhY2tncm91bmRDb2xvciB8fFxuICAgICAgICAgICAgICAgIHVpU3R5bGVzPy5pbnB1dD8uYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyV2lkdGggfHwgdWlTdHlsZXM/LmlucHV0Py5ib3JkZXJXaWR0aCxcbiAgICAgICAgICAgIHRleHRDb2xvckJhc2U6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzVGV4dENvbG9yQmFzZSB8fCB1aVN0eWxlcz8uaW5wdXQ/LnRleHRDb2xvckJhc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZToge1xuICAgICAgICAgICAgY29sb3JQcmltYXJ5OlxuICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lVG9nZ2xlU2V0dGluZ3NDb2xvclByaW1hcnkgfHwgdWlTdHlsZXM/LnRvZ2dsZT8uY29sb3JQcmltYXJ5LFxuICAgICAgICAgICAgY29sb3JTZWNvbmRhcnk6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yU2Vjb25kYXJ5IHx8XG4gICAgICAgICAgICAgICAgdWlTdHlsZXM/LnRvZ2dsZT8uY29sb3JTZWNvbmRhcnksXG4gICAgICAgIH0sXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzQ29sb3IgfHwgdWlTdHlsZXM/LnRleHQ/LmJvZHk/LmNvbG9yLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVRleHRCb2R5U2V0dGluZ3NGb250U2l6ZSB8fFxuICAgICAgICAgICAgICAgICAgICB1aVN0eWxlcz8udGV4dD8uYm9keT8uZm9udFNpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVRleHRDYXB0aW9uU2V0dGluZ3NDb2xvciB8fFxuICAgICAgICAgICAgICAgICAgICB1aVN0eWxlcz8udGV4dD8uY2FwdGlvbj8uY29sb3IsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0ZvbnRTaXplIHx8XG4gICAgICAgICAgICAgICAgICAgIHVpU3R5bGVzPy50ZXh0Py5jYXB0aW9uPy5mb250U2l6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGJyYW5kaW5nOiBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUJyYW5kaW5nU2V0dGluZ3MgfHwgdWlTdHlsZXM/LmJyYW5kaW5nLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFuVXBGYXN0bGFuZVN0eWxlcyhzdHlsZXM6IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uKSB7XG4gICAgY29uc3QgZmFzdGxhbmVTdHlsZXM6IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uID0ge307XG5cbiAgICBjb25zdCByb290ID0gb21pdEJ5KHN0eWxlcy5yb290LCBpc0ludmFsaWRTdHlsZU9wdGlvbik7XG4gICAgY29uc3QgaW5wdXQgPSBvbWl0Qnkoc3R5bGVzLmlucHV0LCBpc0ludmFsaWRTdHlsZU9wdGlvbik7XG4gICAgY29uc3QgdG9nZ2xlID0gb21pdEJ5KHN0eWxlcy50b2dnbGUsIGlzSW52YWxpZFN0eWxlT3B0aW9uKTtcbiAgICBjb25zdCB0ZXh0Qm9keSA9IG9taXRCeShzdHlsZXMudGV4dD8uYm9keSwgaXNJbnZhbGlkU3R5bGVPcHRpb24pO1xuICAgIGNvbnN0IHRleHRDYXB0aW9uID0gb21pdEJ5KHN0eWxlcy50ZXh0Py5jYXB0aW9uLCBpc0ludmFsaWRTdHlsZU9wdGlvbik7XG4gICAgY29uc3QgYnJhbmRpbmcgPSBzdHlsZXMuYnJhbmRpbmc7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMocm9vdCkubGVuZ3RoKSB7XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnJvb3QgPSByb290O1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhpbnB1dCkubGVuZ3RoKSB7XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRvZ2dsZSkubGVuZ3RoKSB7XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnRvZ2dsZSA9IHRvZ2dsZTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGV4dEJvZHkpLmxlbmd0aCkge1xuICAgICAgICBmYXN0bGFuZVN0eWxlcy50ZXh0ID0ge307XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnRleHQuYm9keSA9IHRleHRCb2R5O1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0Q2FwdGlvbikubGVuZ3RoKSB7XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnRleHQgPSB7XG4gICAgICAgICAgICAuLi5mYXN0bGFuZVN0eWxlcy50ZXh0LFxuICAgICAgICB9O1xuICAgICAgICBmYXN0bGFuZVN0eWxlcy50ZXh0LmNhcHRpb24gPSB0ZXh0Q2FwdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoYnJhbmRpbmcpIHtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMuYnJhbmRpbmcgPSBicmFuZGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFzdGxhbmVTdHlsZXM7XG59XG4iLCJpbXBvcnQge1xuICAgIFBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuICAgIFBheVBhbENvbm5lY3RDdXN0b21lcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKFxuICAgIGN1c3RvbWVyPzogUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4pOiBjdXN0b21lciBpcyBQYXlQYWxDb25uZWN0Q3VzdG9tZXIge1xuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgICdhdXRoZW50aWNhdGlvblN0YXRlJyBpbiBjdXN0b21lciB8fCAnYWRkcmVzc2VzJyBpbiBjdXN0b21lciB8fCAnaW5zdHJ1bWVudHMnIGluIGN1c3RvbWVyXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IEhvc3RlZEluc3RydW1lbnQsIE5vbmNlSW5zdHJ1bWVudCB9IGZyb20gJy4vcGF5bWVudCc7XG5cbnR5cGUgUGF5bWVudEluc3RydW1lbnQgPSBDYXJkSW5zdHJ1bWVudCB8IEFjY291bnRJbnN0cnVtZW50IHwgSG9zdGVkSW5zdHJ1bWVudCB8IE5vbmNlSW5zdHJ1bWVudDtcblxuZXhwb3J0IGRlZmF1bHQgUGF5bWVudEluc3RydW1lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUluc3RydW1lbnQge1xuICAgIGJpZ3BheVRva2VuOiBzdHJpbmc7XG4gICAgZGVmYXVsdEluc3RydW1lbnQ6IGJvb2xlYW47XG4gICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICB0cnVzdGVkU2hpcHBpbmdBZGRyZXNzOiBib29sZWFuO1xuICAgIG1ldGhvZDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gVW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uVHlwZSB7XG4gICAgQ1ZWID0gJ2N2dicsXG4gICAgUEFOID0gJ3BhbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEluc3RydW1lbnQgZXh0ZW5kcyBCYXNlSW5zdHJ1bWVudCB7XG4gICAgYnJhbmQ6IHN0cmluZztcbiAgICBleHBpcnlNb250aDogc3RyaW5nO1xuICAgIGV4cGlyeVllYXI6IHN0cmluZztcbiAgICBpaW46IHN0cmluZztcbiAgICBsYXN0NDogc3RyaW5nO1xuICAgIHR5cGU6ICdjYXJkJztcbiAgICB1bnRydXN0ZWRTaGlwcGluZ0NhcmRWZXJpZmljYXRpb25Nb2RlOiBVbnRydXN0ZWRTaGlwcGluZ0NhcmRWZXJpZmljYXRpb25UeXBlO1xufVxuXG5pbnRlcmZhY2UgQmFzZUFjY291bnRJbnN0cnVtZW50IGV4dGVuZHMgQmFzZUluc3RydW1lbnQge1xuICAgIG1ldGhvZDogc3RyaW5nO1xuICAgIHR5cGU6ICdhY2NvdW50JyB8ICdiYW5rJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlQYWxJbnN0cnVtZW50IGV4dGVuZHMgQmFzZUFjY291bnRJbnN0cnVtZW50IHtcbiAgICBleHRlcm5hbElkOiBzdHJpbmc7XG4gICAgbWV0aG9kOiAncGF5cGFsJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY2hJbnN0cnVtZW50IGV4dGVuZHMgQmFzZUFjY291bnRJbnN0cnVtZW50IHtcbiAgICBpc3N1ZXI6IHN0cmluZztcbiAgICBhY2NvdW50TnVtYmVyOiBzdHJpbmc7XG4gICAgdHlwZTogJ2JhbmsnO1xuICAgIG1ldGhvZDogJ2FjaCcgfCAnZWNwJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYW5rSW5zdHJ1bWVudCBleHRlbmRzIEJhc2VBY2NvdW50SW5zdHJ1bWVudCB7XG4gICAgYWNjb3VudE51bWJlcjogc3RyaW5nO1xuICAgIGlzc3Vlcjogc3RyaW5nO1xuICAgIGliYW46IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZztcbiAgICB0eXBlOiAnYmFuayc7XG59XG5cbmV4cG9ydCB0eXBlIEFjY291bnRJbnN0cnVtZW50ID0gUGF5UGFsSW5zdHJ1bWVudCB8IEJhbmtJbnN0cnVtZW50IHwgQWNoSW5zdHJ1bWVudDtcblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdEFjY2Vzc1Rva2VuIHtcbiAgICB2YXVsdEFjY2Vzc1Rva2VuOiBzdHJpbmc7XG4gICAgdmF1bHRBY2Nlc3NFeHBpcnk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uQ29udGV4dCB7XG4gICAgY3VzdG9tZXJJZDogbnVtYmVyO1xuICAgIHN0b3JlSWQ6IHN0cmluZztcbiAgICBjdXJyZW5jeUNvZGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zdHJ1bWVudFJlcXVlc3RDb250ZXh0IGV4dGVuZHMgU2Vzc2lvbkNvbnRleHQge1xuICAgIGF1dGhUb2tlbjogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHtcbiAgICBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3IsXG4gICAgQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZFBheWxvYWQsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50T3B0aW9ucyxcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIGdldEZhc3RsYW5lU3R5bGVzLFxuICAgIGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ2FyZEluc3RydW1lbnQsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNFeHBlcmltZW50RW5hYmxlZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCB7IFdpdGhCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBCcmFpbnRyZWVGYXN0bGFuZVV0aWxzIGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnJhaW50cmVlQ2FyZENvbXBvbmVudD86IEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudDtcbiAgICBwcml2YXRlIGlzM0RTRW5hYmxlZD86IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlRmFzdGxhbmVVdGlsczogQnJhaW50cmVlRmFzdGxhbmVVdGlscyxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICApIHt9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIERlZmF1bHQgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEJyYWludHJlZUZhc3RsYW5lUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBicmFpbnRyZWVmYXN0bGFuZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJyYWludHJlZWZhc3RsYW5lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlZmFzdGxhbmVcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJyYWludHJlZWZhc3RsYW5lLm9uSW5pdCB8fCB0eXBlb2YgYnJhaW50cmVlZmFzdGxhbmUub25Jbml0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlZmFzdGxhbmUub25Jbml0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkIG9yIGl0IGlzIG5vdCBhIGZ1bmN0aW9uLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVmYXN0bGFuZS5vbkNoYW5nZSB8fCB0eXBlb2YgYnJhaW50cmVlZmFzdGxhbmUub25DaGFuZ2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVmYXN0bGFuZS5vbkNoYW5nZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZCBvciBpdCBpcyBub3QgYSBmdW5jdGlvbi4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGluaXRpYWxpemF0aW9uRGF0YSwgY2xpZW50VG9rZW4gfSA9IHBheW1lbnRNZXRob2QgfHwge307XG4gICAgICAgIGNvbnN0IHsgaXNGYXN0bGFuZVN0eWxpbmdFbmFibGVkIH0gPSBpbml0aWFsaXphdGlvbkRhdGEgfHwge307XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgaXNUaHJlZURTRXhwZXJpbWVudEVuYWJsZWQgPSBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgICAnUFJPSkVDVC03MDgwLmJyYWludHJlZV9mYXN0bGFuZV90aHJlZV9kcycsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pczNEU0VuYWJsZWQgPSBwYXltZW50TWV0aG9kLmNvbmZpZy5pczNkc0VuYWJsZWQ7XG5cbiAgICAgICAgaWYgKGNsaWVudFRva2VuICYmIGlzVGhyZWVEU0V4cGVyaW1lbnRFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZVNkay5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheXBhbEZhc3RsYW5lU3R5bGVTZXR0aW5ncyA9IGlzRmFzdGxhbmVTdHlsaW5nRW5hYmxlZFxuICAgICAgICAgICAgPyBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZmFzdGxhbmVTdHlsZXNcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGZhc3RsYW5lU3R5bGVzID0gZ2V0RmFzdGxhbmVTdHlsZXMoXG4gICAgICAgICAgICBwYXlwYWxGYXN0bGFuZVN0eWxlU2V0dGluZ3MsXG4gICAgICAgICAgICBicmFpbnRyZWVmYXN0bGFuZS5zdHlsZXMsXG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGZhc3RsYW5lU3R5bGVzLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFJ1bkF1dGhlbnRpY2F0aW9uRmxvdygpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMucnVuUGF5UGFsQXV0aGVudGljYXRpb25GbG93T3JUaHJvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplQ2FyZENvbXBvbmVudCgpO1xuXG4gICAgICAgIHRoaXMub25FcnJvciA9IGJyYWludHJlZWZhc3RsYW5lLm9uRXJyb3I7XG5cbiAgICAgICAgYnJhaW50cmVlZmFzdGxhbmUub25Jbml0KChjb250YWluZXIpID0+IHRoaXMucmVuZGVyQnJhaW50cmVlQ2FyZENvbXBvbmVudChjb250YWluZXIpKTtcbiAgICAgICAgYnJhaW50cmVlZmFzdGxhbmUub25DaGFuZ2UoKCkgPT4gdGhpcy5oYW5kbGVCcmFpbnRyZWVTdG9yZWRJbnN0cnVtZW50Q2hhbmdlKG1ldGhvZElkKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gYXdhaXQgdGhpcy5wcmVwYXJlUGF5bWVudFBheWxvYWQocGF5bWVudC5tZXRob2RJZCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuXG4gICAgICAgIHRoaXMuYnJhaW50cmVlRmFzdGxhbmVVdGlscy5yZW1vdmVTZXNzaW9uSWRGcm9tQ29va2llcygpO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlQ2FyZENvbXBvbmVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgRmFzdGxhbmUgQ29tcG9uZW50IHJlbmRlcmluZyBtZXRob2RcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUNhcmRDb21wb25lbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgcGhvbmUsIGZpcnN0TmFtZSwgbGFzdE5hbWUgfSA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGAke2ZpcnN0TmFtZX0gJHtsYXN0TmFtZX1gO1xuXG4gICAgICAgIGNvbnN0IGNhcmRDb21wb25lbnRPcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zID0ge1xuICAgICAgICAgICAgc3R5bGVzOiB7fSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpbGw6IGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uKHBob25lICYmIHtcbiAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpbGw6IHBob25lLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwYXlwYWxQYXltZW50Q29tcG9uZW50ID1cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlRmFzdGxhbmVVdGlscy5nZXRCcmFpbnRyZWVGYXN0bGFuZUNvbXBvbmVudE9yVGhyb3coKTtcblxuICAgICAgICB0aGlzLmJyYWludHJlZUNhcmRDb21wb25lbnQgPSBhd2FpdCBwYXlwYWxQYXltZW50Q29tcG9uZW50KGNhcmRDb21wb25lbnRPcHRpb25zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckJyYWludHJlZUNhcmRDb21wb25lbnQoY29udGFpbmVyPzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGJyYWludHJlZUNhcmRDb21wb25lbnQgPSB0aGlzLmdldEJyYWludHJlZUNhcmRDb21wb25lbnRPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwiY29udGFpbmVyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJhaW50cmVlQ2FyZENvbXBvbmVudC5yZW5kZXIoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFBheW1lbnQgUGF5bG9hZCBwcmVwYXJhdGlvbiBtZXRob2RzXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHByZXBhcmVQYXltZW50UGF5bG9hZChtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTxQYXltZW50PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGZ1bGxOYW1lID0gYCR7YmlsbGluZ0FkZHJlc3MuZmlyc3ROYW1lfSAke2JpbGxpbmdBZGRyZXNzLmxhc3ROYW1lfWA7XG5cbiAgICAgICAgY29uc3QgcGF5cGFsSW5zdHJ1bWVudCA9IHRoaXMuZ2V0UGF5UGFsSW5zdHJ1bWVudHMoKVswXTtcblxuICAgICAgICBjb25zdCBkZXZpY2VTZXNzaW9uSWQgPSBhd2FpdCB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMuZ2V0RGV2aWNlU2Vzc2lvbklkKCk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgaXNUaHJlZURTRXhwZXJpbWVudEVuYWJsZWQgPSBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgICAnUFJPSkVDVC03MDgwLmJyYWludHJlZV9mYXN0bGFuZV90aHJlZV9kcycsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHBheXBhbEluc3RydW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRocmVlRFNUb2tlbiA9XG4gICAgICAgICAgICAgICAgdGhpcy5pczNEU0VuYWJsZWQgJiYgaXNUaHJlZURTRXhwZXJpbWVudEVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmdldDNEUyhwYXlwYWxJbnN0cnVtZW50LmJpZ3BheVRva2VuLCBwYXlwYWxJbnN0cnVtZW50Py5paW4gfHwgJycpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5cGFsX2Zhc3RsYW5lX3Rva2VuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRocmVlRFNUb2tlbiB8fCBwYXlwYWxJbnN0cnVtZW50LmJpZ3BheVRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZ2V0UGF5bWVudFRva2VuIH0gPSB0aGlzLmdldEJyYWludHJlZUNhcmRDb21wb25lbnRPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFRva2VuID0gYXdhaXQgZ2V0UGF5bWVudFRva2VuKHtcbiAgICAgICAgICAgIG5hbWU6IHsgZnVsbE5hbWUgfSxcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiB0aGlzLm1hcFRvUGF5UGFsQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJpbkd1ZXN0ID0gcGF5bWVudFRva2VuLnBheW1lbnRTb3VyY2UuY2FyZD8uYmluRGV0YWlscz8uYmluIHx8ICcnO1xuICAgICAgICBjb25zdCB0aHJlZURTVG9rZW4gPVxuICAgICAgICAgICAgdGhpcy5pczNEU0VuYWJsZWQgJiYgaXNUaHJlZURTRXhwZXJpbWVudEVuYWJsZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuZ2V0M0RTKHBheW1lbnRUb2tlbi5pZCwgYmluR3Vlc3QpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgbm9uY2U6IHRocmVlRFNUb2tlbiB8fCBwYXltZW50VG9rZW4uaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDNEU1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZ2V0M0RTKG5vbmNlOiBzdHJpbmcsIGJpbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgdGhyZWVEU2VjdXJlID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVGhyZWVEUygpO1xuICAgICAgICBjb25zdCBvcmRlciA9IHN0YXRlLmdldE9yZGVyT3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG9yZGVyPy5vcmRlckFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgIGJpbixcbiAgICAgICAgICAgICAgICAgICAgb25Mb29rdXBDb21wbGV0ZTogKF9kYXRhLCBuZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlZURTZWN1cmUub24oJ2N1c3RvbWVyLWNhbmNlbGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5RXJyb3I6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZFBheWxvYWQsXG4gICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlFcnJvci5jb2RlID09PSAnVEhSRUVEU19WRVJJRllfQ0FSRF9DQU5DRUxFRF9CWV9NRVJDSEFOVCdcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHBheWxvYWQubm9uY2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIE1hcHBlciBtZXRob2RzXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIG1hcFRvUGF5UGFsQWRkcmVzcyhhZGRyZXNzPzogQWRkcmVzcyk6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiBhZGRyZXNzPy5hZGRyZXNzMSB8fCAnJyxcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzPy5jaXR5IHx8ICcnLFxuICAgICAgICAgICAgcmVnaW9uOiBhZGRyZXNzPy5zdGF0ZU9yUHJvdmluY2VDb2RlIHx8IGFkZHJlc3M/LnN0YXRlT3JQcm92aW5jZSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGFkZHJlc3M/LnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogYWRkcmVzcz8uY291bnRyeUNvZGUgfHwgJycsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBPdGhlciBtZXRob2RzXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIHNob3VsZFJ1bkF1dGhlbnRpY2F0aW9uRmxvdygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoKTtcbiAgICAgICAgY29uc3QgYnJhaW50cmVlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBpc0JyYWludHJlZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihcbiAgICAgICAgICAgIHBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnRQcm92aWRlckN1c3RvbWVyXG4gICAgICAgICAgICA6IHt9O1xuXG4gICAgICAgIGNvbnN0IHBheXBhbEZhc3RsYW5lU2Vzc2lvbklkID0gdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmdldFNlc3Npb25JZEZyb21Db29raWVzKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWN1c3RvbWVyLmlzR3Vlc3QgfHxcbiAgICAgICAgICAgIGJyYWludHJlZVBheW1lbnRQcm92aWRlckN1c3RvbWVyPy5hdXRoZW50aWNhdGlvblN0YXRlID09PVxuICAgICAgICAgICAgICAgIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZS5DQU5DRUxFRFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAhYnJhaW50cmVlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXI/LmF1dGhlbnRpY2F0aW9uU3RhdGUgJiZcbiAgICAgICAgICAgIHBheXBhbEZhc3RsYW5lU2Vzc2lvbklkID09PSBjYXJ0LmlkXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCcmFpbnRyZWVDYXJkQ29tcG9uZW50T3JUaHJvdygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUNhcmRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlQ2FyZENvbXBvbmVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBheVBhbEluc3RydW1lbnRzKCk6IENhcmRJbnN0cnVtZW50W10ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBicmFpbnRyZWVQYXltZW50UHJvdmlkZXJDdXN0b21lciA9IGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKFxuICAgICAgICAgICAgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgICAgIClcbiAgICAgICAgICAgID8gcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJcbiAgICAgICAgICAgIDoge307XG5cbiAgICAgICAgcmV0dXJuIGJyYWludHJlZVBheW1lbnRQcm92aWRlckN1c3RvbWVyLmluc3RydW1lbnRzIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIEZhc3RsYW5lIGluc3RydW1lbnQgY2hhbmdlXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUJyYWludHJlZVN0b3JlZEluc3RydW1lbnRDaGFuZ2UoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxDYXJkSW5zdHJ1bWVudCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBwYXlwYWxBeG9TZGsgPSB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMuZ2V0QnJhaW50cmVlRmFzdGxhbmVPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgeyBzZWxlY3Rpb25DaGFuZ2VkLCBzZWxlY3RlZENhcmQgfSA9IGF3YWl0IHBheXBhbEF4b1Nkay5wcm9maWxlLnNob3dDYXJkU2VsZWN0b3IoKTtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXIgPSBpc0JyYWludHJlZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihcbiAgICAgICAgICAgICAgICBwYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA/IHBheW1lbnRQcm92aWRlckN1c3RvbWVyXG4gICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbnN0cnVtZW50cyA9IHRoaXMuYnJhaW50cmVlRmFzdGxhbmVVdGlscy5tYXBQYXlQYWxUb0JjSW5zdHJ1bWVudChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBbc2VsZWN0ZWRDYXJkXSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEluc3RydW1lbnRzICYmIHNlbGVjdGVkSW5zdHJ1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXIsXG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRzOiBbLi4uc2VsZWN0ZWRJbnN0cnVtZW50c10sXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRJbnN0cnVtZW50c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiaW50ZXJmYWNlIENvb2tpZU9wdGlvbnMge1xuICAgIGV4cGlyZXM/OiBEYXRlO1xuICAgIHBhdGg/OiBzdHJpbmc7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICAgIHNlY3VyZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvb2tpZVN0b3JhZ2Uge1xuICAgIHN0YXRpYyBnZXQobmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGNvb2tpZUtleSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChgJHtuYW1lfWApfT1gO1xuICAgICAgICBjb25zdCBjb29raWUgPSBkb2N1bWVudC5jb29raWU7XG5cbiAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcblxuICAgICAgICBjb25zdCBmaXJzdEluZGV4ID0gY29va2llLmluZGV4T2YoY29va2llS2V5KTtcblxuICAgICAgICBpZiAoZmlyc3RJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBsZXQgbGFzdEluZGV4ID0gY29va2llLmluZGV4T2YoJzsnLCBmaXJzdEluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBjb29raWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKGZpcnN0SW5kZXggKyBjb29raWVLZXkubGVuZ3RoLCBsYXN0SW5kZXgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucyA9IHsgc2VjdXJlOiB0cnVlIH0pIHtcbiAgICAgICAgbGV0IGNvb2tpZVRleHQgPSBgJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuXG4gICAgICAgIGNvbnN0IHsgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGV4cGlyZXMpIHtcbiAgICAgICAgICAgIGNvb2tpZVRleHQgKz0gYDsgZXhwaXJlcz0ke2V4cGlyZXMudG9VVENTdHJpbmcoKX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIC8vIGluZm86IGRlZmF1bHQgY29va2llIGV4cGlyYXRpb24gdGltZSBhZnRlciBzZXR1cFxuICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IDYwO1xuXG4gICAgICAgICAgICBub3cuc2V0VGltZShub3cuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwICogMTAwMCk7XG5cbiAgICAgICAgICAgIGNvb2tpZVRleHQgKz0gYDsgZXhwaXJlcz0ke25vdy50b1VUQ1N0cmluZygpfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgY29va2llVGV4dCArPSBgOyBwYXRoPSR7cGF0aH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgY29va2llVGV4dCArPSBgOyBkb21haW49JHtkb21haW59YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUpIHtcbiAgICAgICAgICAgIGNvb2tpZVRleHQgKz0gJzsgc2VjdXJlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVRleHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZShuYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiBDb29raWVPcHRpb25zKSB7XG4gICAgICAgIENvb2tpZVN0b3JhZ2Uuc2V0KG5hbWUsICcnLCB7IGV4cGlyZXM6IG5ldyBEYXRlKDApLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzRXF1YWwsIG9taXQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUZhc3RsYW5lLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcyxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uU3RhdGUsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlRGF0YSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ2FyZEluc3RydW1lbnQsXG4gICAgQ3VzdG9tZXJBZGRyZXNzLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcixcbiAgICBVbnRydXN0ZWRTaGlwcGluZ0NhcmRWZXJpZmljYXRpb25UeXBlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IENvb2tpZVN0b3JhZ2UgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVGYXN0bGFuZVV0aWxzIHtcbiAgICBwcml2YXRlIGJyYWludHJlZUZhc3RsYW5lPzogQnJhaW50cmVlRmFzdGxhbmU7XG4gICAgcHJpdmF0ZSBtZXRob2RJZD86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlOiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgZ2V0RGV2aWNlU2Vzc2lvbklkKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGNhcnQgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFNlc3Npb25JZChjYXJ0Py5pZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJbml0aWFsaXphdGlvbiBtZXRob2RcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uLFxuICAgICkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydCgpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcgfSA9XG4gICAgICAgICAgICBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1ldGhvZElkID0gbWV0aG9kSWQ7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVGYXN0bGFuZSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldEJyYWludHJlZUZhc3RsYW5lKFxuICAgICAgICAgICAgY2FydD8uaWQsXG4gICAgICAgICAgICBjb25maWcudGVzdE1vZGUsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0QnJhaW50cmVlRmFzdGxhbmVPclRocm93KCk6IEJyYWludHJlZUZhc3RsYW5lIHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUZhc3RsYW5lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUZhc3RsYW5lO1xuICAgIH1cblxuICAgIGdldEJyYWludHJlZUZhc3RsYW5lQ29tcG9uZW50T3JUaHJvdygpOiBCcmFpbnRyZWVGYXN0bGFuZVsnRmFzdGxhbmVDYXJkQ29tcG9uZW50J10ge1xuICAgICAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZSA9IHRoaXMuZ2V0QnJhaW50cmVlRmFzdGxhbmVPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuIGJyYWludHJlZUZhc3RsYW5lLkZhc3RsYW5lQ2FyZENvbXBvbmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEF1dGhlbnRpY2F0aW9uIG1ldGhvZHNcbiAgICAgKlxuICAgICAqICovXG4gICAgLy8gUmVtb3ZlIHRoaXMgcnVsZSBkaXNhYmxpbmcgYWZ0ZXIgbWV0aG9kIHJlZmFjdG9yXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgICBhc3luYyBydW5QYXlQYWxBdXRoZW50aWNhdGlvbkZsb3dPclRocm93KFxuICAgICAgICBlbWFpbD86IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2V0U2hpcHBpbmdPcHRpb24/OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kSWQgPSB0aGlzLmdldE1ldGhvZElkT3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgYnJhaW50cmVlRmFzdGxhbmUgPSB0aGlzLmdldEJyYWludHJlZUZhc3RsYW5lT3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgeyBsb29rdXBDdXN0b21lckJ5RW1haWwsIHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3cgfSA9IGJyYWludHJlZUZhc3RsYW5lLmlkZW50aXR5O1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzKCk7XG4gICAgICAgICAgICBjb25zdCB7IGlzRmFzdGxhbmVTaGlwcGluZ09wdGlvbkF1dG9TZWxlY3RFbmFibGVkIH0gPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpXG4gICAgICAgICAgICAgICAgICAgIC5pbml0aWFsaXphdGlvbkRhdGEgfHwge307XG5cbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyRW1haWwgPSBlbWFpbCB8fCBjdXN0b21lcj8uZW1haWwgfHwgYmlsbGluZ0FkZHJlc3M/LmVtYWlsIHx8ICcnO1xuXG4gICAgICAgICAgICBjb25zdCB7IGN1c3RvbWVyQ29udGV4dElkIH0gPSBhd2FpdCBsb29rdXBDdXN0b21lckJ5RW1haWwoY3VzdG9tZXJFbWFpbCk7XG5cbiAgICAgICAgICAgIGlmICghY3VzdG9tZXJDb250ZXh0SWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbmZvOiB3ZSBzaG91bGQgY2xlYW4gdXAgcHJldmlvdXMgZXhwZXJpZW5jZSB3aXRoIGRlZmF1bHQgZGF0YSBhbmQgcmVsYXRlZCBhdXRoZW50aWNhdGlvblN0YXRlXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVBheW1lbnRQcm92aWRlckN1c3RvbWVyKHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25TdGF0ZTogQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlLlVOUkVDT0dOSVpFRCxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM6IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU2Vzc2lvbklkVG9Db29raWVzKGNhcnQuaWQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IGF1dGhlbnRpY2F0aW9uU3RhdGUsIHByb2ZpbGVEYXRhIH0gPSBhd2FpdCB0cmlnZ2VyQXV0aGVudGljYXRpb25GbG93KFxuICAgICAgICAgICAgICAgIGN1c3RvbWVyQ29udGV4dElkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcGhvbmVOdW1iZXIgPSBwcm9maWxlRGF0YT8uc2hpcHBpbmdBZGRyZXNzPy5waG9uZU51bWJlciB8fCAnJztcblxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uU3RhdGUgPT09IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZS5DQU5DRUxFRCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRzOiBbXSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU2Vzc2lvbklkRnJvbUNvb2tpZXMoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzZXMgPVxuICAgICAgICAgICAgICAgIHRoaXMubWFwUGF5UGFsVG9CY0FkZHJlc3MoW3Byb2ZpbGVEYXRhLnNoaXBwaW5nQWRkcmVzc10sIFtwaG9uZU51bWJlcl0pIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgcGF5cGFsQmlsbGluZ0FkZHJlc3MgPSB0aGlzLmdldFBheVBhbEJpbGxpbmdBZGRyZXNzZXMocHJvZmlsZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3NlcyA9IHBheXBhbEJpbGxpbmdBZGRyZXNzXG4gICAgICAgICAgICAgICAgPyB0aGlzLm1hcFBheVBhbFRvQmNBZGRyZXNzKFtwYXlwYWxCaWxsaW5nQWRkcmVzc10sIFtwaG9uZU51bWJlcl0pXG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IGluc3RydW1lbnRzID0gcHJvZmlsZURhdGEuY2FyZFxuICAgICAgICAgICAgICAgID8gdGhpcy5tYXBQYXlQYWxUb0JjSW5zdHJ1bWVudChtZXRob2RJZCwgW3Byb2ZpbGVEYXRhLmNhcmRdKVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSB0aGlzLm1lcmdlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzc2VzKFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc2VzLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzZXMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLnNhdmVTZXNzaW9uSWRUb0Nvb2tpZXMoY2FydC5pZCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25TdGF0ZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzZXMsXG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGJpbGxpbmdBZGRyZXNzZXMubGVuZ3RoID4gMCAmJiBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3MoYmlsbGluZ0FkZHJlc3Nlc1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByZWZpbGwgYmlsbGluZyBmb3JtIGlmIG9ubHkgZGlnaXRhbCBpdGVtcyBpbiBjYXJ0IHdpdGggYmlsbGluZyBkYXRhIGFuZCBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lXG4gICAgICAgICAgICAvLyBmcm9tIHNoaXBwaW5nQWRkcmVzc2VzIGJlY2F1c2UgdGhlcmUgYXJlIGVtcHR5IGluIGJpbGxpbmdcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzc2VzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICBjYXJ0LmxpbmVJdGVtcy5kaWdpdGFsSXRlbXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgIGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUgfSA9IGFkZHJlc3Nlc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaWdpdGFsSXRlbUJpbGxpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJpbGxpbmdBZGRyZXNzZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyhkaWdpdGFsSXRlbUJpbGxpbmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2hpcHBpbmdBZGRyZXNzZXMubGVuZ3RoID4gMCAmJiBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKHNoaXBwaW5nQWRkcmVzc2VzWzBdKTtcblxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTZXRTaGlwcGluZ09wdGlvbiAmJiBpc0Zhc3RsYW5lU2hpcHBpbmdPcHRpb25BdXRvU2VsZWN0RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFNoaXBwaW5nT3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVE9ETzogd2Ugc2hvdWxkIGZpZ3VyZSBvdXQgd2hhdCB0byBkbyBoZXJlXG4gICAgICAgICAgICAvLyBUT0RPOiBiZWNhdXNlIHdlIHNob3VsZCBub3QgdG8gc3RvcCB0aGUgZmxvdyBpZiB0aGUgZXJyb3Igb2NjdXJzIG9uIHBheXBhbCBzaWRlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNlc3Npb24gaWQgbWFuYWdlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgZ2V0U2Vzc2lvbklkRnJvbUNvb2tpZXMoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvb2tpZVN0b3JhZ2UuZ2V0KCdiYy1mYXN0bGFuZS1zZXNzaW9uSWQnKSB8fCAnJztcbiAgICB9XG5cbiAgICBzYXZlU2Vzc2lvbklkVG9Db29raWVzKHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGV4cGlyZXMuc2V0RGF0ZShleHBpcmVzLmdldERhdGUoKSArIDE0KTsgLy8gMiB3ZWVrcyBleHBpcnlcblxuICAgICAgICBDb29raWVTdG9yYWdlLnNldCgnYmMtZmFzdGxhbmUtc2Vzc2lvbklkJywgc2Vzc2lvbklkLCB7XG4gICAgICAgICAgICBleHBpcmVzLFxuICAgICAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW1vdmVTZXNzaW9uSWRGcm9tQ29va2llcygpOiB2b2lkIHtcbiAgICAgICAgQ29va2llU3RvcmFnZS5yZW1vdmUoJ2JjLWZhc3RsYW5lLXNlc3Npb25JZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUGF5UGFsIHRvIEJDIGRhdGEgbWFwcGVyc1xuICAgICAqXG4gICAgICogKi9cbiAgICBtYXBQYXlQYWxUb0JjSW5zdHJ1bWVudChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgaW5zdHJ1bWVudHM/OiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50W10sXG4gICAgKTogQ2FyZEluc3RydW1lbnRbXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghaW5zdHJ1bWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0cnVtZW50cy5tYXAoKGluc3RydW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIHBheW1lbnRTb3VyY2UgfSA9IGluc3RydW1lbnQ7XG4gICAgICAgICAgICBjb25zdCB7IGJyYW5kLCBleHBpcnksIGxhc3REaWdpdHMsIGJpbkRldGFpbHMgfSA9IHBheW1lbnRTb3VyY2UuY2FyZDtcblxuICAgICAgICAgICAgY29uc3QgW2V4cGlyeVllYXIsIGV4cGlyeU1vbnRoXSA9IGV4cGlyeS5zcGxpdCgnLScpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJpZ3BheVRva2VuOiBpZCxcbiAgICAgICAgICAgICAgICBicmFuZCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0SW5zdHJ1bWVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXhwaXJ5TW9udGgsXG4gICAgICAgICAgICAgICAgZXhwaXJ5WWVhcixcbiAgICAgICAgICAgICAgICBpaW46IGJpbkRldGFpbHM/LmJpbiB8fCAnJyxcbiAgICAgICAgICAgICAgICBsYXN0NDogbGFzdERpZ2l0cyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICB0cnVzdGVkU2hpcHBpbmdBZGRyZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2FyZCcsXG4gICAgICAgICAgICAgICAgdW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uTW9kZTogVW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uVHlwZS5QQU4sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcFBheVBhbFRvQmNBZGRyZXNzKFxuICAgICAgICBhZGRyZXNzZXM/OiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3NbXSxcbiAgICAgICAgcGhvbmVzPzogc3RyaW5nW10sXG4gICAgKTogQ3VzdG9tZXJBZGRyZXNzW10ge1xuICAgICAgICBpZiAoIWFkZHJlc3Nlcykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY291bnRyaWVzID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q291bnRyaWVzKCkgfHwgW107XG5cbiAgICAgICAgY29uc3QgZ2V0Q291bnRyeU5hbWVCeUNvdW50cnlDb2RlID0gKGNvdW50cnlDb2RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRDb3VudHJ5ID0gY291bnRyaWVzLmZpbmQoKGNvdW50cnkpID0+IGNvdW50cnkuY29kZSA9PT0gY291bnRyeUNvZGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlZENvdW50cnk/Lm5hbWUgfHwgJyc7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFkZHJlc3Nlcy5tYXAoKGFkZHJlc3MpID0+ICh7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdwYXlwYWwtYWRkcmVzcycsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGFkZHJlc3MuZmlyc3ROYW1lIHx8ICcnLFxuICAgICAgICAgICAgbGFzdE5hbWU6IGFkZHJlc3MubGFzdE5hbWUgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiBhZGRyZXNzLmNvbXBhbnkgfHwgJycsXG4gICAgICAgICAgICBhZGRyZXNzMTogYWRkcmVzcy5zdHJlZXRBZGRyZXNzLFxuICAgICAgICAgICAgYWRkcmVzczI6IGFkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzIHx8ICcnLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5sb2NhbGl0eSxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZTogYWRkcmVzcy5yZWdpb24sXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBhZGRyZXNzLnJlZ2lvbixcbiAgICAgICAgICAgIGNvdW50cnk6IGdldENvdW50cnlOYW1lQnlDb3VudHJ5Q29kZShhZGRyZXNzLmNvdW50cnlDb2RlQWxwaGEyKSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlQWxwaGEyLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgcGhvbmU6IChwaG9uZXMgJiYgcGhvbmVzWzBdKSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEdldCBQYXlQYWwgYmlsbGluZyBhZGRyZXNzZXMgZnJvbSBzdG9yZWQgYnJhaW50cmVlIGluc3RydW1lbnRzIGluZm9cbiAgICAgKlxuICAgICAqICovXG4gICAgcHJpdmF0ZSBnZXRQYXlQYWxCaWxsaW5nQWRkcmVzc2VzKFxuICAgICAgICBwcm9maWxlRGF0YT86IEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZURhdGEsXG4gICAgKTogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgeyBjYXJkLCBuYW1lIH0gPSBwcm9maWxlRGF0YSB8fCB7fTtcblxuICAgICAgICBpZiAoIWNhcmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSB9ID0gY2FyZC5wYXltZW50U291cmNlLmNhcmQuYmlsbGluZ0FkZHJlc3M7XG4gICAgICAgIGNvbnN0IHsgZmlyc3ROYW1lOiBnaXZlbl9uYW1lLCBsYXN0TmFtZTogc3VybmFtZSB9ID0gbmFtZSB8fCB7fTtcbiAgICAgICAgY29uc3QgeyBzaGlwcGluZ0FkZHJlc3MgfSA9IHByb2ZpbGVEYXRhIHx8IHt9O1xuICAgICAgICBjb25zdCBhZGRyZXNzID0ge1xuICAgICAgICAgICAgLi4uY2FyZC5wYXltZW50U291cmNlLmNhcmQuYmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZSB8fCBnaXZlbl9uYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lIHx8IHN1cm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaXNBZGRyZXNzRXhpc3QgPVxuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzICYmXG4gICAgICAgICAgICBpc0VxdWFsKHRoaXMubm9ybWFsaXplQWRkcmVzcyhhZGRyZXNzKSwgdGhpcy5ub3JtYWxpemVBZGRyZXNzKHNoaXBwaW5nQWRkcmVzcykpO1xuXG4gICAgICAgIHJldHVybiBpc0FkZHJlc3NFeGlzdCA/IHNoaXBwaW5nQWRkcmVzcyA6IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBub3JtYWxpemVBZGRyZXNzKGFkZHJlc3M6IEN1c3RvbWVyQWRkcmVzcyB8IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcykge1xuICAgICAgICByZXR1cm4gb21pdChhZGRyZXNzLCBbJ2lkJ10pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWVyZ2VTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzZXMoXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzc2VzOiBDdXN0b21lckFkZHJlc3NbXSxcbiAgICAgICAgYmlsbGluZ0FkZHJlc3NlczogQ3VzdG9tZXJBZGRyZXNzW10sXG4gICAgKTogQ3VzdG9tZXJBZGRyZXNzW10ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEJpbGxpbmdBZGRyZXNzZXMgPSBiaWxsaW5nQWRkcmVzc2VzLmZpbHRlcihcbiAgICAgICAgICAgIChiaWxsaW5nQWRkcmVzczogQ3VzdG9tZXJBZGRyZXNzKSA9PlxuICAgICAgICAgICAgICAgICFzaGlwcGluZ0FkZHJlc3Nlcy5zb21lKChzaGlwcGluZ0FkZHJlc3M6IEN1c3RvbWVyQWRkcmVzcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNFcXVhbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9ybWFsaXplQWRkcmVzcyhzaGlwcGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3JtYWxpemVBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gWy4uLnNoaXBwaW5nQWRkcmVzc2VzLCAuLi5maWx0ZXJlZEJpbGxpbmdBZGRyZXNzZXNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogT3RoZXJcbiAgICAgKlxuICAgICAqICovXG4gICAgcHJpdmF0ZSBnZXRNZXRob2RJZE9yVGhyb3coKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLm1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJtZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZElkO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0U2hpcHBpbmdPcHRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNvbnNpZ25tZW50cyA9IHN0YXRlLmdldENvbnNpZ25tZW50cygpIHx8IFtdO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVTaGlwcGluZ09wdGlvbnMgPSBjb25zaWdubWVudHNbMF0/LmF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyB8fCBbXTtcbiAgICAgICAgY29uc3QgcmVjb21tZW5kZWRTaGlwcGluZ09wdGlvbiA9IGF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucy5maW5kKFxuICAgICAgICAgICAgKG9wdGlvbikgPT4gb3B0aW9uLmlzUmVjb21tZW5kZWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHJlY29tbWVuZGVkU2hpcHBpbmdPcHRpb24gfHwgYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSByZWNvbW1lbmRlZFNoaXBwaW5nT3B0aW9uIHx8IGF2YWlsYWJsZVNoaXBwaW5nT3B0aW9uc1swXTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNlbGVjdFNoaXBwaW5nT3B0aW9uKHNlbGVjdGVkT3B0aW9uLmlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lVXRpbHMgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMnO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZUZhc3RsYW5lVXRpbHMgPSBuZXcgQnJhaW50cmVlRmFzdGxhbmVVdGlscyhcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVTY3JpcHRMb2FkZXIgPSBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICBnZXRTY3JpcHRMb2FkZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoYnJhaW50cmVlU2NyaXB0TG9hZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUZhc3RsYW5lVXRpbHMsXG4gICAgICAgIGJyYWludHJlZVNkayxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnIH0sXG5dKTtcbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbiAgICBWaXNhQ2hlY2tvdXRBZGRyZXNzLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTGVnYWN5QWRkcmVzcyxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9icmFpbnRyZWUtdmlzYS1jaGVja291dC1wYXltZW50LW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXZpc2FjaGVja291dDogdmlzYUNoZWNrb3V0T3B0aW9ucywgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCF2aXNhQ2hlY2tvdXRPcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVldmlzYWNoZWNrb3V0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZyB9ID0gdGhpcy5wYXltZW50TWV0aG9kIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgb25FcnJvciA9IG5vb3AsIG9uUGF5bWVudFNlbGVjdCA9IG5vb3AgfSA9IHZpc2FDaGVja291dE9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlVmlzYUNoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0U2RrID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0VmlzYUNoZWNrb3V0U2RrKGNvbmZpZz8udGVzdE1vZGUpO1xuXG4gICAgICAgIGNvbnN0IGluaXRPcHRpb25zID0gYnJhaW50cmVlVmlzYUNoZWNrb3V0LmNyZWF0ZUluaXRPcHRpb25zKHtcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBzdG9yZUNvbmZpZy5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZzoge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0U2hpcHBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHN0b3JlQ29uZmlnLmN1cnJlbmN5LmNvZGUsXG4gICAgICAgICAgICAgICAgc3VidG90YWw6IFN0cmluZyhjaGVja291dC5zdWJ0b3RhbCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCB2aXNhQ2hlY2tvdXRTZGsuaW5pdChpbml0T3B0aW9ucyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0U2RrLm9uKFxuICAgICAgICAgICAgJ3BheW1lbnQuc3VjY2VzcycsXG4gICAgICAgICAgICAocGF5bWVudFN1Y2Nlc3NQYXlsb2FkOiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpID0+XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZVBheW1lbnQoYnJhaW50cmVlVmlzYUNoZWNrb3V0LCBwYXltZW50U3VjY2Vzc1BheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBvblBheW1lbnRTZWxlY3QoKSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gb25FcnJvcihlcnJvcikpLFxuICAgICAgICApO1xuICAgICAgICB2aXNhQ2hlY2tvdXRTZGsub24oJ3BheW1lbnQuZXJyb3InLCAoXywgZXJyb3IpID0+IG9uRXJyb3IoZXJyb3IpKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gcGF5bG9hZDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGF5bWVudE1ldGhvZD8uaW5pdGlhbGl6YXRpb25EYXRhPy5ub25jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBub25jZSB9ID0gdGhpcy5wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7IG5vbmNlIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5kZWluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgYnJhaW50cmVlVmlzYUNoZWNrb3V0OiBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG4gICAgICAgIHBheW1lbnQ6IFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dC50b2tlbml6ZShwYXltZW50KSxcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCksXG4gICAgICAgIF0pLnRoZW4oKFtwYXlsb2FkLCBkZXZpY2VEYXRhXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmcgPSBzdGF0ZS5nZXRTaGlwcGluZ0FkZHJlc3MoKTtcbiAgICAgICAgICAgIGNvbnN0IGJpbGxpbmcgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzcygpO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3Moc2hpcHBpbmcpLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3MoYmlsbGluZyksXG4gICAgICAgICAgICB9ID0gcGF5bG9hZDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdEZvcm0oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogVmlzYUNoZWNrb3V0QWRkcmVzcyB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBhZGRyZXNzLnBob25lLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGV4dGVuZGVkQWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICByZWdpb246IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcG9zdEZvcm0oXG4gICAgICAgIHBheW1lbnREYXRhOiBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxuICAgICAgICBkYXRhQ29sbGVjdG9yOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHVzZXJEYXRhLCBiaWxsaW5nQWRkcmVzcywgc2hpcHBpbmdBZGRyZXNzLCBkZXRhaWxzOiBjYXJkSW5mb3JtYXRpb24gfSA9IHBheW1lbnREYXRhO1xuICAgICAgICBjb25zdCB7IHVzZXJFbWFpbCB9ID0gdXNlckRhdGE7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gZGF0YUNvbGxlY3RvcjtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtUG9zdGVyLnBvc3RGb3JtKCcvY2hlY2tvdXQucGhwJywge1xuICAgICAgICAgICAgcGF5bWVudF90eXBlOiBwYXltZW50RGF0YS50eXBlLFxuICAgICAgICAgICAgbm9uY2U6IHBheW1lbnREYXRhLm5vbmNlLFxuICAgICAgICAgICAgcHJvdmlkZXI6ICdicmFpbnRyZWV2aXNhY2hlY2tvdXQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgY2FyZF9pbmZvcm1hdGlvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IGNhcmRJbmZvcm1hdGlvbi5jYXJkVHlwZSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IGNhcmRJbmZvcm1hdGlvbi5sYXN0VHdvLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0QWRkcmVzcyh1c2VyRW1haWwsIGJpbGxpbmdBZGRyZXNzKSksXG4gICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBzaGlwcGluZ0FkZHJlc3MpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBZGRyZXNzKGVtYWlsOiBzdHJpbmcsIGFkZHJlc3M6IFZpc2FDaGVja291dEFkZHJlc3MgPSB7fSk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBmaXJzdF9uYW1lOiBhZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lX251bWJlcjogYWRkcmVzcy5waG9uZU51bWJlcixcbiAgICAgICAgICAgIGFkZHJlc3NfbGluZV8xOiBhZGRyZXNzLnN0cmVldEFkZHJlc3MsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcy5leHRlbmRlZEFkZHJlc3MsXG4gICAgICAgICAgICBjaXR5OiBhZGRyZXNzLmxvY2FsaXR5LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3MucmVnaW9uLFxuICAgICAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duKTogbmV2ZXIge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQnJhaW50cmVlRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIFZpc2FDaGVja291dEhvc3RXaW5kb3csXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGhvc3RXaW5kb3c6IFZpc2FDaGVja291dEhvc3RXaW5kb3cgJiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCksIGhvc3RXaW5kb3csIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKSxcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlU2RrLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZXZpc2FjaGVja291dCcgfSxcbl0pO1xuIiwiaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBQYXlwYWxJbnN0cnVtZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuaW1wb3J0IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5SW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoQnJhaW50cmVlVmVubW9Jbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9icmFpbnRyZWUtdmVubW8tcGF5bWVudC1zdHJhdGVneS1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVWZW5tb0NoZWNrb3V0PzogQnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICBwcml2YXRlIHZlbm1vT3B0aW9ucz86IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5SW5pdGlhbGl6ZU9wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZTogQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVWZW5tb0luaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy52ZW5tb09wdGlvbnMgPSBvcHRpb25zLmJyYWludHJlZXZlbm1vO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplQnJhaW50cmVlVmVubW8ocGF5bWVudE1ldGhvZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YShwYXltZW50KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlcik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50RGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRlYXJkb3duKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGlmICghaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQQVlQQUxfUE9QVVBfQ0xPU0VEJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQnJhaW50cmVlVmVubW8ocGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgaXNCcmFpbnRyZWVWZW5tb1dlYkZhbGxiYWNrU3VwcG9ydCA9IGlzRXhwZXJpbWVudEVuYWJsZWQoXG4gICAgICAgICAgICBmZWF0dXJlcyxcbiAgICAgICAgICAgICdQQVlQQUwtNTQwNi5icmFpbnRyZWVfdmVubW9fd2ViX2ZhbGxiYWNrX3N1cHBvcnQnLFxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlVmVubW9DaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFZlbm1vQ2hlY2tvdXQoe1xuICAgICAgICAgICAgICAgIC4uLih0aGlzLnZlbm1vT3B0aW9ucz8uYWxsb3dEZXNrdG9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB7IGFsbG93RGVza3RvcDogdGhpcy52ZW5tb09wdGlvbnMuYWxsb3dEZXNrdG9wIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGlzQnJhaW50cmVlVmVubW9XZWJGYWxsYmFja1N1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZVdlYkZhbGxCYWNrOiBpc0JyYWludHJlZVZlbm1vV2ViRmFsbGJhY2tTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlUGF5bWVudERhdGEocGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHkpOiBQcm9taXNlPFBheW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBub25jZSB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cocGF5bWVudC5tZXRob2RJZCk7XG5cbiAgICAgICAgaWYgKG5vbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5wYXltZW50LCBwYXltZW50RGF0YTogdGhpcy5mb3JtYXR0ZWRQYXlsb2FkKG5vbmNlKSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuaXplUmVzdWx0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVWZW5tb1Rva2VuaXplKCk7XG4gICAgICAgIGNvbnN0IHNlc3Npb25JZCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFNlc3Npb25JZCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHRoaXMuZm9ybWF0dGVkUGF5bG9hZChcbiAgICAgICAgICAgICAgICB0b2tlbml6ZVJlc3VsdC5ub25jZSxcbiAgICAgICAgICAgICAgICB0b2tlbml6ZVJlc3VsdC5kZXRhaWxzLmVtYWlsLFxuICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXR0ZWRQYXlsb2FkKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBlbWFpbD86IHN0cmluZyxcbiAgICAgICAgc2Vzc2lvbklkPzogc3RyaW5nLFxuICAgICk6IEZvcm1hdHRlZFBheWxvYWQ8UGF5cGFsSW5zdHJ1bWVudD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogbnVsbCxcbiAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogbnVsbCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfaW5mbzogc2Vzc2lvbklkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgcGF5cGFsX2FjY291bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYnJhaW50cmVlVmVubW9Ub2tlbml6ZSgpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVWZW5tb0NoZWNrb3V0Py50b2tlbml6ZShcbiAgICAgICAgICAgICAgICAoZXJyb3I6IEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkLCBwYXlsb2FkOiBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1wYXltZW50LXN0cmF0ZWd5JztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBzY3JpcHRMb2FkZXIgPSBnZXRTY3JpcHRMb2FkZXIoKTtcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTY3JpcHRMb2FkZXIgPSBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICBzY3JpcHRMb2FkZXIsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgYnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSwgW3sgaWQ6ICdicmFpbnRyZWV2ZW5tbycgfV0pO1xuIiwiaW1wb3J0IHsgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgaXNCcmFpbnRyZWVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIsXG4gICAgaXNCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm9uY2VJbnN0cnVtZW50LFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRNZXRhLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZUhvc3RlZEZvcm0gZnJvbSAnLi4vYnJhaW50cmVlLWhvc3RlZC1mb3JtL2JyYWludHJlZS1ob3N0ZWQtZm9ybSc7XG5pbXBvcnQgaXNCcmFpbnRyZWVFcnJvciBmcm9tICcuLi9pcy1icmFpbnRyZWUtZXJyb3InO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgV2l0aEJyYWludHJlZUNyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLWNyZWRpdC1jYXJkLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBpczNkc0VuYWJsZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgZGV2aWNlU2Vzc2lvbklkPzogc3RyaW5nO1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7XG4gICAgcHJpdmF0ZSB0aHJlZURTZWN1cmU/OiBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zO1xuICAgIHByaXZhdGUgb25QYXltZW50RXJyb3I/OiBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zWydvblBheW1lbnRFcnJvciddO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0ZWRGb3JtOiBCcmFpbnRyZWVIb3N0ZWRGb3JtLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBnYXRld2F5SWQsIGJyYWludHJlZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4gfSA9IHRoaXMucGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRocmVlRFNlY3VyZSA9IGJyYWludHJlZT8udGhyZWVEU2VjdXJlO1xuICAgICAgICB0aGlzLm9uUGF5bWVudEVycm9yID0gYnJhaW50cmVlPy5vblBheW1lbnRFcnJvcjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbiwgdGhpcy50aHJlZURTZWN1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZCwgZ2F0ZXdheUlkKSAmJiBicmFpbnRyZWU/LmZvcm0pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0uaW5pdGlhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlLmZvcm0sXG4gICAgICAgICAgICAgICAgICAgIGJyYWludHJlZS51bnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzSG9zdGVkRm9ybUluaXRpYWxpemVkID0gdGhpcy5icmFpbnRyZWVIb3N0ZWRGb3JtLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pczNkc0VuYWJsZWQgPSB0aGlzLnBheW1lbnRNZXRob2QuY29uZmlnLmlzM2RzRW5hYmxlZDtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbklkKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lKCkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIG1ldGhvZElkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS52YWxpZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBvcmRlckFtb3VudCA9IHN0YXRlLmdldE9yZGVyT3JUaHJvdygpLm9yZGVyQW1vdW50O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHRoaXMuaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMucHJlcGFyZUhvc3RlZFBheW1lbnREYXRhKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzLCBvcmRlckFtb3VudClcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMucHJlcGFyZVBheW1lbnREYXRhKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzLCBvcmRlckFtb3VudCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlcnJvciwgcGF5bWVudCwgb3JkZXJBbW91bnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5pc0hvc3RlZEZvcm1Jbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRlYXJkb3duKCksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0uZGVpbml0aWFsaXplKCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duLCBtZXRob2RJZD86IHN0cmluZyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBjb25zdCBpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCA9ICEhKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuaXNQYXltZW50TWV0aG9kSW5pdGlhbGl6ZWQoeyBtZXRob2RJZCB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCAmJlxuICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICdIT1NURURfRklFTERTX0lOVkFMSURfRklFTERfU0VMRUNUT1InXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlLnN0YXJ0c1dpdGgoJ1RIUkVFRFNfJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGF5bWVudEVycm9yPy4obmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcignVEhSRUVEU19WRVJJRklDQVRJT05fRkFJTEVEJykpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByZXBhcmVQYXltZW50RGF0YShcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzOiBBZGRyZXNzLFxuICAgICAgICBvcmRlckFtb3VudDogbnVtYmVyLFxuICAgICk6IFByb21pc2U8UGF5bWVudEluc3RydW1lbnQgJiBQYXltZW50SW5zdHJ1bWVudE1ldGE+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSB9ID0gcGF5bWVudDtcbiAgICAgICAgY29uc3QgY29tbW9uUGF5bWVudERhdGEgPSB7IGRldmljZVNlc3Npb25JZDogdGhpcy5kZXZpY2VTZXNzaW9uSWQgfTtcblxuICAgICAgICBpZiAodGhpcy5pc1N1Ym1pdHRpbmdXaXRoU3RvcmVkQ2FyZChwYXltZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSB0aGlzLnNob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24ocGF5bWVudClcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2FyZChcbiAgICAgICAgICAgICAgICAgIHBheW1lbnQsXG4gICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgIG9yZGVyQW1vdW50LFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRva2VuaXplQ2FyZChwYXltZW50LCBiaWxsaW5nQWRkcmVzcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNvbW1vblBheW1lbnREYXRhLFxuICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlSG9zdGVkUGF5bWVudERhdGEoXG4gICAgICAgIHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgICAgICBiaWxsaW5nQWRkcmVzczogQWRkcmVzcyxcbiAgICAgICAgb3JkZXJBbW91bnQ6IG51bWJlcixcbiAgICApOiBQcm9taXNlPFBheW1lbnRJbnN0cnVtZW50ICYgUGF5bWVudEluc3RydW1lbnRNZXRhPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudERhdGEgfSA9IHBheW1lbnQ7XG4gICAgICAgIGNvbnN0IGNvbW1vblBheW1lbnREYXRhID0geyBkZXZpY2VTZXNzaW9uSWQ6IHRoaXMuZGV2aWNlU2Vzc2lvbklkIH07XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQocGF5bWVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9uY2UgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS50b2tlbml6ZUZvclN0b3JlZENhcmRWZXJpZmljYXRpb24oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSB0aGlzLnNob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24ocGF5bWVudClcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy52ZXJpZnlDYXJkV2l0aEhvc3RlZEZvcm0oYmlsbGluZ0FkZHJlc3MsIG9yZGVyQW1vdW50KVxuICAgICAgICAgICAgOiBhd2FpdCB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0udG9rZW5pemUoYmlsbGluZ0FkZHJlc3MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZUFkZGl0aW9uYWxBY3Rpb25QYXltZW50RGF0YShcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIG5vbmNlOiBzdHJpbmcsXG4gICAgKTogUGF5bWVudEluc3RydW1lbnQgJiBQYXltZW50SW5zdHJ1bWVudE1ldGEge1xuICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhIH0gPSBwYXltZW50O1xuICAgICAgICBjb25zdCBjb21tb25QYXltZW50RGF0YSA9IHsgZGV2aWNlU2Vzc2lvbklkOiB0aGlzLmRldmljZVNlc3Npb25JZCwgbm9uY2UgfTtcblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHBheW1lbnQpICYmXG4gICAgICAgICAgICAoc2hvdWxkU2F2ZUluc3RydW1lbnQgfHwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgIC4uLmNvbW1vblBheW1lbnREYXRhLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybShcbiAgICAgICAgYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MsXG4gICAgICAgIG9yZGVyQW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTxOb25jZUluc3RydW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdG9rZW5pemF0aW9uUGF5bG9hZCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS50b2tlbml6ZShiaWxsaW5nQWRkcmVzcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmNoYWxsZW5nZTNEU1ZlcmlmaWNhdGlvbihcbiAgICAgICAgICAgIHRva2VuaXphdGlvblBheWxvYWQsXG4gICAgICAgICAgICBvcmRlckFtb3VudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIG9yZGVyQW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICFzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7IGNvZGU6ICd0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZCcgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBwYXllcl9hdXRoX3JlcXVlc3Q6IHN0b3JlZENyZWRpdENhcmROb25jZSB9ID1cbiAgICAgICAgICAgICAgICAoaXNCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yKGVycm9yKSAmJiBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdCkgfHwge307XG4gICAgICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhIH0gPSBwYXltZW50O1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgaWYgKCFwYXltZW50RGF0YSB8fCAhaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsnaW5zdHJ1bWVudElkJ10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnN0cnVtZW50ID0gc3RhdGUuZ2V0Q2FyZEluc3RydW1lbnRPclRocm93KHBheW1lbnREYXRhLmluc3RydW1lbnRJZCk7XG4gICAgICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5jaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub25jZTogc3RvcmVkQ3JlZGl0Q2FyZE5vbmNlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBiaW46IGluc3RydW1lbnQuaWluLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJBbW91bnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQYXltZW50RGF0YSA9IHRoaXMucHJlcGFyZUFkZGl0aW9uYWxBY3Rpb25QYXltZW50RGF0YShwYXltZW50LCBub25jZSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiBuZXdQYXltZW50RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZD86IHN0cmluZywgZ2F0ZXdheUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5jb25maWcuaXNIb3N0ZWRGb3JtRW5hYmxlZCA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIShwYXltZW50LnBheW1lbnREYXRhICYmIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvdWxkUGVyZm9ybTNEU1ZlcmlmaWNhdGlvbihwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISEodGhpcy5pczNkc0VuYWJsZWQgJiYgIXRoaXMuaXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQocGF5bWVudCkpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgIHByaXZhdGUgc2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBicmFpbnRyZWVDdXN0b21lciA9IGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKHBheW1lbnRQcm92aWRlckN1c3RvbWVyKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3QgaXNGYXN0bGFuZUVuYWJsZWQ6IGJvb2xlYW4gPVxuICAgICAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kPy5pbml0aWFsaXphdGlvbkRhdGEuaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZDtcblxuICAgICAgICByZXR1cm4gaXNGYXN0bGFuZUVuYWJsZWQgJiYgIWJyYWludHJlZUN1c3RvbWVyPy5hdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lT3JUaHJvdyhtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbiwgdGhpcy50aHJlZURTZWN1cmUpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldEJyYWludHJlZUZhc3RsYW5lKGNhcnQuaWQsIGNvbmZpZy50ZXN0TW9kZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5bWVudDNEU1JlcXVlc3RFcnJvcnMge1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYm9keToge1xuICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgICAgdGhyZWVfZHNfcmVzdWx0OiB7XG4gICAgICAgICAgICBwYXllcl9hdXRoX3JlcXVlc3Q6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgZXJyb3JzOiBCcmFpbnRyZWVQYXltZW50M0RTUmVxdWVzdEVycm9yc1tdO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcihcbiAgICBlcnJvcjogdW5rbm93bixcbik6IGVycm9yIGlzIEJyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3Ige1xuICAgIGlmICh0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnIHx8IGVycm9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zICovXG4gICAgcmV0dXJuIChcbiAgICAgICAgJ25hbWUnIGluIGVycm9yICYmXG4gICAgICAgICdib2R5JyBpbiBlcnJvciAmJlxuICAgICAgICAnc3RhdHVzJyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keSAmJlxuICAgICAgICAndGhyZWVfZHNfcmVzdWx0JyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keSAmJlxuICAgICAgICAncGF5ZXJfYXV0aF9yZXF1ZXN0JyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keS50aHJlZV9kc19yZXN1bHQgJiZcbiAgICAgICAgJ2Vycm9ycycgaW4gKGVycm9yIGFzIEJyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3IpLmJvZHlcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlRm9ybUZpZWxkc01hcCwgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB9IGZyb20gJy4uL2luZGV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhaW50cmVlRm9ybUZpZWxkc01hcChcbiAgICBmaWVsZHM6IEJyYWludHJlZUZvcm1GaWVsZHNNYXAgfCBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwLFxuKTogZmllbGRzIGlzIEJyYWludHJlZUZvcm1GaWVsZHNNYXAge1xuICAgIHJldHVybiAnY2FyZE51bWJlcicgaW4gZmllbGRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKFxuICAgIGZpZWxkczogQnJhaW50cmVlRm9ybUZpZWxkc01hcCB8IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXAsXG4pOiBmaWVsZHMgaXMgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHMpLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAoKGZpZWxkcyBhcyBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKS5jYXJkQ29kZVZlcmlmaWNhdGlvbiB8fFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgKGZpZWxkcyBhcyBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKS5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uKVxuICAgICk7XG59XG4iLCJpbXBvcnQgaXNCcmFpbnRyZWVFcnJvciBmcm9tICcuL2lzLWJyYWludHJlZS1lcnJvcic7XG5pbXBvcnQgeyBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IgfSBmcm9tICcuLi90eXBlcyc7XG5cbmZ1bmN0aW9uIGlzVmFsaWRJbnZhbGlkRmllbGRLZXlzKGludmFsaWRGaWVsZEtleXM6IHVua25vd24pOiBpbnZhbGlkRmllbGRLZXlzIGlzIHN0cmluZ1tdIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBBcnJheS5pc0FycmF5KGludmFsaWRGaWVsZEtleXMpICYmIGludmFsaWRGaWVsZEtleXMuZXZlcnkoKGtleSkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpXG4gICAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IoXG4gICAgZXJyb3I6IHVua25vd24sXG4pOiBlcnJvciBpcyBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3Ige1xuICAgIGlmICghaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGV0YWlscyB9ID0gZXJyb3I7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBkZXRhaWxzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKHR5cGVvZiBkZXRhaWxzID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGV0YWlscyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgKGRldGFpbHMgYXMgeyBpbnZhbGlkRmllbGRLZXlzPzogdW5rbm93biB9KS5pbnZhbGlkRmllbGRLZXlzID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgIGlzVmFsaWRJbnZhbGlkRmllbGRLZXlzKGRldGFpbHMpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IERpY3Rpb25hcnksIGlzRW1wdHksIGlzTmlsLCBvbWl0QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhLFxuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cyxcbiAgICBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRzTWFwLFxuICAgIEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcyxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXAsXG4gICAgQnJhaW50cmVlRm9ybUZpZWxkVHlwZSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtT3B0aW9ucyxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXAsXG4gICAgaXNCcmFpbnRyZWVGb3JtRmllbGRzTWFwLFxuICAgIGlzQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yLFxuICAgIGlzQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kLFxuICAgIFRva2VuaXphdGlvblBheWxvYWQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmVudW0gQnJhaW50cmVlSG9zdGVkRm9ybVR5cGUge1xuICAgIENyZWRpdENhcmQsXG4gICAgU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlSG9zdGVkRm9ybSB7XG4gICAgcHJpdmF0ZSBjYXJkRmllbGRzPzogQnJhaW50cmVlSG9zdGVkRmllbGRzO1xuICAgIHByaXZhdGUgZm9ybU9wdGlvbnM/OiBCcmFpbnRyZWVGb3JtT3B0aW9ucztcbiAgICBwcml2YXRlIHR5cGU/OiBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZTtcbiAgICBwcml2YXRlIGNsaWVudD86IFByb21pc2U8QnJhaW50cmVlQ2xpZW50PjtcbiAgICBwcml2YXRlIGNsaWVudFRva2VuPzogc3RyaW5nO1xuICAgIHByaXZhdGUgaXNJbml0aWFsaXplZEhvc3RlZEZvcm0gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNjcmlwdExvYWRlcjogQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyOiBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGb3JtT3B0aW9ucyxcbiAgICAgICAgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzPzogc3RyaW5nW10sXG4gICAgICAgIGNsaWVudFRva2VuPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgIHRoaXMuZm9ybU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnR5cGUgPSBpc0JyYWludHJlZUZvcm1GaWVsZHNNYXAob3B0aW9ucy5maWVsZHMpXG4gICAgICAgICAgICA/IEJyYWludHJlZUhvc3RlZEZvcm1UeXBlLkNyZWRpdENhcmRcbiAgICAgICAgICAgIDogQnJhaW50cmVlSG9zdGVkRm9ybVR5cGUuU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbjtcblxuICAgICAgICBjb25zdCBmaWVsZHMgPSB0aGlzLm1hcEZpZWxkT3B0aW9ucyhvcHRpb25zLmZpZWxkcywgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzKTtcblxuICAgICAgICBpZiAoaXNFbXB0eShmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWRIb3N0ZWRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FyZEZpZWxkcyA9IGF3YWl0IHRoaXMuY3JlYXRlSG9zdGVkRmllbGRzKHtcbiAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgIHN0eWxlczogb3B0aW9ucy5zdHlsZXMgJiYgdGhpcy5tYXBTdHlsZU9wdGlvbnMob3B0aW9ucy5zdHlsZXMpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNhcmRGaWVsZHM/Lm9uKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignY2FyZFR5cGVDaGFuZ2UnLCB0aGlzLmhhbmRsZUNhcmRUeXBlQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbigndmFsaWRpdHlDaGFuZ2UnLCB0aGlzLmhhbmRsZVZhbGlkaXR5Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignaW5wdXRTdWJtaXRSZXF1ZXN0JywgdGhpcy5oYW5kbGVJbnB1dFN1Ym1pdFJlcXVlc3QpO1xuXG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZEhvc3RlZEZvcm0gPSB0cnVlO1xuICAgIH1cblxuICAgIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuaXNJbml0aWFsaXplZEhvc3RlZEZvcm07XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkSG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkSG9zdGVkRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYXJkRmllbGRzPy50ZWFyZG93bigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jYXJkRmllbGRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhcmRGaWVsZHMuZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZEZvcm0oc3RhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVZhbGlkaXR5Q2hhbmdlKHN0YXRlKTtcblxuICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy5tYXBWYWxpZGF0aW9uRXJyb3JzKHN0YXRlLmZpZWxkcyk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50SW52YWxpZEZvcm1FcnJvcihlcnJvcnMgYXMgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHRva2VuaXplKGJpbGxpbmdBZGRyZXNzOiBBZGRyZXNzKTogUHJvbWlzZTxUb2tlbml6YXRpb25QYXlsb2FkPiB7XG4gICAgICAgIGlmICghdGhpcy5jYXJkRmllbGRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCB0aGlzLmNhcmRGaWVsZHMudG9rZW5pemUoXG4gICAgICAgICAgICAgICAgb21pdEJ5KFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogYmlsbGluZ0FkZHJlc3MgJiYgdGhpcy5tYXBCaWxsaW5nQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vblZhbGlkYXRlPy4oeyBpc1ZhbGlkOiB0cnVlLCBlcnJvcnM6IHt9IH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5vbmNlOiBwYXlsb2FkLm5vbmNlLFxuICAgICAgICAgICAgICAgIGJpbjogcGF5bG9hZC5kZXRhaWxzPy5iaW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMubWFwVG9rZW5pemVFcnJvcihlcnJvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU9wdGlvbnM/Lm9uVmFsaWRhdGU/Lih7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50SW52YWxpZEZvcm1FcnJvcihlcnJvcnMgYXMgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdG9rZW5pemVGb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uKCk6IFByb21pc2U8VG9rZW5pemF0aW9uUGF5bG9hZD4ge1xuICAgICAgICBpZiAoIXRoaXMuY2FyZEZpZWxkcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgdGhpcy5jYXJkRmllbGRzLnRva2VuaXplKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybU9wdGlvbnM/Lm9uVmFsaWRhdGU/Lih7IGlzVmFsaWQ6IHRydWUsIGVycm9yczoge30gfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbm9uY2U6IHBheWxvYWQubm9uY2UsXG4gICAgICAgICAgICAgICAgYmluOiBwYXlsb2FkLmRldGFpbHM/LmJpbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy5tYXBUb2tlbml6ZUVycm9yKGVycm9yLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25WYWxpZGF0ZT8uKHsgaXNWYWxpZDogZmFsc2UsIGVycm9ycyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yKGVycm9ycyBhcyBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVIb3N0ZWRGaWVsZHMoXG4gICAgICAgIG9wdGlvbnM6IFBpY2s8QnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZywgJ2ZpZWxkcycgfCAnc3R5bGVzJz4sXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHM+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgY29uc3QgaG9zdGVkRmllbGRzID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZEhvc3RlZEZpZWxkcygpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZGtWZXJzaW9uID0gdGhpcy5icmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlci5nZXRTREtWZXJzaW9uKCk7XG4gICAgICAgIGNvbnN0IGhvc3RlZEZpZWxkc09wdGlvbnMgPVxuICAgICAgICAgICAgY3VycmVudFNka1ZlcnNpb24gPT09IEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTlxuICAgICAgICAgICAgICAgID8geyAuLi5vcHRpb25zLCBwcmV2ZW50Q3Vyc29ySnVtcHM6IHRydWUgfVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucztcblxuICAgICAgICByZXR1cm4gaG9zdGVkRmllbGRzLmNyZWF0ZSh7IC4uLmhvc3RlZEZpZWxkc09wdGlvbnMsIGNsaWVudCB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDbGllbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudC5jcmVhdGUoeyBhdXRob3JpemF0aW9uOiB0aGlzLmNsaWVudFRva2VuIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwQmlsbGluZ0FkZHJlc3MoYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MpOiBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50cnlOYW1lOiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5LFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYmlsbGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IGJpbGxpbmdBZGRyZXNzLmFkZHJlc3MyXG4gICAgICAgICAgICAgICAgPyBgJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMX0gJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMn1gXG4gICAgICAgICAgICAgICAgOiBiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcEZpZWxkT3B0aW9ucyhcbiAgICAgICAgZmllbGRzOiBCcmFpbnRyZWVGb3JtRmllbGRzTWFwIHwgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCxcbiAgICAgICAgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzPzogc3RyaW5nW10sXG4gICAgKTogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1snZmllbGRzJ10ge1xuICAgICAgICBpZiAoaXNCcmFpbnRyZWVGb3JtRmllbGRzTWFwKGZpZWxkcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZENhcmRCcmFuZHM6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+ID0ge307XG5cbiAgICAgICAgICAgIHVuc3VwcG9ydGVkQ2FyZEJyYW5kcz8uZm9yRWFjaCgoY2FyZEJyYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kKGNhcmRCcmFuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkQ2FyZEJyYW5kc1tjYXJkQnJhbmRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvbWl0QnkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkTnVtYmVyLmNvbnRhaW5lcklkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmllbGRzLmNhcmROdW1iZXIucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZE51bWJlci5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oT2JqZWN0LmtleXMoc3VwcG9ydGVkQ2FyZEJyYW5kcykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBzdXBwb3J0ZWRDYXJkQnJhbmRzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkRXhwaXJ5LmNvbnRhaW5lcklkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmllbGRzLmNhcmRFeHBpcnkucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZEV4cGlyeS5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGN2djogZmllbGRzLmNhcmRDb2RlICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkQ29kZS5jb250YWluZXJJZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkQ29kZS5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsTGFiZWw6IGZpZWxkcy5jYXJkQ29kZS5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGAjJHtmaWVsZHMuY2FyZE5hbWUuY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZHMuY2FyZE5hbWUucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZE5hbWUuYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNOaWwsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9taXRCeShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBudW1iZXI6IGZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uICYmIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBgIyR7ZmllbGRzLmNhcmROdW1iZXJWZXJpZmljYXRpb24uY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3Z2OiBmaWVsZHMuY2FyZENvZGVWZXJpZmljYXRpb24gJiYge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGAjJHtmaWVsZHMuY2FyZENvZGVWZXJpZmljYXRpb24uY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkQ29kZVZlcmlmaWNhdGlvbi5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwU3R5bGVPcHRpb25zKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXAsXG4gICAgKTogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1snc3R5bGVzJ10ge1xuICAgICAgICBjb25zdCBtYXBTdHlsZXMgPSAoc3R5bGVzOiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXMgPSB7fSkgPT5cbiAgICAgICAgICAgIG9taXRCeShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICdmb250LWZhbWlseSc6IHN0eWxlcy5mb250RmFtaWx5LFxuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogc3R5bGVzLmZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAnZm9udC13ZWlnaHQnOiBzdHlsZXMuZm9udFdlaWdodCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICAgICAgKSBhcyBEaWN0aW9uYXJ5PHN0cmluZz47XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0OiBtYXBTdHlsZXMob3B0aW9ucy5kZWZhdWx0KSxcbiAgICAgICAgICAgICcuaW52YWxpZCc6IG1hcFN0eWxlcyhvcHRpb25zLmVycm9yKSxcbiAgICAgICAgICAgICc6Zm9jdXMnOiBtYXBTdHlsZXMob3B0aW9ucy5mb2N1cyksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBGaWVsZFR5cGUodHlwZTogc3RyaW5nKTogQnJhaW50cmVlRm9ybUZpZWxkVHlwZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZS5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIDogQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyO1xuXG4gICAgICAgICAgICBjYXNlICdleHBpcmF0aW9uRGF0ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeTtcblxuICAgICAgICAgICAgY2FzZSAnY3Z2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZS5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICA6IEJyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGU7XG5cbiAgICAgICAgICAgIGNhc2UgJ2NhcmRob2xkZXJOYW1lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZmllbGQgdHlwZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBFcnJvcnMoZmllbGRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZVsnZmllbGRzJ10pOiBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YSB7XG4gICAgICAgIGNvbnN0IGVycm9yczogQnJhaW50cmVlRm9ybUVycm9yc0RhdGEgPSB7fTtcblxuICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdGhpcy5pc1ZhbGlkUGFyYW0oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlzVmFsaWQsIGlzRW1wdHksIGlzUG90ZW50aWFsbHlWYWxpZCB9ID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUG90ZW50aWFsbHlWYWxpZCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwVmFsaWRhdGlvbkVycm9ycyhcbiAgICAgICAgZmllbGRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZVsnZmllbGRzJ10sXG4gICAgKTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFdmVudERhdGFbJ2Vycm9ycyddIHtcbiAgICAgICAgcmV0dXJuIChPYmplY3Qua2V5cyhmaWVsZHMpIGFzIEFycmF5PGtleW9mIEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlWydmaWVsZHMnXT4pLnJlZHVjZShcbiAgICAgICAgICAgIChyZXN1bHQsIGZpZWxkS2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBbdGhpcy5tYXBGaWVsZFR5cGUoZmllbGRLZXkpXTogZmllbGRzW2ZpZWxkS2V5XT8uaXNWYWxpZFxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IFt0aGlzLmNyZWF0ZUludmFsaWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZShmaWVsZEtleSkpXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAge30sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBUb2tlbml6ZUVycm9yKFxuICAgICAgICBlcnJvcjogQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yLFxuICAgICAgICBpc1N0b3JlZENhcmQgPSBmYWxzZSxcbiAgICApOiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YVsnZXJyb3JzJ10gfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0hPU1RFRF9GSUVMRFNfRklFTERTX0VNUFRZJykge1xuICAgICAgICAgICAgY29uc3QgY3Z2ID0gW3RoaXMuY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZSgnY3Z2JykpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3RvcmVkQ2FyZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFt0aGlzLm1hcEZpZWxkVHlwZSgnY3Z2JyldOiBjdnYgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5tYXBGaWVsZFR5cGUoJ2N2dicpXTogY3Z2LFxuICAgICAgICAgICAgICAgIFt0aGlzLm1hcEZpZWxkVHlwZSgnZXhwaXJhdGlvbkRhdGUnKV06IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1aXJlZEVycm9yKHRoaXMubWFwRmllbGRUeXBlKCdleHBpcmF0aW9uRGF0ZScpKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFt0aGlzLm1hcEZpZWxkVHlwZSgnbnVtYmVyJyldOiBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZSgnbnVtYmVyJykpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW3RoaXMubWFwRmllbGRUeXBlKCdjYXJkaG9sZGVyTmFtZScpXTogW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVpcmVkRXJyb3IodGhpcy5tYXBGaWVsZFR5cGUoJ2NhcmRob2xkZXJOYW1lJykpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVycm9yLmRldGFpbHM/LmludmFsaWRGaWVsZEtleXM/LnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLm1hcEZpZWxkVHlwZShrZXkpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBbdHlwZV06IFt0aGlzLmNyZWF0ZUludmFsaWRFcnJvcih0eXBlKV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXF1aXJlZEVycm9yKFxuICAgICAgICBmaWVsZFR5cGU6IEJyYWludHJlZUZvcm1GaWVsZFR5cGUsXG4gICAgKTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGEge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHtcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXTogJ0NWViBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl06ICdDVlYgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06ICdDcmVkaXQgY2FyZCBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlclZlcmlmaWNhdGlvbl06ICdDcmVkaXQgY2FyZCBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeV06ICdFeHBpcmF0aW9uIGRhdGUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdOiAnRnVsbCBuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRUeXBlLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZXNbZmllbGRUeXBlXSA/PyAnRmllbGQgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUludmFsaWRFcnJvcihcbiAgICAgICAgZmllbGRUeXBlOiBCcmFpbnRyZWVGb3JtRmllbGRUeXBlLFxuICAgICk6IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhIHtcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGNhcmQgY29kZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9jb2RlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl06IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBjYXJkIGNvZGUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfY29kZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBjYXJkIG51bWJlcicsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9udW1iZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY2FyZCBudW1iZXInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfbnVtYmVyJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkRXhwaXJ5XToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGNhcmQgZXhwaXJ5JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX2V4cGlyeScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY2FyZCBuYW1lJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX25hbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRUeXBlLFxuICAgICAgICAgICAgbWVzc2FnZTogZm9ybUZpZWxkc1tmaWVsZFR5cGVdPy5tZXNzYWdlID8/ICdJbnZhbGlkIGZpZWxkJyxcbiAgICAgICAgICAgIHR5cGU6IGZvcm1GaWVsZHNbZmllbGRUeXBlXT8udHlwZSA/PyAnaW52YWxpZCcsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCbHVyID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkJsdXI/Lih7XG4gICAgICAgICAgICBmaWVsZFR5cGU6IHRoaXMubWFwRmllbGRUeXBlKGV2ZW50LmVtaXR0ZWRCeSksXG4gICAgICAgICAgICBlcnJvcnM6IHRoaXMubWFwRXJyb3JzKGV2ZW50LmZpZWxkcyksXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGhhbmRsZUZvY3VzID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkZvY3VzPy4oe1xuICAgICAgICAgICAgZmllbGRUeXBlOiB0aGlzLm1hcEZpZWxkVHlwZShldmVudC5lbWl0dGVkQnkpLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVDYXJkVHlwZUNoYW5nZSA9IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPVxuICAgICAgICAgICAgZXZlbnQuY2FyZHMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyBldmVudC5jYXJkc1swXS50eXBlLnJlcGxhY2UoL15tYXN0ZXItY2FyZCQvLCAnbWFzdGVyY2FyZCcpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25DYXJkVHlwZUNoYW5nZT8uKHsgY2FyZFR5cGUgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgaGFuZGxlSW5wdXRTdWJtaXRSZXF1ZXN0ID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkVudGVyPy4oe1xuICAgICAgICAgICAgZmllbGRUeXBlOiB0aGlzLm1hcEZpZWxkVHlwZShldmVudC5lbWl0dGVkQnkpLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVWYWxpZGl0eUNoYW5nZSA9IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25WYWxpZGF0ZT8uKHtcbiAgICAgICAgICAgIGlzVmFsaWQ6IHRoaXMuaXNWYWxpZEZvcm0oZXZlbnQpLFxuICAgICAgICAgICAgZXJyb3JzOiB0aGlzLm1hcFZhbGlkYXRpb25FcnJvcnMoZXZlbnQuZmllbGRzKSxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgaXNWYWxpZEZvcm0oZXZlbnQ6IEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudC5maWVsZHMpIGFzIEFycmF5PGtleW9mIEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlWydmaWVsZHMnXT5cbiAgICAgICAgKS5ldmVyeSgoa2V5KSA9PiBldmVudC5maWVsZHNba2V5XT8uaXNWYWxpZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1ZhbGlkUGFyYW0oa2V5OiBzdHJpbmcpOiBrZXkgaXMgQnJhaW50cmVlRm9ybUVycm9yRGF0YUtleXMge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ251bWJlcicsXG4gICAgICAgICAgICAnY3Z2JyxcbiAgICAgICAgICAgICdleHBpcmF0aW9uRGF0ZScsXG4gICAgICAgICAgICAncG9zdGFsQ29kZScsXG4gICAgICAgICAgICAnY2FyZGhvbGRlck5hbWUnLFxuICAgICAgICAgICAgJ2NhcmRUeXBlJyxcbiAgICAgICAgXS5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBpc0JyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZCA9IChcbiAgICBjYXJkQnJhbmQ6IHN0cmluZyxcbik6IGNhcmRCcmFuZCBpcyBCcmFpbnRyZWVTdXBwb3J0ZWRDYXJkQnJhbmRzID0+IHtcbiAgICBjb25zdCBzdXBwb3J0ZWRDYXJkQnJhbmRzID0gT2JqZWN0LnZhbHVlcyhCcmFpbnRyZWVTdXBwb3J0ZWRDYXJkQnJhbmRzKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICByZXR1cm4gc3VwcG9ydGVkQ2FyZEJyYW5kcy5pbmNsdWRlcyhjYXJkQnJhbmQgYXMgQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc0JyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZDtcbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWNyZWRpdC1jYXJkLXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IEJyYWludHJlZUhvc3RlZEZvcm0gZnJvbSAnLi4vYnJhaW50cmVlLWhvc3RlZC1mb3JtL2JyYWludHJlZS1ob3N0ZWQtZm9ybSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZUNyZWRpdENhcmRQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgY29uc3QgYnJhaW50cmVlU2NyaXB0TG9hZGVyID0gbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBicmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZUhvc3RlZEZvcm0gPSBuZXcgQnJhaW50cmVlSG9zdGVkRm9ybShcbiAgICAgICAgYnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUhvc3RlZEZvcm0sXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ2JyYWludHJlZScgfV0pO1xuIiwiaW1wb3J0IHsgRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQsXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBmb3JtUG9zdGVyOiBGb3JtUG9zdGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZTogQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXBheXBhbCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWwgfHwge307XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXBheXBhbC5jb250YWluZXJcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgaWYgKCFwYXltZW50TWV0aG9kLmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgY29uZmlnLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudEJ1dHRvblN0eWxlcyB9ID0gaW5pdGlhbGl6YXRpb25EYXRhIHx8IHt9O1xuICAgICAgICBjb25zdCB7IGNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzIH0gPSBwYXltZW50QnV0dG9uU3R5bGVzIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dE9wdGlvbnM6IFBhcnRpYWw8QnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZz4gPSB7XG4gICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgaW50ZW50OiBpbml0aWFsaXphdGlvbkRhdGEuaW50ZW50LFxuICAgICAgICAgICAgaXNDcmVkaXRFbmFibGVkOiBpbml0aWFsaXphdGlvbkRhdGEuaXNDcmVkaXRFbmFibGVkLFxuICAgICAgICAgICAgY29tbWl0OiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dFN1Y2Nlc3NDYWxsYmFjayA9IChcbiAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbEJ1dHRvbihcbiAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWwsXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgQm9vbGVhbihjb25maWcudGVzdE1vZGUpLFxuICAgICAgICAgICAgICAgIGNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIGFzeW5jIHNpZ25JbihjcmVkZW50aWFsczogQ3VzdG9tZXJDcmVkZW50aWFscywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduSW5DdXN0b21lcihjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsOiBCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICAgICAgYnV0dG9uU3R5bGVzOiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkNsaWNrID0gbm9vcCB9ID0gYnJhaW50cmVlcGF5cGFsO1xuXG4gICAgICAgIGNvbnN0IHsgcGF5cGFsIH0gPSB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3c7XG4gICAgICAgIGNvbnN0IGZ1bmRpbmdTb3VyY2UgPSBwYXlwYWw/LkZVTkRJTkcuUEFZUEFMO1xuXG4gICAgICAgIGlmIChwYXlwYWwgJiYgZnVuZGluZ1NvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgIGVudjogdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0QnJhaW50cmVlRW52KHRlc3RNb2RlKSxcbiAgICAgICAgICAgICAgICBmdW5kaW5nU291cmNlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7IC4uLmJ1dHRvblN0eWxlcywgaGVpZ2h0OiBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFBheW1lbnQoYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsIGJyYWludHJlZXBheXBhbCwgbWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgIG9uQXBwcm92ZTogKGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXplRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWwsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgb25DbGljayxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocGF5cGFsQnV0dG9uUmVuZGVyLmlzRWxpZ2libGUoKSkge1xuICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHN0cmluZyB8IHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKS5vdXRzdGFuZGluZ0JhbGFuY2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPiA9XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGN1c3RvbWVyPy5hZGRyZXNzZXNbMF07XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSA9IGFkZHJlc3NcbiAgICAgICAgICAgICAgICA/IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoYWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LmNyZWF0ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIGZsb3c6ICdjaGVja291dCcsXG4gICAgICAgICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGludGVudDogcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmludGVudCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgeyBjb250YWluZXIsIG9uRXJyb3IgfSA9IGJyYWludHJlZXBheXBhbDtcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgY29udGFpbmVyLCBvbkVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdG9rZW5pemVQYXltZW50KFxuICAgICAgICBhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZCB8IHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0RGF0YUNvbGxlY3Rvcih7XG4gICAgICAgICAgICAgICAgcGF5cGFsOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbml6ZVBheWxvYWQgPSBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC50b2tlbml6ZVBheW1lbnQoYXV0aG9yaXplRGF0YSk7XG4gICAgICAgICAgICBjb25zdCB7IGRldGFpbHMsIG5vbmNlIH0gPSB0b2tlbml6ZVBheWxvYWQ7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhkZXRhaWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MoZGV0YWlscyk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSgnL2NoZWNrb3V0LnBocCcsIHtcbiAgICAgICAgICAgICAgICBwYXltZW50X3R5cGU6ICdwYXlwYWwnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXRfZXh0ZXJuYWxfY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoYmlsbGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KHNoaXBwaW5nQWRkcmVzcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRva2VuaXplUGF5bG9hZDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWw7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IERlZmF1bHRDaGVja291dEJ1dHRvbkhlaWdodCA9IDQwO1xuXG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQ7XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbEN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWN1c3RvbWVyLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlRm9ybVBvc3RlcigpLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVQYXlwYWxDdXN0b21lclN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZXBheXBhbCcgfSxcbl0pO1xuIiwiaW1wb3J0IHsgRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQsXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1jcmVkaXQtY3VzdG9tZXItaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBicmFpbnRyZWVwYXlwYWxjcmVkaXQsIG1ldGhvZElkIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgb25FcnJvciB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0IHx8IHt9O1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYnJhaW50cmVlcGF5cGFsY3JlZGl0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlcGF5cGFsY3JlZGl0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxjcmVkaXQuY29udGFpbmVyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGxldCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIGlmICghcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChfZSkge1xuICAgICAgICAgICAgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRCdXR0b25TdHlsZXMgfSA9IGluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcbiAgICAgICAgY29uc3QgeyBjaGVja291dFRvcEJ1dHRvblN0eWxlcyB9ID0gcGF5bWVudEJ1dHRvblN0eWxlcyB8fCB7fTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbmN5Q29kZSA9IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRPcHRpb25zOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgIGludGVudDogaW5pdGlhbGl6YXRpb25EYXRhLmludGVudCxcbiAgICAgICAgICAgIGlzQ3JlZGl0RW5hYmxlZDogaW5pdGlhbGl6YXRpb25EYXRhLmlzQ3JlZGl0RW5hYmxlZCxcbiAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2sgPSAoXG4gICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0LFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIEJvb2xlYW4oY29uZmlnLnRlc3RNb2RlKSxcbiAgICAgICAgICAgICAgICB7IC4uLmNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzLCBoZWlnaHQ6IERlZmF1bHRDaGVja291dEJ1dHRvbkhlaWdodCB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIGFzeW5jIHNpZ25JbihjcmVkZW50aWFsczogQ3VzdG9tZXJDcmVkZW50aWFscywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduSW5DdXN0b21lcihjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICAgICAgYnV0dG9uU3R5bGVzOiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkNsaWNrID0gbm9vcCB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0O1xuICAgICAgICBjb25zdCB7IHBheXBhbCB9ID0gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93O1xuXG4gICAgICAgIGxldCBoYXNSZW5kZXJlZFNtYXJ0QnV0dG9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHBheXBhbCkge1xuICAgICAgICAgICAgY29uc3QgZnVuZGluZ1NvdXJjZXMgPSBbcGF5cGFsLkZVTkRJTkcuUEFZTEFURVIsIHBheXBhbC5GVU5ESU5HLkNSRURJVF07XG5cbiAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2VzLmZvckVhY2goKGZ1bmRpbmdTb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1JlbmRlcmVkU21hcnRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW52OiB0ZXN0TW9kZSA/ICdzYW5kYm94JyA6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogYnV0dG9uU3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlT3JkZXI6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFBheW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWxjcmVkaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpemVEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheXBhbEJ1dHRvblJlbmRlci5pc0VsaWdpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlbmRlcmVkU21hcnRCdXR0b24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBheXBhbCB8fCAhaGFzUmVuZGVyZWRTbWFydEJ1dHRvbikge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UucmVtb3ZlRWxlbWVudChjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXR1cFBheW1lbnQoXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWREZWZhdWx0Q2hlY2tvdXQoKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpLm91dHN0YW5kaW5nQmFsYW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXIgPSBzdGF0ZS5nZXRDdXN0b21lcigpO1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZDxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+ID1cbiAgICAgICAgICAgICAgICBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlID0gYWRkcmVzc1xuICAgICAgICAgICAgICAgID8gdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9CcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZShhZGRyZXNzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQuY3JlYXRlUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgZmxvdzogJ2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBlbmFibGVTaGlwcGluZ0FkZHJlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnRlbnQ6IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5pbnRlbnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWxjcmVkaXQ7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgYXV0aG9yaXplRGF0YTogUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBicmFpbnRyZWVwYXlwYWxjcmVkaXQ6IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICBkZXZpY2VfZGF0YTogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KGJpbGxpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShzaGlwcGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0b2tlbml6ZVBheWxvYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgb25FcnJvciB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0O1xuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBjb250YWluZXIsIG9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lcklkOiBzdHJpbmcsXG4gICAgICAgIG9uRXJyb3JDYWxsYmFjaz86IChlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBTdGFuZGFyZEVycm9yKSA9PiB2b2lkLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGJ1dHRvbkNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAob25FcnJvckNhbGxiYWNrICYmIGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1jdXN0b21lci1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgICAgIGdldFNjcmlwdExvYWRlcigpLFxuICAgICAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICAgICApLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJTdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnIH0sXG5dKTtcbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIGdldEZhc3RsYW5lU3R5bGVzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEN1c3RvbWVyQ3JlZGVudGlhbHMsXG4gICAgQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICBDdXN0b21lclN0cmF0ZWd5LFxuICAgIEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFdpdGhCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2JyYWludHJlZS1mYXN0bGFuZS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lVXRpbHMgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kgaW1wbGVtZW50cyBDdXN0b21lclN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIGlzQWNjZWxlcmF0ZWRDaGVja291dEVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlRmFzdGxhbmVVdGlsczogQnJhaW50cmVlRmFzdGxhbmVVdGlscyxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKHtcbiAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgIGJyYWludHJlZWZhc3RsYW5lLFxuICAgIH06IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lckluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IGF3YWl0IHRoaXMuZ2V0VmFsaWRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgeyBpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkLCBpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWQgfSA9XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcblxuICAgICAgICBjb25zdCBwYXlwYWxGYXN0bGFuZVN0eWxlc1NldHRpbmdzID0gaXNGYXN0bGFuZVN0eWxpbmdFbmFibGVkXG4gICAgICAgICAgICA/IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5mYXN0bGFuZVN0eWxlc1xuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5pc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkID0gISFpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFzdGxhbmVTdHlsZXMgPSBnZXRGYXN0bGFuZVN0eWxlcyhcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlZmFzdGxhbmU/LnN0eWxlcyxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgICAgICAgICAgICAgIGZhc3RsYW5lU3R5bGVzLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIEluZm86IERvIG5vdCB0aHJvdyBhbnl0aGluZyBoZXJlIHRvIGF2b2lkIGJsb2NraW5nIGN1c3RvbWVyIGZyb20gcGFzc2luZyBjaGVja291dCBmbG93XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbkluKGNyZWRlbnRpYWxzOiBDdXN0b21lckNyZWRlbnRpYWxzLCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25JbkN1c3RvbWVyKGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBhc3luYyBzaWduT3V0KG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2lnbk91dEN1c3RvbWVyKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQoXG4gICAgICAgIG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBjaGVja291dFBheW1lbnRNZXRob2RFeGVjdXRlZCwgY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2tcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQgYW5kIGl0IG11c3QgYmUgYSBmdW5jdGlvbi4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZCAmJiBjdXN0b21lci5pc0d1ZXN0KSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3cgPSBhd2FpdCB0aGlzLnNob3VsZFJ1bkF1dGhlbnRpY2F0aW9uRmxvdygpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2hlY2tvdXRQYXltZW50TWV0aG9kRXhlY3V0ZWQgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgY2hlY2tvdXRQYXltZW50TWV0aG9kRXhlY3V0ZWQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNoZWNrb3V0UGF5bWVudE1ldGhvZEV4ZWN1dGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3cpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMucnVuUGF5UGFsQXV0aGVudGljYXRpb25GbG93T3JUaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgbWV0aG9kIGFmdGVyIEEvQiB0ZXN0aW5nIGZpbmlzaGVkXG4gICAgcHJpdmF0ZSBhc3luYyBzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3coKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHByaW1hcnlNZXRob2RJZCA9ICdicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0JztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW5mbzogd2Ugc2hvdWxkIGxvYWQgcGF5bWVudCBtZXRob2QgZWFjaCB0aW1lIHRvIGRldGVjdCBpZiB0aGUgdXNlclxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGluIGEgdGVzdCBvciBpbiBhIGNvbnRyb2wgZ3JvdXBcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChwcmltYXJ5TWV0aG9kSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihwcmltYXJ5TWV0aG9kSWQpO1xuXG4gICAgICAgICAgICAvLyBJbmZvOiBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZmxvdyBvZiBBL0IgdGVzdGluZyBwdXJwb3Nlc1xuICAgICAgICAgICAgLy8gd2hlbiBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0IGlzIHRydWUsIHRoZSBsb29rdXAgUGF5UGFsIENvbm5lY3QgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQsXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgQWNjZWxlcmF0ZWRDaGVja291dCBzaG91bGQgbm90IGJlIGF2YWlsYWJsZSBmb3IgdGhlIGN1c3RvbWVyXG4gICAgICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LnNob3VsZFJ1bkFjY2VsZXJhdGVkQ2hlY2tvdXQgfHwgZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0VmFsaWRQYXltZW50TWV0aG9kT3JUaHJvdyhcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPj4ge1xuICAgICAgICBsZXQgdmFsaWRQYXltZW50TWV0aG9kSWQgPSBtZXRob2RJZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKHZhbGlkUGF5bWVudE1ldGhvZElkKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICB2YWxpZFBheW1lbnRNZXRob2RJZCA9XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQgPT09ICdicmFpbnRyZWUnID8gJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnIDogJ2JyYWludHJlZSc7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QodmFsaWRQYXltZW50TWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KHZhbGlkUGF5bWVudE1ldGhvZElkKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtY3VzdG9tZXItc3RyYXRlZ3knO1xuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lVXRpbHMgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMnO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXJTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcbiAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZVV0aWxzID0gbmV3IEJyYWludHJlZUZhc3RsYW5lVXRpbHMoXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kocGF5bWVudEludGVncmF0aW9uU2VydmljZSwgYnJhaW50cmVlRmFzdGxhbmVVdGlscyk7XG59O1xuXG4vLyBJbmZvOiBicmFpbnRyZWUgbWV0aG9kIGlkIHdhcyBhZGRlZCBvbmx5IGZvciBBL0IgdGVzdGluZyBwdXJwb3Nlcy5cbi8vIFRoZSBtYWluIHJlYXNvbiB3aHkgd2UgY2FuJ3QgZ28gaW4gb3RoZXIgd2F5LCBiZWNhdXNlIGJyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXRcbi8vIG1heSBiZSB0dXJuZWQgb24gb25seSB3aGVuIEJFIGtub3dzIGN1c3RvbWVyJ3MgZW1haWwgYWRkcmVzcyAodG8gdW5kZXJzdGFuZCBzaG91bGQgd2Ugc2hvdyB0aGUgZmVhdHVyZSBmb3IgdGhlIHVzZXIgb3Igbm90KS5cbi8vIFNvIHsgaWQ6ICdicmFpbnRyZWUnIH0sIHNob3VsZCBiZSByZW1vdmVkIGFmdGVyIEEvQiB0ZXN0aW5nXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lclN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnIH0sXG4gICAgeyBpZDogJ2JyYWludHJlZScgfSxcbl0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSB0cnkgdG8gY2FsbCBhIG1ldGhvZCB0aGF0IGlzIG9ubHkgYSBzdHViIGFuZCBoYXMgbm90XG4gKiBiZWVuIGZ1bGx5IGltcGxlbWVudGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbXBsZW1lbnRlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdOb3QgaW1wbGVtZW50ZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEltcGxlbWVudGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2ltcGxlbWVudGVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbiAgICBWaXNhQ2hlY2tvdXRBZGRyZXNzLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICBDdXN0b21lclN0cmF0ZWd5LFxuICAgIEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIExlZ2FjeUFkZHJlc3MsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbXBsZW1lbnRlZEVycm9yLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY3VzdG9tZXItaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnV0dG9uQ2xhc3NOYW1lID0gJ3Zpc2EtY2hlY2tvdXQtd3JhcHBlcic7XG4gICAgcHJpdmF0ZSBvbkVycm9yID0gbm9vcDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBDdXN0b21lckluaXRpYWxpemVPcHRpb25zICYgV2l0aEJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgYnJhaW50cmVldmlzYWNoZWNrb3V0OiB2aXNhQ2hlY2tvdXRPcHRpb25zLCBtZXRob2RJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJtZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmlzYUNoZWNrb3V0T3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWV2aXNhY2hlY2tvdXRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcgfSA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnJhaW50cmVlU2RrLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuXG4gICAgICAgIGNvbnN0IGJyYWludHJlZVZpc2FDaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldEJyYWludHJlZVZpc2FDaGVja291dCgpO1xuXG4gICAgICAgIGNvbnN0IHZpc2FDaGVja291dEluc3RhbmNlID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0VmlzYUNoZWNrb3V0U2RrKGNvbmZpZy50ZXN0TW9kZSk7XG5cbiAgICAgICAgY29uc3QgeyBjb250YWluZXIsIG9uRXJyb3IgfSA9IHZpc2FDaGVja291dE9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5vbkVycm9yID0gb25FcnJvciB8fCBub29wO1xuXG4gICAgICAgIGNvbnN0IGluaXRPcHRpb25zID0gYnJhaW50cmVlVmlzYUNoZWNrb3V0LmNyZWF0ZUluaXRPcHRpb25zKHtcbiAgICAgICAgICAgIHBheW1lbnRSZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBzdG9yZUNvbmZpZy5jdXJyZW5jeS5jb2RlLFxuICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBTdHJpbmcoY2hlY2tvdXQuc3VidG90YWwpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBzdG9yZUNvbmZpZy5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZzoge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0U2hpcHBpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNpZ25JbkJ1dHRvbiA9IHRoaXMuY3JlYXRlU2lnbkluQnV0dG9uKGNvbnRhaW5lciwgdGhpcy5idXR0b25DbGFzc05hbWUpO1xuXG4gICAgICAgIGF3YWl0IHZpc2FDaGVja291dEluc3RhbmNlLmluaXQoaW5pdE9wdGlvbnMpO1xuXG4gICAgICAgIHZpc2FDaGVja291dEluc3RhbmNlLm9uKFxuICAgICAgICAgICAgJ3BheW1lbnQuc3VjY2VzcycsXG4gICAgICAgICAgICAocGF5bWVudFN1Y2Nlc3NQYXlsb2FkOiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpID0+XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZVBheW1lbnQoYnJhaW50cmVlVmlzYUNoZWNrb3V0LCBwYXltZW50U3VjY2Vzc1BheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcikpLFxuICAgICAgICApO1xuXG4gICAgICAgIHZpc2FDaGVja291dEluc3RhbmNlLm9uKCdwYXltZW50LmVycm9yJywgKF8sIGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKSk7XG5cbiAgICAgICAgc2lnbkluQnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5kZWluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBzaWduSW4oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFxuICAgICAgICAgICAgJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIFZpc2FDaGVja291dCwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIlZpc2EgQ2hlY2tvdXRcIiBidXR0b24uJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBzaWduT3V0KG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2lnbk91dEN1c3RvbWVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnQoXG4gICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dDogQnJhaW50cmVlVmlzYUNoZWNrb3V0LFxuICAgICAgICBwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBicmFpbnRyZWVWaXNhQ2hlY2tvdXQudG9rZW5pemUocGF5bWVudCksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpLFxuICAgICAgICBdKS50aGVuKChbcGF5bG9hZCwgZGV2aWNlRGF0YV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMubWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzKHNoaXBwaW5nKSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyA9IHRoaXMubWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGJpbGxpbmcpLFxuICAgICAgICAgICAgfSA9IHBheWxvYWQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RGb3JtKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRldmljZURhdGEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvc3RGb3JtKFxuICAgICAgICBwYXltZW50RGF0YTogVmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZCxcbiAgICAgICAgZGF0YUNvbGxlY3RvcjogQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyB1c2VyRGF0YSwgYmlsbGluZ0FkZHJlc3MsIHNoaXBwaW5nQWRkcmVzcywgZGV0YWlsczogY2FyZEluZm9ybWF0aW9uIH0gPSBwYXltZW50RGF0YTtcbiAgICAgICAgY29uc3QgeyB1c2VyRW1haWwgfSA9IHVzZXJEYXRhO1xuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGRhdGFDb2xsZWN0b3I7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSgnL2NoZWNrb3V0LnBocCcsIHtcbiAgICAgICAgICAgIHBheW1lbnRfdHlwZTogcGF5bWVudERhdGEudHlwZSxcbiAgICAgICAgICAgIG5vbmNlOiBwYXltZW50RGF0YS5ub25jZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyxcbiAgICAgICAgICAgIGFjdGlvbjogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICBkZXZpY2VfZGF0YTogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgIGNhcmRfaW5mb3JtYXRpb246IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjYXJkSW5mb3JtYXRpb24uY2FyZFR5cGUsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBjYXJkSW5mb3JtYXRpb24ubGFzdFR3byxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBiaWxsaW5nQWRkcmVzcykpLFxuICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRBZGRyZXNzKHVzZXJFbWFpbCwgc2hpcHBpbmdBZGRyZXNzKSksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogVmlzYUNoZWNrb3V0QWRkcmVzcyB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBhZGRyZXNzLnBob25lLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGV4dGVuZGVkQWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICByZWdpb246IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QWRkcmVzcyhlbWFpbDogc3RyaW5nLCBhZGRyZXNzOiBWaXNhQ2hlY2tvdXRBZGRyZXNzID0ge30pOiBQYXJ0aWFsPExlZ2FjeUFkZHJlc3M+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0X25hbWU6IGFkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXI6IGFkZHJlc3MucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMTogYWRkcmVzcy5zdHJlZXRBZGRyZXNzLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5sb2NhbGl0eSxcbiAgICAgICAgICAgIHN0YXRlOiBhZGRyZXNzLnJlZ2lvbixcbiAgICAgICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBhZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaWduSW5CdXR0b24oY29udGFpbmVySWQ6IHN0cmluZywgYnV0dG9uQ2xhc3M6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y29udGFpbmVySWR9YCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcHJvdmlkZWQgY29udGFpbmVyIElEIGlzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydFZpc2FDaGVja291dEJ1dHRvbihjb250YWluZXIsIGJ1dHRvbkNsYXNzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydFZpc2FDaGVja291dEJ1dHRvbihjb250YWluZXI6IEVsZW1lbnQsIGJ1dHRvbkNsYXNzOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGJ1dHRvblNvdXJjZSA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vd2FsbGV0LXNlcnZpY2VzLXdlYi94by9idXR0b24ucG5nP2FjY2VwdENhbmFkaWFuVmlzYURlYml0PWZhbHNlJmNvYnJhbmQ9dHJ1ZSZoZWlnaHQ9MzQmd2lkdGg9MTc4JztcbiAgICAgICAgY29uc3QgYnV0dG9uVGVtcGxhdGUgPSBgXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgYWx0PVwiVmlzYSBDaGVja291dFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgc3JjPVwiJHtidXR0b25Tb3VyY2V9XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJ2LWxlYXJuIHYtbGVhcm4tZGVmYXVsdFwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEwcHg7IGNvbG9yOiAjMDAzMzY2O1wiIGhyZWY9XCIjXCIgZGF0YS1sb2NhbGU9XCJlbl9VU1wiPlRlbGwgTWUgTW9yZTwvYT5gO1xuXG4gICAgICAgIGNvbnN0IHZpc2FDaGVja291dEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUud2lkdGggPSAnbWF4LWNvbnRlbnQnO1xuXG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5jbGFzc05hbWUgPSBidXR0b25DbGFzcztcbiAgICAgICAgdmlzYUNoZWNrb3V0QnV0dG9uLmlubmVySFRNTCA9IGJ1dHRvblRlbXBsYXRlO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aXNhQ2hlY2tvdXRCdXR0b24pO1xuXG4gICAgICAgIHJldHVybiB2aXNhQ2hlY2tvdXRCdXR0b247XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogRXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICBWaXNhQ2hlY2tvdXRIb3N0V2luZG93LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtY3VzdG9tZXItc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5OiBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBob3N0V2luZG93OiBWaXNhQ2hlY2tvdXRIb3N0V2luZG93ICYgQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTZGsgPSBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpLCBob3N0V2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlRm9ybVBvc3RlcigpLFxuICAgICAgICBicmFpbnRyZWVTZGssXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZXZpc2FjaGVja291dCcgfSxcbl0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBzaG9wcGVyIHRyaWVzIHRvIHNpZ24gaW4gYXMgYSBndWVzdCBidXRcbiAqIHRoZXkgYXJlIGFscmVhZHkgc2lnbmVkIGluIGFzIGEgcmVnaXN0ZXJlZCBjdXN0b21lci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZCBkdXJpbmcgYnV5IG5vdyBjYXJ0IGNyZWF0aW9uIHByb2Nlc3MuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnQnV5Tm93Q2FydENyZWF0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnV5X25vd19jYXJ0X2NyZWF0aW9uX2Vycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpc05pbCwgb21pdEJ5IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgUGF5cGFsU3R5bGVPcHRpb25zIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRWYWxpZEJ1dHRvblN0eWxlKHN0eWxlPzogUGF5cGFsU3R5bGVPcHRpb25zKTogUGF5cGFsU3R5bGVPcHRpb25zIHtcbiAgICBjb25zdCB7IGNvbG9yLCBmdW5kaW5naWNvbnMsIGhlaWdodCA9IDQwLCBsYXlvdXQsIHNoYXBlLCBzaXplLCB0YWdsaW5lIH0gPSBzdHlsZSB8fCB7fTtcblxuICAgIGNvbnN0IHZhbGlkU3R5bGVzID0ge1xuICAgICAgICBjb2xvcixcbiAgICAgICAgZnVuZGluZ2ljb25zLFxuICAgICAgICBoZWlnaHQ6IGdldFZhbGlkSGVpZ2h0KGhlaWdodCksXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgc2hhcGU6IHNoYXBlIHx8ICdyZWN0JyxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgdGFnbGluZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9taXRCeSh2YWxpZFN0eWxlcywgaXNOaWwpO1xufVxuXG5mdW5jdGlvbiBnZXRWYWxpZEhlaWdodChoZWlnaHQ6IG51bWJlciB8IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gMjU7XG4gICAgY29uc3QgZGVmYXVsdEhlaWdodCA9IDQwO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IDU1O1xuXG4gICAgY29uc3QgY3VycmVudEhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgaWYgKCFjdXJyZW50SGVpZ2h0IHx8IE51bWJlci5pc05hTihjdXJyZW50SGVpZ2h0KSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm4gbWF4SGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50SGVpZ2h0IDwgbWluSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBtaW5IZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIZWlnaHQ7XG59XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yLFxuICAgIEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSxcbiAgICBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBnZXRWYWxpZEJ1dHRvblN0eWxlIGZyb20gJy4uL2dldC12YWxpZC1idXR0b24tc3R5bGUnO1xuaW1wb3J0IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgZnJvbSAnLi4vbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtYnV0dG9uLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVBheXBhbEJ1dHRvblN0cmF0ZWd5IGltcGxlbWVudHMgQ2hlY2tvdXRCdXR0b25TdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBidXlOb3dDYXJ0SWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IENoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsQnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgYnJhaW50cmVlcGF5cGFsLCBjb250YWluZXJJZCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250YWluZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgbGV0IGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuXG4gICAgICAgIGlmIChicmFpbnRyZWVwYXlwYWwuYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghYnJhaW50cmVlcGF5cGFsLmN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlcGF5cGFsY3JlZGl0LmN1cnJlbmN5Q29kZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZSA9IGJyYWludHJlZXBheXBhbC5jdXJyZW5jeUNvZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZERlZmF1bHRDaGVja291dCgpO1xuXG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcsIGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0T3B0aW9uczogUGFydGlhbDxCcmFpbnRyZWVQYXlwYWxTZGtDcmVhdG9yQ29uZmlnPiA9IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICBpbnRlbnQ6IGluaXRpYWxpemF0aW9uRGF0YS5pbnRlbnQsXG4gICAgICAgICAgICBpc0NyZWRpdEVuYWJsZWQ6IGluaXRpYWxpemF0aW9uRGF0YS5pc0NyZWRpdEVuYWJsZWQsXG4gICAgICAgICAgICBjb21taXQ6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0U3VjY2Vzc0NhbGxiYWNrID0gKFxuICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGF5UGFsQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbCxcbiAgICAgICAgICAgICAgICBjb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAhIWNvbmZpZy50ZXN0TW9kZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0RXJyb3JDYWxsYmFjayA9IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBjb250YWluZXJJZCwgYnJhaW50cmVlcGF5cGFsLm9uRXJyb3IpO1xuXG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0T3B0aW9ucyxcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0U3VjY2Vzc0NhbGxiYWNrLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UudGVhcmRvd24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBheVBhbEJ1dHRvbihcbiAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICBicmFpbnRyZWVwYXlwYWw6IEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBjb250YWluZXJJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBzdHlsZSwgc2hvdWxkUHJvY2Vzc1BheW1lbnQsIG9uQXV0aG9yaXplRXJyb3IsIG9uRWxpZ2liaWxpdHlGYWlsdXJlIH0gPVxuICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsO1xuICAgICAgICBjb25zdCB7IHBheXBhbCB9ID0gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93O1xuXG4gICAgICAgIGlmIChwYXlwYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheXBhbEJ1dHRvblJlbmRlciA9IHBheXBhbC5CdXR0b25zKHtcbiAgICAgICAgICAgICAgICBlbnY6IHRlc3RNb2RlID8gJ3NhbmRib3gnIDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2U6IHBheXBhbC5GVU5ESU5HLlBBWVBBTCxcbiAgICAgICAgICAgICAgICBzdHlsZTogZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSksXG4gICAgICAgICAgICAgICAgY3JlYXRlT3JkZXI6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBQYXltZW50KGJyYWludHJlZVBheXBhbENoZWNrb3V0LCBicmFpbnRyZWVwYXlwYWwsIG1ldGhvZElkKSxcbiAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRva2VuaXplUGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkF1dGhvcml6ZUVycm9yLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwYXlwYWxCdXR0b25SZW5kZXIuaXNFbGlnaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgcGF5cGFsQnV0dG9uUmVuZGVyLnJlbmRlcihgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uRWxpZ2liaWxpdHlGYWlsdXJlICYmIHR5cGVvZiBvbkVsaWdpYmlsaXR5RmFpbHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgb25QYXltZW50RXJyb3IsIHNoaXBwaW5nQWRkcmVzcywgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgfSA9IGJyYWludHJlZXBheXBhbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYnV5Tm93Q2FydCA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zPy5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmNyZWF0ZUJ1eU5vd0NhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSgpLFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYnV5Tm93Q2FydElkID0gYnV5Tm93Q2FydD8uaWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4gPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gYnV5Tm93Q2FydCA/IGJ1eU5vd0NhcnQuY2FydEFtb3VudCA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY2FydEFtb3VudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5Q29kZSA9IGJ1eU5vd0NhcnRcbiAgICAgICAgICAgICAgICA/IGJyYWludHJlZXBheXBhbC5jdXJyZW5jeUNvZGVcbiAgICAgICAgICAgICAgICA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcblxuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHNoaXBwaW5nQWRkcmVzcyB8fCBjdXN0b21lcj8uYWRkcmVzc2VzWzBdO1xuXG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSA9IGFkZHJlc3NcbiAgICAgICAgICAgICAgICA/IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoYWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LmNyZWF0ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIGZsb3c6ICdjaGVja291dCcsXG4gICAgICAgICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnQoXG4gICAgICAgIGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBvbkVycm9yPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBzaG91bGRQcm9jZXNzUGF5bWVudCA/ICdwcm9jZXNzX3BheW1lbnQnIDogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgZGV2aWNlX2RhdGE6IGRldmljZURhdGEsXG4gICAgICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5idXlOb3dDYXJ0SWQgJiYgeyBjYXJ0X2lkOiB0aGlzLmJ1eU5vd0NhcnRJZCB9KSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUJ1eU5vd0NhcnQoYnV5Tm93Q2FyZFJlcXVlc3RCb2R5PzogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZCkge1xuICAgICAgICBpZiAoIWJ1eU5vd0NhcmRSZXF1ZXN0Qm9keSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dDYXJkUmVxdWVzdEJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWJ1dHRvbi1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVBheXBhbEJ1dHRvblN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVQYXlwYWxCdXR0b25TdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3ksIFt7IGlkOiAnYnJhaW50cmVlcGF5cGFsJyB9XSk7XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBNZXNzYWdpbmdQbGFjZW1lbnRzLFxuICAgIFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgUGF5cGFsQnV0dG9uU3R5bGVMYWJlbE9wdGlvbixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvcixcbiAgICBCdXlOb3dDYXJ0UmVxdWVzdEJvZHksXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFN0YW5kYXJkRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNFeHBlcmltZW50RW5hYmxlZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCBnZXRWYWxpZEJ1dHRvblN0eWxlIGZyb20gJy4uL2dldC12YWxpZC1idXR0b24tc3R5bGUnO1xuaW1wb3J0IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgZnJvbSAnLi4vbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtY3JlZGl0LWJ1dHRvbi1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneSBpbXBsZW1lbnRzIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnV5Tm93Q2FydElkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlOiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlTWVzc2FnZXM6IEJyYWludHJlZU1lc3NhZ2VzLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBicmFpbnRyZWVwYXlwYWxjcmVkaXQsIGNvbnRhaW5lcklkLCBtZXRob2RJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuY29udGFpbmVySWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJyYWludHJlZXBheXBhbGNyZWRpdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXBheXBhbGNyZWRpdFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBsZXQgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKGJyYWludHJlZXBheXBhbGNyZWRpdC5idXlOb3dJbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0LmN1cnJlbmN5Q29kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5LmNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRPcHRpb25zOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgIGludGVudDogaW5pdGlhbGl6YXRpb25EYXRhLmludGVudCxcbiAgICAgICAgICAgIGlzQ3JlZGl0RW5hYmxlZDogaW5pdGlhbGl6YXRpb25EYXRhLmlzQ3JlZGl0RW5hYmxlZCxcbiAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGJhbm5lciByZW5kZXJpbmcgaW1wbGVtZW50YXRpb24gaW4gdGhpcyBmaWxlIHdoZW4gUEFZUEFMLTU2NjMuaGlkZV9icmFpbnRyZWVfY2FyZF9iYW5uZXJfaW1wbGVtZW50YXRpb25faW5fY2hlY2tvdXRfc2RrIHdpbGwgYmUgcm9sbGVkIG91dCB0byAxMDAlXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWcoKT8uY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgaXNCYW5uZXJJbXBsZW1lbnRhdGlvbkRpc2FibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BBWVBBTC01NjYzLmhpZGVfYnJhaW50cmVlX2NhcmRfYmFubmVyX2ltcGxlbWVudGF0aW9uX2luX2NoZWNrb3V0X3NkaycsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2sgPSAoXG4gICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc0Jhbm5lckltcGxlbWVudGF0aW9uRGlzYWJsZWQgJiYgYnJhaW50cmVlcGF5cGFsY3JlZGl0Lm1lc3NhZ2luZ0NvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxNZXNzYWdlcyhtZXRob2RJZCwgYnJhaW50cmVlcGF5cGFsY3JlZGl0Lm1lc3NhZ2luZ0NvbnRhaW5lcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0LFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICEhY29uZmlnLnRlc3RNb2RlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lcklkLCBicmFpbnRyZWVwYXlwYWxjcmVkaXQub25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyUGF5UGFsTWVzc2FnZXMobWV0aG9kSWQ6IHN0cmluZywgbWVzc2FnaW5nQ29udGFpbmVySWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyYWludHJlZU1lc3NhZ2VzLnJlbmRlcihtZXRob2RJZCwgbWVzc2FnaW5nQ29udGFpbmVySWQsIE1lc3NhZ2luZ1BsYWNlbWVudHMuQ0FSVCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgY29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgdGVzdE1vZGU6IGJvb2xlYW4sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgc3R5bGUsIHNob3VsZFByb2Nlc3NQYXltZW50LCBvbkF1dGhvcml6ZUVycm9yLCBvbkVsaWdpYmlsaXR5RmFpbHVyZSB9ID1cbiAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdDtcbiAgICAgICAgY29uc3QgeyBwYXlwYWwgfSA9IHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdztcblxuICAgICAgICBsZXQgaGFzUmVuZGVyZWRTbWFydEJ1dHRvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXlwYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmRpbmdTb3VyY2VzID0gW3BheXBhbC5GVU5ESU5HLlBBWUxBVEVSLCBwYXlwYWwuRlVORElORy5DUkVESVRdO1xuXG4gICAgICAgICAgICBmdW5kaW5nU291cmNlcy5mb3JFYWNoKChmdW5kaW5nU291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uU3R5bGUgPVxuICAgICAgICAgICAgICAgICAgICBmdW5kaW5nU291cmNlID09PSBwYXlwYWwuRlVORElORy5DUkVESVRcbiAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24uQ1JFRElULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc1JlbmRlcmVkU21hcnRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW52OiB0ZXN0TW9kZSA/ICdzYW5kYm94JyA6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogYnV0dG9uU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwUGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQXBwcm92ZTogKGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZVBheW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXV0aG9yaXplRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheXBhbEJ1dHRvblJlbmRlci5pc0VsaWdpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVuZGVyZWRTbWFydEJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlwYWwuRlVORElORy5DUkVESVQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb25FbGlnaWJpbGl0eUZhaWx1cmUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY29uZGl0aW9uIGlzIHJlbGF0ZWQgdG8gcGF5cGFsLkZVTkRJTkcuQ1JFRElUIGJlY2F1c2Ugd2hlbiBwYXlwYWwuRlVORElORy5QQVlMQVRFUiBpcyBub3QgZWxpZ2libGUgdGhlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ1JFRElUIGJ1dHRvbiBzaG91bGQgYmUgY29uZmlndXJlZCBhbmQgdHJpZ2dlcmVkIHRvIHJlbmRlciB3aXRoIGVsaWdpYmlsaXR5IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaWYgaXQgaXMgbm90IGVsaWdpYmxlLCB0aGVuIG9uRWxpZ2liaWxpdHlGYWlsdXJlIGNhbGxiYWNrIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5cGFsIHx8ICFoYXNSZW5kZXJlZFNtYXJ0QnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdDogQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgb25QYXltZW50RXJyb3IsIHNoaXBwaW5nQWRkcmVzcywgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgfSA9IGJyYWludHJlZXBheXBhbGNyZWRpdDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYnV5Tm93Q2FydCA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zPy5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmNyZWF0ZUJ1eU5vd0NhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSgpLFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYnV5Tm93Q2FydElkID0gYnV5Tm93Q2FydD8uaWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4gPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gYnV5Tm93Q2FydCA/IGJ1eU5vd0NhcnQuY2FydEFtb3VudCA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY2FydEFtb3VudDsgLy8gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlXG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSBidXlOb3dDYXJ0XG4gICAgICAgICAgICAgICAgPyBicmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlXG4gICAgICAgICAgICAgICAgOiBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5LmNvZGU7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBzaGlwcGluZ0FkZHJlc3MgfHwgY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgPSBhZGRyZXNzXG4gICAgICAgICAgICAgICAgPyBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC5jcmVhdGVQYXltZW50KHtcbiAgICAgICAgICAgICAgICBmbG93OiAnY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnQoXG4gICAgICAgIGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBvbkVycm9yPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBzaG91bGRQcm9jZXNzUGF5bWVudCA/ICdwcm9jZXNzX3BheW1lbnQnIDogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgZGV2aWNlX2RhdGE6IGRldmljZURhdGEsXG4gICAgICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5idXlOb3dDYXJ0SWQgJiYgeyBjYXJ0X2lkOiB0aGlzLmJ1eU5vd0NhcnRJZCB9KSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUJ1eU5vd0NhcnQoYnV5Tm93Q2FyZFJlcXVlc3RCb2R5PzogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZCkge1xuICAgICAgICBpZiAoIWJ1eU5vd0NhcmRSZXF1ZXN0Qm9keSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dDYXJkUmVxdWVzdEJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZU1lc3NhZ2VzLFxuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1idXR0b24tc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneTogQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgICAgIGdldFNjcmlwdExvYWRlcigpLFxuICAgICAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICAgICApLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG4gICAgY29uc3QgYnJhaW50cmVlTWVzc2FnZXMgPSBuZXcgQnJhaW50cmVlTWVzc2FnZXMocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvblN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBjcmVhdGVGb3JtUG9zdGVyKCksXG4gICAgICAgIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnIH0sXG5dKTtcbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbiAgICBWaXNhQ2hlY2tvdXRBZGRyZXNzLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIExlZ2FjeUFkZHJlc3MsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3kgaW1wbGVtZW50cyBDaGVja291dEJ1dHRvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShvcHRpb25zOiBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVySWQsIG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEsIGNvbmZpZyB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlVmlzYUNoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgY29kZSB9LFxuICAgICAgICAgICAgY2FydEFtb3VudCxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0SW5zdGFuY2UgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRWaXNhQ2hlY2tvdXRTZGsoY29uZmlnLnRlc3RNb2RlKTtcblxuICAgICAgICBjb25zdCBpbml0T3B0aW9ucyA9IGJyYWludHJlZVZpc2FDaGVja291dC5jcmVhdGVJbml0T3B0aW9ucyh7XG4gICAgICAgICAgICBwYXltZW50UmVxdWVzdDoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBzdWJ0b3RhbDogU3RyaW5nKGNhcnRBbW91bnQpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdFNoaXBwaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVNpZ25JbkJ1dHRvbihjb250YWluZXJJZCk7XG5cbiAgICAgICAgYXdhaXQgdmlzYUNoZWNrb3V0SW5zdGFuY2UuaW5pdChpbml0T3B0aW9ucyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0SW5zdGFuY2Uub24oJ3BheW1lbnQuc3VjY2VzcycsIGFzeW5jIChwYXltZW50KSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRTdWNjZXNzKGJyYWludHJlZVZpc2FDaGVja291dCwgcGF5bWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcGF5bWVudFN1Y2Nlc3MoXG4gICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dDogQnJhaW50cmVlVmlzYUNoZWNrb3V0LFxuICAgICAgICBwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBicmFpbnRyZWVWaXNhQ2hlY2tvdXQudG9rZW5pemUocGF5bWVudCksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpLFxuICAgICAgICBdKS50aGVuKChbcGF5bG9hZCwgZGV2aWNlRGF0YV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMudG9WaXNhQ2hlY2tvdXRBZGRyZXNzKHNoaXBwaW5nKSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyA9IHRoaXMudG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGJpbGxpbmcpLFxuICAgICAgICAgICAgfSA9IHBheWxvYWQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RGb3JtKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRldmljZURhdGEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvc3RGb3JtKFxuICAgICAgICBwYXltZW50RGF0YTogVmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZCxcbiAgICAgICAgZGF0YUNvbGxlY3RvcjogQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyB1c2VyRGF0YSwgYmlsbGluZ0FkZHJlc3MsIHNoaXBwaW5nQWRkcmVzcywgZGV0YWlsczogY2FyZEluZm9ybWF0aW9uIH0gPSBwYXltZW50RGF0YTtcbiAgICAgICAgY29uc3QgeyB1c2VyRW1haWwgfSA9IHVzZXJEYXRhO1xuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGRhdGFDb2xsZWN0b3I7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSgnL2NoZWNrb3V0LnBocCcsIHtcbiAgICAgICAgICAgIHBheW1lbnRfdHlwZTogcGF5bWVudERhdGEudHlwZSxcbiAgICAgICAgICAgIG5vbmNlOiBwYXltZW50RGF0YS5ub25jZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyxcbiAgICAgICAgICAgIGFjdGlvbjogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICBkZXZpY2VfZGF0YTogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgIGNhcmRfaW5mb3JtYXRpb246IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjYXJkSW5mb3JtYXRpb24uY2FyZFR5cGUsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBjYXJkSW5mb3JtYXRpb24ubGFzdFR3byxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBiaWxsaW5nQWRkcmVzcykpLFxuICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRBZGRyZXNzKHVzZXJFbWFpbCwgc2hpcHBpbmdBZGRyZXNzKSksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogVmlzYUNoZWNrb3V0QWRkcmVzcyB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBhZGRyZXNzLnBob25lLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGV4dGVuZGVkQWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICByZWdpb246IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QWRkcmVzcyhlbWFpbDogc3RyaW5nLCBhZGRyZXNzOiBWaXNhQ2hlY2tvdXRBZGRyZXNzID0ge30pOiBQYXJ0aWFsPExlZ2FjeUFkZHJlc3M+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0X25hbWU6IGFkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXI6IGFkZHJlc3MucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMTogYWRkcmVzcy5zdHJlZXRBZGRyZXNzLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5sb2NhbGl0eSxcbiAgICAgICAgICAgIHN0YXRlOiBhZGRyZXNzLnJlZ2lvbixcbiAgICAgICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBhZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaWduSW5CdXR0b24oY29udGFpbmVySWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y29udGFpbmVySWR9YCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmVlZCBhIGNvbnRhaW5lciB0byBwbGFjZSB0aGUgYnV0dG9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRWaXNhQ2hlY2tvdXRCdXR0b24oY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydFZpc2FDaGVja291dEJ1dHRvbihjb250YWluZXI6IEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGJ1dHRvblNvdXJjZSA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vd2FsbGV0LXNlcnZpY2VzLXdlYi94by9idXR0b24ucG5nP2FjY2VwdENhbmFkaWFuVmlzYURlYml0PWZhbHNlJmNvYnJhbmQ9dHJ1ZSZoZWlnaHQ9MzQmd2lkdGg9MTc4JztcbiAgICAgICAgY29uc3QgYnV0dG9uVGVtcGxhdGUgPSBgXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgYWx0PVwiVmlzYSBDaGVja291dFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgc3JjPVwiJHtidXR0b25Tb3VyY2V9XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJ2LWxlYXJuIHYtbGVhcm4tZGVmYXVsdFwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEwcHg7IGNvbG9yOiAjMDAzMzY2O1wiIGhyZWY9XCIjXCIgZGF0YS1sb2NhbGU9XCJlbl9VU1wiPlRlbGwgTWUgTW9yZTwvYT5gO1xuXG4gICAgICAgIGNvbnN0IHZpc2FDaGVja291dEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUuYWxpZ25JdGVtcyA9ICdmbGV4LWVuZCc7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0QnV0dG9uLmlubmVySFRNTCA9IGJ1dHRvblRlbXBsYXRlO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aXNhQ2hlY2tvdXRCdXR0b24pO1xuXG4gICAgICAgIHJldHVybiB2aXNhQ2hlY2tvdXRCdXR0b247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIFZpc2FDaGVja291dEhvc3RXaW5kb3csXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVZpc2FDaGVja291dEJ1dHRvblN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtYnV0dG9uLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dEJ1dHRvblN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBob3N0V2luZG93OiBWaXNhQ2hlY2tvdXRIb3N0V2luZG93ICYgQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTZGsgPSBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpLCBob3N0V2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlU2RrLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksIFtcbiAgICB7IGlkOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyB9LFxuXSk7XG4iLCJpbXBvcnQgeyBMZWdhY3lBZGRyZXNzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuKTogUGFydGlhbDxMZWdhY3lBZGRyZXNzPiB7XG4gICAgY29uc3QgeyBiaWxsaW5nQWRkcmVzcywgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lLCBzaGlwcGluZ0FkZHJlc3MgfSA9IGRldGFpbHM7XG5cbiAgICBjb25zdCBhZGRyZXNzID0gYmlsbGluZ0FkZHJlc3MgfHwgc2hpcHBpbmdBZGRyZXNzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSxcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZSxcbiAgICAgICAgYWRkcmVzc19saW5lXzE6IGFkZHJlc3M/LmxpbmUxLFxuICAgICAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcz8ubGluZTIsXG4gICAgICAgIGNpdHk6IGFkZHJlc3M/LmNpdHksXG4gICAgICAgIHN0YXRlOiBhZGRyZXNzPy5zdGF0ZSxcbiAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzPy5jb3VudHJ5Q29kZSxcbiAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3M/LnBvc3RhbENvZGUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IExlZ2FjeUFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcyhcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuKTogUGFydGlhbDxMZWdhY3lBZGRyZXNzPiB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGhvbmUsIHNoaXBwaW5nQWRkcmVzcyB9ID0gZGV0YWlscztcblxuICAgIGNvbnN0IHJlY2lwaWVudE5hbWUgPSBzaGlwcGluZ0FkZHJlc3M/LnJlY2lwaWVudE5hbWUgfHwgJyc7XG4gICAgY29uc3QgW2ZpcnN0TmFtZSwgbGFzdE5hbWVdID0gcmVjaXBpZW50TmFtZS5zcGxpdCgnICcpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSB8fCAnJyxcbiAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSB8fCAnJyxcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZSxcbiAgICAgICAgYWRkcmVzc19saW5lXzE6IHNoaXBwaW5nQWRkcmVzcz8ubGluZTEsXG4gICAgICAgIGFkZHJlc3NfbGluZV8yOiBzaGlwcGluZ0FkZHJlc3M/LmxpbmUyLFxuICAgICAgICBjaXR5OiBzaGlwcGluZ0FkZHJlc3M/LmNpdHksXG4gICAgICAgIHN0YXRlOiBzaGlwcGluZ0FkZHJlc3M/LnN0YXRlLFxuICAgICAgICBjb3VudHJ5X2NvZGU6IHNoaXBwaW5nQWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgIHBvc3RhbF9jb2RlOiBzaGlwcGluZ0FkZHJlc3M/LnBvc3RhbENvZGUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIG1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MsXG4gICAgbWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MsXG4gICAgUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbixcbiAgICBQYXlwYWxTdHlsZU9wdGlvbnMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IsXG4gICAgQnV5Tm93Q2FydFJlcXVlc3RCb2R5LFxuICAgIENhcnQsXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLWVycm9yJztcbmltcG9ydCB7IGlzVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IgfSBmcm9tICcuLi9pc1Vuc3VwcG9ydGVkQnJvd3NlckVycm9yJztcblxuaW1wb3J0IHsgV2l0aEJyYWludHJlZVZlbm1vSW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5jb25zdCBnZXRWZW5tb0J1dHRvblN0eWxlID0gKHN0eWxlczogUGF5cGFsU3R5bGVPcHRpb25zKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gICAgY29uc3QgeyBjb2xvciwgaGVpZ2h0IH0gPSBzdHlsZXM7XG5cbiAgICBjb25zdCBjb2xvclBhcnNlciA9IChjOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGMgPT09IFBheXBhbEJ1dHRvblN0eWxlQ29sb3JPcHRpb24uV0hJVEUpIHtcbiAgICAgICAgICAgIHJldHVybiAnI0ZGRkZGRic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyMzRDk1Q0UnO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yUGFyc2VyKGNvbG9yIHx8ICcnKSxcbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnNTAlIDUwJScsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiAnODBweCBhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiL2FwcC9hc3NldHMvaW1nL3BheW1lbnQtcHJvdmlkZXJzL3Zlbm1vLWxvZ28tJHtcbiAgICAgICAgICAgIGNvbG9yID09PSBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLldISVRFXG4gICAgICAgICAgICAgICAgPyBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLkJMVUVcbiAgICAgICAgICAgICAgICA6IFBheXBhbEJ1dHRvblN0eWxlQ29sb3JPcHRpb24uV0hJVEVcbiAgICAgICAgfS5zdmdcIilgLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIHRyYW5zaXRpb246ICcwLjJzIGVhc2UnLFxuICAgICAgICBtaW5IZWlnaHQ6IGAke2hlaWdodCB8fCA0MH1weGAsXG4gICAgICAgIG1pbldpZHRoOiAnMTUwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYm9yZGVyOiBjb2xvciA9PT0gUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbi5XSElURSA/ICcxcHggc29saWQgYmxhY2snIDogJ25vbmUnLFxuICAgIH07XG59O1xuXG5jb25zdCB2ZW5tb0J1dHRvblN0eWxlSG92ZXIgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzBhN2ZjMicsXG59O1xuXG5pbnRlcmZhY2UgQnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMge1xuICAgIGdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keT8oKTogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneSBpbXBsZW1lbnRzIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgb25FcnJvciA9IG5vb3A7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVWZW5tb0luaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXZlbm1vLCBjb250YWluZXJJZCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhIH06IFBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRCdXR0b25TdHlsZXMgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcbiAgICAgICAgY29uc3QgeyBjYXJ0QnV0dG9uU3R5bGVzIH0gPSBwYXltZW50QnV0dG9uU3R5bGVzIHx8IHt9O1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBicmFpbnRyZWV2ZW5tbz8uc3R5bGUgfHwgY2FydEJ1dHRvblN0eWxlcztcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgdGhpcy5vbkVycm9yID0gYnJhaW50cmVldmVubW8/Lm9uRXJyb3IgfHwgdGhpcy5oYW5kbGVFcnJvcjtcbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRWZW5tb0NoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclZlbm1vQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVldmVubW8/LmJ1eU5vd0luaXRpYWxpemVPcHRpb25zLFxuICAgICAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxpemF0aW9uVmVubW9FcnJvcihlcnJvciwgY29udGFpbmVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5kZWluaXRpYWxpemUoKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogQnJhaW50cmVlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlQnV5Tm93Q2FydChcbiAgICAgICAgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/OiBCdXlOb3dJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPENhcnQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBidXlOb3dJbml0aWFsaXplT3B0aW9ucz8uZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBjYXJ0UmVxdWVzdEJvZHkgPSBidXlOb3dJbml0aWFsaXplT3B0aW9ucz8uZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5KCk7XG5cbiAgICAgICAgICAgIGlmICghY2FydFJlcXVlc3RCb2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1eU5vd0NhcnQgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChcbiAgICAgICAgICAgICAgICAgICAgY2FydFJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYnV5Tm93Q2FydDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlSW5pdGlhbGl6YXRpb25WZW5tb0Vycm9yKFxuICAgICAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbiAgICAgICAgY29udGFpbmVySWQ6IHN0cmluZyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW1vdmVWZW5tb0NvbnRhaW5lcihjb250YWluZXJJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWZW5tb0NvbnRhaW5lcihjb250YWluZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAoYnV0dG9uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBidXR0b25Db250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclZlbm1vQnV0dG9uKFxuICAgICAgICBicmFpbnRyZWVWZW5tb0NoZWNrb3V0OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgICAgICBjb250YWluZXJJZDogc3RyaW5nLFxuICAgICAgICBidXlOb3dJbml0aWFsaXplT3B0aW9ucz86IEJ1eU5vd0luaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBidXR0b25TdHlsZXM/OiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZlbm1vQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuICAgICAgICBjb25zdCB7IGNvbG9yIH0gPSBidXR0b25TdHlsZXMgfHwge307XG5cbiAgICAgICAgaWYgKCF2ZW5tb0J1dHRvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gY3JlYXRlIHdhbGxldCBidXR0b24gd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2ZW5tb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVmVubW8nKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih2ZW5tb0J1dHRvbi5zdHlsZSwgZ2V0VmVubW9CdXR0b25TdHlsZShidXR0b25TdHlsZXMgfHwge30pKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1pc3VzZWQtcHJvbWlzZXNcbiAgICAgICAgdmVubW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2ZW5tb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgY29uc3QgYnV5Qm93Q2FydCA9IGF3YWl0IHRoaXMuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dJbml0aWFsaXplT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChicmFpbnRyZWVWZW5tb0NoZWNrb3V0LnRva2VuaXplKSB7XG4gICAgICAgICAgICAgICAgYnJhaW50cmVlVmVubW9DaGVja291dC50b2tlbml6ZShcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbm1vQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQb3N0Rm9ybShwYXlsb2FkLCBidXlCb3dDYXJ0Py5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNvbG9yID09PSBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLkJMVUUpIHtcbiAgICAgICAgICAgIHZlbm1vQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmVubW9CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmVubW9CdXR0b25TdHlsZUhvdmVyLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2ZW5tb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZlbm1vQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGdldFZlbm1vQnV0dG9uU3R5bGUoXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0eWxlcyB8fCB7fSxcbiAgICAgICAgICAgICAgICApLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVQb3N0Rm9ybShcbiAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgICAgICBidXlOb3dDYXJ0SWQ/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgeyBub25jZSwgZGV0YWlscyB9ID0gcGF5bG9hZDtcblxuICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnYnJhaW50cmVldmVubW8nLFxuICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIGJpbGxpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkobWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhkZXRhaWxzKSksXG4gICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShtYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcyhkZXRhaWxzKSksXG4gICAgICAgICAgICAuLi4oYnV5Tm93Q2FydElkICYmIHsgY2FydF9pZDogYnV5Tm93Q2FydElkIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcjtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1idXR0b24tc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuICAgIGNvbnN0IHNjcmlwdExvYWRlciA9IGdldFNjcmlwdExvYWRlcigpO1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZVNjcmlwdExvYWRlciA9IG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoXG4gICAgICAgIHNjcmlwdExvYWRlcixcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoYnJhaW50cmVlU2NyaXB0TG9hZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlRm9ybVBvc3RlcigpLFxuICAgICAgICBicmFpbnRyZWVTZGssXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5LCBbeyBpZDogJ2JyYWludHJlZXZlbm1vJyB9XSk7XG4iXSwibmFtZXMiOlsiQnJhaW50cmVlRW52IiwiQnJhaW50cmVlTW9kdWxlTmFtZSIsIkJyYWludHJlZUZvcm1GaWVsZFR5cGUiLCJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJwcm90b3R5cGUiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIlBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIiwiQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04iLCJCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSIsIkNsaWVudCIsIlBheXBhbENoZWNrb3V0IiwiUGF5cGFsIiwiTG9jYWxQYXltZW50IiwiRGF0YUNvbGxlY3RvciIsIlVzQmFua0FjY291bnQiLCJHb29nbGVQYXltZW50IiwiVGhyZWVEU2VjdXJlIiwiVmlzYUNoZWNrb3V0IiwiVmVubW8iLCJIb3N0ZWRGaWVsZHMiLCJGYXN0bGFuZSIsIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiVG90YWxQcmljZVN0YXR1c1R5cGUiLCJCcmFpbnRyZWVPcmRlclN0YXR1cyIsIk5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzIiwiQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIiwiQnJhaW50cmVlRXJyb3JUeXBlIiwiQnJhaW50cmVlRXJyb3JDb2RlIiwiQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyIsIkJyYWludHJlZVNjcmlwdExvYWRlciIsInNjcmlwdExvYWRlciIsImJyYWludHJlZUhvc3RXaW5kb3ciLCJicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciIsImxvYWRDbGllbnQiLCJsb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyIsImxvYWRGYXN0bGFuZSIsImxvYWRQYXlwYWxDaGVja291dCIsImxvYWRQYXlwYWwiLCJsb2FkTG9jYWxQYXltZW50IiwibG9hZERhdGFDb2xsZWN0b3IiLCJsb2FkVXNCYW5rQWNjb3VudCIsImxvYWRHb29nbGVQYXltZW50IiwibG9hZDNEUyIsImxvYWRWaXNhQ2hlY2tvdXQiLCJsb2FkVmVubW9DaGVja291dCIsImxvYWRIb3N0ZWRGaWVsZHMiLCJsb2FkVmlzYUNoZWNrb3V0U2RrIiwidGVzdE1vZGUiLCJWIiwiaGFzaCIsImxvYWRTY3JpcHQiLCJhc3luYyIsImF0dHJpYnV0ZXMiLCJpbnRlZ3JpdHkiLCJjcm9zc29yaWdpbiIsInRoZW4iLCJicmFpbnRyZWVNb2R1bGVOYW1lIiwiZmlsZU5hbWUiLCJtb2R1bGUiLCJnZXRCcmFpbnRyZWVNb2R1bGUiLCJicmFpbnRyZWVTZGtWZXJzaW9uIiwiZ2V0U0RLVmVyc2lvbiIsInNjcmlwdFBhdGgiLCJnZXRJbnRlZ3JpdHlWYWx1ZXNCeU1vZHVsZU5hbWUiLCJ1bmRlZmluZWQiLCJicmFpbnRyZWUiLCJtb2R1bGVOYW1lIiwidmVyc2lvbiIsIlVuc3VwcG9ydGVkQnJvd3NlckVycm9yIiwiTm90SW5pdGlhbGl6ZWRFcnJvciIsInN1YnR5cGUiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJnZXRFcnJvck1lc3NhZ2UiLCJpc0JyYWludHJlZUVycm9yIiwiZXJyb3IiLCJCb29sZWFuIiwiQnJhaW50cmVlU2RrIiwiYnJhaW50cmVlU2NyaXB0TG9hZGVyIiwiaW5pdGlhbGl6ZSIsImNsaWVudFRva2VuIiwic2V0Q2xpZW50VG9rZW4iLCJkZWluaXRpYWxpemUiLCJ0ZWFyZG93bk1vZHVsZSIsImRhdGFDb2xsZWN0b3IiLCJnZXRDbGllbnQiLCJjbGllbnQiLCJnZXRDbGllbnRUb2tlbk9yVGhyb3ciLCJjbGllbnRDcmVhdG9yIiwiY3JlYXRlIiwiYXV0aG9yaXphdGlvbiIsImdldERhdGFDb2xsZWN0b3JPclRocm93Iiwib3B0aW9ucyIsImVtcHR5RGF0YUNvbGxlY3RvciIsImRldmljZURhdGEiLCJ0ZWFyZG93biIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YUNvbGxlY3RvckNvbmZpZyIsImtvdW50IiwiY29kZSIsIktvdW50Tm90RW5hYmxlZCIsImdldEJyYWludHJlZUdvb2dsZVBheW1lbnQiLCJnb29nbGVQYXltZW50IiwiYnJhaW50cmVlR29vZ2xlUGF5bWVudCIsImFsbCIsImdldEJyYWludHJlZVRocmVlRFMiLCJ0aHJlZURTIiwidGhyZWVEU2VjdXJlIiwiZ2V0QnJhaW50cmVlTG9jYWxQYXltZW50IiwibWVyY2hhbnRBY2NvdW50SWQiLCJicmFpbnRyZWVMb2NhbFBheW1lbnQiLCJsb2NhbFBheW1lbnRDcmVhdG9yIiwicmVqZWN0IiwiZ2V0VXNCYW5rQWNjb3VudCIsInVzQmFua0FjY291bnQiLCJnZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXQiLCJwYXlwYWwiLCJnZXRWaXNhQ2hlY2tvdXRTZGsiLCJ2aXNhQ2hlY2tvdXRTREsiLCJnZXRWZW5tb0NoZWNrb3V0T3JUaHJvdyIsImJyYWludHJlZVZlbm1vIiwidmVubW9DaGVja291dCIsInZlbm1vQ2hlY2tvdXRDb25maWciLCJhbGxvd0Rlc2t0b3AiLCJwYXltZW50TWV0aG9kVXNhZ2UiLCJicmFpbnRyZWVWZW5tb0NoZWNrb3V0IiwiaXNCcm93c2VyU3VwcG9ydGVkIiwiaXNFeHBlcmltZW50RW5hYmxlZCIsImZlYXR1cmVzIiwiZXhwZXJpbWVudE5hbWUiLCJmYWxsYmFja1ZhbHVlIiwiQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIiwiYnJhaW50cmVlV2luZG93Iiwid2luZG93Iiwic3RvcmVDb25maWciLCJnZXRTdGF0ZSIsImdldFN0b3JlQ29uZmlnIiwiY2hlY2tvdXRTZXR0aW5ncyIsImdldFByZWxvYWRlZFNES1ZlcnNpb24iLCJwcmVsb2FkZWRWZXJzaW9uIiwiZmluZCIsInZhbHVlcyIsIlZFUlNJT04iLCJ0b1Jlc29sdmFibGVNb2R1bGUiLCJyZXNvbHZlSWRzIiwiYXNzaWduIiwiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIk1pc3NpbmdEYXRhRXJyb3IiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJqb2luIiwiaXNWYXVsdGVkSW5zdHJ1bWVudCIsImluc3RydW1lbnQiLCJpbnN0cnVtZW50SWQiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJpc0hvc3RlZEluc3RydW1lbnRMaWtlIiwic2hvdWxkU2F2ZUluc3RydW1lbnQiLCJzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IiwiUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIiwiaXNVc0JhbmtBY2NvdW50SW5zdHJ1bWVudExpa2UiLCJCcmFpbnRyZWVBY2hQYXltZW50U3RyYXRlZ3kiLCJicmFpbnRyZWVTZGsiLCJtZXRob2RJZCIsImJyYWludHJlZWFjaCIsImdldE1hbmRhdGVUZXh0IiwibG9hZFBheW1lbnRNZXRob2QiLCJwYXltZW50TWV0aG9kIiwiZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3ciLCJpbml0aWFsaXphdGlvbkRhdGEiLCJoYW5kbGVCcmFpbnRyZWVFcnJvciIsImV4ZWN1dGUiLCJvcmRlclJlcXVlc3QiLCJwYXltZW50Iiwib3JkZXIiLCJpc1N1Ym1pdHRpbmdXaXRoVmF1bHRpbmdJbnN0cnVtZW50IiwicGF5bWVudERhdGEiLCJub25jZSIsInRva2VuaXplUGF5bWVudEZvclZhdWx0ZWRJbnN0cnVtZW50IiwidG9rZW5pemVQYXltZW50Iiwic3VibWl0UGF5bWVudFBheWxvYWQiLCJwcmVwYXJlUGF5bWVudERhdGFGb3JWYXVsdGVkSW5zdHJ1bWVudCIsInByZXBhcmVQYXltZW50RGF0YSIsInN1Ym1pdE9yZGVyIiwic3VibWl0UGF5bWVudCIsImZpbmFsaXplIiwiZ2V0VXNCYW5rQWNjb3VudE9yVGhyb3ciLCJtYW5kYXRlVGV4dCIsInRva2VuaXplIiwiYmFua0RldGFpbHMiLCJnZXRCYW5rRGV0YWlscyIsInN0YXRlIiwiY29uZmlnIiwiaXNWYXVsdGluZ0VuYWJsZWQiLCJyb3V0aW5nTnVtYmVyIiwiYWNjb3VudE51bWJlciIsImRldmljZVNlc3Npb25JZCIsImZvcm1hdHRlZFBheWxvYWQiLCJ0b2tlbml6ZWRfYmFua19hY2NvdW50IiwiaXNzdWVyIiwibWFza2VkX2FjY291bnRfbnVtYmVyIiwic3Vic3RyIiwidG9rZW4iLCJiaWxsaW5nQWRkcmVzcyIsImdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyIsIm93bmVyc2hpcFR5cGUiLCJ0b0xvd2VyQ2FzZSIsImFjY291bnRUeXBlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJidXNpbmVzc05hbWUiLCJzdHJlZXRBZGRyZXNzIiwiYWRkcmVzczEiLCJleHRlbmRlZEFkZHJlc3MiLCJhZGRyZXNzMiIsImxvY2FsaXR5IiwiY2l0eSIsInJlZ2lvbiIsInN0YXRlT3JQcm92aW5jZUNvZGUiLCJwb3N0YWxDb2RlIiwiZ2V0U2NyaXB0TG9hZGVyIiwiaWQiLCJQYXltZW50SW52YWxpZEZvcm1FcnJvciIsImRldGFpbHMiLCJQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IiLCJDYW5jZWxsYWJsZVByb21pc2UiLCJwcm9taXNlIiwiY2FuY2VsbGFibGUiLCJfIiwiY2FuY2VsIiwicmFjZSIsInBheXBhbFNka1Byb21pc2UiLCJQQVlQQUxfQ09NUE9ORU5UUyIsIlBheXBhbEJ1dHRvblN0eWxlTGF5b3V0T3B0aW9uIiwiUGF5cGFsQnV0dG9uU3R5bGVTaXplT3B0aW9uIiwiUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbiIsIlBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24iLCJQYXlwYWxCdXR0b25TdHlsZVNoYXBlT3B0aW9uIiwiTWVzc2FnaW5nUGxhY2VtZW50cyIsIkJyYWludHJlZUludGVncmF0aW9uU2VydmljZSIsIm92ZXJsYXkiLCJkYXRhQ29sbGVjdG9ycyIsInRocmVlRFNlY3VyZU9wdGlvbnMiLCJnZXRCcmFpbnRyZWVGYXN0bGFuZSIsImNhcmRJZCIsImlzVGVzdE1vZGVFbmFibGVkIiwic3R5bGVzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImJyYWludHJlZUZhc3RsYW5lIiwiZ2V0U2Vzc2lvbklkIiwiYnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yIiwiZGVmYXVsdFN0eWxlcyIsInJvb3QiLCJiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5IiwiZ2V0UGF5cGFsIiwiYnJhaW50cmVlUGF5cGFsIiwibmV3V2luZG93RmxvdyIsInN1cHBvcnRzUG9wdXBzIiwic2hvdyIsIm9uQ2xpY2siLCJmb2N1c1dpbmRvdyIsImVuYWJsZVNoaXBwaW5nQWRkcmVzcyIsImZsb3ciLCJ1c2VyYWN0aW9uIiwicmVzcG9uc2UiLCJyZW1vdmUiLCJjYXRjaCIsImdldFBheXBhbENoZWNrb3V0Iiwib25TdWNjZXNzIiwib25FcnJvciIsInBheXBhbENoZWNrb3V0IiwicGF5cGFsQ2hlY2tvdXRDb25maWciLCJicmFpbnRyZWVQYXlwYWxDaGVja291dCIsInBheXBhbFNka0xvYWRDb25maWciLCJjdXJyZW5jeSIsImlzQ3JlZGl0RW5hYmxlZCIsImNvbXBvbmVudHMiLCJ0b1N0cmluZyIsImludGVudCIsImNvbW1pdCIsImxvYWRQYXlQYWxTREsiLCJlcnIiLCJsb2FkUGF5UGFsU0RLT25jZSIsImdldERhdGFDb2xsZWN0b3IiLCJjYWNoZUtleSIsImNhY2hlZCIsImdldEJyYWludHJlZUVudiIsImlzVGVzdE1vZGUiLCJTYW5kYm94IiwiUHJvZHVjdGlvbiIsIm1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUiLCJhZGRyZXNzIiwicmVjaXBpZW50TmFtZSIsImxpbmUxIiwibGluZTIiLCJjb3VudHJ5Q29kZSIsInBob25lIiwibWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MiLCJlbWFpbCIsInNoaXBwaW5nQWRkcmVzcyIsInNwbGl0IiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsInBob25lX251bWJlciIsImFkZHJlc3NfbGluZV8xIiwiYWRkcmVzc19saW5lXzIiLCJjb3VudHJ5X2NvZGUiLCJwb3N0YWxfY29kZSIsIm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MiLCJyZW1vdmVFbGVtZW50IiwiZWxlbWVudElkIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYXJ0SWQiLCJyaXNrQ29ycmVsYXRpb25JZCIsImRlZmF1bHQiLCJnZXQzRFMiLCJnZXRWZW5tb0NoZWNrb3V0IiwidmVubW9Db25maWciLCJ2ZXJpZnlDYXJkIiwiYW1vdW50IiwidG9rZW5pemF0aW9uUGF5bG9hZCIsInRva2VuaXplQ2FyZCIsImNoYWxsZW5nZTNEU1ZlcmlmaWNhdGlvbiIsImNyZWRpdENhcmRJbnN0cnVtZW50IiwiY2NFeHBpcnkiLCJjY051bWJlciIsImNjTmFtZSIsImlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlIiwiZXJyb3JzIiwiZ2V0RXJyb3JzUmVxdWlyZWRGaWVsZHMiLCJpc0VtcHR5IiwicmVxdWVzdERhdGEiLCJtYXBUb0NyZWRpdENhcmQiLCJjcmVkaXRDYXJkcyIsInJlcXVlc3QiLCJiaW4iLCJwcmVzZW50M0RTQ2hhbGxlbmdlIiwiY3JlZGl0Q2FyZCIsImRhdGEiLCJjYXJkaG9sZGVyTmFtZSIsIm51bWJlciIsImN2diIsImNjQ3Z2IiwiZXhwaXJhdGlvbkRhdGUiLCJtb250aCIsInllYXIiLCJ2YWxpZGF0ZSIsImNvdW50cnlDb2RlQWxwaGEyIiwiY291bnRyeU5hbWUiLCJjb3VudHJ5IiwiZW5kcG9pbnQiLCJtZXRob2QiLCJhZGRGcmFtZSIsInJlbW92ZUZyYW1lIiwiY2hhbGxlbmdlUmVxdWVzdGVkIiwiYWRkaXRpb25hbEluZm9ybWF0aW9uIiwiY2FuY2VsVmVyaWZ5Q2FyZCIsInZlcmlmaWNhdGlvbiIsInJvdW5kZWRBbW91bnQiLCJ0b0ZpeGVkIiwiaWZyYW1lIiwiTnVtYmVyIiwib25Mb29rdXBDb21wbGV0ZSIsIl9kYXRhIiwibmV4dCIsImNvbGxlY3REZXZpY2VEYXRhIiwiQnJhaW50cmVlTWVzc2FnZXMiLCJyZW5kZXIiLCJjb250YWluZXJJZCIsInBsYWNlbWVudCIsIm1lc3NhZ2luZ0NvbnRhaW5lciIsImNhcnQiLCJnZXRDYXJ0T3JUaHJvdyIsInBheXBhbEJOUExDb25maWd1cmF0aW9uIiwiYmFubmVkSWQiLCJQQVlNRU5UIiwiYmFubmVyQ29uZmlndXJhdGlvbiIsInN0YXR1cyIsIkNBUlQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJNZXNzYWdlcyIsImNhcnRBbW91bnQiLCJidXllckNvdW50cnkiLCJzdHlsZSIsImdldFBheXBhbE1lc3NhZ2VzU3R5bGVzRnJvbUJOUExDb25maWciLCJtZXNzYWdlc1N0eWxlcyIsImNvbG9yIiwibGF5b3V0IiwibG9nbyIsInBvc2l0aW9uIiwicmF0aW8iLCJ0ZXh0Iiwic2l6ZSIsIk92ZXJsYXkiLCJjbG9zZUVsZW1lbnQiLCJtYWluRWxlbWVudCIsIl9jcmVhdGVFbGVtZW50cyIsIl9lbGVtZW50IiwiX2Nsb3NlRWxlbWVudCIsIl9tYWluRWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJfcmVnaXN0ZXJDbGljayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInNldFRpbWVvdXQiLCJvcGFjaXR5IiwiX3VucmVnaXN0ZXJDbGljayIsIl9yZW1vdmVBZnRlclRyYW5zaXRpb24iLCJjcmVhdGVFbGVtZW50IiwiYmFja2dyb3VuZCIsInRyYW5zaXRpb25EdXJhdGlvbiIsImhhc0Nsb3NlQnV0dG9uIiwiaW5uZXJIdG1sIiwiY2xhc3NMYXlvdXQiLCJjbGFzc0Nsb3NlIiwiY2xhc3NPdmVybGF5VGV4dCIsIm92ZXJsYXlUZXh0IiwiY2xhc3NOYW1lIiwiYWRkQ2xhc3NMYXlvdXQiLCJpbm5lclRleHQiLCJnZXRPdmVybGF5U3R5bGUiLCJfYWRkRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkNsaWNrQ2xvc2UiLCJoYW5kbGVUcmFuc2l0aW9uIiwiZXZlbnQiLCJwcm9wZXJ0eU5hbWUiLCJERUZBVUxUX1NUWUxFUyIsImJhY2tncm91bmRDb2xvciIsIlJPVEFUSU9OX0FOSU1BVElPTiIsIkxvYWRpbmdJbmRpY2F0b3IiLCJjb250YWluZXJTdHlsZXMiLCJkZWZpbmVBbmltYXRpb24iLCJjb250YWluZXIiLCJidWlsZENvbnRhaW5lciIsImluZGljYXRvciIsImJ1aWxkSW5kaWNhdG9yIiwicGFyZW50SWQiLCJwYXJlbnQiLCJ2aXNpYmlsaXR5IiwiaGlkZSIsImhhbmRsZVRyYW5zaXRpb25FbmQiLCJkaXNwbGF5IiwiYm90dG9tIiwibGVmdCIsImhlaWdodCIsIndpZHRoIiwicmlnaHQiLCJ0b3AiLCJ0cmFuc2l0aW9uIiwic2V0U3R5bGVBdHRyaWJ1dGUiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJib3JkZXJDb2xvciIsIm1hcmdpbiIsInRyYW5zZm9ybSIsInRyYW5zZm9ybVN0eWxlIiwiYW5pbWF0aW9uIiwiYXR0cnMiLCJrZXlzIiwiZm9yRWFjaCIsImsiLCJzZXRQcm9wZXJ0eSIsImhlYWQiLCJzaGVldCIsIkNTU1N0eWxlU2hlZXQiLCJpbnNlcnRSdWxlIiwiTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTIiwiQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5IiwiYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlIiwiYnJhaW50cmVlTWVzc2FnZXMiLCJsb2FkaW5nSW5kaWNhdG9yIiwiYnJhaW50cmVlT3B0aW9ucyIsImJhbm5lckNvbnRhaW5lcklkIiwibG9hZFBheXBhbENoZWNrb3V0SW5zdGFuY2UiLCJ1c2VTdG9yZUNyZWRpdCIsImlzUHJvdmlkZXJFcnJvciIsInBheXBhbEJ1dHRvblJlbmRlciIsImNsb3NlIiwiX3Jlc29sdmUiLCJoYW5kbGVFcnJvciIsImJyYWludHJlZVRva2VuaXplUGF5bG9hZCIsImdyYW5kVG90YWwiLCJnZXRPdXRzdGFuZGluZ0JhbGFuY2UiLCJzdG9yZVByb2ZpbGUiLCJzdG9yZUxhbmd1YWdlIiwiZ2V0UGF5bWVudE1ldGhvZCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldFNoaXBwaW5nQWRkcmVzcyIsInNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIiwibG9jYWxlIiwib2ZmZXJDcmVkaXQiLCJzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZSIsInNlc3Npb25JZCIsInZhdWx0UGF5bWVudEluc3RydW1lbnQiLCJ2YXVsdF9wYXltZW50X2luc3RydW1lbnQiLCJzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudCIsImRldmljZV9pbmZvIiwicGF5cGFsX2FjY291bnQiLCJwYXltZW50TWV0aG9kSWQiLCJzaG91bGRTaG93UGF5UGFsQ3JlZGl0QmFubmVyIiwicmVuZGVyUGF5UGFsTWVzc2FnZXMiLCJyZW5kZXJQYXlQYWxCdXR0b24iLCJvblBheW1lbnRFcnJvciIsInN1Ym1pdEZvcm0iLCJvblJlbmRlckJ1dHRvbiIsImxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIiLCJmdW5kaW5nU291cmNlIiwiRlVORElORyIsIlBBWVBBTCIsIkJ1dHRvbnMiLCJlbnYiLCJ0b2dnbGVMb2FkaW5nSW5kaWNhdG9yIiwiY3JlYXRlT3JkZXIiLCJzZXR1cFBheW1lbnQiLCJvbkFwcHJvdmUiLCJhdXRob3JpemVEYXRhIiwidG9rZW5pemVQYXltZW50T3JUaHJvdyIsIm9uQ2FuY2VsIiwiaXNFbGlnaWJsZSIsImN1c3RvbWVyIiwiZ2V0Q3VzdG9tZXIiLCJnZXRDaGVja291dE9yVGhyb3ciLCJvdXRzdGFuZGluZ0JhbGFuY2UiLCJjdXJyZW5jeUNvZGUiLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJhZGRyZXNzZXMiLCJjcmVhdGVQYXltZW50IiwiaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yIiwiZmlsdGVyIiwiZSIsInByb3ZpZGVyX2Vycm9yIiwiaXNMb2FkaW5nIiwiQ29udGVudFR5cGUiLCJTREtfVkVSU0lPTl9IRUFERVJTIiwiQnJhaW50cmVlUmVxdWVzdFNlbmRlciIsInJlcXVlc3RTZW5kZXIiLCJnZXRPcmRlclN0YXR1cyIsInVybCIsImhlYWRlcnMiLCJKc29uIiwiZ2V0IiwiREVGQVVMVF9SRVNQT05TRSIsIlJlcXVlc3RFcnJvciIsIlBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IiLCJUaW1lb3V0RXJyb3IiLCJCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kiLCJicmFpbnRyZWVSZXF1ZXN0U2VuZGVyIiwicG9sbGluZ0ludGVydmFsIiwibWF4UG9sbGluZ0ludGVydmFsVGltZSIsImlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkIiwicG9sbGluZ1RpbWVyIiwic3RvcFBvbGxpbmciLCJub29wIiwiaXNQb2xsaW5nRW5hYmxlZCIsImdhdGV3YXlJZCIsImJyYWludHJlZWxvY2FsbWV0aG9kcyIsIm1lcmNoYW50SWQiLCJpc05vbkluc3RhbnRQYXltZW50TWV0aG9kIiwicGF5bG9hZCIsImV4ZWN1dGVXaXRoTm90SW5zdGFudExQTSIsImV4ZWN1dGVXaXRoSW5zdGFudExQTSIsImJhc2ljUGF5bWVudERhdGEiLCJnZXRMUE1zQmFzaWNQYXltZW50RGF0YSIsImlzQnJhaW50cmVlUmVkaXJlY3RFcnJvciIsInJlZGlyZWN0VXJsIiwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQiLCJyZWRpcmVjdF91cmwiLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJzdGFydFBheW1lbnQiLCJnZXRJbnN0YW50TFBNQ29uZmlnIiwiZ2V0SW5zdGFudExQTUNhbGxiYWNrIiwiYmlsbGluZyIsImxpbmVJdGVtcyIsImlzU2hpcHBpbmdSZXF1aXJlZCIsInBoeXNpY2FsSXRlbXMiLCJsZW5ndGgiLCJjaGVja291dFVybCIsImxpbmtzIiwiY2hlY2tvdXRMaW5rIiwicGF5bWVudFR5cGUiLCJmYWxsYmFjayIsImJ1dHRvblRleHQiLCJzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZCIsImdpdmVuTmFtZSIsInN1cm5hbWUiLCJvblBheW1lbnRTdGFydCIsInN0YXJ0Iiwib3JkZXJJZCIsInBheW1lbnRJZCIsIm9yZGVyX2lkIiwiaXNCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2UiLCJvcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHkiLCJpbml0aWFsaXplUG9sbGluZ01lY2hhbmlzbSIsInN0YXJ0UGF5bWVudEVycm9yIiwicGF5bG9hZERhdGEiLCJyZXNldFBvbGxpbmdNZWNoYW5pc20iLCJ0b1VwcGVyQ2FzZSIsInJlc29sdmVQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJvcmRlclN0YXR1cyIsInBhcmFtcyIsInVzZU1ldGFkYXRhIiwiaXNPcmRlclBlbmRpbmciLCJQZW5kaW5nIiwiaXNPcmRlckFwcHJvdmVkIiwiQ29tcGxldGVkIiwiaXNQb2xsaW5nRXJyb3IiLCJGYWlsZWQiLCJkZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtIiwicmVpbml0aWFsaXplU3RyYXRlZ3kiLCJjcmVhdGVSZXF1ZXN0U2VuZGVyIiwiZ2F0ZXdheSIsImlzSW52YWxpZFN0eWxlT3B0aW9uIiwic3R5bGVPcHRpb24iLCJnZXRGYXN0bGFuZVN0eWxlcyIsInN0eWxlU2V0dGluZ3MiLCJ1aVN0eWxlcyIsImZhc3RsYW5lU3R5bGVzIiwib21pdEJ5IiwiaW5wdXQiLCJ0b2dnbGUiLCJ0ZXh0Qm9keSIsInRleHRDYXB0aW9uIiwiY2FwdGlvbiIsImJyYW5kaW5nIiwiY2xlYW5VcEZhc3RsYW5lU3R5bGVzIiwiZmFzdGxhbmVSb290U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3IiLCJlcnJvckNvbG9yIiwiZmFzdGxhbmVSb290U2V0dGluZ3NFcnJvckNvbG9yIiwiZm9udEZhbWlseSIsImZhc3RsYW5lUm9vdFNldHRpbmdzRm9udEZhbWlseSIsImZvbnRTaXplQmFzZSIsImZhc3RsYW5lUm9vdFNldHRpbmdzRm9udFNpemUiLCJwYWRkaW5nIiwiZmFzdGxhbmVSb290U2V0dGluZ3NQYWRkaW5nIiwicHJpbWFyeUNvbG9yIiwiZmFzdGxhbmVSb290U2V0dGluZ3NQcmltYXJ5Q29sb3IiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXMiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJDb2xvciIsImZvY3VzQm9yZGVyQ29sb3IiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NGb2N1c0JvcmRlckJhc2UiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJXaWR0aCIsImZhc3RsYW5lSW5wdXRTZXR0aW5nc0JvcmRlcldpZHRoIiwidGV4dENvbG9yQmFzZSIsImZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2UiLCJjb2xvclByaW1hcnkiLCJmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JQcmltYXJ5IiwiY29sb3JTZWNvbmRhcnkiLCJmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnkiLCJmYXN0bGFuZVRleHRCb2R5U2V0dGluZ3NDb2xvciIsImZvbnRTaXplIiwiZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzRm9udFNpemUiLCJmYXN0bGFuZVRleHRDYXB0aW9uU2V0dGluZ3NDb2xvciIsImZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0ZvbnRTaXplIiwiZmFzdGxhbmVCcmFuZGluZ1NldHRpbmdzIiwibWVyZ2VGYXN0bGFuZVN0eWxlcyIsImlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIiwiVW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uVHlwZSIsIkJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5IiwiYnJhaW50cmVlRmFzdGxhbmVVdGlscyIsImJyYWludHJlZWZhc3RsYW5lIiwib25Jbml0Iiwib25DaGFuZ2UiLCJpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWQiLCJpc1RocmVlRFNFeHBlcmltZW50RW5hYmxlZCIsImlzM0RTRW5hYmxlZCIsImlzM2RzRW5hYmxlZCIsImluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3ciLCJzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3ciLCJydW5QYXlQYWxBdXRoZW50aWNhdGlvbkZsb3dPclRocm93IiwiaW5pdGlhbGl6ZUNhcmRDb21wb25lbnQiLCJyZW5kZXJCcmFpbnRyZWVDYXJkQ29tcG9uZW50IiwiaGFuZGxlQnJhaW50cmVlU3RvcmVkSW5zdHJ1bWVudENoYW5nZSIsInBheW1lbnRQYXlsb2FkIiwicHJlcGFyZVBheW1lbnRQYXlsb2FkIiwicmVtb3ZlU2Vzc2lvbklkRnJvbUNvb2tpZXMiLCJicmFpbnRyZWVDYXJkQ29tcG9uZW50IiwiZnVsbE5hbWUiLCJjYXJkQ29tcG9uZW50T3B0aW9ucyIsImZpZWxkcyIsInByZWZpbGwiLCJlbmFibGVkIiwicGhvbmVOdW1iZXIiLCJwYXlwYWxQYXltZW50Q29tcG9uZW50IiwiZ2V0QnJhaW50cmVlRmFzdGxhbmVDb21wb25lbnRPclRocm93IiwiZ2V0QnJhaW50cmVlQ2FyZENvbXBvbmVudE9yVGhyb3ciLCJwYXlwYWxJbnN0cnVtZW50IiwiZ2V0UGF5UGFsSW5zdHJ1bWVudHMiLCJnZXREZXZpY2VTZXNzaW9uSWQiLCJ0aHJlZURTVG9rZW4iLCJiaWdwYXlUb2tlbiIsImlpbiIsInBheXBhbF9mYXN0bGFuZV90b2tlbiIsImdldFBheW1lbnRUb2tlbiIsInBheW1lbnRUb2tlbiIsIm1hcFRvUGF5UGFsQWRkcmVzcyIsImJpbkd1ZXN0IiwicGF5bWVudFNvdXJjZSIsImNhcmQiLCJiaW5EZXRhaWxzIiwiZ2V0T3JkZXJPclRocm93Iiwib3JkZXJBbW91bnQiLCJvbiIsInZlcmlmeUVycm9yIiwic3RhdGVPclByb3ZpbmNlIiwiZ2V0Q3VzdG9tZXJPclRocm93IiwicGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJnZXRQYXltZW50UHJvdmlkZXJDdXN0b21lciIsImJyYWludHJlZVBheW1lbnRQcm92aWRlckN1c3RvbWVyIiwicGF5cGFsRmFzdGxhbmVTZXNzaW9uSWQiLCJnZXRTZXNzaW9uSWRGcm9tQ29va2llcyIsImlzR3Vlc3QiLCJhdXRoZW50aWNhdGlvblN0YXRlIiwiQ0FOQ0VMRUQiLCJnZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3ciLCJpbnN0cnVtZW50cyIsInBheXBhbEF4b1NkayIsImdldEJyYWludHJlZUZhc3RsYW5lT3JUaHJvdyIsInNlbGVjdGlvbkNoYW5nZWQiLCJzZWxlY3RlZENhcmQiLCJwcm9maWxlIiwic2hvd0NhcmRTZWxlY3RvciIsImJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXIiLCJzZWxlY3RlZEluc3RydW1lbnRzIiwibWFwUGF5UGFsVG9CY0luc3RydW1lbnQiLCJ1cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lciIsIkNvb2tpZVN0b3JhZ2UiLCJjb29raWVLZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJ2YWx1ZSIsImZpcnN0SW5kZXgiLCJpbmRleE9mIiwibGFzdEluZGV4IiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3Vic3RyaW5nIiwic2V0Iiwic2VjdXJlIiwiY29va2llVGV4dCIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwidG9VVENTdHJpbmciLCJub3ciLCJEYXRlIiwibWludXRlcyIsInNldFRpbWUiLCJnZXRUaW1lIiwiQnJhaW50cmVlRmFzdGxhbmVVdGlscyIsImdldENhcnQiLCJGYXN0bGFuZUNhcmRDb21wb25lbnQiLCJzaG91bGRTZXRTaGlwcGluZ09wdGlvbiIsImdldE1ldGhvZElkT3JUaHJvdyIsImxvb2t1cEN1c3RvbWVyQnlFbWFpbCIsInRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3ciLCJpZGVudGl0eSIsImdldEJpbGxpbmdBZGRyZXNzIiwiaXNGYXN0bGFuZVNoaXBwaW5nT3B0aW9uQXV0b1NlbGVjdEVuYWJsZWQiLCJjdXN0b21lckVtYWlsIiwiY3VzdG9tZXJDb250ZXh0SWQiLCJVTlJFQ09HTklaRUQiLCJzYXZlU2Vzc2lvbklkVG9Db29raWVzIiwicHJvZmlsZURhdGEiLCJzaGlwcGluZ0FkZHJlc3NlcyIsIm1hcFBheVBhbFRvQmNBZGRyZXNzIiwicGF5cGFsQmlsbGluZ0FkZHJlc3MiLCJnZXRQYXlQYWxCaWxsaW5nQWRkcmVzc2VzIiwiYmlsbGluZ0FkZHJlc3NlcyIsIm1lcmdlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzc2VzIiwidXBkYXRlQmlsbGluZ0FkZHJlc3MiLCJkaWdpdGFsSXRlbXMiLCJkaWdpdGFsSXRlbUJpbGxpbmciLCJ1cGRhdGVTaGlwcGluZ0FkZHJlc3MiLCJzZXRTaGlwcGluZ09wdGlvbiIsInNldERhdGUiLCJnZXREYXRlIiwibWFwIiwiYnJhbmQiLCJleHBpcnkiLCJsYXN0RGlnaXRzIiwiZXhwaXJ5WWVhciIsImV4cGlyeU1vbnRoIiwiZGVmYXVsdEluc3RydW1lbnQiLCJsYXN0NCIsInByb3ZpZGVyIiwidHJ1c3RlZFNoaXBwaW5nQWRkcmVzcyIsInVudHJ1c3RlZFNoaXBwaW5nQ2FyZFZlcmlmaWNhdGlvbk1vZGUiLCJQQU4iLCJwaG9uZXMiLCJjb3VudHJpZXMiLCJnZXRDb3VudHJpZXMiLCJnZXRDb3VudHJ5TmFtZUJ5Q291bnRyeUNvZGUiLCJtYXRjaGVkQ291bnRyeSIsImNvbXBhbnkiLCJjdXN0b21GaWVsZHMiLCJnaXZlbl9uYW1lIiwiaXNFcXVhbCIsIm5vcm1hbGl6ZUFkZHJlc3MiLCJvbWl0IiwiZmlsdGVyZWRCaWxsaW5nQWRkcmVzc2VzIiwic29tZSIsImNvbnNpZ25tZW50cyIsImdldENvbnNpZ25tZW50cyIsImF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsInJlY29tbWVuZGVkU2hpcHBpbmdPcHRpb24iLCJvcHRpb24iLCJpc1JlY29tbWVuZGVkIiwic2VsZWN0ZWRPcHRpb24iLCJzZWxlY3RTaGlwcGluZ09wdGlvbiIsIkJyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRTdHJhdGVneSIsImZvcm1Qb3N0ZXIiLCJicmFpbnRyZWV2aXNhY2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXRPcHRpb25zIiwiY2hlY2tvdXQiLCJvblBheW1lbnRTZWxlY3QiLCJicmFpbnRyZWVWaXNhQ2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXRTZGsiLCJpbml0T3B0aW9ucyIsImNyZWF0ZUluaXRPcHRpb25zIiwic2V0dGluZ3MiLCJzaGlwcGluZyIsImNvbGxlY3RTaGlwcGluZyIsInBheW1lbnRSZXF1ZXN0Iiwic3VidG90YWwiLCJTdHJpbmciLCJpbml0IiwicGF5bWVudFN1Y2Nlc3NQYXlsb2FkIiwibG9hZENoZWNrb3V0IiwibWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzIiwicG9zdEZvcm0iLCJ1c2VyRGF0YSIsImNhcmRJbmZvcm1hdGlvbiIsInVzZXJFbWFpbCIsInBheW1lbnRfdHlwZSIsImFjdGlvbiIsImRldmljZV9kYXRhIiwiY2FyZF9pbmZvcm1hdGlvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkVHlwZSIsImxhc3RUd28iLCJiaWxsaW5nX2FkZHJlc3MiLCJnZXRBZGRyZXNzIiwic2hpcHBpbmdfYWRkcmVzcyIsImhvc3RXaW5kb3ciLCJjcmVhdGVGb3JtUG9zdGVyIiwiQnJhaW50cmVlVmVubW9QYXltZW50U3RyYXRlZ3kiLCJ2ZW5tb09wdGlvbnMiLCJicmFpbnRyZWV2ZW5tbyIsImluaXRpYWxpemVCcmFpbnRyZWVWZW5tbyIsImlzQnJhaW50cmVlVmVubW9XZWJGYWxsYmFja1N1cHBvcnQiLCJtb2JpbGVXZWJGYWxsQmFjayIsInRva2VuaXplUmVzdWx0IiwiYnJhaW50cmVlVmVubW9Ub2tlbml6ZSIsIkJyYWludHJlZUNyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kiLCJicmFpbnRyZWVIb3N0ZWRGb3JtIiwiaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQiLCJmb3JtIiwidW5zdXBwb3J0ZWRDYXJkQnJhbmRzIiwiaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQiLCJpc0luaXRpYWxpemVkIiwic2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lIiwicHJlcGFyZUhvc3RlZFBheW1lbnREYXRhIiwicHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24iLCJpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCIsInN0YXJ0c1dpdGgiLCJjb21tb25QYXltZW50RGF0YSIsImlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkIiwic2hvdWxkUGVyZm9ybTNEU1ZlcmlmaWNhdGlvbiIsInRva2VuaXplRm9yU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbiIsInZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybSIsInByZXBhcmVBZGRpdGlvbmFsQWN0aW9uUGF5bWVudERhdGEiLCJwYXllcl9hdXRoX3JlcXVlc3QiLCJzdG9yZWRDcmVkaXRDYXJkTm9uY2UiLCJ0aHJlZV9kc19yZXN1bHQiLCJpc0JyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3IiLCJnZXRDYXJkSW5zdHJ1bWVudE9yVGhyb3ciLCJuZXdQYXltZW50RGF0YSIsImlzSG9zdGVkRm9ybUVuYWJsZWQiLCJicmFpbnRyZWVDdXN0b21lciIsImlzQWNjZWxlcmF0ZWRDaGVja291dEVuYWJsZWQiLCJpc0JyYWludHJlZUZvcm1GaWVsZHNNYXAiLCJpc0JyYWludHJlZUhvc3RlZEZvcm1FcnJvciIsImludmFsaWRGaWVsZEtleXMiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImtleSIsIkJyYWludHJlZUhvc3RlZEZvcm1UeXBlIiwiQnJhaW50cmVlSG9zdGVkRm9ybSIsImlzSW5pdGlhbGl6ZWRIb3N0ZWRGb3JtIiwiaGFuZGxlQmx1ciIsImZvcm1PcHRpb25zIiwib25CbHVyIiwiZmllbGRUeXBlIiwibWFwRmllbGRUeXBlIiwiZW1pdHRlZEJ5IiwibWFwRXJyb3JzIiwiaGFuZGxlRm9jdXMiLCJvbkZvY3VzIiwiaGFuZGxlQ2FyZFR5cGVDaGFuZ2UiLCJjYXJkcyIsIm9uQ2FyZFR5cGVDaGFuZ2UiLCJoYW5kbGVJbnB1dFN1Ym1pdFJlcXVlc3QiLCJvbkVudGVyIiwiaGFuZGxlVmFsaWRpdHlDaGFuZ2UiLCJvblZhbGlkYXRlIiwiaXNWYWxpZCIsImlzVmFsaWRGb3JtIiwibWFwVmFsaWRhdGlvbkVycm9ycyIsIkNyZWRpdENhcmQiLCJTdG9yZWRDYXJkVmVyaWZpY2F0aW9uIiwibWFwRmllbGRPcHRpb25zIiwiY2FyZEZpZWxkcyIsImNyZWF0ZUhvc3RlZEZpZWxkcyIsIm1hcFN0eWxlT3B0aW9ucyIsIm1hcEJpbGxpbmdBZGRyZXNzIiwiaXNOaWwiLCJtYXBUb2tlbml6ZUVycm9yIiwiaG9zdGVkRmllbGRzIiwiaG9zdGVkRmllbGRzT3B0aW9ucyIsInByZXZlbnRDdXJzb3JKdW1wcyIsInN1cHBvcnRlZENhcmRCcmFuZHMiLCJjYXJkQnJhbmQiLCJpbmNsdWRlcyIsImNhcmROdW1iZXIiLCJwbGFjZWhvbGRlciIsImludGVybmFsTGFiZWwiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJjYXJkRXhwaXJ5IiwiY2FyZENvZGUiLCJjYXJkTmFtZSIsImNhcmROdW1iZXJWZXJpZmljYXRpb24iLCJjYXJkQ29kZVZlcmlmaWNhdGlvbiIsIm1hcFN0eWxlcyIsImZvbnRXZWlnaHQiLCJmb2N1cyIsIkNhcmROdW1iZXJWZXJpZmljYXRpb24iLCJDYXJkTnVtYmVyIiwiQ2FyZEV4cGlyeSIsIkNhcmRDb2RlVmVyaWZpY2F0aW9uIiwiQ2FyZENvZGUiLCJDYXJkTmFtZSIsImVudHJpZXMiLCJpc1ZhbGlkUGFyYW0iLCJpc1BvdGVudGlhbGx5VmFsaWQiLCJyZWR1Y2UiLCJyZXN1bHQiLCJmaWVsZEtleSIsImNyZWF0ZUludmFsaWRFcnJvciIsImlzU3RvcmVkQ2FyZCIsImNyZWF0ZVJlcXVpcmVkRXJyb3IiLCJmb3JtRmllbGRzIiwiQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneSIsImJyYWludHJlZXBheXBhbCIsIl9lIiwicGF5bWVudEJ1dHRvblN0eWxlcyIsImNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzIiwicGF5cGFsQ2hlY2tvdXRPcHRpb25zIiwic2lnbkluIiwiY3JlZGVudGlhbHMiLCJzaWduSW5DdXN0b21lciIsInNpZ25PdXQiLCJzaWduT3V0Q3VzdG9tZXIiLCJleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0IiwiY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayIsImJ1dHRvblN0eWxlcyIsImxvYWREZWZhdWx0Q2hlY2tvdXQiLCJ0b2tlbml6ZVBheWxvYWQiLCJidXR0b25Db250YWluZXJJZCIsIm9uRXJyb3JDYWxsYmFjayIsIkJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3kiLCJicmFpbnRyZWVwYXlwYWxjcmVkaXQiLCJoYXNSZW5kZXJlZFNtYXJ0QnV0dG9uIiwiUEFZTEFURVIiLCJDUkVESVQiLCJCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kiLCJnZXRWYWxpZFBheW1lbnRNZXRob2RPclRocm93IiwicGF5cGFsRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyIsImNoZWNrb3V0UGF5bWVudE1ldGhvZEV4ZWN1dGVkIiwicHJpbWFyeU1ldGhvZElkIiwic2hvdWxkUnVuQWNjZWxlcmF0ZWRDaGVja291dCIsInZhbGlkUGF5bWVudE1ldGhvZElkIiwiTm90SW1wbGVtZW50ZWRFcnJvciIsIkJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3kiLCJidXR0b25DbGFzc05hbWUiLCJ2aXNhQ2hlY2tvdXRJbnN0YW5jZSIsInNpZ25JbkJ1dHRvbiIsImNyZWF0ZVNpZ25JbkJ1dHRvbiIsImJ1dHRvbkNsYXNzIiwicXVlcnlTZWxlY3RvciIsImluc2VydFZpc2FDaGVja291dEJ1dHRvbiIsInZpc2FDaGVja291dEJ1dHRvbiIsImZsZXhEaXJlY3Rpb24iLCJpbm5lckhUTUwiLCJCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvciIsImdldFZhbGlkQnV0dG9uU3R5bGUiLCJmdW5kaW5naWNvbnMiLCJzaGFwZSIsInRhZ2xpbmUiLCJ2YWxpZFN0eWxlcyIsImdldFZhbGlkSGVpZ2h0IiwiY3VycmVudEhlaWdodCIsImlzTmFOIiwiQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3kiLCJidXlOb3dJbml0aWFsaXplT3B0aW9ucyIsInNob3VsZFByb2Nlc3NQYXltZW50Iiwib25BdXRob3JpemVFcnJvciIsIm9uRWxpZ2liaWxpdHlGYWlsdXJlIiwiYnV5Tm93Q2FydCIsImdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSIsImNyZWF0ZUJ1eU5vd0NhcnQiLCJidXlOb3dDYXJ0SWQiLCJjYXJ0X2lkIiwiYnV5Tm93Q2FyZFJlcXVlc3RCb2R5IiwiQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3kiLCJpc0Jhbm5lckltcGxlbWVudGF0aW9uRGlzYWJsZWQiLCJtZXNzYWdpbmdDb250YWluZXJJZCIsImJ1dHRvblN0eWxlIiwibGFiZWwiLCJCcmFpbnRyZWVWaXNhQ2hlY2tvdXRCdXR0b25TdHJhdGVneSIsInBheW1lbnRTdWNjZXNzIiwidG9WaXNhQ2hlY2tvdXRBZGRyZXNzIiwiYWxpZ25JdGVtcyIsImdldFZlbm1vQnV0dG9uU3R5bGUiLCJjIiwiV0hJVEUiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRJbWFnZSIsIkJMVUUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiY3Vyc29yIiwibWluSGVpZ2h0IiwibWluV2lkdGgiLCJCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5IiwiY2FydEJ1dHRvblN0eWxlcyIsInJlbmRlclZlbm1vQnV0dG9uIiwiaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciIsImhhbmRsZUluaXRpYWxpemF0aW9uVmVubW9FcnJvciIsImNhcnRSZXF1ZXN0Qm9keSIsInJlbW92ZVZlbm1vQ29udGFpbmVyIiwiYnV0dG9uQ29udGFpbmVyIiwidmVubW9CdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJidXlCb3dDYXJ0IiwiaGFuZGxlUG9zdEZvcm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/braintree.js\n\n}");

/***/ })

}]);