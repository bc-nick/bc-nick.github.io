"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["vendors-node_modules_bigcommerce_checkout-sdk_dist_esm_integrations_paypal-express_js"],{

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-express.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-express.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPaypalExpressButtonStrategy: () => (/* binding */ C),\n/* harmony export */   createPaypalExpressPaymentStrategy: () => (/* binding */ P)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"./node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"./node_modules/@bigcommerce/form-poster/lib/index.js\");\nvar i,a,s,r,o,c,d,l,u={};function p(e,t){return Object.assign(e,{resolveIds:t})}u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class h extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(i||(i={}));class y extends h{constructor(e){super(function(e){switch(e){case i.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case i.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case i.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case i.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case i.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case i.MissingCheckoutConfig:case i.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case i.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case i.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case i.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case i.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case i.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case i.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(a||(a={}));class m extends h{constructor(e){super(function(e){switch(e){case a.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case a.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case a.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case a.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}class g extends h{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}!function(e){e.HORIZONTAL=\"horizontal\",e.VERTICAL=\"vertical\"}(s||(s={})),function(e){e.SMALL=\"small\",e.MEDIUM=\"medium\",e.LARGE=\"large\",e.RESPONSIVE=\"responsive\"}(r||(r={})),function(e){e.GOLD=\"gold\",e.BLUE=\"blue\",e.SIlVER=\"silver\",e.BLACK=\"black\"}(o||(o={})),function(e){e.CHECKOUT=\"checkout\",e.PAY=\"pay\",e.BUYNOW=\"buynow\",e.PAYPAL=\"paypal\",e.CREDIT=\"credit\"}(c||(c={})),function(e){e.PILL=\"pill\",e.RECT=\"rect\"}(d||(d={})),function(e){e.ACKNOWLEDGE=\"ACKNOWLEDGE\",e.FINALIZE=\"FINALIZE\",e.INITIALIZE=\"INITIALIZE\"}(l||(l={}));var f=function(e,t,n,i){return new(n||(n=Promise))(function(a,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function o(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,o)}c((i=i.apply(e,t||[])).next())})};class I{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t,this.useRedirectFlow=!1,this.window=window}initialize(e){return f(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState();this.paymentMethod=t.getPaymentMethodOrThrow(e.methodId),this.useRedirectFlow=!0===(e.paypalexpress&&e.paypalexpress.useRedirectFlow);const n=this.paymentMethod.config.merchantId;if(!this.isInContextEnabled()||!n)throw new y(i.MissingPaymentMethod);const a=yield this.scriptLoader.loadPaypalSDK();this.paypalSdk=a,this.paypalSdk.checkout.setup(n,{button:\"paypal-button\",environment:this.paymentMethod.config.testMode?\"sandbox\":\"production\"})})}deinitialize(){return this.isInContextEnabled()&&this.paypalSdk&&(this.paypalSdk.checkout.closeFlow(),this.paypalSdk=void 0),Promise.resolve()}execute(e,n){return f(this,void 0,void 0,function*(){let i,s;const r=this.paypalSdk;if(!this.isAcknowledgedOrFinalized()){if(!this.isInContextEnabled()||this.useRedirectFlow)return i=yield this.paymentIntegrationService.submitOrder(e,n),s=i.getPaymentRedirectUrl(),s&&this.window.top&&(this.window.top.location.href=s),new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop);if(!r)throw new m(a.PaymentNotInitialized);r.checkout.initXO();try{i=yield this.paymentIntegrationService.submitOrder(e,n)}catch(e){return r.checkout.closeFlow(),Promise.reject(e)}return s=i.getPaymentRedirectUrl(),s&&r.checkout.startFlow(s),new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)}yield this.paymentIntegrationService.submitOrder(e,n)})}finalize(e){return f(this,void 0,void 0,function*(){return this.paymentIntegrationService.getState().getOrder()&&this.isAcknowledgedOrFinalized()?(yield this.paymentIntegrationService.finalizeOrder(e),Promise.resolve()):Promise.reject(new g)})}isAcknowledgedOrFinalized(){const e=this.paymentIntegrationService.getState();return e.getPaymentStatus()===l.ACKNOWLEDGE||e.getPaymentStatus()===l.FINALIZE}isInContextEnabled(){return!(!this.paymentMethod||!this.paymentMethod.config.merchantId)}}class b extends h{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class w{constructor(e){this.scriptLoader=e,this.window=window}loadPaypalSDK(e=\"\"){return t=this,n=void 0,a=function*(){const t=Object.assign({async:!0,attributes:{\"data-merchant-id\":e}},e&&{attributes:{\"data-merchant-id\":e}});if(yield this.scriptLoader.loadScript(\"//www.paypalobjects.com/api/checkout.min.js\",t),!this.window.paypal)throw new b;return this.window.paypal},new((i=void 0)||(i=Promise))(function(e,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(r,o)}c((a=a.apply(t,n||[])).next())});// removed by dead control flow\n var t, n, i, a; }}const P=p(t=>new I(t,new w((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{id:\"paypalexpress\",type:\"PAYMENT_TYPE_HOSTED\"},{id:\"paypalexpresscredit\",type:\"PAYMENT_TYPE_HOSTED\"}]);class M extends h{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}const v={\"X-Checkout-SDK-Version\":\"1.831.0\"};var S=function(e,t,n,i){return new(n||(n=Promise))(function(a,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function o(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,o)}c((i=i.apply(e,t||[])).next())})};class E{constructor(e,t,n){this.paymentIntegrationService=e,this.paypalExpressScriptLoader=t,this.formPoster=n}initialize(e){return S(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e.methodId);if(!e.paypal)throw new M;if(!t.config.merchantId)throw new y(i.MissingPaymentMethod);const n=yield this.paypalExpressScriptLoader.loadPaypalSDK(t.config.merchantId);this.renderButton(e,n)})}deinitialize(){return Promise.resolve()}renderButton(e,t){const{containerId:n,methodId:a,paypal:s}=e,{allowCredit:r,clientId:o,onPaymentError:c,shouldProcessPayment:d,style:l}=s,u=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e.methodId);if(!u.config.merchantId)throw new y(i.MissingPaymentMethod);const p=u.config.merchantId,h=u.config.testMode?\"sandbox\":\"production\",m={[h]:o},g=t.FUNDING.CREDIT||\"credit\",f=r?[g]:[],I=r?[]:[g];return t.Button.render({env:h,client:m,commit:d,funding:{allowed:f,disallowed:I},style:this.getStyle(l),payment:(e,t)=>this.setupPayment(p,t,c),onAuthorize:(e,t)=>this.tokenizePayment(e,a,t,d)},n)}getStyle(e){const{color:t,fundingicons:n,label:i,layout:a,shape:s,size:o,tagline:c}=e||{};return{color:t,fundingicons:n,label:i,layout:a,shape:s||d.RECT,size:\"small\"===o?r.RESPONSIVE:o,tagline:c}}setupPayment(e,t,n){return S(this,void 0,void 0,function*(){if(!t)throw new m(a.CheckoutButtonNotInitialized);try{const n=yield this.paymentIntegrationService.loadDefaultCheckout(),{id:i}=n.getCartOrThrow(),a=n.getHost()||\"\";return(yield t.request.post(`${a}/api/storefront/payment/paypalexpress`,{merchantId:e,cartId:i},{headers:Object.assign({\"X-API-INTERNAL\":\"This API endpoint is for internal use only and may change in the future\"},v)})).id}catch(e){throw n&&e instanceof h&&n(e),e}})}tokenizePayment(e,t,n,s){return S(this,void 0,void 0,function*(){if(!n)throw new m(a.CheckoutButtonNotInitialized);if(!e.paymentID||!e.payerID)throw new y(i.MissingPayment);const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t),o=yield n.payment.get(e.paymentID);return this.formPoster.postForm(\"/checkout.php\",{payment_type:\"paypal\",provider:r.id,action:s?\"process_payment\":\"set_external_checkout\",paymentId:e.paymentID,payerId:e.payerID,payerInfo:JSON.stringify(o.payer.payer_info)})})}}const C=p(t=>new E(t,new w((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_2__.createFormPoster)()),[{id:\"paypalexpress\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMvcGF5cGFsLWV4cHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0EsSUNDWUEsRUNBQUMsRUM4Q0FDLEVBS0FDLEVBT0FDLEVBT0FDLEVBUUFDLEVBS0FDLEVIL0VSQyxFQUFzQixDQUFDLEVJQ1osU0FBU0MsRUFDcEJDLEVBQ0FDLEdBRUEsT0FBT0MsT0FBT0MsT0FBT0gsRUFBUSxDQUFFQyxjQUNuQyxDQ05BSCxFQUFvQk0sRUFBSSxDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRUgsRUFBU0UsSUFDNUVMLE9BQU9PLGVBQWVKLEVBQVNFLEVBQUssQ0FBRUcsWUFBWSxFQUFNQyxJQUFLTCxFQUFXQyxNQ0ozRVQsRUFBb0JVLEVBQUksQ0FBQ0ksRUFBS0MsSUFBVVgsT0FBT1ksVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NPbkUsTUFBZUksVUFBc0JDLE1BSWhELFdBQUFDLENBQVlDLEdDWEQsSUFBcUNOLEVEWTVDTyxNQUFNRCxHQUFXLHFDQUpyQixLQUFBRSxLQUFPLGdCQUNQLEtBQUFDLEtBQU8sV0NUeUNULGFEY1pBLFVDYmhDWixPQUFPc0IsZUFDUHRCLE9BQU9zQixlRFlRQyxLQ1plWCxHRFlmVyxLQ1ZSQyxVQUFZWixFRFlvQixtQkFBNUJJLE1BQU1TLGtCQUNiVCxNQUFNUyxrQkFBa0JGLGlCQUV4QkEsS0FBS0csTUFBUSxJQUFJVixNQUFNTyxLQUFLTCxTQUFTUSxLQUU3QyxHTm5CSixTQUFZdEMsR0FDUixxREFDQSxpQ0FDQSx5Q0FDQSxpREFDQSx5Q0FDQSxxREFDQSxtQ0FDQSwrQ0FDQSx1Q0FDQSx1Q0FDQSw0Q0FDQSw0REFDQSxvREFDQSw4REFDQSxvREFDQSxrREFDQSx1REFDSCxDQWxCRCxDQUFZQSxJQUFBQSxFQUFvQixLQXlC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RCxNQUFNLElBQUk1RixFQUFvQnRELEVBQXdCaUssOEJBRzFELElBQUtaLEVBQUtxQixZQUFjckIsRUFBS3NCLFFBQ3pCLE1BQU0sSUFBSXJJLEVBQWlCdkMsRUFBcUJrRCxnQkFHcEQsTUFDTW9CLEVBRFFuQyxLQUFLMkIsMEJBQTBCTyxXQUNqQkUsd0JBQXdCQyxHQUU5Q3FHLFFBQXVCMUIsRUFBUUYsUUFBUTVILElBQUlpSSxFQUFLcUIsV0FFdEQsT0FBT3hJLEtBQUtzRixXQUFXcUQsU0FBUyxnQkFBaUIsQ0FDN0NDLGFBQWMsU0FDZEMsU0FBVTFHLEVBQWM4QyxHQUN4QjZELE9BQVFqRCxFQUF1QixrQkFBb0Isd0JBQ25Ea0QsVUFBVzVCLEVBQUtxQixVQUNoQlEsUUFBUzdCLEVBQUtzQixRQUNkUSxVQUFXQyxLQUFLQyxVQUFVVCxFQUFlVSxNQUFNQyxhQUV2RCxFLEVDcktKLE1BVUEsRUFBZS9LLEVBUlZxRCxHQUNNLElBQUksRUFDUEEsRUFDQSxJQUFJLEVBQTBCcUQsMkVBQUFBLElBQzlCc0UsMEVBQUFBLElBSTZELENBQUMsQ0FBRXJFLEdBQUksbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheXBhbC1leHByZXNzLWludGVncmF0aW9uL3NyYy9wYXlwYWwtZXhwcmVzcy10eXBlcy50cz9mZDFjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycz85OTRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZD85ZWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL29yZGVyLWZpbmFsaXphdGlvbi1ub3QtcmVxdWlyZWQtZXJyb3IudHM/YjVhMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLWV4cHJlc3MtaW50ZWdyYXRpb24vc3JjL3BheXBhbC1leHByZXNzLXBheW1lbnQtc3RyYXRlZ3kudHM/N2ZhZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLWV4cHJlc3MtaW50ZWdyYXRpb24vc3JjL3BheXBhbC1leHByZXNzLXNjcmlwdC1sb2FkZXIudHM/ZmFlMiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLWV4cHJlc3MtaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1wYXlwYWwtZXhwcmVzcy1wYXltZW50LXN0cmF0ZWd5LnRzPzY3ODYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9pbnRlcm5hbC1hcGktaGVhZGVycy50cz80MTExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9zZGstdmVyc2lvbi1oZWFkZXJzLnRzPzdiZjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheXBhbC1leHByZXNzLWludGVncmF0aW9uL3NyYy9wYXlwYWwtZXhwcmVzcy1idXR0b24tc3RyYXRlZ3kudHM/ZGQ0NyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLWV4cHJlc3MtaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1wYXlwYWwtZXhwcmVzcy1idXR0b24tc3RyYXRlZ3kudHM/M2ZmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE1pc3NpbmdEYXRhRXJyb3JUeXBlIHtcbiAgICBNaXNzaW5nQmlsbGluZ0FkZHJlc3MsXG4gICAgTWlzc2luZ0NhcnQsXG4gICAgTWlzc2luZ0NoZWNrb3V0LFxuICAgIE1pc3NpbmdDb25zaWdubWVudHMsXG4gICAgTWlzc2luZ0N1c3RvbWVyLFxuICAgIE1pc3NpbmdDaGVja291dENvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXIsXG4gICAgTWlzc2luZ09yZGVyQ29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcklkLFxuICAgIE1pc3NpbmdQYXltZW50LFxuICAgIE1pc3NpbmdQYXltZW50SWQsXG4gICAgTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdQYXltZW50TWV0aG9kLFxuICAgIE1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmwsXG4gICAgTWlzc2luZ1BheW1lbnRTdGF0dXMsXG4gICAgTWlzc2luZ1BheW1lbnRUb2tlbixcbiAgICBNaXNzaW5nU2hpcHBpbmdBZGRyZXNzLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3Igd2hlbiBkYXRhIHRoYXQgaXMgZXhwZWN0ZWQgdG8gZXhpc3QgaXMgbWlzc2luZy4gVXN1YWxseSBpdFxuICogaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQgY2VydGFpbiBkYXRhIGhhcyBub3QgYmVlbiByZXRyaWV2ZWQgZnJvbSBvciBzYXZlZCB0b1xuICogdGhlIHNlcnZlciB5ZXQuIEFuZCBzdWNoIGRhdGEgaXMgcmVxdWlyZWQgdG8gcGVyZm9ybSBjZXJ0YWluIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3NpbmdEYXRhRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ0RhdGFFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdtaXNzaW5nX2RhdGEnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgYmlsbGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDYXJ0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NvbnNpZ25tZW50czpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNoZWNrb3V0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDdXN0b21lcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWc6XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyQ29uZmlnOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbmZpZ3VyYXRpb24gZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcklkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0Lic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW46XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2Q6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBzaGlwcGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsRnVuZGluZ1R5cGVMaXN0IHtcbiAgICBDQVJEPzogc3RyaW5nO1xuICAgIENSRURJVD86IHN0cmluZztcbiAgICBQQVlQQUw/OiBzdHJpbmc7XG4gICAgUEFZTEFURVI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQnV0dG9uIHtcbiAgICByZW5kZXIob3B0aW9uczogUGF5cGFsQnV0dG9uT3B0aW9ucywgY29udGFpbmVyOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEJ1dHRvblJlbmRlciB7XG4gICAgcmVuZGVyKGNvbnRhaW5lcjogc3RyaW5nKTogdm9pZDtcbiAgICBpc0VsaWdpYmxlKCk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnaW5nUmVuZGVyIHtcbiAgICByZW5kZXIoY29udGFpbmVyOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2luZ09wdGlvbnMge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHBsYWNlbWVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEJ1dHRvbk9wdGlvbnMge1xuICAgIGVudj86IHN0cmluZztcbiAgICBjb21taXQ/OiBib29sZWFuO1xuICAgIHN0eWxlPzogUGF5cGFsU3R5bGVPcHRpb25zO1xuICAgIGZ1bmRpbmc/OiBQYXlwYWxGdW5kaW5nVHlwZTtcbiAgICBmdW5kaW5nU291cmNlPzogc3RyaW5nO1xuICAgIGNsaWVudD86IFBheXBhbENsaWVudFRva2VuO1xuICAgIHBheW1lbnQ/KGRhdGE/OiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8YW55PjtcbiAgICBvbkF1dGhvcml6ZT8oZGF0YTogUGF5cGFsQXV0aG9yaXplRGF0YSwgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMpOiBQcm9taXNlPGFueT47XG4gICAgY3JlYXRlT3JkZXI/KGRhdGE/OiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8YW55PjtcbiAgICBvbkFwcHJvdmU/KGRhdGE/OiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8YW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxDbGllbnRUb2tlbiB7XG4gICAgcHJvZHVjdGlvbj86IHN0cmluZztcbiAgICBzYW5kYm94Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEZ1bmRpbmdUeXBlIHtcbiAgICBhbGxvd2VkPzogc3RyaW5nW107XG4gICAgZGlzYWxsb3dlZD86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZW51bSBQYXlwYWxCdXR0b25TdHlsZUxheW91dE9wdGlvbiB7XG4gICAgSE9SSVpPTlRBTCA9ICdob3Jpem9udGFsJyxcbiAgICBWRVJUSUNBTCA9ICd2ZXJ0aWNhbCcsXG59XG5cbmV4cG9ydCBlbnVtIFBheXBhbEJ1dHRvblN0eWxlU2l6ZU9wdGlvbiB7XG4gICAgU01BTEwgPSAnc21hbGwnLFxuICAgIE1FRElVTSA9ICdtZWRpdW0nLFxuICAgIExBUkdFID0gJ2xhcmdlJyxcbiAgICBSRVNQT05TSVZFID0gJ3Jlc3BvbnNpdmUnLFxufVxuXG5leHBvcnQgZW51bSBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uIHtcbiAgICBHT0xEID0gJ2dvbGQnLFxuICAgIEJMVUUgPSAnYmx1ZScsXG4gICAgU0lsVkVSID0gJ3NpbHZlcicsXG4gICAgQkxBQ0sgPSAnYmxhY2snLFxufVxuXG5leHBvcnQgZW51bSBQYXlwYWxCdXR0b25TdHlsZUxhYmVsT3B0aW9uIHtcbiAgICBDSEVDS09VVCA9ICdjaGVja291dCcsXG4gICAgUEFZID0gJ3BheScsXG4gICAgQlVZTk9XID0gJ2J1eW5vdycsXG4gICAgUEFZUEFMID0gJ3BheXBhbCcsXG4gICAgQ1JFRElUID0gJ2NyZWRpdCcsXG59XG5cbmV4cG9ydCBlbnVtIFBheXBhbEJ1dHRvblN0eWxlU2hhcGVPcHRpb24ge1xuICAgIFBJTEwgPSAncGlsbCcsXG4gICAgUkVDVCA9ICdyZWN0Jyxcbn1cblxuZXhwb3J0IGVudW0gUGF5bWVudFN0YXR1c1R5cGVzIHtcbiAgICBBQ0tOT1dMRURHRSA9ICdBQ0tOT1dMRURHRScsXG4gICAgRklOQUxJWkUgPSAnRklOQUxJWkUnLFxuICAgIElOSVRJQUxJWkUgPSAnSU5JVElBTElaRScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsU3R5bGVPcHRpb25zIHtcbiAgICBsYXlvdXQ/OiBQYXlwYWxCdXR0b25TdHlsZUxheW91dE9wdGlvbjtcbiAgICBzaXplPzogUGF5cGFsQnV0dG9uU3R5bGVTaXplT3B0aW9uO1xuICAgIGNvbG9yPzogUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbjtcbiAgICBsYWJlbD86IFBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb247XG4gICAgc2hhcGU/OiBQYXlwYWxCdXR0b25TdHlsZVNoYXBlT3B0aW9uO1xuICAgIHRhZ2xpbmU/OiBib29sZWFuO1xuICAgIGZ1bmRpbmdpY29ucz86IGJvb2xlYW47XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEFjdGlvbnMge1xuICAgIHBheW1lbnQ6IFBheXBhbFBheW1lbnRBY3Rpb25zO1xuICAgIHJlcXVlc3Q6IFBheXBhbFJlcXVlc3RBY3Rpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbFBheW1lbnRBY3Rpb25zIHtcbiAgICBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8UGF5cGFsUGF5bWVudFBheWxvYWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbFJlcXVlc3RBY3Rpb25zIHtcbiAgICBwb3N0KHVybDogc3RyaW5nLCBwYXlsb2FkPzogb2JqZWN0LCBvcHRpb25zPzogb2JqZWN0KTogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsVHJhbnNhY3Rpb24ge1xuICAgIGFtb3VudD86IFBheXBhbEFtb3VudDtcbiAgICBwYXllZT86IFBheXBhbFBheWVlO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIG5vdGVfdG9fcGF5ZWU/OiBzdHJpbmc7XG4gICAgaXRlbV9saXN0PzogUGF5cGFsSXRlbUxpc3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsSXRlbUxpc3Qge1xuICAgIGl0ZW1zPzogUGF5cGFsSXRlbVtdO1xuICAgIHNoaXBwaW5nX2FkZHJlc3M/OiBQYXlwYWxBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEl0ZW0ge1xuICAgIHNrdT86IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIHF1YW50aXR5OiBzdHJpbmc7XG4gICAgcHJpY2U6IHN0cmluZztcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgIHRheD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxBbW91bnQge1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgdG90YWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxQYXllciB7XG4gICAgcGF5ZXJfaW5mbzogb2JqZWN0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbFBheWVlIHtcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBtZXJjaGFudF9pZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxBZGRyZXNzIHtcbiAgICBsaW5lMTogc3RyaW5nO1xuICAgIGxpbmUyPzogc3RyaW5nO1xuICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgY291bnRyeV9jb2RlOiBzdHJpbmc7XG4gICAgcG9zdGFsX2NvZGU/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxQYXltZW50UGF5bG9hZCB7XG4gICAgcGF5bWVudDogUGF5cGFsUGF5bWVudFBheWxvYWQ7XG4gICAgcGF5ZXI6IFBheXBhbFBheWVyO1xuICAgIHRyYW5zYWN0aW9ucz86IFBheXBhbFRyYW5zYWN0aW9uW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQXV0aG9yaXplRGF0YSB7XG4gICAgcGF5ZXJJZDogc3RyaW5nO1xuICAgIHBheW1lbnRJZD86IHN0cmluZztcbiAgICBiaWxsaW5nVG9rZW4/OiBzdHJpbmc7XG4gICAgLy8gdGhlIFBheVBhbCBzaWRlIG9mIHRoaW5ncyB1c2VzIHVwcGVyY2FzZSBJRCBpbnN0ZWFkIG9mIGNhbWVsIGNhc2UgSWRcbiAgICBwYXllcklEPzogc3RyaW5nO1xuICAgIHBheW1lbnRJRD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXQge1xuICAgIGluaXRYTygpOiB2b2lkO1xuICAgIHN0YXJ0Rmxvdyh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gICAgY2xvc2VGbG93KCk6IHZvaWQ7XG4gICAgc2V0dXAobWVyY2hhbnRJZDogc3RyaW5nLCBvcHRpb25zOiBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zIHtcbiAgICBidXR0b246IHN0cmluZztcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIHBheXBhbD86IFBheXBhbFNESztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxTREsge1xuICAgIEJ1dHRvbjogUGF5cGFsQnV0dG9uO1xuICAgIGNoZWNrb3V0OiBQYXlwYWxFeHByZXNzQ2hlY2tvdXQ7XG4gICAgRlVORElORzogUGF5cGFsRnVuZGluZ1R5cGVMaXN0O1xuICAgIE1lc3NhZ2VzKG9wdGlvbnM6IE1lc3NhZ2luZ09wdGlvbnMpOiBNZXNzYWdpbmdSZW5kZXI7XG4gICAgQnV0dG9ucyhvcHRpb25zOiBQYXlwYWxCdXR0b25PcHRpb25zKTogUGF5cGFsQnV0dG9uUmVuZGVyO1xufVxuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgV2l0aFBheXBhbEV4cHJlc3NQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL3BheXBhbC1leHByZXNzLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBQYXlwYWxTY3JpcHRMb2FkZXIgZnJvbSAnLi9wYXlwYWwtZXhwcmVzcy1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCB7IFBheW1lbnRTdGF0dXNUeXBlcywgUGF5cGFsSG9zdFdpbmRvdywgUGF5cGFsU0RLIH0gZnJvbSAnLi9wYXlwYWwtZXhwcmVzcy10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheXBhbEV4cHJlc3NQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgcGF5cGFsU2RrPzogUGF5cGFsU0RLO1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7XG4gICAgcHJpdmF0ZSB1c2VSZWRpcmVjdEZsb3cgPSBmYWxzZTtcbiAgICBwcml2YXRlIHdpbmRvdzogUGF5cGFsSG9zdFdpbmRvdztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBQYXlwYWxTY3JpcHRMb2FkZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhQYXlwYWxFeHByZXNzUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG9wdGlvbnMubWV0aG9kSWQpO1xuICAgICAgICB0aGlzLnVzZVJlZGlyZWN0RmxvdyA9XG4gICAgICAgICAgICAob3B0aW9ucy5wYXlwYWxleHByZXNzICYmIG9wdGlvbnMucGF5cGFsZXhwcmVzcy51c2VSZWRpcmVjdEZsb3cpID09PSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG1lcmNoYW50SWQgPSB0aGlzLnBheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzSW5Db250ZXh0RW5hYmxlZCgpIHx8ICFtZXJjaGFudElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXlwYWxTZGsgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkUGF5cGFsU0RLKCk7XG5cbiAgICAgICAgdGhpcy5wYXlwYWxTZGsgPSBwYXlwYWxTZGs7XG5cbiAgICAgICAgdGhpcy5wYXlwYWxTZGsuY2hlY2tvdXQuc2V0dXAobWVyY2hhbnRJZCwge1xuICAgICAgICAgICAgYnV0dG9uOiAncGF5cGFsLWJ1dHRvbicsXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5wYXltZW50TWV0aG9kLmNvbmZpZy50ZXN0TW9kZSA/ICdzYW5kYm94JyA6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5pc0luQ29udGV4dEVuYWJsZWQoKSAmJiB0aGlzLnBheXBhbFNkaykge1xuICAgICAgICAgICAgdGhpcy5wYXlwYWxTZGsuY2hlY2tvdXQuY2xvc2VGbG93KCk7XG4gICAgICAgICAgICB0aGlzLnBheXBhbFNkayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHN0YXRlOiBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnM7XG4gICAgICAgIGxldCByZWRpcmVjdFVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBwYXlwYWwgPSB0aGlzLnBheXBhbFNkaztcblxuICAgICAgICBpZiAodGhpcy5pc0Fja25vd2xlZGdlZE9yRmluYWxpemVkKCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihwYXlsb2FkLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzSW5Db250ZXh0RW5hYmxlZCgpIHx8IHRoaXMudXNlUmVkaXJlY3RGbG93KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihwYXlsb2FkLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJlZGlyZWN0VXJsID0gc3RhdGUuZ2V0UGF5bWVudFJlZGlyZWN0VXJsKCk7XG5cbiAgICAgICAgICAgIGlmIChyZWRpcmVjdFVybCAmJiB0aGlzLndpbmRvdy50b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy50b3AubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGhvbGQgZXhlY3V0aW9uIHNvIHRoZSBjb25zdW1lciBkb2VzIG5vdCByZWRpcmVjdCB1cyBzb21ld2hlcmUgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG5ldmVyPihub29wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5cGFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF5cGFsLmNoZWNrb3V0LmluaXRYTygpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihwYXlsb2FkLCBvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHBheXBhbC5jaGVja291dC5jbG9zZUZsb3coKTtcblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZGlyZWN0VXJsID0gc3RhdGUuZ2V0UGF5bWVudFJlZGlyZWN0VXJsKCk7XG5cbiAgICAgICAgaWYgKHJlZGlyZWN0VXJsKSB7XG4gICAgICAgICAgICBwYXlwYWwuY2hlY2tvdXQuc3RhcnRGbG93KHJlZGlyZWN0VXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gaG9sZCBleGVjdXRpb24gc28gdGhlIGNvbnN1bWVyIGRvZXMgbm90IHJlZGlyZWN0IHVzIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxuZXZlcj4obm9vcCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZmluYWxpemUob3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBvcmRlciA9IHN0YXRlLmdldE9yZGVyKCk7XG5cbiAgICAgICAgaWYgKG9yZGVyICYmIHRoaXMuaXNBY2tub3dsZWRnZWRPckZpbmFsaXplZCgpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZmluYWxpemVPcmRlcihvcHRpb25zKTtcblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0Fja25vd2xlZGdlZE9yRmluYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzdGF0ZS5nZXRQYXltZW50U3RhdHVzKCkgPT09IFBheW1lbnRTdGF0dXNUeXBlcy5BQ0tOT1dMRURHRSB8fFxuICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudFN0YXR1cygpID09PSBQYXltZW50U3RhdHVzVHlwZXMuRklOQUxJWkVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzSW5Db250ZXh0RW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMucGF5bWVudE1ldGhvZCAmJiB0aGlzLnBheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGZhaWxzXG4gKiB0byBsb2FkLCBvciBmb3Igc29tZSByZWFzb24sIGl0IGlzIGluYWNjZXNzaWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvYWRTY3JpcHRPcHRpb25zLCBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFBheXBhbEhvc3RXaW5kb3csIFBheXBhbFNESyB9IGZyb20gJy4vcGF5cGFsLWV4cHJlc3MtdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXlwYWxTY3JpcHRMb2FkZXIge1xuICAgIHByaXZhdGUgd2luZG93OiBQYXlwYWxIb3N0V2luZG93O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcikge1xuICAgICAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkUGF5cGFsU0RLKG1lcmNoYW50SWQgPSAnJyk6IFByb21pc2U8UGF5cGFsU0RLPiB7XG4gICAgICAgIGNvbnN0IHNjcmlwdFNyYyA9ICcvL3d3dy5wYXlwYWxvYmplY3RzLmNvbS9hcGkvY2hlY2tvdXQubWluLmpzJztcbiAgICAgICAgY29uc3Qgb3B0aW9uczogTG9hZFNjcmlwdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgJ2RhdGEtbWVyY2hhbnQtaWQnOiBtZXJjaGFudElkIH0sXG4gICAgICAgICAgICAuLi4obWVyY2hhbnRJZCAmJiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyAnZGF0YS1tZXJjaGFudC1pZCc6IG1lcmNoYW50SWQgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoc2NyaXB0U3JjLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIXRoaXMud2luZG93LnBheXBhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy53aW5kb3cucGF5cGFsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBQYXlwYWxFeHByZXNzUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vcGF5cGFsLWV4cHJlc3MtcGF5bWVudC1zdHJhdGVneSc7XG5pbXBvcnQgUGF5cGFsRXhwcmVzc1NjcmlwdExvYWRlciBmcm9tICcuL3BheXBhbC1leHByZXNzLXNjcmlwdC1sb2FkZXInO1xuXG5jb25zdCBjcmVhdGVQYXlwYWxFeHByZXNzUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFBheXBhbEV4cHJlc3NQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICByZXR1cm4gbmV3IFBheXBhbEV4cHJlc3NQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBQYXlwYWxFeHByZXNzU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVBheXBhbEV4cHJlc3NQYXltZW50U3RyYXRlZ3ksIFtcbiAgICB7IGlkOiAncGF5cGFsZXhwcmVzcycsIHR5cGU6ICdQQVlNRU5UX1RZUEVfSE9TVEVEJyB9LFxuICAgIHsgaWQ6ICdwYXlwYWxleHByZXNzY3JlZGl0JywgdHlwZTogJ1BBWU1FTlRfVFlQRV9IT1NURUQnIH0sXG5dKTtcbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IElOVEVSTkFMX1VTRV9PTkxZID1cbiAgICAnVGhpcyBBUEkgZW5kcG9pbnQgaXMgZm9yIGludGVybmFsIHVzZSBvbmx5IGFuZCBtYXkgY2hhbmdlIGluIHRoZSBmdXR1cmUnO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OX0hFQURFUlMgPSB7ICdYLUNoZWNrb3V0LVNESy1WZXJzaW9uJzogTElCUkFSWV9WRVJTSU9OIH07XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksXG4gICAgSU5URVJOQUxfVVNFX09OTFksXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU0RLX1ZFUlNJT05fSEVBREVSUyxcbiAgICBTdGFuZGFyZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgV2l0aFBheXBhbEV4cHJlc3NCdXR0b25Jbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vcGF5cGFsLWV4cHJlc3MtYnV0dG9uLWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgUGF5cGFsU2NyaXB0TG9hZGVyIGZyb20gJy4vcGF5cGFsLWV4cHJlc3Mtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQge1xuICAgIFBheXBhbEFjdGlvbnMsXG4gICAgUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICBQYXlwYWxCdXR0b25TdHlsZVNoYXBlT3B0aW9uLFxuICAgIFBheXBhbEJ1dHRvblN0eWxlU2l6ZU9wdGlvbixcbiAgICBQYXlwYWxDbGllbnRUb2tlbixcbiAgICBQYXlwYWxTREssXG4gICAgUGF5cGFsU3R5bGVPcHRpb25zLFxufSBmcm9tICcuL3BheXBhbC1leHByZXNzLXR5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5cGFsQnV0dG9uU3RyYXRlZ3kgaW1wbGVtZW50cyBDaGVja291dEJ1dHRvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHBheXBhbEV4cHJlc3NTY3JpcHRMb2FkZXI6IFBheXBhbFNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBmb3JtUG9zdGVyOiBGb3JtUG9zdGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IENoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoUGF5cGFsRXhwcmVzc0J1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cob3B0aW9ucy5tZXRob2RJZCk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnBheXBhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheXBhbFNESyA9IGF3YWl0IHRoaXMucGF5cGFsRXhwcmVzc1NjcmlwdExvYWRlci5sb2FkUGF5cGFsU0RLKFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZCxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnJlbmRlckJ1dHRvbihvcHRpb25zLCBwYXlwYWxTREspO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQnV0dG9uKFxuICAgICAgICBvcHRpb25zOiBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zICYgV2l0aFBheXBhbEV4cHJlc3NCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgcGF5cGFsU0RLOiBQYXlwYWxTREssXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVySWQsIG1ldGhvZElkLCBwYXlwYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgYWxsb3dDcmVkaXQsIGNsaWVudElkLCBvblBheW1lbnRFcnJvciwgc2hvdWxkUHJvY2Vzc1BheW1lbnQsIHN0eWxlIH0gPSBwYXlwYWw7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG9wdGlvbnMubWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWVyY2hhbnRJZCA9IHBheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQ7XG4gICAgICAgIGNvbnN0IGVudiA9IHBheW1lbnRNZXRob2QuY29uZmlnLnRlc3RNb2RlID8gJ3NhbmRib3gnIDogJ3Byb2R1Y3Rpb24nO1xuICAgICAgICBjb25zdCBjbGllbnRUb2tlbjogUGF5cGFsQ2xpZW50VG9rZW4gPSB7IFtlbnZdOiBjbGllbnRJZCB9O1xuICAgICAgICBjb25zdCBmdW5kaW5nQ3JlZGl0T3B0aW9uID0gcGF5cGFsU0RLLkZVTkRJTkcuQ1JFRElUIHx8ICdjcmVkaXQnO1xuICAgICAgICBjb25zdCBhbGxvd2VkU291cmNlcyA9IGFsbG93Q3JlZGl0ID8gW2Z1bmRpbmdDcmVkaXRPcHRpb25dIDogW107XG4gICAgICAgIGNvbnN0IGRpc2FsbG93ZWRTb3VyY2VzID0gIWFsbG93Q3JlZGl0ID8gW2Z1bmRpbmdDcmVkaXRPcHRpb25dIDogW107XG5cbiAgICAgICAgcmV0dXJuIHBheXBhbFNESy5CdXR0b24ucmVuZGVyKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVudixcbiAgICAgICAgICAgICAgICBjbGllbnQ6IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgIGNvbW1pdDogc2hvdWxkUHJvY2Vzc1BheW1lbnQsXG4gICAgICAgICAgICAgICAgZnVuZGluZzoge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkOiBhbGxvd2VkU291cmNlcyxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWxsb3dlZDogZGlzYWxsb3dlZFNvdXJjZXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5nZXRTdHlsZShzdHlsZSksXG4gICAgICAgICAgICAgICAgcGF5bWVudDogKF8sIGFjdGlvbnMpID0+IHRoaXMuc2V0dXBQYXltZW50KG1lcmNoYW50SWQsIGFjdGlvbnMsIG9uUGF5bWVudEVycm9yKSxcbiAgICAgICAgICAgICAgICBvbkF1dGhvcml6ZTogKGRhdGEsIGFjdGlvbnMpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVQYXltZW50KGRhdGEsIG1ldGhvZElkLCBhY3Rpb25zLCBzaG91bGRQcm9jZXNzUGF5bWVudCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdHlsZShzdHlsZT86IE9taXQ8UGF5cGFsU3R5bGVPcHRpb25zLCAnaGVpZ2h0Jz4pOiBQYXlwYWxTdHlsZU9wdGlvbnMge1xuICAgICAgICBjb25zdCB7IGNvbG9yLCBmdW5kaW5naWNvbnMsIGxhYmVsLCBsYXlvdXQsIHNoYXBlLCBzaXplLCB0YWdsaW5lIH0gPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICBmdW5kaW5naWNvbnMsXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIHNoYXBlOiBzaGFwZSB8fCBQYXlwYWxCdXR0b25TdHlsZVNoYXBlT3B0aW9uLlJFQ1QsXG4gICAgICAgICAgICBzaXplOiBzaXplID09PSAnc21hbGwnID8gUGF5cGFsQnV0dG9uU3R5bGVTaXplT3B0aW9uLlJFU1BPTlNJVkUgOiBzaXplLFxuICAgICAgICAgICAgdGFnbGluZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHNldHVwUGF5bWVudChcbiAgICAgICAgbWVyY2hhbnRJZDogc3RyaW5nLFxuICAgICAgICBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyxcbiAgICAgICAgb25FcnJvcj86IChlcnJvcjogU3RhbmRhcmRFcnJvcikgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBpZiAoIWFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWREZWZhdWx0Q2hlY2tvdXQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQ6IGNhcnRJZCB9ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGhvc3QgPSBzdGF0ZS5nZXRIb3N0KCkgfHwgJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRSZXF1ZXN0ID0gYXdhaXQgYWN0aW9ucy5yZXF1ZXN0LnBvc3QoXG4gICAgICAgICAgICAgICAgYCR7aG9zdH0vYXBpL3N0b3JlZnJvbnQvcGF5bWVudC9wYXlwYWxleHByZXNzYCxcbiAgICAgICAgICAgICAgICB7IG1lcmNoYW50SWQsIGNhcnRJZCB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtQVBJLUlOVEVSTkFMJzogSU5URVJOQUxfVVNFX09OTFksXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5TREtfVkVSU0lPTl9IRUFERVJTLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gcGF5bWVudFJlcXVlc3QuaWQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIFN0YW5kYXJkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgZGF0YTogUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMsXG4gICAgICAgIHNob3VsZFByb2Nlc3NQYXltZW50PzogYm9vbGVhbixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCFhY3Rpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YS5wYXltZW50SUQgfHwgIWRhdGEucGF5ZXJJRCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBnZXRQYXltZW50RGF0YSA9IGF3YWl0IGFjdGlvbnMucGF5bWVudC5nZXQoZGF0YS5wYXltZW50SUQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICBwYXltZW50X3R5cGU6ICdwYXlwYWwnLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgICAgICBhY3Rpb246IHNob3VsZFByb2Nlc3NQYXltZW50ID8gJ3Byb2Nlc3NfcGF5bWVudCcgOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIHBheW1lbnRJZDogZGF0YS5wYXltZW50SUQsXG4gICAgICAgICAgICBwYXllcklkOiBkYXRhLnBheWVySUQsXG4gICAgICAgICAgICBwYXllckluZm86IEpTT04uc3RyaW5naWZ5KGdldFBheW1lbnREYXRhLnBheWVyLnBheWVyX2luZm8pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBQYXlwYWxFeHByZXNzQnV0dG9uU3RyYXRlZ3ksIFBheXBhbEV4cHJlc3NTY3JpcHRMb2FkZXIgfSBmcm9tICcuL2luZGV4JztcblxuY29uc3QgY3JlYXRlUGF5cGFsRXhwcmVzc0J1dHRvblN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBQYXlwYWxFeHByZXNzQnV0dG9uU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIHJldHVybiBuZXcgUGF5cGFsRXhwcmVzc0J1dHRvblN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgUGF5cGFsRXhwcmVzc1NjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSksXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVBheXBhbEV4cHJlc3NCdXR0b25TdHJhdGVneSwgW3sgaWQ6ICdwYXlwYWxleHByZXNzJyB9XSk7XG4iXSwibmFtZXMiOlsiTWlzc2luZ0RhdGFFcnJvclR5cGUiLCJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIlBheXBhbEJ1dHRvblN0eWxlTGF5b3V0T3B0aW9uIiwiUGF5cGFsQnV0dG9uU3R5bGVTaXplT3B0aW9uIiwiUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbiIsIlBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24iLCJQYXlwYWxCdXR0b25TdHlsZVNoYXBlT3B0aW9uIiwiUGF5bWVudFN0YXR1c1R5cGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInRvUmVzb2x2YWJsZU1vZHVsZSIsIm1vZHVsZSIsInJlc29sdmVJZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJkIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJzZXRQcm90b3R5cGVPZiIsInRoaXMiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiTWlzc2luZ0RhdGFFcnJvciIsInN1YnR5cGUiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsImdldEVycm9yTWVzc2FnZSIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJQYXlwYWxFeHByZXNzUGF5bWVudFN0cmF0ZWd5IiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsInNjcmlwdExvYWRlciIsInVzZVJlZGlyZWN0RmxvdyIsIndpbmRvdyIsImluaXRpYWxpemUiLCJvcHRpb25zIiwic3RhdGUiLCJnZXRTdGF0ZSIsInBheW1lbnRNZXRob2QiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsIm1ldGhvZElkIiwicGF5cGFsZXhwcmVzcyIsIm1lcmNoYW50SWQiLCJjb25maWciLCJpc0luQ29udGV4dEVuYWJsZWQiLCJwYXlwYWxTZGsiLCJsb2FkUGF5cGFsU0RLIiwiY2hlY2tvdXQiLCJzZXR1cCIsImJ1dHRvbiIsImVudmlyb25tZW50IiwidGVzdE1vZGUiLCJkZWluaXRpYWxpemUiLCJjbG9zZUZsb3ciLCJ1bmRlZmluZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImV4ZWN1dGUiLCJwYXlsb2FkIiwicmVkaXJlY3RVcmwiLCJwYXlwYWwiLCJpc0Fja25vd2xlZGdlZE9yRmluYWxpemVkIiwic3VibWl0T3JkZXIiLCJnZXRQYXltZW50UmVkaXJlY3RVcmwiLCJ0b3AiLCJsb2NhdGlvbiIsImhyZWYiLCJub29wIiwiaW5pdFhPIiwiZXJyb3IiLCJyZWplY3QiLCJzdGFydEZsb3ciLCJmaW5hbGl6ZSIsImdldE9yZGVyIiwiZmluYWxpemVPcmRlciIsImdldFBheW1lbnRTdGF0dXMiLCJBQ0tOT1dMRURHRSIsIkZJTkFMSVpFIiwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IiLCJQYXlwYWxTY3JpcHRMb2FkZXIiLCJhc3luYyIsImF0dHJpYnV0ZXMiLCJsb2FkU2NyaXB0IiwiZ2V0U2NyaXB0TG9hZGVyIiwiaWQiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIlNES19WRVJTSU9OX0hFQURFUlMiLCJQYXlwYWxCdXR0b25TdHJhdGVneSIsInBheXBhbEV4cHJlc3NTY3JpcHRMb2FkZXIiLCJmb3JtUG9zdGVyIiwicGF5cGFsU0RLIiwicmVuZGVyQnV0dG9uIiwiY29udGFpbmVySWQiLCJhbGxvd0NyZWRpdCIsImNsaWVudElkIiwib25QYXltZW50RXJyb3IiLCJzaG91bGRQcm9jZXNzUGF5bWVudCIsInN0eWxlIiwiZW52IiwiY2xpZW50VG9rZW4iLCJmdW5kaW5nQ3JlZGl0T3B0aW9uIiwiRlVORElORyIsIkNSRURJVCIsImFsbG93ZWRTb3VyY2VzIiwiZGlzYWxsb3dlZFNvdXJjZXMiLCJCdXR0b24iLCJyZW5kZXIiLCJjbGllbnQiLCJjb21taXQiLCJmdW5kaW5nIiwiYWxsb3dlZCIsImRpc2FsbG93ZWQiLCJnZXRTdHlsZSIsInBheW1lbnQiLCJfIiwiYWN0aW9ucyIsInNldHVwUGF5bWVudCIsIm9uQXV0aG9yaXplIiwiZGF0YSIsInRva2VuaXplUGF5bWVudCIsImNvbG9yIiwiZnVuZGluZ2ljb25zIiwibGFiZWwiLCJsYXlvdXQiLCJzaGFwZSIsInNpemUiLCJ0YWdsaW5lIiwiUkVDVCIsIlJFU1BPTlNJVkUiLCJvbkVycm9yIiwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZCIsImxvYWREZWZhdWx0Q2hlY2tvdXQiLCJjYXJ0SWQiLCJnZXRDYXJ0T3JUaHJvdyIsImhvc3QiLCJnZXRIb3N0IiwicmVxdWVzdCIsInBvc3QiLCJoZWFkZXJzIiwicGF5bWVudElEIiwicGF5ZXJJRCIsImdldFBheW1lbnREYXRhIiwicG9zdEZvcm0iLCJwYXltZW50X3R5cGUiLCJwcm92aWRlciIsImFjdGlvbiIsInBheW1lbnRJZCIsInBheWVySWQiLCJwYXllckluZm8iLCJKU09OIiwic3RyaW5naWZ5IiwicGF5ZXIiLCJwYXllcl9pbmZvIiwiY3JlYXRlRm9ybVBvc3RlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-express.js\n\n}");

/***/ })

}]);