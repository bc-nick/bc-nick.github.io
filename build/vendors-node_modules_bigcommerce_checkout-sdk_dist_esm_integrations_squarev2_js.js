"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["vendors-node_modules_bigcommerce_checkout-sdk_dist_esm_integrations_squarev2_js"],{

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/squarev2.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/squarev2.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSquareV2PaymentStrategy: () => (/* binding */ w)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"./node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"./node_modules/rxjs/_esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"./node_modules/rxjs/_esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"./node_modules/rxjs/_esm5/internal/operators/map.js\");\nvar o,a;class s extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class d extends s{constructor(e,t,i){super(i||\"Payment cannot be processed for this order, please select another payment method\"),this.type=\"custom_provider_execute_error\",this.name=t,this.subtype=e}}function c(e,t){if(null==e)throw t?t():new Error(\"An unexpected error has occurred.\");return e}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(o||(o={}));class u extends s{constructor(e){super(function(e){switch(e){case o.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case o.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case o.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case o.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.CHARGE=\"CHARGE\",e.STORE=\"STORE\"}(a||(a={}));var l=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class h{constructor(e,t){this._scriptLoader=e,this._paymentIntegrationService=t}initialize({testMode:e,applicationId:t,locationId:i}){return l(this,void 0,void 0,function*(){const n=yield this._scriptLoader.load(e);this._payments=n.payments(t,i)})}deinitialize(){return l(this,void 0,void 0,function*(){this._formValidationSubscription&&this._formValidationSubscription.unsubscribe(),this._card&&(yield this._card.destroy()),this._formValidationSubscription=void 0,this._card=void 0,this._payments=void 0})}initializeCard({containerId:e,style:t,onValidationChange:i}){return l(this,void 0,void 0,function*(){const{postalCode:n}=this._paymentIntegrationService.getState().getBillingAddress()||{};this._card=yield this._getPayments().card(),yield this._card.attach(`#${e}`);try{yield this._card.configure({postalCode:n,style:t})}catch(e){}i&&(this._formValidationSubscription=this._subscribeToFormValidation(this._card,i))})}tokenize(){return l(this,void 0,void 0,function*(){const e=yield this._getCard().tokenize();if(\"OK\"!==e.status||!e.token){let t=`Tokenization failed with status: ${e.status}`;throw e.errors&&(t+=` and errors: ${JSON.stringify(e.errors)}`),new d(\"payment.errors.card_error\",\"SquareV2TokenizationError\",t)}return e.token})}verifyBuyer(e,t){return l(this,void 0,void 0,function*(){return t===a.CHARGE?this._chargeVerifyBuyer(e):this._storeVerifyBuyer(e)})}_getPayments(){return c(this._payments,()=>new u(o.PaymentNotInitialized))}_subscribeToFormValidation(e,o){const a=[\"cardNumber\",\"cvv\"],s=new Set(a),d=[\"focusClassAdded\",\"focusClassRemoved\",\"errorClassAdded\",\"errorClassRemoved\",\"cardBrandChanged\",\"postalCodeChanged\"].map(i=>(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.fromEvent)(e,i));return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.merge)(...d).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(e=>{const{detail:{field:t,currentState:{isCompletelyValid:i}}}=e;return a.includes(t)&&s[i?\"delete\":\"add\"](t),0===s.size}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.distinctUntilChanged)()).subscribe(o)}_getCard(){return c(this._card,()=>new u(o.PaymentNotInitialized))}_mapToSquareBillingContact({firstName:e,lastName:t,address1:i,address2:n,city:r,stateOrProvinceCode:o,postalCode:a,countryCode:s,email:d,phone:c}){return{givenName:e,familyName:t,addressLines:[i,n],city:r,state:o,postalCode:a,countryCode:s,email:d,phone:c}}_chargeVerifyBuyer(e){return l(this,void 0,void 0,function*(){const{getCheckoutOrThrow:t,getBillingAddressOrThrow:i}=this._paymentIntegrationService.getState(),{outstandingBalance:n,cart:r}=t(),o={amount:n.toString(),billingContact:this._mapToSquareBillingContact(i()),currencyCode:r.currency.code,intent:a.CHARGE},s=yield this._getPayments().verifyBuyer(e,o);return s?s.token:\"\"})}_storeVerifyBuyer(e){return l(this,void 0,void 0,function*(){const{getBillingAddressOrThrow:t}=this._paymentIntegrationService.getState(),i={billingContact:this._mapToSquareBillingContact(t()),intent:a.STORE},n=yield this._getPayments().verifyBuyer(e,i);return n?n.token:\"\"})}}class y extends s{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}const m={body:{},headers:{},status:0};class p extends s{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||m;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}class f extends p{constructor(e){super(e,{message:\"There is a problem processing your payment. Please try again later.\"}),this.name=\"PaymentMethodInvalidError\",this.type=\"payment_method_invalid\"}}class v extends y{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class _ extends s{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}var g=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class b{constructor(e,t){this._paymentIntegrationService=e,this._squareV2PaymentProcessor=t}initialize(e){var t;return g(this,void 0,void 0,function*(){if(!(null===(t=null==e?void 0:e.squarev2)||void 0===t?void 0:t.containerId))throw new y('Unable to proceed because \"containerId\" argument is not provided.');const{methodId:i,squarev2:n}=e,{config:{testMode:r},initializationData:o}=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(i),{applicationId:a,locationId:s}=o||{};if(!a)throw new f;yield this._squareV2PaymentProcessor.initialize({applicationId:a,locationId:s,testMode:r}),yield this._squareV2PaymentProcessor.initializeCard(n)})}execute({payment:e}){return g(this,void 0,void 0,function*(){if(!e)throw new v([\"payment\"]);const{methodId:t,paymentData:i}=e,{shouldSaveInstrument:n,shouldSetAsDefaultInstrument:r}=\"object\"!=typeof(o=i)||null===o||void 0!==o.shouldSaveInstrument&&\"boolean\"!=typeof o.shouldSaveInstrument||void 0!==o.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof o.shouldSetAsDefaultInstrument?{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1}:i;var o;yield this._paymentIntegrationService.submitOrder();const a=i&&function(e){return Boolean(e.instrumentId)}(i)?yield this._getVaultedInstrumentPayload(t,i):yield this._getCardPayload(t,n);yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e),{paymentData:{formattedPayload:Object.assign(Object.assign({},a),{vault_payment_instrument:n||!1,set_as_default_stored_instrument:r||!1})}}))})}finalize(){return Promise.reject(new _)}deinitialize(){return this._squareV2PaymentProcessor.deinitialize()}shouldVerify(){const{features:e}=this._paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings;return e[\"PROJECT-3828.add_3ds_support_on_squarev2\"]}_getCardPayload(e,t){return g(this,void 0,void 0,function*(){const{getPaymentMethodOrThrow:i}=this._paymentIntegrationService.getState(),{initializationData:n}=i(e),r=yield this._squareV2PaymentProcessor.tokenize();if(n&&\"isSquareV2ApiV2Enabled\"in n?!n.isSquareV2ApiV2Enabled:!this.shouldVerify())return{credit_card_token:{token:r}};let o={nonce:r,token:yield this._squareV2PaymentProcessor.verifyBuyer(r,a.CHARGE)};if(t){const e=yield this._squareV2PaymentProcessor.tokenize();o=Object.assign(Object.assign({},o),{store_card_nonce:e,store_card_token:yield this._squareV2PaymentProcessor.verifyBuyer(e,a.STORE)})}return{credit_card_token:{token:JSON.stringify(o)}}})}_getVaultedInstrumentPayload(e,t){return g(this,void 0,void 0,function*(){const{getPaymentMethodOrThrow:i}=this._paymentIntegrationService.getState(),{initializationData:n}=i(e),{instrumentId:r}=t,o=(n&&\"isSquareV2ApiV2Enabled\"in n?n.isSquareV2ApiV2Enabled:this.shouldVerify())?yield this._squareV2PaymentProcessor.verifyBuyer(yield this._getSquareCardIdOrThrow(e,r),a.CHARGE):void 0;return{bigpay_token:Object.assign({token:r},o&&{three_d_secure:{token:o}})}})}_getSquareCardIdOrThrow(e,t){return g(this,void 0,void 0,function*(){const i=yield this._paymentIntegrationService.loadPaymentMethod(e,{params:{method:e,bigpayToken:t}}),{initializationData:n}=i.getPaymentMethodOrThrow(e),{cardId:r}=n||{};if(!r)throw new v([\"cardId\"]);return r})}}class S extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var I;!function(e){e.LIVE=\"https://web.squarecdn.com/v1/square.js\",e.SANDBOX=\"https://sandbox.web.squarecdn.com/v1/square.js\"}(I||(I={}));class P{constructor(e){this._scriptLoader=e}load(e=!1){return t=this,i=void 0,r=function*(){return yield this._scriptLoader.loadScript(e?I.SANDBOX:I.LIVE),function(e){if(!function(e){return\"Square\"in e}(e))throw new S}(window),window.Square},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(e){e(i)})).then(a,s)}d((r=r.apply(t,i||[])).next())});// removed by dead control flow\n var t, i, n, r; }}const w=(z=t=>new b(t,new h(new P((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),t)),C=[{id:\"squarev2\"}],Object.assign(z,{resolveIds:C}));var z,C;\n//# sourceMappingURL=squarev2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMvc3F1YXJldjIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdLLFFBQVEsc0JBQXNCLGVBQWUsTUFBTSx1VEFBdVQsa0JBQWtCLG1CQUFtQixtS0FBbUssZ0JBQWdCLHNFQUFzRSxTQUFTLGFBQWEseVNBQXlTLFNBQVMsR0FBRyxrQkFBa0IsZUFBZSxrQkFBa0IsVUFBVSx3SEFBd0gsc0hBQXNILHdIQUF3SCw2SEFBNkgsNEZBQTRGLGlGQUFpRixhQUFhLGtDQUFrQyxTQUFTLEdBQUcsd0JBQXdCLHlDQUF5QyxjQUFjLElBQUksYUFBYSxTQUFTLE1BQU0sY0FBYyxJQUFJLGNBQWMsU0FBUyxNQUFNLGNBQWMsTUFBTSxnRUFBZ0UsS0FBSyxhQUFhLCtCQUErQixHQUFHLFFBQVEsaUJBQWlCLHVEQUF1RCxZQUFZLHdDQUF3QyxFQUFFLHdDQUF3Qyx5Q0FBeUMsK0JBQStCLEVBQUUsZUFBZSx3Q0FBd0MsME1BQTBNLEVBQUUsZ0JBQWdCLDJDQUEyQyxFQUFFLHdDQUF3QyxNQUFNLGFBQWEsb0VBQW9FLHdFQUF3RSxFQUFFLEdBQUcsSUFBSSw0QkFBNEIscUJBQXFCLEVBQUUsVUFBVSxvRkFBb0YsRUFBRSxXQUFXLHdDQUF3Qyx5Q0FBeUMsOEJBQThCLDBDQUEwQyxTQUFTLEVBQUUsb0NBQW9DLHlCQUF5QixvRUFBb0UsZUFBZSxFQUFFLGlCQUFpQix3Q0FBd0MseUVBQXlFLEVBQUUsZUFBZSw0REFBNEQsZ0NBQWdDLHdLQUF3SywrQ0FBQyxPQUFPLE9BQU8sMkNBQUMsWUFBWSxtREFBQyxLQUFLLE1BQU0sUUFBUSxzQkFBc0Isc0JBQXNCLEdBQUcsd0RBQXdELEVBQUUsb0VBQUMsaUJBQWlCLFdBQVcsd0RBQXdELDRCQUE0QixxSEFBcUgsRUFBRSxPQUFPLHVHQUF1RyxzQkFBc0Isd0NBQXdDLE1BQU0sZ0RBQWdELDZDQUE2Qyw0QkFBNEIsUUFBUSxxSEFBcUgsOENBQThDLG9CQUFvQixFQUFFLHFCQUFxQix3Q0FBd0MsTUFBTSwyQkFBMkIsK0NBQStDLG1FQUFtRSw4Q0FBOEMsb0JBQW9CLEdBQUcsa0JBQWtCLGVBQWUsaUhBQWlILFNBQVMsT0FBTyxXQUFXLFdBQVcsa0JBQWtCLGVBQWUsbUJBQW1CLEdBQUcsRUFBRSxNQUFNLDBCQUEwQixNQUFNLHVKQUF1SixrQkFBa0IsZUFBZSxTQUFTLDhFQUE4RSw0RUFBNEUsa0JBQWtCLGVBQWUsK0VBQStFLFNBQVMsR0FBRyx5REFBeUQsYUFBYSxzREFBc0Qsa0JBQWtCLGNBQWMsbUtBQW1LLHdCQUF3Qix5Q0FBeUMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRyxRQUFRLGlCQUFpQixtRUFBbUUsY0FBYyxNQUFNLHdDQUF3Qyw2SkFBNkosTUFBTSxzQkFBc0IsSUFBSSxRQUFRLFdBQVcsc0JBQXNCLHdFQUF3RSw2QkFBNkIsT0FBTyxrQkFBa0IsaURBQWlELHdDQUF3Qyx5REFBeUQsRUFBRSxTQUFTLFVBQVUsRUFBRSx3Q0FBd0MsK0JBQStCLE1BQU0seUJBQXlCLElBQUksc0RBQXNELHdNQUF3TSx3REFBd0QsR0FBRyxNQUFNLG9EQUFvRCx1QkFBdUIsK0JBQStCLGlGQUFpRixrRkFBa0YsS0FBSyxhQUFhLCtDQUErQyxLQUFLLHNFQUFzRSxHQUFHLEdBQUcsRUFBRSxXQUFXLDZCQUE2QixlQUFlLHFEQUFxRCxlQUFlLE1BQU0sV0FBVyxxRkFBcUYscURBQXFELHFCQUFxQix3Q0FBd0MsTUFBTSwwQkFBMEIsNkNBQTZDLHFCQUFxQix3REFBd0QseUZBQXlGLG1CQUFtQixVQUFVLE9BQU8sNEVBQTRFLE1BQU0sd0RBQXdELGdDQUFnQyxLQUFLLGdHQUFnRyxFQUFFLE9BQU8sbUJBQW1CLDBCQUEwQixFQUFFLGtDQUFrQyx3Q0FBd0MsTUFBTSwwQkFBMEIsNkNBQTZDLHFCQUFxQixPQUFPLGVBQWUsOExBQThMLE9BQU8sNEJBQTRCLFFBQVEsS0FBSyxnQkFBZ0IsU0FBUyxHQUFHLEVBQUUsNkJBQTZCLHdDQUF3QyxtRUFBbUUsUUFBUSx3QkFBd0IsR0FBRyxxQkFBcUIsK0JBQStCLFNBQVMsT0FBTyw4QkFBOEIsU0FBUyxHQUFHLGtCQUFrQixlQUFlLCtNQUErTSxNQUFNLGFBQWEsMkdBQTJHLFNBQVMsR0FBRyxRQUFRLGVBQWUscUJBQXFCLFdBQVcscUNBQXFDLDJFQUEyRSxnQkFBZ0IsbUJBQW1CLGdCQUFnQix1QkFBdUIsNENBQTRDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGdFQUFnRSxLQUFLLGFBQWEsK0JBQStCLEVBQUU7QUFBQSxpQkFBVyxFQUFFLGtDQUFrQywyRUFBQyxZQUFZLGNBQWMsbUJBQW1CLGFBQWEsR0FBRyxRQUFtRDtBQUNuNVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zcXVhcmV2Mi5qcz82MTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtnZXRTY3JpcHRMb2FkZXIgYXMgZX1mcm9tXCJAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlclwiO2ltcG9ydHtmcm9tRXZlbnQgYXMgdCxtZXJnZSBhcyBpfWZyb21cInJ4anNcIjtpbXBvcnR7ZGlzdGluY3RVbnRpbENoYW5nZWQgYXMgbixtYXAgYXMgcn1mcm9tXCJyeGpzL29wZXJhdG9yc1wiO3ZhciBvLGE7Y2xhc3MgcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGV8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpLHRoaXMubmFtZT1cIlN0YW5kYXJkRXJyb3JcIix0aGlzLnR5cGU9XCJzdGFuZGFyZFwiLHQ9bmV3LnRhcmdldC5wcm90b3R5cGUsT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQpOnRoaXMuX19wcm90b19fPXQsXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxuZXcudGFyZ2V0KTp0aGlzLnN0YWNrPW5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrfX1jbGFzcyBkIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoaXx8XCJQYXltZW50IGNhbm5vdCBiZSBwcm9jZXNzZWQgZm9yIHRoaXMgb3JkZXIsIHBsZWFzZSBzZWxlY3QgYW5vdGhlciBwYXltZW50IG1ldGhvZFwiKSx0aGlzLnR5cGU9XCJjdXN0b21fcHJvdmlkZXJfZXhlY3V0ZV9lcnJvclwiLHRoaXMubmFtZT10LHRoaXMuc3VidHlwZT1lfX1mdW5jdGlvbiBjKGUsdCl7aWYobnVsbD09ZSl0aHJvdyB0P3QoKTpuZXcgRXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIik7cmV0dXJuIGV9IWZ1bmN0aW9uKGUpe2VbZS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkPTBdPVwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZFwiLGVbZS5DdXN0b21lck5vdEluaXRpYWxpemVkPTFdPVwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZFwiLGVbZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ9Ml09XCJQYXltZW50Tm90SW5pdGlhbGl6ZWRcIixlW2UuU2hpcHBpbmdOb3RJbml0aWFsaXplZD0zXT1cIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWRcIixlW2UuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZD00XT1cIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWRcIn0ob3x8KG89e30pKTtjbGFzcyB1IGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBvLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIG8uUGF5bWVudE5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIG8uU2hpcHBpbmdOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugby5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIn19KGUpKSx0aGlzLnN1YnR5cGU9ZSx0aGlzLm5hbWU9XCJOb3RJbml0aWFsaXplZEVycm9yXCIsdGhpcy50eXBlPVwibm90X2luaXRpYWxpemVkXCJ9fSFmdW5jdGlvbihlKXtlLkNIQVJHRT1cIkNIQVJHRVwiLGUuU1RPUkU9XCJTVE9SRVwifShhfHwoYT17fSkpO3ZhciBsPWZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKGZ1bmN0aW9uKHIsbyl7ZnVuY3Rpb24gYShlKXt0cnl7ZChuLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Qobi50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gZChlKXt2YXIgdDtlLmRvbmU/cihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkoZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKGEscyl9ZCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIGh7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9zY3JpcHRMb2FkZXI9ZSx0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlPXR9aW5pdGlhbGl6ZSh7dGVzdE1vZGU6ZSxhcHBsaWNhdGlvbklkOnQsbG9jYXRpb25JZDppfSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQoZSk7dGhpcy5fcGF5bWVudHM9bi5wYXltZW50cyh0LGkpfSl9ZGVpbml0aWFsaXplKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RoaXMuX2Zvcm1WYWxpZGF0aW9uU3Vic2NyaXB0aW9uJiZ0aGlzLl9mb3JtVmFsaWRhdGlvblN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuX2NhcmQmJih5aWVsZCB0aGlzLl9jYXJkLmRlc3Ryb3koKSksdGhpcy5fZm9ybVZhbGlkYXRpb25TdWJzY3JpcHRpb249dm9pZCAwLHRoaXMuX2NhcmQ9dm9pZCAwLHRoaXMuX3BheW1lbnRzPXZvaWQgMH0pfWluaXRpYWxpemVDYXJkKHtjb250YWluZXJJZDplLHN0eWxlOnQsb25WYWxpZGF0aW9uQ2hhbmdlOml9KXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7cG9zdGFsQ29kZTpufT10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0QmlsbGluZ0FkZHJlc3MoKXx8e307dGhpcy5fY2FyZD15aWVsZCB0aGlzLl9nZXRQYXltZW50cygpLmNhcmQoKSx5aWVsZCB0aGlzLl9jYXJkLmF0dGFjaChgIyR7ZX1gKTt0cnl7eWllbGQgdGhpcy5fY2FyZC5jb25maWd1cmUoe3Bvc3RhbENvZGU6bixzdHlsZTp0fSl9Y2F0Y2goZSl7fWkmJih0aGlzLl9mb3JtVmFsaWRhdGlvblN1YnNjcmlwdGlvbj10aGlzLl9zdWJzY3JpYmVUb0Zvcm1WYWxpZGF0aW9uKHRoaXMuX2NhcmQsaSkpfSl9dG9rZW5pemUoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCB0aGlzLl9nZXRDYXJkKCkudG9rZW5pemUoKTtpZihcIk9LXCIhPT1lLnN0YXR1c3x8IWUudG9rZW4pe2xldCB0PWBUb2tlbml6YXRpb24gZmFpbGVkIHdpdGggc3RhdHVzOiAke2Uuc3RhdHVzfWA7dGhyb3cgZS5lcnJvcnMmJih0Kz1gIGFuZCBlcnJvcnM6ICR7SlNPTi5zdHJpbmdpZnkoZS5lcnJvcnMpfWApLG5ldyBkKFwicGF5bWVudC5lcnJvcnMuY2FyZF9lcnJvclwiLFwiU3F1YXJlVjJUb2tlbml6YXRpb25FcnJvclwiLHQpfXJldHVybiBlLnRva2VufSl9dmVyaWZ5QnV5ZXIoZSx0KXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7cmV0dXJuIHQ9PT1hLkNIQVJHRT90aGlzLl9jaGFyZ2VWZXJpZnlCdXllcihlKTp0aGlzLl9zdG9yZVZlcmlmeUJ1eWVyKGUpfSl9X2dldFBheW1lbnRzKCl7cmV0dXJuIGModGhpcy5fcGF5bWVudHMsKCk9Pm5ldyB1KG8uUGF5bWVudE5vdEluaXRpYWxpemVkKSl9X3N1YnNjcmliZVRvRm9ybVZhbGlkYXRpb24oZSxvKXtjb25zdCBhPVtcImNhcmROdW1iZXJcIixcImN2dlwiXSxzPW5ldyBTZXQoYSksZD1bXCJmb2N1c0NsYXNzQWRkZWRcIixcImZvY3VzQ2xhc3NSZW1vdmVkXCIsXCJlcnJvckNsYXNzQWRkZWRcIixcImVycm9yQ2xhc3NSZW1vdmVkXCIsXCJjYXJkQnJhbmRDaGFuZ2VkXCIsXCJwb3N0YWxDb2RlQ2hhbmdlZFwiXS5tYXAoaT0+dChlLGkpKTtyZXR1cm4gaSguLi5kKS5waXBlKHIoZT0+e2NvbnN0e2RldGFpbDp7ZmllbGQ6dCxjdXJyZW50U3RhdGU6e2lzQ29tcGxldGVseVZhbGlkOml9fX09ZTtyZXR1cm4gYS5pbmNsdWRlcyh0KSYmc1tpP1wiZGVsZXRlXCI6XCJhZGRcIl0odCksMD09PXMuc2l6ZX0pLG4oKSkuc3Vic2NyaWJlKG8pfV9nZXRDYXJkKCl7cmV0dXJuIGModGhpcy5fY2FyZCwoKT0+bmV3IHUoby5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKX1fbWFwVG9TcXVhcmVCaWxsaW5nQ29udGFjdCh7Zmlyc3ROYW1lOmUsbGFzdE5hbWU6dCxhZGRyZXNzMTppLGFkZHJlc3MyOm4sY2l0eTpyLHN0YXRlT3JQcm92aW5jZUNvZGU6byxwb3N0YWxDb2RlOmEsY291bnRyeUNvZGU6cyxlbWFpbDpkLHBob25lOmN9KXtyZXR1cm57Z2l2ZW5OYW1lOmUsZmFtaWx5TmFtZTp0LGFkZHJlc3NMaW5lczpbaSxuXSxjaXR5OnIsc3RhdGU6byxwb3N0YWxDb2RlOmEsY291bnRyeUNvZGU6cyxlbWFpbDpkLHBob25lOmN9fV9jaGFyZ2VWZXJpZnlCdXllcihlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7Z2V0Q2hlY2tvdXRPclRocm93OnQsZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93Oml9PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSx7b3V0c3RhbmRpbmdCYWxhbmNlOm4sY2FydDpyfT10KCksbz17YW1vdW50Om4udG9TdHJpbmcoKSxiaWxsaW5nQ29udGFjdDp0aGlzLl9tYXBUb1NxdWFyZUJpbGxpbmdDb250YWN0KGkoKSksY3VycmVuY3lDb2RlOnIuY3VycmVuY3kuY29kZSxpbnRlbnQ6YS5DSEFSR0V9LHM9eWllbGQgdGhpcy5fZ2V0UGF5bWVudHMoKS52ZXJpZnlCdXllcihlLG8pO3JldHVybiBzP3MudG9rZW46XCJcIn0pfV9zdG9yZVZlcmlmeUJ1eWVyKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHtnZXRCaWxsaW5nQWRkcmVzc09yVGhyb3c6dH09dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLGk9e2JpbGxpbmdDb250YWN0OnRoaXMuX21hcFRvU3F1YXJlQmlsbGluZ0NvbnRhY3QodCgpKSxpbnRlbnQ6YS5TVE9SRX0sbj15aWVsZCB0aGlzLl9nZXRQYXltZW50cygpLnZlcmlmeUJ1eWVyKGUsaSk7cmV0dXJuIG4/bi50b2tlbjpcIlwifSl9fWNsYXNzIHkgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLlwiKSx0aGlzLm5hbWU9XCJJbnZhbGlkQXJndW1lbnRFcnJvclwiLHRoaXMudHlwZT1cImludmFsaWRfYXJndW1lbnRcIn19Y29uc3QgbT17Ym9keTp7fSxoZWFkZXJzOnt9LHN0YXR1czowfTtjbGFzcyBwIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHttZXNzYWdlOnQsZXJyb3JzOml9PXt9KXtjb25zdHtib2R5Om4saGVhZGVyczpyLHN0YXR1czpvfT1lfHxtO3N1cGVyKHR8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpLHRoaXMubmFtZT1cIlJlcXVlc3RFcnJvclwiLHRoaXMudHlwZT1cInJlcXVlc3RcIix0aGlzLmJvZHk9bix0aGlzLmhlYWRlcnM9cix0aGlzLnN0YXR1cz1vLHRoaXMuZXJyb3JzPWl8fFtdfX1jbGFzcyBmIGV4dGVuZHMgcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlLHttZXNzYWdlOlwiVGhlcmUgaXMgYSBwcm9ibGVtIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwifSksdGhpcy5uYW1lPVwiUGF5bWVudE1ldGhvZEludmFsaWRFcnJvclwiLHRoaXMudHlwZT1cInBheW1lbnRfbWV0aG9kX2ludmFsaWRcIn19Y2xhc3MgdiBleHRlbmRzIHl7Y29uc3RydWN0b3IoZSl7bGV0IHQ9XCJVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuXCI7ZSYmKHQ9YCR7dH0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7ZS5qb2luKFwiLCBcIil9LmApLHN1cGVyKHQpLHRoaXMubmFtZT1cIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvclwifX1jbGFzcyBfIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS5cIiksdGhpcy5uYW1lPVwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yXCIsdGhpcy50eXBlPVwib3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZFwifX12YXIgZz1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKShmdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2Qobi5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtkKG4udGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ7ZS5kb25lP3IoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2YgaT90Om5ldyBpKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihhLHMpfWQoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBie2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZT1lLHRoaXMuX3NxdWFyZVYyUGF5bWVudFByb2Nlc3Nvcj10fWluaXRpYWxpemUoZSl7dmFyIHQ7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCEobnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuc3F1YXJldjIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbnRhaW5lcklkKSl0aHJvdyBuZXcgeSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2NvbnN0e21ldGhvZElkOmksc3F1YXJldjI6bn09ZSx7Y29uZmlnOnt0ZXN0TW9kZTpyfSxpbml0aWFsaXphdGlvbkRhdGE6b309dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldFBheW1lbnRNZXRob2RPclRocm93KGkpLHthcHBsaWNhdGlvbklkOmEsbG9jYXRpb25JZDpzfT1vfHx7fTtpZighYSl0aHJvdyBuZXcgZjt5aWVsZCB0aGlzLl9zcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh7YXBwbGljYXRpb25JZDphLGxvY2F0aW9uSWQ6cyx0ZXN0TW9kZTpyfSkseWllbGQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemVDYXJkKG4pfSl9ZXhlY3V0ZSh7cGF5bWVudDplfSl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCFlKXRocm93IG5ldyB2KFtcInBheW1lbnRcIl0pO2NvbnN0e21ldGhvZElkOnQscGF5bWVudERhdGE6aX09ZSx7c2hvdWxkU2F2ZUluc3RydW1lbnQ6bixzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OnJ9PVwib2JqZWN0XCIhPXR5cGVvZihvPWkpfHxudWxsPT09b3x8dm9pZCAwIT09by5zaG91bGRTYXZlSW5zdHJ1bWVudCYmXCJib29sZWFuXCIhPXR5cGVvZiBvLnNob3VsZFNhdmVJbnN0cnVtZW50fHx2b2lkIDAhPT1vLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQmJlwiYm9vbGVhblwiIT10eXBlb2Ygby5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50P3tzaG91bGRTYXZlSW5zdHJ1bWVudDohMSxzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiExfTppO3ZhciBvO3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtjb25zdCBhPWkmJmZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKGUuaW5zdHJ1bWVudElkKX0oaSk/eWllbGQgdGhpcy5fZ2V0VmF1bHRlZEluc3RydW1lbnRQYXlsb2FkKHQsaSk6eWllbGQgdGhpcy5fZ2V0Q2FyZFBheWxvYWQodCxuKTt5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtwYXltZW50RGF0YTp7Zm9ybWF0dGVkUGF5bG9hZDpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYSkse3ZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDpufHwhMSxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpyfHwhMX0pfX0pKX0pfWZpbmFsaXplKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBfKX1kZWluaXRpYWxpemUoKXtyZXR1cm4gdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLmRlaW5pdGlhbGl6ZSgpfXNob3VsZFZlcmlmeSgpe2NvbnN0e2ZlYXR1cmVzOmV9PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5jaGVja291dFNldHRpbmdzO3JldHVybiBlW1wiUFJPSkVDVC0zODI4LmFkZF8zZHNfc3VwcG9ydF9vbl9zcXVhcmV2MlwiXX1fZ2V0Q2FyZFBheWxvYWQoZSx0KXtyZXR1cm4gZyh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7Z2V0UGF5bWVudE1ldGhvZE9yVGhyb3c6aX09dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHtpbml0aWFsaXphdGlvbkRhdGE6bn09aShlKSxyPXlpZWxkIHRoaXMuX3NxdWFyZVYyUGF5bWVudFByb2Nlc3Nvci50b2tlbml6ZSgpO2lmKG4mJlwiaXNTcXVhcmVWMkFwaVYyRW5hYmxlZFwiaW4gbj8hbi5pc1NxdWFyZVYyQXBpVjJFbmFibGVkOiF0aGlzLnNob3VsZFZlcmlmeSgpKXJldHVybntjcmVkaXRfY2FyZF90b2tlbjp7dG9rZW46cn19O2xldCBvPXtub25jZTpyLHRva2VuOnlpZWxkIHRoaXMuX3NxdWFyZVYyUGF5bWVudFByb2Nlc3Nvci52ZXJpZnlCdXllcihyLGEuQ0hBUkdFKX07aWYodCl7Y29uc3QgZT15aWVsZCB0aGlzLl9zcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IudG9rZW5pemUoKTtvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSx7c3RvcmVfY2FyZF9ub25jZTplLHN0b3JlX2NhcmRfdG9rZW46eWllbGQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLnZlcmlmeUJ1eWVyKGUsYS5TVE9SRSl9KX1yZXR1cm57Y3JlZGl0X2NhcmRfdG9rZW46e3Rva2VuOkpTT04uc3RyaW5naWZ5KG8pfX19KX1fZ2V0VmF1bHRlZEluc3RydW1lbnRQYXlsb2FkKGUsdCl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0e2dldFBheW1lbnRNZXRob2RPclRocm93Oml9PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSx7aW5pdGlhbGl6YXRpb25EYXRhOm59PWkoZSkse2luc3RydW1lbnRJZDpyfT10LG89KG4mJlwiaXNTcXVhcmVWMkFwaVYyRW5hYmxlZFwiaW4gbj9uLmlzU3F1YXJlVjJBcGlWMkVuYWJsZWQ6dGhpcy5zaG91bGRWZXJpZnkoKSk/eWllbGQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLnZlcmlmeUJ1eWVyKHlpZWxkIHRoaXMuX2dldFNxdWFyZUNhcmRJZE9yVGhyb3coZSxyKSxhLkNIQVJHRSk6dm9pZCAwO3JldHVybntiaWdwYXlfdG9rZW46T2JqZWN0LmFzc2lnbih7dG9rZW46cn0sbyYme3RocmVlX2Rfc2VjdXJlOnt0b2tlbjpvfX0pfX0pfV9nZXRTcXVhcmVDYXJkSWRPclRocm93KGUsdCl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChlLHtwYXJhbXM6e21ldGhvZDplLGJpZ3BheVRva2VuOnR9fSkse2luaXRpYWxpemF0aW9uRGF0YTpufT1pLmdldFBheW1lbnRNZXRob2RPclRocm93KGUpLHtjYXJkSWQ6cn09bnx8e307aWYoIXIpdGhyb3cgbmV3IHYoW1wiY2FyZElkXCJdKTtyZXR1cm4gcn0pfX1jbGFzcyBTIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaXMgbm90IGxvYWRlZCBvciByZWFkeSB0byBiZSB1c2VkLlwiKSx0aGlzLm5hbWU9XCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvclwiLHRoaXMudHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZVwifX12YXIgSTshZnVuY3Rpb24oZSl7ZS5MSVZFPVwiaHR0cHM6Ly93ZWIuc3F1YXJlY2RuLmNvbS92MS9zcXVhcmUuanNcIixlLlNBTkRCT1g9XCJodHRwczovL3NhbmRib3gud2ViLnNxdWFyZWNkbi5jb20vdjEvc3F1YXJlLmpzXCJ9KEl8fChJPXt9KSk7Y2xhc3MgUHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zY3JpcHRMb2FkZXI9ZX1sb2FkKGU9ITEpe3JldHVybiB0PXRoaXMsaT12b2lkIDAscj1mdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoZT9JLlNBTkRCT1g6SS5MSVZFKSxmdW5jdGlvbihlKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuXCJTcXVhcmVcImluIGV9KGUpKXRocm93IG5ldyBTfSh3aW5kb3cpLHdpbmRvdy5TcXVhcmV9LG5ldygobj12b2lkIDApfHwobj1Qcm9taXNlKSkoZnVuY3Rpb24oZSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtkKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7ZChyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBkKHQpe3ZhciBpO3QuZG9uZT9lKHQudmFsdWUpOihpPXQudmFsdWUsaSBpbnN0YW5jZW9mIG4/aTpuZXcgbihmdW5jdGlvbihlKXtlKGkpfSkpLnRoZW4oYSxzKX1kKChyPXIuYXBwbHkodCxpfHxbXSkpLm5leHQoKSl9KTt2YXIgdCxpLG4scn19Y29uc3Qgdz0oej10PT5uZXcgYih0LG5ldyBoKG5ldyBQKGUoKSksdCkpLEM9W3tpZDpcInNxdWFyZXYyXCJ9XSxPYmplY3QuYXNzaWduKHose3Jlc29sdmVJZHM6Q30pKTt2YXIgeixDO2V4cG9ydHt3IGFzIGNyZWF0ZVNxdWFyZVYyUGF5bWVudFN0cmF0ZWd5fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNxdWFyZXYyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/squarev2.js\n\n}");

/***/ })

}]);