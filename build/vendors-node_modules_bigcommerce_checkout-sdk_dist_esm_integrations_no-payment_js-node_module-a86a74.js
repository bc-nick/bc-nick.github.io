"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["vendors-node_modules_bigcommerce_checkout-sdk_dist_esm_integrations_no-payment_js-node_module-a86a74"],{

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/no-payment.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/no-payment.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNoPaymentStrategy: () => (/* binding */ o)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\nclass t extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class r extends t{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class n{constructor(e){this._paymentIntegrationService=e}execute(t,r){return n=this,o=void 0,a=function*(){yield this._paymentIntegrationService.submitOrder((0,lodash__WEBPACK_IMPORTED_MODULE_0__.omit)(t,\"payment\"),r)},new((i=void 0)||(i=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(r,s)}c((a=a.apply(n,o||[])).next())});// removed by dead control flow\n var n, o, i, a; }finalize(){return Promise.reject(new r)}initialize(){return Promise.resolve()}deinitialize(){return Promise.resolve()}}const o=(i=e=>new n(e),a=[{id:\"nopaymentdatarequired\"}],Object.assign(i,{resolveIds:a}));var i,a;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMvbm8tcGF5bWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFPZSxNQUFlQSxVQUFzQkMsTUFJaEQsV0FBQUMsQ0FBWUMsR0NYRCxJQUFxQ0MsRURZNUNDLE1BQU1GLEdBQVcscUNBSnJCLEtBQUFHLEtBQU8sZ0JBQ1AsS0FBQUMsS0FBTyxXQ1R5Q0gsYURjWkEsVUNiaENJLE9BQU9DLGVBQ1BELE9BQU9DLGVEWVFDLEtDWmVOLEdEWWZNLEtDVlJDLFVBQVlQLEVEWW9CLG1CQUE1QkgsTUFBTVcsa0JBQ2JYLE1BQU1XLGtCQUFrQkYsaUJBRXhCQSxLQUFLRyxNQUFRLElBQUlaLE1BQU1TLEtBQUtQLFNBQVNVLEtBRTdDLEVFZlcsTUFBTUMsVUFBMENkLEVBQzNELFdBQUFFLEdBQ0lHLE1BQU0sa0VBRU5LLEtBQUtKLEtBQU8sb0NBQ1pJLEtBQUtILEtBQU8saUNBQ2hCLEVDRlcsTUFBTVEsRUFDakIsV0FBQWIsQ0FBb0JjLEdBQUEsS0FBQUEsMkJBQUFBLENBQXdELENBRXRFLE9BQUFDLENBQVFDLEVBQTJCQyxHLDJDQUMvQlQsS0FBS00sMkJBQTJCSSxZQUFZQyw0Q0FBQUEsQ0FBS0gsRUFBUyxXQUFZQyxFQUNoRixFO2tCQUVBLFFBQUFHLEdBQ0ksT0FBT0MsUUFBUUMsT0FBTyxJQUFJVixFQUM5QixDQUVBLFVBQUFXLEdBQ0ksT0FBT0YsUUFBUUcsU0FDbkIsQ0FFQSxZQUFBQyxHQUNJLE9BQU9KLFFBQVFHLFNBQ25CLEVDcEJKLE1BSUEsR0NSSUUsRURLQUMsR0FDQyxJQUFJZCxFQUFxQ2MsR0NMMUNDLEVET3VELENBQUMsQ0FBRUMsR0FBSSwwQkNMdkR2QixPQUFPd0IsT0FBT0osRUFBUSxDQUFFRSxnQkFKcEIsSUFDWEYsRUFDQUUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL29yZGVyLWZpbmFsaXphdGlvbi1ub3QtcmVxdWlyZWQtZXJyb3IudHM/YjVhMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvbm8tcGF5bWVudC1pbnRlZ3JhdGlvbi9zcmMvbm8tcGF5bWVudC1kYXRhLXJlcXVpcmVkLXN0cmF0ZWd5LnRzPzE2MTciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL25vLXBheW1lbnQtaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1uby1wYXltZW50LXN0cmF0ZWd5LnRzPzU3MmEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB0cnlpbmcgdG8gbWFrZSBhbiBvcmRlciBmaW5hbGl6YXRpb24gcmVxdWVzdCBmb3IgYVxuICogcGF5bWVudCBtZXRob2QgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHN1Y2ggcHJvY2VkdXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1RoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ09yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBvbWl0IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb1BheW1lbnREYXRhUmVxdWlyZWRQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvbWl0KHBheWxvYWQsICdwYXltZW50JyksIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBOb1BheW1lbnREYXRhUmVxdWlyZWRQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9uby1wYXltZW50LWRhdGEtcmVxdWlyZWQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVOb1BheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxOb1BheW1lbnREYXRhUmVxdWlyZWRQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IG5ldyBOb1BheW1lbnREYXRhUmVxdWlyZWRQYXltZW50U3RyYXRlZ3kocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVOb1BheW1lbnRTdHJhdGVneSwgW3sgaWQ6ICdub3BheW1lbnRkYXRhcmVxdWlyZWQnIH1dKTtcbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIl0sIm5hbWVzIjpbIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInByb3RvdHlwZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInRoaXMiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiTm9QYXltZW50RGF0YVJlcXVpcmVkUGF5bWVudFN0cmF0ZWd5IiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJleGVjdXRlIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJzdWJtaXRPcmRlciIsIm9taXQiLCJmaW5hbGl6ZSIsIlByb21pc2UiLCJyZWplY3QiLCJpbml0aWFsaXplIiwicmVzb2x2ZSIsImRlaW5pdGlhbGl6ZSIsIm1vZHVsZSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJyZXNvbHZlSWRzIiwiaWQiLCJhc3NpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/no-payment.js\n\n}");

/***/ }),

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-pro.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-pro.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPayPalProPaymentStrategy: () => (/* binding */ F)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"./node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar o,d,c=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class u{constructor(e,t){this._paymentIntegrationService=e,this._cardinalClient=t}prepare(e){return c(this,void 0,void 0,function*(){yield this._cardinalClient.load(e.id,e.config.testMode),yield this._cardinalClient.configure(yield this._getClientToken(e))})}start(e,t,n,r){return c(this,void 0,void 0,function*(){const{getCardInstrument:s,getPaymentMethodOrThrow:o}=this._paymentIntegrationService.getState(),{payment:{methodId:d=\"\",paymentData:c={}}={}}=t,u=function(e){return Boolean(e.instrumentId)}(c)&&s(c.instrumentId),l=u?u.iin:r&&r.getBin();l&&(yield this._cardinalClient.runBinProcess(l));try{return yield e((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t,{payment:{paymentData:{threeDSecure:{token:o(d).clientToken}}}}),n)}catch(e){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))throw e;const n=yield this._cardinalClient.getThreeDSecureData(e.body.three_ds_result,this._getOrderData());if(!r)return void(yield this._paymentIntegrationService.submitPayment((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t.payment,{paymentData:{threeDSecure:n}})));yield r.submit((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t.payment,{paymentData:{threeDSecure:n}}))}})}_getClientToken(e){return c(this,void 0,void 0,function*(){return e.clientToken?e.clientToken:(yield this._paymentIntegrationService.loadPaymentMethod(e.id),this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e.id).clientToken||\"\")})}_getOrderData(){const e=this._paymentIntegrationService.getState(),t=e.getBillingAddressOrThrow(),n=e.getShippingAddress(),i=e.getCheckoutOrThrow(),r=e.getOrderOrThrow();return{billingAddress:t,shippingAddress:n,currencyCode:i.cart.currency.code,id:r.orderId.toString(),amount:i.cart.cartAmount}}}class l extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(o||(o={}));class h extends l{constructor(e){super(function(e){switch(e){case o.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case o.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case o.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case o.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case o.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case o.MissingCheckoutConfig:case o.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case o.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case o.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case o.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case o.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case o.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case o.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class m extends l{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(d||(d={}));class p extends l{constructor(e){super(function(e){switch(e){case d.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case d.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case d.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case d.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}const g=[100004,1010,1011,1020];var y,b,f,v,_,C,I;!function(e){e.SetupCompleted=\"payments.setupComplete\",e.Validated=\"payments.validated\"}(y||(y={})),function(e){e.Init=\"init\",e.Complete=\"complete\",e.Confirm=\"confirm\"}(b||(b={})),function(e){e.Success=\"SUCCESS\",e.NoAction=\"NOACTION\",e.Failure=\"FAILURE\",e.Error=\"ERROR\"}(f||(f={})),function(e){e.CCA=\"CCA\",e.Paypal=\"Paypal\",e.Wallet=\"Wallet\",e.VisaCheckout=\"VisaCheckout\",e.ApplePay=\"ApplePay\",e.DiscoverWallet=\"DiscoverWallet\"}(v||(v={})),function(e){e.BinProcess=\"bin.process\"}(_||(_={})),function(e){e.CCA=\"cca\"}(C||(C={})),function(e){e.Yes=\"Y\",e.No=\"N\"}(I||(I={}));class P{constructor(e){this._scriptLoader=e,this._provider=\"\",this._testMode=!1,this._configurationToken=\"\"}load(e,t=!1){return this._provider=e,this._testMode=t,this._sdk||(this._sdk=this._scriptLoader.load(e,t)),this._sdk.then(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)}configure(e){if(this._configurationToken){if(this._configurationToken===e)return Promise.resolve();this._sdk=this._scriptLoader.load(`${this._provider}.${Date.now()}`,this._testMode)}return this._getClientSDK().then(n=>new Promise((i,r)=>{n.on(y.SetupCompleted,()=>{n.off(y.SetupCompleted),n.off(y.Validated),this._configurationToken=e,i()}),n.on(y.Validated,e=>{n.off(y.SetupCompleted),n.off(y.Validated),e.ActionCode===f.Error&&((0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(g,e.ErrorNumber)&&r(new h(o.MissingPaymentMethod)),r(new m(e.ErrorDescription)))}),n.setup(b.Init,{jwt:e})}))}runBinProcess(e){return this._getClientSDK().then(t=>t.trigger(_.BinProcess,e).catch(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)).then(e=>{if(!e||!e.Status)throw new p(d.PaymentNotInitialized)})}getThreeDSecureData(e,t){return this._getClientSDK().then(n=>new Promise((i,r)=>{n.on(y.Validated,(e,t)=>{if(n.off(y.Validated),!t)return r(new m(e.ErrorDescription?e.ErrorDescription:\"An error was encountered while processing the transaction.\"));if(!e.ActionCode)return i({token:t});switch(e.ActionCode){case f.Success:return i({token:t});case f.NoAction:return e.ErrorNumber>0?r(new m(e.ErrorDescription)):e.Payment&&e.Payment.ExtendedData&&e.Payment.ExtendedData.SignatureVerification===I.Yes?i({token:t}):r(new m(\"Transaction signature could not be validated.\"));case f.Failure:return r(new m(\"User failed authentication or an error was encountered while processing the transaction.\"));case f.Error:return r(new m(e.ErrorDescription))}});const a={AcsUrl:e.acs_url,Payload:e.merchant_data},s=this._mapToPartialOrder(t,e.payer_auth_request);n.continue(C.CCA,a,s)}))}_mapToPartialOrder(e,t){const n={BillingAddress:this._mapToCardinalAddress(e.billingAddress)};return e.paymentData&&(n.Account=this._mapToCardinalAccount(e.paymentData)),e.billingAddress.email&&(n.Email1=e.billingAddress.email),e.shippingAddress&&(n.ShippingAddress=this._mapToCardinalAddress(e.shippingAddress)),{Consumer:n,OrderDetails:{OrderNumber:e.id,Amount:e.amount,CurrencyCode:e.currencyCode,OrderChannel:\"S\",TransactionId:t}}}_mapToCardinalAccount(e){return{AccountNumber:Number(e.ccNumber),ExpirationMonth:Number(e.ccExpiry.month),ExpirationYear:Number(e.ccExpiry.year),NameOnAccount:e.ccName,CardCode:Number(e.ccCvv)}}_mapToCardinalAddress(e){const t={FirstName:e.firstName,LastName:e.lastName,Address1:e.address1,City:e.city,State:e.stateOrProvince,PostalCode:e.postalCode,CountryCode:e.countryCode};return e.address2&&(t.Address2=e.address2),e.phone&&(t.Phone1=e.phone),t}_getClientSDK(){if(!this._sdk)throw new p(d.PaymentNotInitialized);return this._sdk}}class w extends l{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class S{constructor(e,t=window){this._scriptLoader=e,this._window=t}load(e,t){const n=t?\"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js\":\"https://songbird.cardinalcommerce.com/edge/v1/songbird.js\";return this._scriptLoader.loadScript(`${n}?v=${e}`).then(()=>{if(!this._window.Cardinal)throw new w;return this._window.Cardinal})}}class M extends l{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class O extends l{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class A extends M{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}var E,N=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})},k=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class D{constructor(e){this._paymentIntegrationService=e}execute(e,t){var n,i;return this._isHostedPaymentFormEnabled(null===(n=e.payment)||void 0===n?void 0:n.methodId,null===(i=e.payment)||void 0===i?void 0:i.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(e,t):this._executeWithoutHostedForm(e,t)}initialize(e){if(!this._isHostedPaymentFormEnabled(null==e?void 0:e.methodId,null==e?void 0:e.gatewayId)||!this._isHostedFieldAvailable(e))return this._shouldRenderHostedForm=!1,Promise.resolve();const t=e&&e.creditCard&&e.creditCard.form,n=this._paymentIntegrationService.getState(),{paymentSettings:{bigpayBaseUrl:i=\"\"}={}}=n.getStoreConfigOrThrow();if(!t)throw new M;const r=this._paymentIntegrationService.createHostedForm(i,t);return r.attach().then(()=>(this._shouldRenderHostedForm=!0,this._hostedForm=r,Promise.resolve()))}deinitialize(){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve()}finalize(){return Promise.reject(new O)}_executeWithoutHostedForm(e,t){return N(this,void 0,void 0,function*(){const{payment:n}=e,i=k(e,[\"payment\"]),r=n&&n.paymentData;if(!n||!r)throw new A([\"payment.paymentData\"]);yield this._paymentIntegrationService.submitOrder(i,t),yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:r}))})}_executeWithHostedForm(e,t){return N(this,void 0,void 0,function*(){const{payment:n}=e,i=k(e,[\"payment\"]),r=this._hostedForm;if(!r)throw new p(d.PaymentNotInitialized);if(!n||!n.methodId)throw new A([\"payment.methodId\"]);yield this._paymentIntegrationService.submitOrder(i,t),yield r.validate().then(()=>r.submit(n))})}_isHostedPaymentFormEnabled(e,t){return!!e&&!0===this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}_isHostedFieldAvailable(e){return!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.values)(e&&e.creditCard&&e.creditCard.form.fields).every(lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)}}!function(e){e.ACKNOWLEDGE=\"ACKNOWLEDGE\",e.FINALIZE=\"FINALIZE\",e.INITIALIZE=\"INITIALIZE\"}(E||(E={}));const T=E;var x=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class z extends D{constructor(e,t){super(e),this.paymentIntegrationService=e,this.threeDSecureFlow=t}initialize(e){const t=Object.create(null,{initialize:{get:()=>super.initialize}});return x(this,void 0,void 0,function*(){yield t.initialize.call(this,e);const n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e.methodId);n.config.is3dsEnabled&&(yield this.threeDSecureFlow.prepare(n))})}execute(e,t){const n=Object.create(null,{execute:{get:()=>super.execute}});return x(this,void 0,void 0,function*(){const{payment:{methodId:i=\"\"}={}}=e,r=this.paymentIntegrationService.getState();return r.getPaymentStatus()===T.ACKNOWLEDGE?(yield this.paymentIntegrationService.submitOrder(Object.assign(Object.assign({},e),{payment:{methodId:i}}),t),Promise.resolve()):r.getPaymentMethodOrThrow(i).config.is3dsEnabled?this.threeDSecureFlow.start(n.execute.bind(this),e,t,this._hostedForm):n.execute.call(this,e,t)})}}const F=(U=t=>new z(t,new u(t,new P(new S((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())))),j=[{id:\"paypal\"}],Object.assign(U,{resolveIds:j}));var U,j;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMvcGF5cGFsLXByby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0lBRVlBLEVDQUFDLEUsa1NDYUcsTUFBTUMsRUFDakIsV0FBQUMsQ0FDWUMsRUFDQUMsR0FEQSxLQUFBRCwyQkFBQUEsRUFDQSxLQUFBQyxnQkFBQUEsQ0FDVCxDQUVHLE9BQUFDLENBQVFDLEcsOENBQ0pDLEtBQUtILGdCQUFnQkksS0FBS0YsRUFBT0csR0FBSUgsRUFBT0ksT0FBT0MsZ0JBQ25ESixLQUFLSCxnQkFBZ0JRLGdCQUFnQkwsS0FBS00sZ0JBQWdCUCxHQUNwRSxFLENBRU0sS0FBQVEsQ0FDRkMsRUFDQUMsRUFDQUMsRUFDQUMsRyx3Q0FFQSxNQUFNLGtCQUFFQyxFQUFpQix3QkFBRUMsR0FDdkJiLEtBQUtKLDJCQUEyQmtCLFlBRTVCQyxTQUFTLFNBQUVDLEVBQVcsR0FBRSxZQUFFQyxFQUFjLENBQUMsR0FBTSxDQUFDLEdBQU1SLEVBQ3hEUyxFQzVCQyxTQUNYQSxHQUVBLE9BQU9DLFFBQVNELEVBQWlDRSxhQUNyRCxDRHlCWUMsQ0FBb0JKLElBQWdCTCxFQUFrQkssRUFBWUcsY0FDaEVFLEVBQU1KLEVBQWFBLEVBQVdLLElBQU1aLEdBQWNBLEVBQVdhLFNBRS9ERixVQUNNdEIsS0FBS0gsZ0JBQWdCNEIsY0FBY0gsSUFHN0MsSUFDSSxhQUFhZCxFQUNUa0IsNkNBQUFBLENBQU1qQixFQUFTLENBQ1hNLFFBQVMsQ0FDTEUsWUFBYSxDQUNUVSxhQUFjLENBQUVDLE1BQU9mLEVBQXdCRyxHQUFVYSxpQkFJckVuQixFLENBRU4sTUFBT29CLEdBQ0wsSUVyRFcsQ0FBQ0EsR0FDSSxpQkFBVkEsR0FBZ0MsT0FBVkEsR0FBa0IsU0FBVUEsRUZxRG5ELENBQWVBLEtBQ2ZDLDRDQUFBQSxDQUFLRCxFQUFNRSxLQUFLQyxPQUFRLENBQUVDLEtBQU0sNEJBRWpDLE1BQU1KLEVBR1YsTUFB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QTVPLENBQVFDLEVBQTJCQyxHLHNHQUNyQyxNQUFRSyxTQUFTLFNBQUVDLEVBQVcsSUFBTyxDQUFDLEdBQU1QLEVBRXRDZ0MsRUFBUXpDLEtBQUtrUCwwQkFBMEJwTyxXQUU3QyxPQUFJMkIsRUFBTTZNLHFCQUF1QixFQUFtQkMsbUJBQzFDdlAsS0FBS2tQLDBCQUEwQlIsWUFBWSxPQUFELHdCQUVyQ2pPLEdBQU8sQ0FDVk0sUUFBUyxDQUFFQyxjQUVmTixHQUdHa0csUUFBUUMsV0FHZnBFLEVBQU01Qix3QkFBd0JHLEdBQVViLE9BQU9rUCxhQUN4Q3JQLEtBQUttUCxpQkFBaUI1TyxNQUN6QixFQUFNQyxRQUFRZ1AsS0FBS3hQLE1BQ25CUyxFQUNBQyxFQUNBVixLQUFLc08sYUFJTixFQUFNOU4sUUFBTyxVQUFDQyxFQUFTQyxFQUNsQyxFLEVDMUNKLE1BV0EsR0N0QkkrTyxFRFlBUCxHQUVBLElBQUlELEVBQ0FDLEVBQ0EsSUFBSXhQLEVBQ0F3UCxFQUNBLElBQUkvSSxFQUFlLElBQUlzRyxFQUFxQmlELDJFQUFBQSxPQ2pCcERDLEVEcUI4RCxDQUFDLENBQUV6UCxHQUFJLFdDbkI5RDhELE9BQU80TCxPQUFPSCxFQUFRLENBQUVFLGdCQUpwQixJQUNYRixFQUNBRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2NhcmRpbmFsLWludGVncmF0aW9uL3NyYy9jYXJkaW5hbC10aHJlZS1kLXNlY3VyZS1mbG93LnRzP2JjMzkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLXZhdWx0ZWQtaW5zdHJ1bWVudC50cz8xODBmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1mYWlsZWQtZXJyb3IudHM/MDdkZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvY2FyZGluYWwtaW50ZWdyYXRpb24vc3JjL2NhcmRpbmFsLnRzPzViZmMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2NhcmRpbmFsLWludGVncmF0aW9uL3NyYy9jYXJkaW5hbC1jbGllbnQudHM/MjIxNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvY2FyZGluYWwtaW50ZWdyYXRpb24vc3JjL2NhcmRpbmFsLXNjcmlwdC1sb2FkZXIudHM/M2JiMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9wYXltZW50LXN0YXR1cy10eXBlcy50cz8wYjgwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbi9zcmMvY3JlZGl0LWNhcmQtcGF5bWVudC1zdHJhdGVneS50cz8yODlmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXlwYWwtcHJvLWludGVncmF0aW9uL3NyYy9wYXlwYWwtcHJvLXBheW1lbnQtc3RyYXRlZ3kudHM/OGIxYSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLXByby1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLXBheXBhbC1wcm8tcGF5bWVudC1zdHJhdGVneS50cz8zYmJhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUge1xuICAgIENoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQsXG4gICAgQ3VzdG9tZXJOb3RJbml0aWFsaXplZCxcbiAgICBQYXltZW50Tm90SW5pdGlhbGl6ZWQsXG4gICAgU2hpcHBpbmdOb3RJbml0aWFsaXplZCxcbiAgICBTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgYSBtZXRob2QgcmVxdWlyZXMgYSBjZXJ0YWluIGluaXRpYWxpemF0aW9uIGNhbGwgdG8gYmVcbiAqIG1hZGUgZmlyc3QuIFNvbWUgb2JqZWN0cyBjYW4gYmUgY29uc3RydWN0ZWQgYnV0IHRoZXkgY2Fubm90IGJlIHVzZWQgdW50aWwgYVxuICogc2VwYXJhdGUgaW5pdGlhbGl6YXRpb24gY2FsbCBpcyBtYWRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbml0aWFsaXplZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEluaXRpYWxpemVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2luaXRpYWxpemVkJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbWVyZ2UsIHNvbWUgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEhvc3RlZEZvcm0sXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IENhcmRpbmFsQ2xpZW50LCB7IENhcmRpbmFsT3JkZXJEYXRhIH0gZnJvbSAnLi9jYXJkaW5hbC1jbGllbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkaW5hbFRocmVlRFNlY3VyZUZsb3cge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIF9jYXJkaW5hbENsaWVudDogQ2FyZGluYWxDbGllbnQsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgcHJlcGFyZShtZXRob2Q6IFBheW1lbnRNZXRob2QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2FyZGluYWxDbGllbnQubG9hZChtZXRob2QuaWQsIG1ldGhvZC5jb25maWcudGVzdE1vZGUpO1xuICAgICAgICBhd2FpdCB0aGlzLl9jYXJkaW5hbENsaWVudC5jb25maWd1cmUoYXdhaXQgdGhpcy5fZ2V0Q2xpZW50VG9rZW4obWV0aG9kKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoXG4gICAgICAgIGV4ZWN1dGU6IFBheW1lbnRTdHJhdGVneVsnZXhlY3V0ZSddLFxuICAgICAgICBwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgICAgICBob3N0ZWRGb3JtPzogSG9zdGVkRm9ybSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBnZXRDYXJkSW5zdHJ1bWVudCwgZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cgfSA9XG4gICAgICAgICAgICB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50OiB7IG1ldGhvZElkID0gJycsIHBheW1lbnREYXRhID0ge30gfSA9IHt9IH0gPSBwYXlsb2FkO1xuICAgICAgICBjb25zdCBpbnN0cnVtZW50ID1cbiAgICAgICAgICAgIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpICYmIGdldENhcmRJbnN0cnVtZW50KHBheW1lbnREYXRhLmluc3RydW1lbnRJZCk7XG4gICAgICAgIGNvbnN0IGJpbiA9IGluc3RydW1lbnQgPyBpbnN0cnVtZW50LmlpbiA6IGhvc3RlZEZvcm0gJiYgaG9zdGVkRm9ybS5nZXRCaW4oKTtcblxuICAgICAgICBpZiAoYmluKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jYXJkaW5hbENsaWVudC5ydW5CaW5Qcm9jZXNzKGJpbik7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGUoXG4gICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZCwge1xuICAgICAgICAgICAgICAgICAgICBwYXltZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlRFNlY3VyZTogeyB0b2tlbjogZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpLmNsaWVudFRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICAgICAhc29tZShlcnJvci5ib2R5LmVycm9ycywgeyBjb2RlOiAndGhyZWVfZF9zZWN1cmVfcmVxdWlyZWQnIH0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGhyZWVEU2VjdXJlID0gYXdhaXQgdGhpcy5fY2FyZGluYWxDbGllbnQuZ2V0VGhyZWVEU2VjdXJlRGF0YShcbiAgICAgICAgICAgICAgICBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRPcmRlckRhdGEoKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICghaG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZC5wYXltZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YTogeyB0aHJlZURTZWN1cmUgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgaG9zdGVkRm9ybS5zdWJtaXQoXG4gICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZC5wYXltZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7IHRocmVlRFNlY3VyZSB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldENsaWVudFRva2VuKG1ldGhvZDogUGF5bWVudE1ldGhvZCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGlmIChtZXRob2QuY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuY2xpZW50VG9rZW47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZC5pZCk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kLmlkKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbiB8fCAnJztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRPcmRlckRhdGEoKTogQ2FyZGluYWxPcmRlckRhdGEge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gc3RhdGUuZ2V0T3JkZXJPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjaGVja291dC5jYXJ0LmN1cnJlbmN5LmNvZGUsXG4gICAgICAgICAgICBpZDogb3JkZXIub3JkZXJJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgYW1vdW50OiBjaGVja291dC5jYXJ0LmNhcnRBbW91bnQsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbiAgICBWYXVsdGVkSW5zdHJ1bWVudCxcbn0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY051bWJlcicpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjQ3Z2JylcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWRJbnN0cnVtZW50ID0gKGluc3RydW1lbnQgYXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4pXG4gICAgICAgIC5mb3JtYXR0ZWRQYXlsb2FkO1xuXG4gICAgaWYgKCFmb3JtYXR0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEJvb2xlYW4oZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gJiYgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4udG9rZW4pXG4gICAgKTtcbn1cbiIsImltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLy8gSGF2ZSB0byB1c2UgYGFzYCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83Mzk4NzA0NC90eXBlZ3VhcmRpbmctYW4tdW5rbm93bi1uZXN0ZWQtb2JqZWN0IHNob3VsZCBiZSBmaXhlZCBpbiA0LjgrXG5jb25zdCBpc1JlcXVlc3RFcnJvciA9IChlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJlcXVlc3RFcnJvciA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2JvZHknIGluIGVycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZXF1ZXN0RXJyb3I7XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBwYXltZW50IG1ldGhvZCBleHBlcmllbmNlcyBzb21lIGtpbmQgb2ZcbiAqIGZhaWx1cmUgKGkuZS46IGl0cyBjbGllbnQgbGlicmFyeSByZXR1cm5zIGEgcmVqZWN0ZWQgcHJvbWlzZSkuIEFuZCB0aGVyZSBpc1xuICogbm8gb3RoZXIgZXJyb3IgdHlwZSB0aGF0IGlzIG1vcmUgc3BlY2lmaWMgdGhhbiB0aGlzIG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBoYXMgdGhyb3duIGFuIHVuZXhwZWN0ZWQgZXJyb3IuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUaHJlZURTZWN1cmUsIFRocmVlRFNlY3VyZVRva2VuIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBjb25zdCBDYXJkaW5hbFNpZ25hdHVyZVZhbGlkYXRpb25FcnJvcnMgPSBbMTAwMDA0LCAxMDEwLCAxMDExLCAxMDIwXTtcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbFNESyB7XG4gICAgY29uZmlndXJlKHBhcmFtczogQ2FyZGluYWxDb25maWd1cmF0aW9uKTogdm9pZDtcbiAgICBvbihwYXJhbXM6IENhcmRpbmFsRXZlbnRUeXBlLCBjYWxsYmFjazogQ2FyZGluYWxFdmVudE1hcFtDYXJkaW5hbEV2ZW50VHlwZV0pOiB2b2lkO1xuICAgIG9mZihwYXJhbXM6IENhcmRpbmFsRXZlbnRUeXBlKTogdm9pZDtcbiAgICBzZXR1cDxLIGV4dGVuZHMga2V5b2YgQ2FyZGluYWxJbml0aWFsaXphdGlvbkRhdGFNYXA+KFxuICAgICAgICBpbml0aWFsaXphdGlvblR5cGU6IEssXG4gICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogQ2FyZGluYWxJbml0aWFsaXphdGlvbkRhdGFNYXBbS10sXG4gICAgKTogdm9pZDtcbiAgICB0cmlnZ2VyKFxuICAgICAgICBldmVudDogQ2FyZGluYWxUcmlnZ2VyRXZlbnRzLFxuICAgICAgICBkYXRhPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Q2FyZGluYWxCaW5Qcm9jZXNzUmVzcG9uc2UgfCB2b2lkPjtcbiAgICBjb250aW51ZShcbiAgICAgICAgcGF5bWVudEJyYW5kOiBDYXJkaW5hbFBheW1lbnRCcmFuZCxcbiAgICAgICAgY29udGludWVPYmplY3Q6IENhcmRpbmFsQ29udGludWUsXG4gICAgICAgIG9yZGVyOiBDYXJkaW5hbFBhcnRpYWxPcmRlcixcbiAgICApOiB2b2lkO1xuICAgIHN0YXJ0KHBheW1lbnRCcmFuZDogQ2FyZGluYWxQYXltZW50QnJhbmQsIG9yZGVyOiBDYXJkaW5hbFBhcnRpYWxPcmRlciwgand0Pzogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgQ2FyZGluYWw/OiBDYXJkaW5hbFNESztcbn1cblxuZXhwb3J0IGVudW0gQ2FyZGluYWxFdmVudFR5cGUge1xuICAgIFNldHVwQ29tcGxldGVkID0gJ3BheW1lbnRzLnNldHVwQ29tcGxldGUnLFxuICAgIFZhbGlkYXRlZCA9ICdwYXltZW50cy52YWxpZGF0ZWQnLFxufVxuXG5leHBvcnQgdHlwZSBzZXR1cENvbXBsZXRlRm4gPSAoc2V0dXBDb21wbGV0ZURhdGE6IENhcmRpbmFsU2V0dXBDb21wbGV0ZWREYXRhKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgdmFsaWRhdGVkRm4gPSAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhLCBqd3Q/OiBzdHJpbmcpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxFdmVudE1hcCB7XG4gICAgW0NhcmRpbmFsRXZlbnRUeXBlLlNldHVwQ29tcGxldGVkXTogc2V0dXBDb21wbGV0ZUZuO1xuICAgIFtDYXJkaW5hbEV2ZW50VHlwZS5WYWxpZGF0ZWRdOiB2YWxpZGF0ZWRGbjtcbn1cblxuZXhwb3J0IHR5cGUgQ2FyZGluYWxDb25maWd1cmF0aW9uID0gUGFydGlhbDx7XG4gICAgbG9nZ2luZzoge1xuICAgICAgICBsZXZlbDogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudDoge1xuICAgICAgICB2aWV3OiBzdHJpbmc7XG4gICAgICAgIGZyYW1ld29yazogc3RyaW5nO1xuICAgICAgICBkaXNwbGF5TG9hZGluZzogYm9vbGVhbjtcbiAgICB9O1xufT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxTZXR1cENvbXBsZXRlZERhdGEge1xuICAgIHNlc3Npb25JZDogc3RyaW5nO1xuICAgIG1vZHVsZXM6IENhcmRpbmFsTW9kdWxlU3RhdGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbE1vZHVsZVN0YXRlIHtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgbW9kdWxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIENhcmRpbmFsSW5pdGlhbGl6YXRpb25UeXBlIHtcbiAgICBJbml0ID0gJ2luaXQnLFxuICAgIENvbXBsZXRlID0gJ2NvbXBsZXRlJyxcbiAgICBDb25maXJtID0gJ2NvbmZpcm0nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsSW5pdGlhbGl6YXRpb25EYXRhTWFwIHtcbiAgICBbQ2FyZGluYWxJbml0aWFsaXphdGlvblR5cGUuSW5pdF06IENhcmRpbmFsSW5pdFR5cGVEYXRhO1xuICAgIFtDYXJkaW5hbEluaXRpYWxpemF0aW9uVHlwZS5Db21wbGV0ZV06IENhcmRpbmFsQ29tcGxldGVUeXBlRGF0YTtcbiAgICBbQ2FyZGluYWxJbml0aWFsaXphdGlvblR5cGUuQ29uZmlybV06IENhcmRpbmFsQ29uZmlybVR5cGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsSW5pdFR5cGVEYXRhIHtcbiAgICBqd3Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbENvbXBsZXRlVHlwZURhdGEge1xuICAgIFN0YXR1czogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsQ29uZmlybVR5cGVEYXRhIHtcbiAgICBqd3Q6IHN0cmluZztcbiAgICBjYXJkaW5hbFJlc3BvbnNlSnd0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxWYWxpZGF0ZWREYXRhIHtcbiAgICBBY3Rpb25Db2RlPzogQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb247XG4gICAgRXJyb3JEZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIEVycm9yTnVtYmVyOiBudW1iZXI7XG4gICAgVmFsaWRhdGVkPzogYm9vbGVhbjtcbiAgICBQYXltZW50PzogQ2FyZGluYWxQYXltZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsUGF5bWVudCB7XG4gICAgRXh0ZW5kZWREYXRhPzogQ2FyZGluYWxDQ0FFeHRlbmRlZERhdGE7XG4gICAgUHJvY2Vzc29yVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgIFR5cGU6IENhcmRpbmFsUGF5bWVudFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxCaW5Qcm9jZXNzUmVzcG9uc2Uge1xuICAgIFN0YXR1czogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbENvbnRpbnVlIHtcbiAgICBBY3NVcmw6IHN0cmluZztcbiAgICBQYXlsb2FkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxQYXJ0aWFsT3JkZXIge1xuICAgIE9yZGVyRGV0YWlsczogQ2FyZGluYWxPcmRlckRldGFpbHM7XG4gICAgQ29uc3VtZXI/OiBDYXJkaW5hbENvbnN1bWVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsQ29uc3VtZXIge1xuICAgIEVtYWlsMT86IHN0cmluZztcbiAgICBFbWFpbDI/OiBzdHJpbmc7XG4gICAgU2hpcHBpbmdBZGRyZXNzPzogQ2FyZGluYWxBZGRyZXNzO1xuICAgIEJpbGxpbmdBZGRyZXNzPzogQ2FyZGluYWxBZGRyZXNzO1xuICAgIEFjY291bnQ/OiBDYXJkaW5hbEFjY291bnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxBY2NvdW50IHtcbiAgICBBY2NvdW50TnVtYmVyOiBudW1iZXI7XG4gICAgRXhwaXJhdGlvbk1vbnRoOiBudW1iZXI7XG4gICAgRXhwaXJhdGlvblllYXI6IG51bWJlcjtcbiAgICBOYW1lT25BY2NvdW50OiBzdHJpbmc7XG4gICAgQ2FyZENvZGU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbEFkZHJlc3Mge1xuICAgIEZ1bGxOYW1lPzogc3RyaW5nO1xuICAgIEZpcnN0TmFtZTogc3RyaW5nO1xuICAgIE1pZGRsZU5hbWU/OiBzdHJpbmc7XG4gICAgTGFzdE5hbWU6IHN0cmluZztcbiAgICBBZGRyZXNzMTogc3RyaW5nO1xuICAgIEFkZHJlc3MyPzogc3RyaW5nO1xuICAgIEFkZHJlc3MzPzogc3RyaW5nO1xuICAgIENpdHk6IHN0cmluZztcbiAgICBTdGF0ZTogc3RyaW5nO1xuICAgIFBvc3RhbENvZGU6IHN0cmluZztcbiAgICBDb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIFBob25lMT86IHN0cmluZztcbiAgICBQaG9uZTI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxPcmRlckRldGFpbHMge1xuICAgIE9yZGVyTnVtYmVyOiBzdHJpbmc7XG4gICAgQW1vdW50OiBudW1iZXI7XG4gICAgQ3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgT3JkZXJEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBPcmRlckNoYW5uZWw6IHN0cmluZztcbiAgICBUcmFuc2FjdGlvbklkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBDYXJkaW5hbENDQUV4dGVuZGVkRGF0YSA9IFBhcnRpYWw8e1xuICAgIENBVlY6IHN0cmluZztcbiAgICBFQ0lGbGFnOiBzdHJpbmc7XG4gICAgUEFSZXNTdGF0dXM6IHN0cmluZztcbiAgICBTaWduYXR1cmVWZXJpZmljYXRpb246IHN0cmluZztcbiAgICBYSUQ6IHN0cmluZztcbiAgICBVQ0FGSW5kaWNhdG9yOiBzdHJpbmc7XG4gICAgQ2hhbGxlbmdlQ2FuY2VsOiBzdHJpbmc7XG59PjtcblxuZXhwb3J0IGVudW0gQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb24ge1xuICAgIFN1Y2Nlc3MgPSAnU1VDQ0VTUycsXG4gICAgTm9BY3Rpb24gPSAnTk9BQ1RJT04nLFxuICAgIEZhaWx1cmUgPSAnRkFJTFVSRScsXG4gICAgRXJyb3IgPSAnRVJST1InLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFBheW1lbnRUeXBlIHtcbiAgICBDQ0EgPSAnQ0NBJyxcbiAgICBQYXlwYWwgPSAnUGF5cGFsJyxcbiAgICBXYWxsZXQgPSAnV2FsbGV0JyxcbiAgICBWaXNhQ2hlY2tvdXQgPSAnVmlzYUNoZWNrb3V0JyxcbiAgICBBcHBsZVBheSA9ICdBcHBsZVBheScsXG4gICAgRGlzY292ZXJXYWxsZXQgPSAnRGlzY292ZXJXYWxsZXQnLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFRyaWdnZXJFdmVudHMge1xuICAgIEJpblByb2Nlc3MgPSAnYmluLnByb2Nlc3MnLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFBheW1lbnRCcmFuZCB7XG4gICAgQ0NBID0gJ2NjYScsXG59XG5cbmV4cG9ydCBlbnVtIENhcmRpbmFsU2lnbmF0dXJlVmVyaWZpY2F0aW9uIHtcbiAgICBZZXMgPSAnWScsXG4gICAgTm8gPSAnTicsXG59XG5cbmV4cG9ydCB0eXBlIENhcmRpbmFsVGhyZWVEU2VjdXJlVG9rZW4gPSBQaWNrPFRocmVlRFNlY3VyZSwgJ3hpZCc+IHwgVGhyZWVEU2VjdXJlVG9rZW47XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBCaWxsaW5nQWRkcmVzcyxcbiAgICBDcmVkaXRDYXJkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFRocmVlRFNlY3VyZVRva2VuLFxuICAgIFRocmVlRHNSZXN1bHQsXG4gICAgVmF1bHRlZEluc3RydW1lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQge1xuICAgIENhcmRpbmFsQWNjb3VudCxcbiAgICBDYXJkaW5hbEFkZHJlc3MsXG4gICAgQ2FyZGluYWxDb25zdW1lcixcbiAgICBDYXJkaW5hbEV2ZW50VHlwZSxcbiAgICBDYXJkaW5hbEluaXRpYWxpemF0aW9uVHlwZSxcbiAgICBDYXJkaW5hbFBhcnRpYWxPcmRlcixcbiAgICBDYXJkaW5hbFBheW1lbnRCcmFuZCxcbiAgICBDYXJkaW5hbFNESyxcbiAgICBDYXJkaW5hbFNpZ25hdHVyZVZhbGlkYXRpb25FcnJvcnMsXG4gICAgQ2FyZGluYWxTaWduYXR1cmVWZXJpZmljYXRpb24sXG4gICAgQ2FyZGluYWxUcmlnZ2VyRXZlbnRzLFxuICAgIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLFxuICAgIENhcmRpbmFsVmFsaWRhdGVkRGF0YSxcbn0gZnJvbSAnLi9jYXJkaW5hbCc7XG5pbXBvcnQgQ2FyZGluYWxTY3JpcHRMb2FkZXIgZnJvbSAnLi9jYXJkaW5hbC1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IHR5cGUgQ2FyZGluYWxTdXBwb3J0ZWRQYXltZW50SW5zdHJ1bWVudCA9IENyZWRpdENhcmRJbnN0cnVtZW50IHwgVmF1bHRlZEluc3RydW1lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxPcmRlckRhdGEge1xuICAgIGJpbGxpbmdBZGRyZXNzOiBCaWxsaW5nQWRkcmVzcztcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiBBZGRyZXNzO1xuICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgcGF5bWVudERhdGE/OiBDcmVkaXRDYXJkSW5zdHJ1bWVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZGluYWxDbGllbnQge1xuICAgIHByaXZhdGUgX3Byb3ZpZGVyID0gJyc7XG4gICAgcHJpdmF0ZSBfdGVzdE1vZGUgPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zZGs/OiBQcm9taXNlPENhcmRpbmFsU0RLPjtcbiAgICBwcml2YXRlIF9jb25maWd1cmF0aW9uVG9rZW4gPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NjcmlwdExvYWRlcjogQ2FyZGluYWxTY3JpcHRMb2FkZXIpIHt9XG5cbiAgICBsb2FkKHByb3ZpZGVyOiBzdHJpbmcsIHRlc3RNb2RlID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgdGhpcy5fdGVzdE1vZGUgPSB0ZXN0TW9kZTtcblxuICAgICAgICBpZiAoIXRoaXMuX3Nkaykge1xuICAgICAgICAgICAgdGhpcy5fc2RrID0gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQocHJvdmlkZXIsIHRlc3RNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zZGsudGhlbihub29wKTtcbiAgICB9XG5cbiAgICBjb25maWd1cmUoY2xpZW50VG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlndXJhdGlvblRva2VuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZmlndXJhdGlvblRva2VuID09PSBjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2RrID0gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQoYCR7dGhpcy5fcHJvdmlkZXJ9LiR7RGF0ZS5ub3coKX1gLCB0aGlzLl90ZXN0TW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2xpZW50U0RLKCkudGhlbihcbiAgICAgICAgICAgIChjbGllbnQpID0+XG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQub24oQ2FyZGluYWxFdmVudFR5cGUuU2V0dXBDb21wbGV0ZWQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuU2V0dXBDb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Lm9mZihDYXJkaW5hbEV2ZW50VHlwZS5WYWxpZGF0ZWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uVG9rZW4gPSBjbGllbnRUb2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjbGllbnQub24oQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkLCAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQub2ZmKENhcmRpbmFsRXZlbnRUeXBlLlNldHVwQ29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLkFjdGlvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZXMoQ2FyZGluYWxTaWduYXR1cmVWYWxpZGF0aW9uRXJyb3JzLCBkYXRhLkVycm9yTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaXNzaW5nRGF0YUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGRhdGEuRXJyb3JEZXNjcmlwdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNldHVwKENhcmRpbmFsSW5pdGlhbGl6YXRpb25UeXBlLkluaXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGp3dDogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJ1bkJpblByb2Nlc3MoYmluTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENsaWVudFNESygpXG4gICAgICAgICAgICAudGhlbigoY2xpZW50KSA9PlxuICAgICAgICAgICAgICAgIGNsaWVudC50cmlnZ2VyKENhcmRpbmFsVHJpZ2dlckV2ZW50cy5CaW5Qcm9jZXNzLCBiaW5OdW1iZXIpLmNhdGNoKG5vb3ApLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQuU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VGhyZWVEU2VjdXJlRGF0YShcbiAgICAgICAgdGhyZWVEU2VjdXJlRGF0YTogVGhyZWVEc1Jlc3VsdCxcbiAgICAgICAgb3JkZXJEYXRhOiBDYXJkaW5hbE9yZGVyRGF0YSxcbiAgICApOiBQcm9taXNlPFRocmVlRFNlY3VyZVRva2VuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDbGllbnRTREsoKS50aGVuKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxUaHJlZURTZWN1cmVUb2tlbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsaWVudC5vbihcbiAgICAgICAgICAgICAgICAgICAgQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkLFxuICAgICAgICAgICAgICAgICAgICAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhLCBqd3Q/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqd3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5FcnJvckRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkYXRhLkVycm9yRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdBbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgdHJhbnNhY3Rpb24uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuQWN0aW9uQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdG9rZW46IGp3dCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLkFjdGlvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLlN1Y2Nlc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdG9rZW46IGp3dCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb24uTm9BY3Rpb246XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLkVycm9yTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGRhdGEuRXJyb3JEZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEuUGF5bWVudCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEuUGF5bWVudC5FeHRlbmRlZERhdGEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuUGF5bWVudC5FeHRlbmRlZERhdGEuU2lnbmF0dXJlVmVyaWZpY2F0aW9uICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhcmRpbmFsU2lnbmF0dXJlVmVyaWZpY2F0aW9uLlllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RyYW5zYWN0aW9uIHNpZ25hdHVyZSBjb3VsZCBub3QgYmUgdmFsaWRhdGVkLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRva2VuOiBqd3QgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkZhaWx1cmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2VyIGZhaWxlZCBhdXRoZW50aWNhdGlvbiBvciBhbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgdHJhbnNhY3Rpb24uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZGF0YS5FcnJvckRlc2NyaXB0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRpbnVlT2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBBY3NVcmw6IHRocmVlRFNlY3VyZURhdGEuYWNzX3VybCxcbiAgICAgICAgICAgICAgICAgICAgUGF5bG9hZDogdGhyZWVEU2VjdXJlRGF0YS5tZXJjaGFudF9kYXRhLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsT3JkZXIgPSB0aGlzLl9tYXBUb1BhcnRpYWxPcmRlcihcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJEYXRhLFxuICAgICAgICAgICAgICAgICAgICB0aHJlZURTZWN1cmVEYXRhLnBheWVyX2F1dGhfcmVxdWVzdCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LmNvbnRpbnVlKENhcmRpbmFsUGF5bWVudEJyYW5kLkNDQSwgY29udGludWVPYmplY3QsIHBhcnRpYWxPcmRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbWFwVG9QYXJ0aWFsT3JkZXIoXG4gICAgICAgIG9yZGVyRGF0YTogQ2FyZGluYWxPcmRlckRhdGEsXG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6IHN0cmluZyxcbiAgICApOiBDYXJkaW5hbFBhcnRpYWxPcmRlciB7XG4gICAgICAgIGNvbnN0IGNvbnN1bWVyOiBDYXJkaW5hbENvbnN1bWVyID0ge1xuICAgICAgICAgICAgQmlsbGluZ0FkZHJlc3M6IHRoaXMuX21hcFRvQ2FyZGluYWxBZGRyZXNzKG9yZGVyRGF0YS5iaWxsaW5nQWRkcmVzcyksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9yZGVyRGF0YS5wYXltZW50RGF0YSkge1xuICAgICAgICAgICAgY29uc3VtZXIuQWNjb3VudCA9IHRoaXMuX21hcFRvQ2FyZGluYWxBY2NvdW50KG9yZGVyRGF0YS5wYXltZW50RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JkZXJEYXRhLmJpbGxpbmdBZGRyZXNzLmVtYWlsKSB7XG4gICAgICAgICAgICBjb25zdW1lci5FbWFpbDEgPSBvcmRlckRhdGEuYmlsbGluZ0FkZHJlc3MuZW1haWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JkZXJEYXRhLnNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3VtZXIuU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fbWFwVG9DYXJkaW5hbEFkZHJlc3Mob3JkZXJEYXRhLnNoaXBwaW5nQWRkcmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQ29uc3VtZXI6IGNvbnN1bWVyLFxuICAgICAgICAgICAgT3JkZXJEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgT3JkZXJOdW1iZXI6IG9yZGVyRGF0YS5pZCxcbiAgICAgICAgICAgICAgICBBbW91bnQ6IG9yZGVyRGF0YS5hbW91bnQsXG4gICAgICAgICAgICAgICAgQ3VycmVuY3lDb2RlOiBvcmRlckRhdGEuY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIE9yZGVyQ2hhbm5lbDogJ1MnLFxuICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uSWQ6IHRyYW5zYWN0aW9uSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFRvQ2FyZGluYWxBY2NvdW50KHBheW1lbnREYXRhOiBDcmVkaXRDYXJkSW5zdHJ1bWVudCk6IENhcmRpbmFsQWNjb3VudCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBBY2NvdW50TnVtYmVyOiBOdW1iZXIocGF5bWVudERhdGEuY2NOdW1iZXIpLFxuICAgICAgICAgICAgRXhwaXJhdGlvbk1vbnRoOiBOdW1iZXIocGF5bWVudERhdGEuY2NFeHBpcnkubW9udGgpLFxuICAgICAgICAgICAgRXhwaXJhdGlvblllYXI6IE51bWJlcihwYXltZW50RGF0YS5jY0V4cGlyeS55ZWFyKSxcbiAgICAgICAgICAgIE5hbWVPbkFjY291bnQ6IHBheW1lbnREYXRhLmNjTmFtZSxcbiAgICAgICAgICAgIENhcmRDb2RlOiBOdW1iZXIocGF5bWVudERhdGEuY2NDdnYpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFRvQ2FyZGluYWxBZGRyZXNzKGFkZHJlc3M6IEFkZHJlc3MpOiBDYXJkaW5hbEFkZHJlc3Mge1xuICAgICAgICBjb25zdCBjYXJkaW5hbEFkZHJlc3M6IENhcmRpbmFsQWRkcmVzcyA9IHtcbiAgICAgICAgICAgIEZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBMYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIEFkZHJlc3MxOiBhZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICAgICAgQ2l0eTogYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgU3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlLFxuICAgICAgICAgICAgUG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgQ291bnRyeUNvZGU6IGFkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGFkZHJlc3MuYWRkcmVzczIpIHtcbiAgICAgICAgICAgIGNhcmRpbmFsQWRkcmVzcy5BZGRyZXNzMiA9IGFkZHJlc3MuYWRkcmVzczI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkcmVzcy5waG9uZSkge1xuICAgICAgICAgICAgY2FyZGluYWxBZGRyZXNzLlBob25lMSA9IGFkZHJlc3MucGhvbmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FyZGluYWxBZGRyZXNzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldENsaWVudFNESygpOiBQcm9taXNlPENhcmRpbmFsU0RLPiB7XG4gICAgICAgIGlmICghdGhpcy5fc2RrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NkaztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IENhcmRpbmFsU0RLLCBDYXJkaW5hbFdpbmRvdyB9IGZyb20gJy4vY2FyZGluYWwnO1xuXG5jb25zdCBTREtfVEVTVF9VUkwgPSAnaHR0cHM6Ly9zb25nYmlyZHN0YWcuY2FyZGluYWxjb21tZXJjZS5jb20vZWRnZS92MS9zb25nYmlyZC5qcyc7XG5jb25zdCBTREtfUFJPRF9VUkwgPSAnaHR0cHM6Ly9zb25nYmlyZC5jYXJkaW5hbGNvbW1lcmNlLmNvbS9lZGdlL3YxL3NvbmdiaXJkLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZGluYWxTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLCBwcml2YXRlIF93aW5kb3c6IENhcmRpbmFsV2luZG93ID0gd2luZG93KSB7fVxuXG4gICAgbG9hZChwcm92aWRlcjogc3RyaW5nLCB0ZXN0TW9kZT86IGJvb2xlYW4pOiBQcm9taXNlPENhcmRpbmFsU0RLPiB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRlc3RNb2RlID8gU0RLX1RFU1RfVVJMIDogU0RLX1BST0RfVVJMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChgJHt1cmx9P3Y9JHtwcm92aWRlcn1gKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2luZG93LkNhcmRpbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aW5kb3cuQ2FyZGluYWw7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IEludmFsaWRBcmd1bWVudEVycm9yIGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gd2UgYXJlIHVuYWJsZSB0byBzdWJtaXQgYSBwYXltZW50IGJlY2F1c2VcbiAqIHRoZSBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcywgaS5lLjogaWYgYW4gYXJndW1lbnQgaXNcbiAqIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciBleHRlbmRzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnZhbGlkRmllbGRzPzogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLic7XG5cbiAgICAgICAgaWYgKGludmFsaWRGaWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtpbnZhbGlkRmllbGRzLmpvaW4oXG4gICAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9LmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yJztcbiAgICB9XG59XG4iLCJlbnVtIFBheW1lbnRTdGF0dXNUeXBlcyB7XG4gICAgQUNLTk9XTEVER0UgPSAnQUNLTk9XTEVER0UnLFxuICAgIEZJTkFMSVpFID0gJ0ZJTkFMSVpFJyxcbiAgICBJTklUSUFMSVpFID0gJ0lOSVRJQUxJWkUnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXltZW50U3RhdHVzVHlwZXM7XG4iLCJpbXBvcnQgeyBpc05pbCwgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBIb3N0ZWRGb3JtLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBXaXRoQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vY3JlZGl0LWNhcmQtcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcm90ZWN0ZWQgX2hvc3RlZEZvcm0/OiBIb3N0ZWRGb3JtO1xuICAgIHByb3RlY3RlZCBfc2hvdWxkUmVuZGVySG9zdGVkRm9ybT86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKFxuICAgICAgICAgICAgcGF5bG9hZC5wYXltZW50Py5tZXRob2RJZCxcbiAgICAgICAgICAgIHBheWxvYWQucGF5bWVudD8uZ2F0ZXdheUlkLFxuICAgICAgICApICYmIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm1cbiAgICAgICAgICAgID8gdGhpcy5fZXhlY3V0ZVdpdGhIb3N0ZWRGb3JtKHBheWxvYWQsIG9wdGlvbnMpXG4gICAgICAgICAgICA6IHRoaXMuX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybShwYXlsb2FkLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aENyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChvcHRpb25zPy5tZXRob2RJZCwgb3B0aW9ucz8uZ2F0ZXdheUlkKSB8fFxuICAgICAgICAgICAgIXRoaXMuX2lzSG9zdGVkRmllbGRBdmFpbGFibGUob3B0aW9ucylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvcm1PcHRpb25zID0gb3B0aW9ucyAmJiBvcHRpb25zLmNyZWRpdENhcmQgJiYgb3B0aW9ucy5jcmVkaXRDYXJkLmZvcm07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRTZXR0aW5nczogeyBiaWdwYXlCYXNlVXJsOiBob3N0ID0gJycgfSA9IHt9IH0gPVxuICAgICAgICAgICAgc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCFmb3JtT3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVIb3N0ZWRGb3JtKGhvc3QsIGZvcm1PcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gZm9ybS5hdHRhY2goKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faG9zdGVkRm9ybSA9IGZvcm07XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5faG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgdGhpcy5faG9zdGVkRm9ybS5kZXRhY2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9leGVjdXRlV2l0aG91dEhvc3RlZEZvcm0oXG4gICAgICAgIHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IHBheWxvYWQ7XG4gICAgICAgIGNvbnN0IHBheW1lbnREYXRhID0gcGF5bWVudCAmJiBwYXltZW50LnBheW1lbnREYXRhO1xuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudERhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50LnBheW1lbnREYXRhJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHsgLi4ucGF5bWVudCwgcGF5bWVudERhdGEgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9leGVjdXRlV2l0aEhvc3RlZEZvcm0oXG4gICAgICAgIHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IHBheWxvYWQ7XG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9ob3N0ZWRGb3JtO1xuXG4gICAgICAgIGlmICghZm9ybSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudC5tZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQubWV0aG9kSWQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICBhd2FpdCBmb3JtLnZhbGlkYXRlKCkudGhlbigoKSA9PiBmb3JtLnN1Ym1pdChwYXltZW50KSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZD86IHN0cmluZywgZ2F0ZXdheUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQsIGdhdGV3YXlJZCk7XG5cbiAgICAgICAgcmV0dXJuIHBheW1lbnRNZXRob2QuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWQgPT09IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZShcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXZhbHVlcyhvcHRpb25zICYmIG9wdGlvbnMuY3JlZGl0Q2FyZCAmJiBvcHRpb25zLmNyZWRpdENhcmQuZm9ybS5maWVsZHMpLmV2ZXJ5KFxuICAgICAgICAgICAgaXNOaWwsXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2FyZGluYWxUaHJlZURTZWN1cmVGbG93IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jYXJkaW5hbC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQgeyBDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdGF0dXNUeXBlcyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheXBhbFByb1BheW1lbnRTdHJhdGVneSBleHRlbmRzIENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB0aHJlZURTZWN1cmVGbG93OiBDYXJkaW5hbFRocmVlRFNlY3VyZUZsb3csXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemUob3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUob3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG9wdGlvbnMubWV0aG9kSWQpO1xuXG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kLmNvbmZpZy5pczNkc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudGhyZWVEU2VjdXJlRmxvdy5wcmVwYXJlKHBheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudDogeyBtZXRob2RJZCA9ICcnIH0gPSB7fSB9ID0gcGF5bG9hZDtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5nZXRQYXltZW50U3RhdHVzKCkgPT09IFBheW1lbnRTdGF0dXNUeXBlcy5BQ0tOT1dMRURHRSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudDogeyBtZXRob2RJZCB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCkuY29uZmlnLmlzM2RzRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhyZWVEU2VjdXJlRmxvdy5zdGFydChcbiAgICAgICAgICAgICAgICBzdXBlci5leGVjdXRlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hvc3RlZEZvcm0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGUocGF5bG9hZCwgb3B0aW9ucyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIENhcmRpbmFsQ2xpZW50LFxuICAgIENhcmRpbmFsU2NyaXB0TG9hZGVyLFxuICAgIENhcmRpbmFsVGhyZWVEU2VjdXJlRmxvdyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jYXJkaW5hbC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBQYXlwYWxQcm9QYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9wYXlwYWwtcHJvLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVQYXlQYWxQcm9QYXltZW50U3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PFBheXBhbFByb1BheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT5cbiAgICBuZXcgUGF5cGFsUHJvUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQ2FyZGluYWxUaHJlZURTZWN1cmVGbG93KFxuICAgICAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgICAgIG5ldyBDYXJkaW5hbENsaWVudChuZXcgQ2FyZGluYWxTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpKSxcbiAgICAgICAgKSxcbiAgICApO1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlUGF5UGFsUHJvUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ3BheXBhbCcgfV0pO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iXSwibmFtZXMiOlsiTWlzc2luZ0RhdGFFcnJvclR5cGUiLCJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIkNhcmRpbmFsVGhyZWVEU2VjdXJlRmxvdyIsImNvbnN0cnVjdG9yIiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJfY2FyZGluYWxDbGllbnQiLCJwcmVwYXJlIiwibWV0aG9kIiwidGhpcyIsImxvYWQiLCJpZCIsImNvbmZpZyIsInRlc3RNb2RlIiwiY29uZmlndXJlIiwiX2dldENsaWVudFRva2VuIiwic3RhcnQiLCJleGVjdXRlIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJob3N0ZWRGb3JtIiwiZ2V0Q2FyZEluc3RydW1lbnQiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsImdldFN0YXRlIiwicGF5bWVudCIsIm1ldGhvZElkIiwicGF5bWVudERhdGEiLCJpbnN0cnVtZW50IiwiQm9vbGVhbiIsImluc3RydW1lbnRJZCIsImlzVmF1bHRlZEluc3RydW1lbnQiLCJiaW4iLCJpaW4iLCJnZXRCaW4iLCJydW5CaW5Qcm9jZXNzIiwibWVyZ2UiLCJ0aHJlZURTZWN1cmUiLCJ0b2tlbiIsImNsaWVudFRva2VuIiwiZXJyb3IiLCJzb21lIiwiYm9keSIsImVycm9ycyIsImNvZGUiLCJnZXRUaHJlZURTZWN1cmVEYXRhIiwidGhyZWVfZHNfcmVzdWx0IiwiX2dldE9yZGVyRGF0YSIsInN1Ym1pdFBheW1lbnQiLCJzdWJtaXQiLCJsb2FkUGF5bWVudE1ldGhvZCIsInN0YXRlIiwiYmlsbGluZ0FkZHJlc3MiLCJnZXRCaWxsaW5nQWRkcmVzc09yVGhyb3ciLCJzaGlwcGluZ0FkZHJlc3MiLCJnZXRTaGlwcGluZ0FkZHJlc3MiLCJjaGVja291dCIsImdldENoZWNrb3V0T3JUaHJvdyIsIm9yZGVyIiwiZ2V0T3JkZXJPclRocm93IiwiY3VycmVuY3lDb2RlIiwiY2FydCIsImN1cnJlbmN5Iiwib3JkZXJJZCIsInRvU3RyaW5nIiwiYW1vdW50IiwiY2FydEFtb3VudCIsIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJwcm90b3R5cGUiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiTWlzc2luZ0RhdGFFcnJvciIsInN1YnR5cGUiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsImdldEVycm9yTWVzc2FnZSIsIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvciIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJDYXJkaW5hbFNpZ25hdHVyZVZhbGlkYXRpb25FcnJvcnMiLCJDYXJkaW5hbEV2ZW50VHlwZSIsIkNhcmRpbmFsSW5pdGlhbGl6YXRpb25UeXBlIiwiQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb24iLCJDYXJkaW5hbFBheW1lbnRUeXBlIiwiQ2FyZGluYWxUcmlnZ2VyRXZlbnRzIiwiQ2FyZGluYWxQYXltZW50QnJhbmQiLCJDYXJkaW5hbFNpZ25hdHVyZVZlcmlmaWNhdGlvbiIsIkNhcmRpbmFsQ2xpZW50IiwiX3NjcmlwdExvYWRlciIsIl9wcm92aWRlciIsIl90ZXN0TW9kZSIsIl9jb25maWd1cmF0aW9uVG9rZW4iLCJwcm92aWRlciIsIl9zZGsiLCJ0aGVuIiwibm9vcCIsIlByb21pc2UiLCJyZXNvbHZlIiwiRGF0ZSIsIm5vdyIsIl9nZXRDbGllbnRTREsiLCJjbGllbnQiLCJyZWplY3QiLCJvbiIsIlNldHVwQ29tcGxldGVkIiwib2ZmIiwiVmFsaWRhdGVkIiwiZGF0YSIsIkFjdGlvbkNvZGUiLCJpbmNsdWRlcyIsIkVycm9yTnVtYmVyIiwiRXJyb3JEZXNjcmlwdGlvbiIsInNldHVwIiwiSW5pdCIsImp3dCIsImJpbk51bWJlciIsInRyaWdnZXIiLCJCaW5Qcm9jZXNzIiwiY2F0Y2giLCJyZXN1bHQiLCJTdGF0dXMiLCJ0aHJlZURTZWN1cmVEYXRhIiwib3JkZXJEYXRhIiwiU3VjY2VzcyIsIk5vQWN0aW9uIiwiUGF5bWVudCIsIkV4dGVuZGVkRGF0YSIsIlNpZ25hdHVyZVZlcmlmaWNhdGlvbiIsIlllcyIsIkZhaWx1cmUiLCJjb250aW51ZU9iamVjdCIsIkFjc1VybCIsImFjc191cmwiLCJQYXlsb2FkIiwibWVyY2hhbnRfZGF0YSIsInBhcnRpYWxPcmRlciIsIl9tYXBUb1BhcnRpYWxPcmRlciIsInBheWVyX2F1dGhfcmVxdWVzdCIsImNvbnRpbnVlIiwiQ0NBIiwidHJhbnNhY3Rpb25JZCIsImNvbnN1bWVyIiwiQmlsbGluZ0FkZHJlc3MiLCJfbWFwVG9DYXJkaW5hbEFkZHJlc3MiLCJBY2NvdW50IiwiX21hcFRvQ2FyZGluYWxBY2NvdW50IiwiZW1haWwiLCJFbWFpbDEiLCJTaGlwcGluZ0FkZHJlc3MiLCJDb25zdW1lciIsIk9yZGVyRGV0YWlscyIsIk9yZGVyTnVtYmVyIiwiQW1vdW50IiwiQ3VycmVuY3lDb2RlIiwiT3JkZXJDaGFubmVsIiwiVHJhbnNhY3Rpb25JZCIsIkFjY291bnROdW1iZXIiLCJOdW1iZXIiLCJjY051bWJlciIsIkV4cGlyYXRpb25Nb250aCIsImNjRXhwaXJ5IiwibW9udGgiLCJFeHBpcmF0aW9uWWVhciIsInllYXIiLCJOYW1lT25BY2NvdW50IiwiY2NOYW1lIiwiQ2FyZENvZGUiLCJjY0N2diIsImFkZHJlc3MiLCJjYXJkaW5hbEFkZHJlc3MiLCJGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJMYXN0TmFtZSIsImxhc3ROYW1lIiwiQWRkcmVzczEiLCJhZGRyZXNzMSIsIkNpdHkiLCJjaXR5IiwiU3RhdGUiLCJzdGF0ZU9yUHJvdmluY2UiLCJQb3N0YWxDb2RlIiwicG9zdGFsQ29kZSIsIkNvdW50cnlDb2RlIiwiY291bnRyeUNvZGUiLCJhZGRyZXNzMiIsIkFkZHJlc3MyIiwicGhvbmUiLCJQaG9uZTEiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIkNhcmRpbmFsU2NyaXB0TG9hZGVyIiwiX3dpbmRvdyIsIndpbmRvdyIsInVybCIsImxvYWRTY3JpcHQiLCJDYXJkaW5hbCIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJQYXltZW50U3RhdHVzVHlwZXMiLCJDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IiwiX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkIiwiZ2F0ZXdheUlkIiwiX3Nob3VsZFJlbmRlckhvc3RlZEZvcm0iLCJfZXhlY3V0ZVdpdGhIb3N0ZWRGb3JtIiwiX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybSIsImluaXRpYWxpemUiLCJfaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZSIsImZvcm1PcHRpb25zIiwiY3JlZGl0Q2FyZCIsImZvcm0iLCJwYXltZW50U2V0dGluZ3MiLCJiaWdwYXlCYXNlVXJsIiwiaG9zdCIsImdldFN0b3JlQ29uZmlnT3JUaHJvdyIsImNyZWF0ZUhvc3RlZEZvcm0iLCJhdHRhY2giLCJfaG9zdGVkRm9ybSIsImRlaW5pdGlhbGl6ZSIsImRldGFjaCIsImZpbmFsaXplIiwic3VibWl0T3JkZXIiLCJ2YWxpZGF0ZSIsImlzSG9zdGVkRm9ybUVuYWJsZWQiLCJ2YWx1ZXMiLCJmaWVsZHMiLCJldmVyeSIsImlzTmlsIiwiUGF5cGFsUHJvUGF5bWVudFN0cmF0ZWd5IiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsInRocmVlRFNlY3VyZUZsb3ciLCJwYXltZW50TWV0aG9kIiwiaXMzZHNFbmFibGVkIiwiZ2V0UGF5bWVudFN0YXR1cyIsIkFDS05PV0xFREdFIiwiYmluZCIsIm1vZHVsZSIsImdldFNjcmlwdExvYWRlciIsInJlc29sdmVJZHMiLCJhc3NpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/paypal-pro.js\n\n}");

/***/ }),

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/sezzle.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/sezzle.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSezzlePaymentStrategy: () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"./node_modules/@bigcommerce/form-poster/lib/index.js\");\nclass t extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class r extends t{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class n extends r{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class i extends t{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class o{constructor(e,t){this._formPoster=e,this._paymentIntegrationService=t}execute(e,t){return r=this,i=void 0,a=function*(){const{payment:r}=e,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,[\"payment\"]),o=r&&r.paymentData;if(!r||!o)throw new n([\"payment.paymentData\"]);yield this._paymentIntegrationService.submitOrder(i,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},r),{paymentData:o}))}catch(e){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||\"object\"!=typeof(a=e.body)||null===a||!(\"additional_action_required\"in a)||!this._isAdditionalActionRequired(e.body))return Promise.reject(e);const{body:{additional_action_required:{data:{redirect_url:t}}}}=e;return new Promise(()=>{this.redirectUrl(t)})}var a},new((o=void 0)||(o=Promise))(function(e,t){function n(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o(function(e){e(r)})).then(n,s)}c((a=a.apply(r,i||[])).next())});// removed by dead control flow\n var r, i, o, a; }finalize(){return Promise.reject(new i)}initialize(){return Promise.resolve()}deinitialize(){return Promise.resolve()}redirectUrl(e){return this._formPoster.postForm(e,{})}_isAdditionalActionRequired(e){const{additional_action_required:t,status:r}=e;return\"additional_action_required\"===r&&t&&\"offsite_redirect\"===t.type}}class a extends o{redirectUrl(e){window.location.replace(e)}}const s=(c=t=>new a((0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),t),d=[{id:\"sezzle\"}],Object.assign(c,{resolveIds:d}));var c,d;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMvc2V6emxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBT2UsTUFBZUEsVUFBc0JDLE1BSWhELFdBQUFDLENBQVlDLEdDWEQsSUFBcUNDLEVEWTVDQyxNQUFNRixHQUFXLHFDQUpyQixLQUFBRyxLQUFPLGdCQUNQLEtBQUFDLEtBQU8sV0NUeUNILGFEY1pBLFVDYmhDSSxPQUFPQyxlQUNQRCxPQUFPQyxlRFlRQyxLQ1plTixHRFlmTSxLQ1ZSQyxVQUFZUCxFRFlvQixtQkFBNUJILE1BQU1XLGtCQUNiWCxNQUFNVyxrQkFBa0JGLGlCQUV4QkEsS0FBS0csTUFBUSxJQUFJWixNQUFNUyxLQUFLUCxTQUFTVSxLQUU3QyxFRWRXLE1BQU1DLFVBQTZCZCxFQUM5QyxXQUFBRSxDQUFZQyxHQUNSRSxNQUFNRixHQUFXLHlDQUVqQk8sS0FBS0osS0FBTyx1QkFDWkksS0FBS0gsS0FBTyxrQkFDaEIsRUNOVyxNQUFNUSxVQUFvQ0QsRUFDckQsV0FBQVosQ0FBWWMsR0FDUixJQUFJYixFQUFVLHlFQUVWYSxJQUNBYixFQUFVLEdBQUdBLDREQUFrRWEsRUFBY0MsS0FDekYsVUFJUlosTUFBTUYsR0FFTk8sS0FBS0osS0FBTyw2QkFDaEIsRUNkVyxNQUFNWSxVQUEwQ2xCLEVBQzNELFdBQUFFLEdBQ0lHLE1BQU0sa0VBRU5LLEtBQUtKLEtBQU8sb0NBQ1pJLEtBQUtILEtBQU8saUNBQ2hCLEVDRVcsTUFBTVksRUFDakIsV0FBQWpCLENBQ1lrQixFQUNBQyxHQURBLEtBQUFELFlBQUFBLEVBQ0EsS0FBQUMsMkJBQUFBLENBQ1QsQ0FFRyxPQUFBQyxDQUFRQyxFQUEyQkMsRyxxQ0FDckMsTUFBTSxRQUFFQyxHQUFzQkYsRUFBVkcsRSx5VUFBSyxDQUFLSCxFQUF4QixhQUNBSSxFQUFjRixHQUFXQSxFQUFRRSxZQUV2QyxJQUFLRixJQUFZRSxFQUNiLE1BQU0sSUFBSVosRUFBNEIsQ0FBQyw4QkFHckNMLEtBQUtXLDJCQUEyQk8sWUFBWUYsRUFBT0YsR0FFekQsVUFDVWQsS0FBS1csMkJBQTJCUSxjQUFjLE9BQUQsd0JBQU1KLEdBQU8sQ0FBRUUsZ0IsQ0FDcEUsTUFBT0csR0FDTCxJQzlCVyxDQUFDQSxHQUNJLGlCQUFWQSxHQUFnQyxPQUFWQSxHQUFrQixTQUFVQSxFRDhCbkQsQ0FBZUEsSUV2QkosaUJBRGVDLEVGeUJDRCxFQUFNRSxPRXhCQSxPQUFWRCxLQUFrQiwrQkFBZ0NBLEtGeUJ6RXJCLEtBQUt1Qiw0QkFBNEJILEVBQU1FLE1BRXhDLE9BQU9FLFFBQVFDLE9BQU9MLEdBRzFCLE1BQ0lFLE1BQ0lJLDRCQUNJQyxNQUFNLGFBQUVDLE1BR2hCUixFQUdKLE9BQU8sSUFBSUksUUFBUSxLQUNmeEIsS0FBSzZCLFlBQVlELEksQ0V6QzFCLElBQW9DUCxDRjZDdkMsRTtrQkFFQSxRQUFBUyxHQUNJLE9BQU9OLFFBQVFDLE9BQU8sSUFBSWpCLEVBQzlCLENBRUEsVUFBQXVCLEdBQ0ksT0FBT1AsUUFBUVEsU0FDbkIsQ0FFQSxZQUFBQyxHQUNJLE9BQU9ULFFBQVFRLFNBQ25CLENBRVUsV0FBQUgsQ0FBWUQsR0FDbEIsT0FBTzVCLEtBQUtVLFlBQVl3QixTQUFTTixFQUFjLENBQUMsRUFDcEQsQ0FFUSwyQkFBQUwsQ0FBNEJELEdBQ2hDLE1BQU0sMkJBQUVJLEVBQTBCLE9BQUVTLEdBQVdiLEVBRS9DLE1BQ2UsK0JBQVhhLEdBQ0FULEdBQ29DLHFCQUFwQ0EsRUFBMkI3QixJQUVuQyxFRy9FVyxNQUFNdUMsVUFBOEIzQixFQUNyQyxXQUFBb0IsQ0FBWVEsR0FDbEJDLE9BQU9DLFNBQVNDLFFBQVFILEVBQzVCLEVDSUosTUFJQSxHQ1ZJSSxFRE9BQyxHQUNDLElBQUlOLEVBQXNCTywwRUFBQUEsR0FBb0JELEdDUC9DRSxFRFMyRCxDQUFDLENBQUVDLEdBQUksV0NQM0QvQyxPQUFPZ0QsT0FBT0wsRUFBUSxDQUFFRyxnQkFKcEIsSUFDWEgsRUFDQUcsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHM/MzkyMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWFyZ3VtZW50LWludmFsaWQtZXJyb3IudHM/YTUwMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9vcmRlci1maW5hbGl6YXRpb24tbm90LXJlcXVpcmVkLWVycm9yLnRzP2I1YTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2V4dGVybmFsLWludGVncmF0aW9uL3NyYy9leHRlcm5hbC1wYXltZW50LXN0cmF0ZWd5LnRzPzFiOTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaXMtcmVxdWVzdC1lcnJvci50cz9iNDNkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9leHRlcm5hbC1pbnRlZ3JhdGlvbi9zcmMvaXMtYWRkaXRpb25hbC1hY3Rpb24udHM/ZmVhNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc2V6emxlLWludGVncmF0aW9uL3NyYy9zZXp6bGUtcGF5bWVudC1zdHJhdGVneS50cz8wODQ0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zZXp6bGUtaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1zZXp6bGUtcGF5bWVudC1zdHJhdGVneS50cz9kMWE1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuXG5pbXBvcnQge1xuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQsIGlzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIH0gZnJvbSAnLi9pcy1hZGRpdGlvbmFsLWFjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dGVybmFsUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gcGF5bG9hZDtcbiAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBwYXltZW50ICYmIHBheW1lbnQucGF5bWVudERhdGE7XG5cbiAgICAgICAgaWYgKCFwYXltZW50IHx8ICFwYXltZW50RGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHsgLi4ucGF5bWVudCwgcGF5bWVudERhdGEgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIWlzUmVxdWVzdEVycm9yKGVycm9yKSB8fFxuICAgICAgICAgICAgICAgICFpc0FkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZChlcnJvci5ib2R5KSB8fFxuICAgICAgICAgICAgICAgICF0aGlzLl9pc0FkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZChlcnJvci5ib2R5KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgcmVkaXJlY3RfdXJsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0gPSBlcnJvcjtcblxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZGlyZWN0VXJsKHJlZGlyZWN0X3VybCk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIH0pIGFzIGFueTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlZGlyZWN0VXJsKHJlZGlyZWN0X3VybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtUG9zdGVyLnBvc3RGb3JtKHJlZGlyZWN0X3VybCwge30pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKGJvZHk6IEFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLCBzdGF0dXMgfSA9IGJvZHk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0YXR1cyA9PT0gJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyAmJlxuICAgICAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQgJiZcbiAgICAgICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLnR5cGUgPT09ICdvZmZzaXRlX3JlZGlyZWN0J1xuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLy8gSGF2ZSB0byB1c2UgYGFzYCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83Mzk4NzA0NC90eXBlZ3VhcmRpbmctYW4tdW5rbm93bi1uZXN0ZWQtb2JqZWN0IHNob3VsZCBiZSBmaXhlZCBpbiA0LjgrXG5jb25zdCBpc1JlcXVlc3RFcnJvciA9IChlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJlcXVlc3RFcnJvciA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2JvZHknIGluIGVycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZXF1ZXN0RXJyb3I7XG4iLCJleHBvcnQgaW50ZXJmYWNlIEFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCB7XG4gICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHR5cGU6IHN0cmluZztcbiAgICB9O1xuICAgIHN0YXR1czogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICdhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZCcgaW4gdmFsdWU7XG59XG4iLCJpbXBvcnQgeyBFeHRlcm5hbFBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvZXh0ZXJuYWwtaW50ZWdyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXp6bGVQYXltZW50U3RyYXRlZ3kgZXh0ZW5kcyBFeHRlcm5hbFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJvdGVjdGVkIHJlZGlyZWN0VXJsKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5cbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgU2V6emxlUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vc2V6emxlLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTZXp6bGVQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8U2V6emxlUGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiBuZXcgU2V6emxlUGF5bWVudFN0cmF0ZWd5KGNyZWF0ZUZvcm1Qb3N0ZXIoKSwgcGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTZXp6bGVQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAnc2V6emxlJyB9XSk7XG4iLCJpbXBvcnQgUmVzb2x2YWJsZU1vZHVsZSBmcm9tICcuL3Jlc29sdmFibGUtbW9kdWxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9SZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPihcbiAgICBtb2R1bGU6IFRNb2R1bGUsXG4gICAgcmVzb2x2ZUlkczogVElkZW50aWZpZXJbXSxcbik6IFJlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtb2R1bGUsIHsgcmVzb2x2ZUlkcyB9KTtcbn1cbiJdLCJuYW1lcyI6WyJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJwcm90b3R5cGUiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJFeHRlcm5hbFBheW1lbnRTdHJhdGVneSIsIl9mb3JtUG9zdGVyIiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJleGVjdXRlIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJwYXltZW50Iiwib3JkZXIiLCJwYXltZW50RGF0YSIsInN1Ym1pdE9yZGVyIiwic3VibWl0UGF5bWVudCIsImVycm9yIiwidmFsdWUiLCJib2R5IiwiX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIiwiUHJvbWlzZSIsInJlamVjdCIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwiZGF0YSIsInJlZGlyZWN0X3VybCIsInJlZGlyZWN0VXJsIiwiZmluYWxpemUiLCJpbml0aWFsaXplIiwicmVzb2x2ZSIsImRlaW5pdGlhbGl6ZSIsInBvc3RGb3JtIiwic3RhdHVzIiwiU2V6emxlUGF5bWVudFN0cmF0ZWd5IiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwibW9kdWxlIiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsImNyZWF0ZUZvcm1Qb3N0ZXIiLCJyZXNvbHZlSWRzIiwiaWQiLCJhc3NpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@bigcommerce/checkout-sdk/dist/esm/integrations/sezzle.js\n\n}");

/***/ })

}]);