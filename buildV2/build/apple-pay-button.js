"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["apple-pay-button"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/apple-pay.js":
/*!*************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/apple-pay.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApplePayButtonStrategy: () => (/* binding */ ie),\n/* harmony export */   createApplePayCustomerStrategy: () => (/* binding */ H),\n/* harmony export */   createApplePayPaymentStrategy: () => (/* binding */ Y)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nvar a={};function r(e,t,i=!0){var n;return null!==(n=e[t])&&void 0!==n?n:i}a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=\"3.128.0\",l=\"3.123.2\",d=\"3.106.0\";class c{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(r(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?s:r(t,\"PAYPAL-5636.update_braintree_sdk_version\")?l:d)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const t=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(Object.values(e),e=>!!e.VERSION);return null==t?void 0:t.VERSION}}}class h extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class u extends h{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}var p,m,y,g,v,S,b,C;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(p||(p={}));class f extends h{constructor(e){super(function(e){switch(e){case p.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case p.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case p.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case p.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(m||(m={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(y||(y={})),function(e){e.TRUSTLY=\"trustly\"}(g||(g={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(v||(v={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(S||(S={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(b||(b={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(C||(C={}));var w,_,P,T=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class I{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return T(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return T(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return T(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadDataCollector(),n=Object.assign({client:t,kount:!0},e);this.dataCollector=yield i.create(n)}catch(e){if(function(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}(e)&&e.code===b.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return T(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return T(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return T(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,i]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((n,o)=>{i.create({client:t,merchantAccountId:e},(e,t)=>{e&&o(e),n(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return T(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return T(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return T(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),i={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},n=yield t.create(i);if(!n.isBrowserSupported())throw new u;this.braintreeVenmo=n}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new f(p.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}class k extends h{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}!function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(w||(w={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(_||(_={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(P||(P={}));const M={[d]:{[_.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[_.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[_.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[_.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[_.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[_.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[_.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[_.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[_.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[_.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[_.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[_.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[l]:{[_.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[_.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[_.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[_.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[_.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[_.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[_.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[_.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[_.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[_.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[_.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[_.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[s]:{[_.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[_.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[_.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[_.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[_.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[_.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[_.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[_.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[_.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[_.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[_.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[_.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var A,N,O=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class E{constructor(e,t,i){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=i}loadClient(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Client,\"client.min.js\")})}loadFastlane(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.GooglePayment,\"google-payment.min.js\")})}load3DS(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(_.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(_.Venmo,\"venmo.min.js\")}loadHostedFields(){return O(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(_.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return O(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new k;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return O(this,void 0,void 0,function*(){let i=this.getBraintreeModule(e);if(i)return i;const n=this.braintreeSDKVersionManager.getSDKVersion(),o=`//js.braintreegateway.com/web/${n}/js/${t}`,a=n in M?this.getIntegrityValuesByModuleName(e,n):void 0;if(yield this.scriptLoader.loadScript(o,a?{async:!0,attributes:{integrity:a,crossorigin:\"anonymous\"}}:void 0),i=this.getBraintreeModule(e),!i)throw new k;return i})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const i=M[t][e];if(!i)throw new Error(\"Unexpected fileName value\");return i}}function D(e,t){return Object.assign(e,{resolveIds:t})}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(A||(A={}));class L extends h{constructor(e){super(function(e){switch(e){case A.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case A.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case A.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case A.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case A.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case A.MissingCheckoutConfig:case A.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case A.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case A.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case A.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case A.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case A.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case A.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class B extends h{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}class z extends h{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class x extends h{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}!function(e){e.BRAINTREE=\"braintree\",e.BRAINTREE_FASTLANE=\"braintreeacceleratedcheckout\"}(N||(N={}));var U,F=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}(U||(U={}));class V{constructor(e,t,i,n,a){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=a,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onError=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onClick=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=U.Subtotal,this._shippingLabel=U.Shipping,this._hasApplePaySession=!1}initialize(e){var t;return F(this,void 0,void 0,function*(){const{methodId:i,applepay:n}=e;if(!i||!n)throw new L(A.MissingPaymentMethod);const{container:a,shippingLabel:r,subtotalLabel:s,onError:l=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onClick:d=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onPaymentAuthorize:c}=n;this._shippingLabel=r||U.Shipping,this._subTotalLabel=s||U.Subtotal,this._onAuthorizeCallback=c,this._onError=l,this._onClick=d;let h=this._paymentIntegrationService.getState();yield this._applePayScriptLoader.loadSdk();try{this._paymentMethod=h.getPaymentMethodOrThrow(i)}catch(e){h=yield this._paymentIntegrationService.loadPaymentMethod(i),this._paymentMethod=h.getPaymentMethodOrThrow(i)}yield this._paymentIntegrationService.verifyCheckoutSpamProtection(),this._applePayButton=this._createButton(a),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===N.BRAINTREE&&this._paymentMethod.clientToken&&this._braintreeSdk.initialize(this._paymentMethod.clientToken)})}deinitialize(){return Promise.resolve()}signIn(){throw new B('In order to sign in via Apple, the shopper must click on \"Apple Pay\" button.')}signOut(){throw new B(\"Need to do signout via apple.\")}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}_createButton(e){const t=document.getElementById(e);if(!t)throw new z(\"Unable to create sign-in button without valid container ID.\");const i=this._createApplePayButtonElement();return t.appendChild(i),i}_createApplePayButtonElement(){const e=document.createElement(\"apple-pay-button\");return e.setAttribute(\"buttonstyle\",\"black\"),e.setAttribute(\"type\",\"plain\"),e.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 40px; --apple-pay-button-border-radius: 4px;\"),e}_handleWalletButtonClick(e){if(e.preventDefault(),this._hasApplePaySession)return;this._onClick();const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),o=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new L(A.MissingPaymentMethod);const a=this._getBaseRequest(i,o,n,this._paymentMethod),r=this._sessionFactory.create(a);this._handleApplePayEvents(r,this._paymentMethod,n),r.begin(),this._hasApplePaySession=!0}_getBaseRequest(e,t,i,n){var o;const{storeProfile:{storeCountryCode:a,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(o=u.requiredShippingContactFields)||void 0===o||o.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>F(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){this._onError(e)}}),e.onshippingcontactselected=t=>F(this,void 0,void 0,function*(){return this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>F(this,void 0,void 0,function*(){return this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>F(this,void 0,void 0,function*(){this._hasApplePaySession=!1;try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){return this._onError(new x)}}),e.onpaymentauthorized=i=>F(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_handleShippingContactSelected(e,t,i){var n;return F(this,void 0,void 0,function*(){const o=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(o)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const{storeProfile:{storeName:a}}=t;let r=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:s}}=r.getCartOrThrow();let l=r.getCheckoutOrThrow();const d=null===(n=l.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,c=l.consignments[0].availableShippingOptions,h=null==c?void 0:c.find(({id:e})=>e===d),u=null==c?void 0:c.filter(e=>e.id!==d),p=h?[{label:h.description,amount:`${h.cost.toFixed(s)}`,detail:h.additionalDescription,identifier:h.id}]:[];if(u&&[...u.filter(e=>e.isRecommended),...u.filter(e=>!e.isRecommended)].forEach(e=>p.push({label:e.description,amount:`${e.cost.toFixed(s)}`,detail:e.additionalDescription,identifier:e.id})),!(c instanceof Array))throw new Error(\"Shipping options not available.\");if(0===c.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:a,amount:`${l.grandTotal.toFixed(s)}`},[]);const m=c.find(e=>e.isRecommended),y=m?m.id:c[0].id,g=h?h.id:y;try{yield this._updateShippingOption(g)}catch(e){return this._onError(e)}r=this._paymentIntegrationService.getState(),l=r.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:p,newTotal:{type:\"final\",label:a,amount:`${l.grandTotal.toFixed(s)}`},newLineItems:this._getUpdatedLineItems(l,s)})})}_handleShippingMethodSelected(e,t,i){return F(this,void 0,void 0,function*(){const{storeProfile:{storeName:n}}=t,{shippingMethod:{identifier:o}}=i;try{yield this._updateShippingOption(o)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const a=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:r}}=a.getCartOrThrow(),s=a.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:n,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return F(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return F(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return F(this,void 0,void 0,function*(){const{token:o,billingContact:a,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===N.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:o.paymentData,payment_method:o.paymentMethod,transaction_id:o.transactionIdentifier}}}},c=this._transformContactToAddress(a),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),this._onError(e)}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return F(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}function R(e){if(!function(e){return\"ApplePaySession\"in e}(e))throw new Error(\"Apple pay is not supported\")}class j{create(e){return R(window),new ApplePaySession(1,e)}}class q{constructor(e){this.scriptLoader=e,this.sdkVersion=\"1.latest\"}loadSdk(){return e=this,t=void 0,n=function*(){(function(e){return\"ApplePaySDK\"in e})(window)||(yield this.scriptLoader.loadScript(`https://applepay.cdn-apple.com/jsapi/${this.sdkVersion}/apple-pay-sdk.js`),R(window))},new((i=void 0)||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())});// removed by dead control flow\n var e, t, i, n; }}const H=D(n=>{const{getHost:o}=n.getState(),a=new c(n);return new V((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new j,new I(new E((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);class W extends z{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class G extends h{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}var $,K=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Shipping=\"Shipping\",e.Subtotal=\"Subtotal\",e.StoreCredit=\"Store Credit\"}($||($={}));class X{constructor(e,t,i,n,o){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=o,this._shippingLabel=$.Shipping,this._subTotalLabel=$.Subtotal,this._storeCreditLabel=$.StoreCredit}initialize(e){var t,i,n,o;return K(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new z('Unable to submit payment because \"options.methodId\" argument is not provided.');const{methodId:a}=e;yield this._applePayScriptLoader.loadSdk(),this._shippingLabel=(null===(t=e.applepay)||void 0===t?void 0:t.shippingLabel)||$.Shipping,this._subTotalLabel=(null===(i=e.applepay)||void 0===i?void 0:i.subtotalLabel)||$.Subtotal,this._storeCreditLabel=(null===(n=e.applepay)||void 0===n?void 0:n.storeCreditLabel)||$.StoreCredit;const r=(yield this._paymentIntegrationService.loadPaymentMethod(a)).getPaymentMethodOrThrow(a);(null===(o=r.initializationData)||void 0===o?void 0:o.gateway)===N.BRAINTREE&&r.clientToken&&this._braintreeSdk.initialize(r.clientToken)})}execute(e,t){return K(this,void 0,void 0,function*(){const{payment:i}=e,n=this._paymentIntegrationService.getState();if(!i)throw new W([\"payment\"]);const{methodId:o}=i,a=n.getPaymentMethodOrThrow(o),r=this._getBaseRequest(n,a),s=this._sessionFactory.create(r);return yield this._paymentIntegrationService.submitOrder({useStoreCredit:e.useStoreCredit},t),s.begin(),new Promise((e,t)=>{this._handleApplePayEvents(s,a,{resolve:e,reject:t})})})}finalize(){return Promise.reject(new G)}deinitialize(){return Promise.resolve()}_getBaseRequest(e,t){const i=e.getCheckoutOrThrow(),n=e.getCartOrThrow(),o=e.getStoreConfigOrThrow(),{storeProfile:{storeCountryCode:a,storeName:r}}=o,{currency:{code:s,decimalPlaces:l}}=n,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=t,{grandTotal:h,isStoreCreditApplied:u,outstandingBalance:p}=i,m=[{label:this._subTotalLabel,amount:`${i.subtotal.toFixed(l)}`}];if(i.taxes.forEach(e=>m.push({label:e.name,amount:`${e.amount.toFixed(l)}`})),m.push({label:this._shippingLabel,amount:`${i.shippingCostTotal.toFixed(l)}`}),u){const{storeCredit:t}=e.getCustomerOrThrow();m.push({label:this._storeCreditLabel,amount:`-${Math.min(h,t).toFixed(l)}`})}return{countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:m,total:{label:r,amount:`${p.toFixed(l)}`,type:\"final\"}}}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>K(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),e.oncancel=()=>K(this,void 0,void 0,function*(){return i.reject(new x(\"Continue with applepay\"))}),e.onpaymentauthorized=n=>this._onPaymentAuthorized(n,e,t,i)}_onValidateMerchant(e,t){return K(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i,n){var o;return K(this,void 0,void 0,function*(){const{token:a}=e.payment;let r;(null===(o=i.initializationData)||void 0===o?void 0:o.gateway)===N.BRAINTREE&&(r=yield this._getBraintreeDeviceData());const s={methodId:i.id,paymentData:{deviceSessionId:r,formattedPayload:{apple_pay_token:{payment_data:a.paymentData,payment_method:a.paymentMethod,transaction_id:a.transactionIdentifier}}}};try{return yield this._paymentIntegrationService.submitPayment(s),t.completePayment(ApplePaySession.STATUS_SUCCESS),n.resolve()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),n.reject(new f(p.PaymentNotInitialized))}})}_getBraintreeDeviceData(){return K(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}const Y=D(n=>{const{getHost:o}=n.getState(),a=new c(n);return new X((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new j,new I(new E((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);class Q extends h{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}var Z,J,ee=function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}(Z||(Z={})),function(e){e.Black=\"black\",e.White=\"white\",e.WhiteBorder=\"white-border\"}(J||(J={}));class te{constructor(e,t,i,n,a){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=a,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=Z.Subtotal,this._shippingLabel=Z.Shipping}initialize(e){var t,i;return ee(this,void 0,void 0,function*(){const{methodId:n,containerId:o,applepay:a}=e;if(!n||!a)throw new L(A.MissingPaymentMethod);yield this._applePayScriptLoader.loadSdk();const{onPaymentAuthorize:r,buyNowInitializeOptions:s,requiresShipping:l}=a;this._requiresShipping=l,this._buyNowInitializeOptions=s,this._onAuthorizeCallback=r,s||(yield this._paymentIntegrationService.loadDefaultCheckout()),yield this._paymentIntegrationService.loadPaymentMethod(n);const d=this._paymentIntegrationService.getState();return this._paymentMethod=d.getPaymentMethodOrThrow(n),d.getCart()&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection()),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===N.BRAINTREE&&this._paymentMethod.clientToken&&this._braintreeSdk.initialize(this._paymentMethod.clientToken),this._applePayButton=this._createButton(o,null===(i=this._paymentMethod.initializationData)||void 0===i?void 0:i.styleOption),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),Promise.resolve()})}deinitialize(){return Promise.resolve()}_createButton(e,t){const i=document.getElementById(e);if(!i)throw new z(\"Unable to create wallet button without valid container ID.\");const n=this._createApplePayButtonElement(t);return i.appendChild(n),n}_createApplePayButtonElement(e){const t=document.createElement(\"apple-pay-button\");return t.setAttribute(\"buttonstyle\",(e=>{switch(e){case J.White:return\"white\";case J.WhiteBorder:return\"white-outline\";case J.Black:default:return\"black\"}})(e)),t.setAttribute(\"type\",\"plain\"),t.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 40px; --apple-pay-button-border-radius: 4px;\"),t}_handleWalletButtonClick(e){var t;return ee(this,void 0,void 0,function*(){if(e.preventDefault(),!this._paymentMethod||!this._paymentMethod.initializationData)throw new L(A.MissingPaymentMethod);if(this._buyNowInitializeOptions&&\"function\"==typeof this._buyNowInitializeOptions.getBuyNowCartRequestBody){const{countryCode:e,currencyCode:i,merchantCapabilities:n,supportedNetworks:o,storeName:a}=this._paymentMethod.initializationData,r=this._getRequestWithEmptyTotal(e,i,o,n);this._requiresShipping&&(null===(t=r.requiredShippingContactFields)||void 0===t||t.push(\"postalAddress\"));const s=this._sessionFactory.create(r);this._handleApplePayEvents(s,this._paymentMethod,a),s.begin()}else{const e=this._paymentIntegrationService.getState(),t=e.getCartOrThrow(),i=e.getStoreConfigOrThrow(),n=e.getCheckoutOrThrow(),o=this._getBaseRequest(t,n,i,this._paymentMethod),a=this._sessionFactory.create(o);this._handleApplePayEvents(a,this._paymentMethod,i.storeProfile.storeName),a.begin()}})}_getRequestWithEmptyTotal(e,t,i,n){return{countryCode:e,currencyCode:t,supportedNetworks:i,merchantCapabilities:n,total:{label:\"\",amount:\"0\",type:\"pending\"},requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"]}}_getBaseRequest(e,t,i,n){var o;const{storeProfile:{storeCountryCode:a,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:a,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(o=u.requiredShippingContactFields)||void 0===o||o.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>ee(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),this._buyNowInitializeOptions&&!this._requiresShipping&&(e.onpaymentmethodselected=()=>ee(this,void 0,void 0,function*(){yield this._createBuyNowCart(),this._handlePaymentMethodSelected(e)})),e.onshippingcontactselected=t=>ee(this,void 0,void 0,function*(){this._buyNowInitializeOptions&&this._requiresShipping&&(yield this._createBuyNowCart()),yield this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>ee(this,void 0,void 0,function*(){yield this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>ee(this,void 0,void 0,function*(){try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){throw new x}}),e.onpaymentauthorized=i=>ee(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_createBuyNowCart(){var e,t;return ee(this,void 0,void 0,function*(){try{const i=null===(t=null===(e=this._buyNowInitializeOptions)||void 0===e?void 0:e.getBuyNowCartRequestBody)||void 0===t?void 0:t.call(e);if(!i)throw new L(A.MissingCart);const n=yield this._paymentIntegrationService.createBuyNowCart(i);yield this._paymentIntegrationService.loadCheckout(n.id);const o=this._paymentIntegrationService.getState(),{shouldExecuteSpamCheck:a}=o.getCheckoutOrThrow();a&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection())}catch(e){throw new Q}})}_handlePaymentMethodSelected(e){const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),o=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new L(A.MissingPaymentMethod);const a=this._getBaseRequest(i,o,n,this._paymentMethod);delete a.total.type,e.completePaymentMethodSelection({newTotal:a.total,newLineItems:a.lineItems})}_handleShippingContactSelected(e,t,i){var n;return ee(this,void 0,void 0,function*(){const o=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(o)}catch(t){throw e.abort(),new Error(\"Shipping address update failed\")}let a=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:r}}=a.getCartOrThrow();let s=a.getCheckoutOrThrow();const l=null===(n=s.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,d=s.consignments[0].availableShippingOptions,c=null==d?void 0:d.find(({id:e})=>e===l),h=null==d?void 0:d.filter(e=>e.id!==l),u=c?[{label:c.description,amount:`${c.cost.toFixed(r)}`,detail:c.additionalDescription,identifier:c.id}]:[];if(h&&[...h.filter(e=>e.isRecommended),...h.filter(e=>!e.isRecommended)].forEach(e=>u.push({label:e.description,amount:`${e.cost.toFixed(r)}`,detail:e.additionalDescription,identifier:e.id})),!(d instanceof Array))throw new Error(\"Shipping options not available.\");if(0===d.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:t,amount:`${s.grandTotal.toFixed(r)}`},[]);const p=d.find(e=>e.isRecommended),m=p?p.id:d[0].id,y=c?c.id:m;try{yield this._updateShippingOption(y)}catch(e){throw new Error(\"Shipping options update failed\")}a=this._paymentIntegrationService.getState(),s=a.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:u,newTotal:{type:\"final\",label:t,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_handleShippingMethodSelected(e,t,i){return ee(this,void 0,void 0,function*(){const{shippingMethod:{identifier:n}}=i;try{yield this._updateShippingOption(n)}catch(t){throw e.abort(),new Error(\"Shipping option selection update failed.\")}const o=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:a}}=o.getCartOrThrow(),r=o.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:t,amount:`${r.grandTotal.toFixed(a)}`},newLineItems:this._getUpdatedLineItems(r,a)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return ee(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return ee(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return ee(this,void 0,void 0,function*(){const{token:o,billingContact:a,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===N.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:o.paymentData,payment_method:o.paymentMethod,transaction_id:o.transactionIdentifier}}}},c=this._transformContactToAddress(a),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){throw t.completePayment(ApplePaySession.STATUS_FAILURE),new Error(\"Payment cannot complete\")}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return ee(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}}const ie=D(n=>{const{getHost:o}=n.getState(),a=new c(n);return new te((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:o()}),n,new j,new I(new E((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,a)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9hcHBsZS1wYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLElBQUlBLEVBQXNCLENBQUMsRUNHWixTQUFTQyxFQUNwQkMsRUFDQUMsRUFDQUMsR0FBZ0IsRyxNQUVoQixPQUErQixRQUF4QixFQUFBRixFQUFTQyxVQUFlLFFBQUlDLENBQ3ZDLENDVEFKLEVBQW9CSyxFQUFJLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFAsRUFBb0JTLEVBQUVGLEVBQVlDLEtBQVNSLEVBQW9CUyxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUixFQUFvQlMsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0EzRSxNQUFNSSxFQUEwQyxVQUMxQ0MsRUFBZ0MsVUFDaENDLEVBQStCLFVDVTdCLE1BQU1DLEVBR2pCLFdBQUFDLENBQW9CQyxHQUFBLEtBQUFBLDBCQUFBQSxFQUZaLEtBQUFDLGdCQUF1Q0MsTUFFNEIsQ0FFM0UsYUFBQUMsR0FDSSxNQUNNQyxFQURRQyxLQUFLTCwwQkFBMEJNLFdBQ25CQyxpQkFDcEI3QixHQUFXMEIsYUFBVyxFQUFYQSxFQUFhSSxpQkFBaUI5QixXQUFZLENBQUMsRUFJNUQsT0FGeUIyQixLQUFLSSwyQkFNMUJoQyxFQUFvQkMsRUFBVSxtREFDdkJpQixFQUdQbEIsRUFBb0JDLEVBQVUsNENBQ3ZCa0IsRUFHSkMsRUFDWCxDQUVRLHNCQUFBWSxHQUNKLE1BQU1DLEVBQVlMLEtBQUtKLGdCQUFnQlMsVUFFdkMsR0FBSUEsRUFBVyxDQUNYLE1BQU1DLEVBQW1CQyw0Q0FBQUEsQ0FDckIxQixPQUFPMkIsT0FBT0gsR0FDYkksS0FBYUEsRUFBT0MsU0FHekIsT0FBT0osYUFBZ0IsRUFBaEJBLEVBQWtCSSxP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QUVBLE1BQU8sQ0FDSEMsV0FBV0QsYUFBTyxFQUFQQSxFQUFTRSxZQUFhLEdBQ2pDQyxVQUFVSCxhQUFPLEVBQVBBLEVBQVNJLGFBQWMsR0FDakNDLE1BQU1MLGFBQU8sRUFBUEEsRUFBU00sV0FBWSxHQUMzQkMsUUFBUyxHQUNUQyxVQUFXUixhQUFPLEVBQVBBLEVBQVNTLGVBQWdCVCxFQUFRUyxhQUFhLElBQU8sR0FDaEVDLFVBQVdWLGFBQU8sRUFBUEEsRUFBU1MsZUFBZ0JULEVBQVFTLGFBQWEsSUFBTyxHQUNoRUUsWUFBWVgsYUFBTyxFQUFQQSxFQUFTVyxhQUFjLEdBQ25DL0csYUFBYW9HLGFBQU8sRUFBUEEsRUFBU3BHLGNBQWUsR0FDckMwRixPQUFPVSxhQUFPLEVBQVBBLEVBQVNULGNBQWUsR0FDL0JxQixpQkFBaUJaLGFBQU8sRUFBUEEsRUFBU2EscUJBQXNCLEdBQ2hEQyxxQkFBcUJkLGFBQU8sRUFBUEEsRUFBU2EscUJBQXNCLEdBQ3BERSxhQUFjLEdBRXRCLENBRWMsdUJBQUFuQyxHLHlDQUNWLElBQ0ksTUFBTSxXQUFFMVEsU0FBcUIzRCxLQUFLNEssY0FBY3BILDBCQUVoRCxPQUFPRyxDLENBQ1QsTUFBTzhTLEcsQ0FHYixFLEVDeG9CSixNQWtCQSxHQUFldE4sRUFqQlh4SixJQUVBLE1BQU0sUUFBRXFYLEdBQVlyWCxFQUEwQk0sV0FFeEM4SCxFQUE2QixJQUFJdEksRUFBMkJFLEdBRWxFLE9BQU8sSUFBSTZZLEdBQ1B2QixnRkFBQUEsQ0FBb0IsQ0FBRUMsS0FBTUYsTUFDNUJyWCxFQUNBLElBQUlpWCxFQUNKLElBQUlwVSxFQUNBLElBQUlvRixFQUFzQnVQLDJFQUFBQSxHQUFtQnRYLE9BQVFrSSxJQUV6RCxJQUFJOE8sRUFBcUIsSUFBSU8sb0VBQUFBLElBSTJCLENBQUMsQ0FBRXZHLEdBQUksYyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ib290c3RyYXA/ZmZjYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdXRpbGl0eS9zcmMvaXMtZXhwZXJpbWVudC1lbmFibGVkL2lzLWV4cGVyaW1lbnQtZW5hYmxlZC50cz9jOWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJpc29uLnRzP2Y5YWIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJzaW9uLW1hbmFnZXIudHM/MDRmOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3Vuc3VwcG9ydGVkLWJyb3dzZXItZXJyb3IudHM/OTk3ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9ub3QtaW5pdGlhbGl6ZWQtZXJyb3IudHM/OGI0ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy90eXBlcy50cz8zMDIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS50cz9hNzhlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zZGsudHM/ODA2NCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtZXJyb3IudHM/MzI4OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5LnRzP2IyODciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LnRzPzNkOGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNjcmlwdC1sb2FkZXIudHM/NjZhYiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9pc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uLnRzP2ZkNzAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbXBsZW1lbnRlZC1lcnJvci50cz8zYTM1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHM/MzkyMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jYW5jZWxsZWQtZXJyb3IudHM/MDg5MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9hcHBsZS1wYXktY3VzdG9tZXItc3RyYXRlZ3kudHM/NTVkNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5LnRzPzNkMmEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvaXMtYXBwbGUtcGF5LXdpbmRvdy50cz9hZTk3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyLnRzPzQ5OTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvaXMtYXBwbGUtcGF5LXNkay13aW5kb3cudHM/MTM3MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9jcmVhdGUtYXBwbGUtcGF5LWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzQ4ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzIxYjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLWFwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzk1OTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvYnV5LW5vdy1jYXJ0LWNyZWF0aW9uLWVycm9yLnRzP2Q2MDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LWJ1dHRvbi1zdHJhdGVneS50cz9hM2FmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1hcHBsZS1wYXktYnV0dG9uLXN0cmF0ZWd5LnRzP2VmZmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZXMge1xuICAgIFtmZWF0dXJlTmFtZTogc3RyaW5nXTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICBmZWF0dXJlczogRmVhdHVyZXMsXG4gICAgZXhwZXJpbWVudE5hbWU6IHN0cmluZyxcbiAgICBmYWxsYmFja1ZhbHVlID0gdHJ1ZSxcbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmZWF0dXJlc1tleHBlcmltZW50TmFtZV0gPz8gZmFsbGJhY2tWYWx1ZTtcbn1cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3QgQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OID0gJzMuMTI4LjAnO1xuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OID0gJzMuMTIzLjInO1xuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT04gPSAnMy4xMDYuMCc7XG4iLCJpbXBvcnQgeyBmaW5kIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgUGF5bWVudEludGVncmF0aW9uU2VydmljZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNFeHBlcmltZW50RW5hYmxlZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCB7IEJyYWludHJlZUhvc3RXaW5kb3cgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OLFxufSBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyaXNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIHtcbiAgICBwcml2YXRlIGJyYWludHJlZVdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIGdldFNES1ZlcnNpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHN0b3JlQ29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWcoKTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZUNvbmZpZz8uY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcyB8fCB7fTtcblxuICAgICAgICBjb25zdCBwcmVsb2FkZWRWZXJzaW9uID0gdGhpcy5nZXRQcmVsb2FkZWRTREtWZXJzaW9uKCk7XG5cbiAgICAgICAgaWYgKHByZWxvYWRlZFZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVsb2FkZWRWZXJzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRXhwZXJpbWVudEVuYWJsZWQoZmVhdHVyZXMsICdQQVlQQUwtNTgwOS5icmFpbnRyZWVfaG9zdGVkX2ZpZWxkc19maXhfdmVyc2lvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRXhwZXJpbWVudEVuYWJsZWQoZmVhdHVyZXMsICdQQVlQQUwtNTYzNi51cGRhdGVfYnJhaW50cmVlX3Nka192ZXJzaW9uJykpIHtcbiAgICAgICAgICAgIHJldHVybiBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJlbG9hZGVkU0RLVmVyc2lvbigpOiB2b2lkIHwgc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYnJhaW50cmVlID0gdGhpcy5icmFpbnRyZWVXaW5kb3cuYnJhaW50cmVlO1xuXG4gICAgICAgIGlmIChicmFpbnRyZWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWxvYWRlZFZlcnNpb24gPSBmaW5kPHsgVkVSU0lPTj86IHN0cmluZyB9PihcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGJyYWludHJlZSksXG4gICAgICAgICAgICAgICAgKG1vZHVsZSkgPT4gISFtb2R1bGUuVkVSU0lPTixcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcmVsb2FkZWRWZXJzaW9uPy5WRVJTSU9OO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCB7IFN0YW5kYXJkRXJyb3IgfSBmcm9tICcuL2luZGV4JztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHRoZSBzaG9wcGVyIGlzIHVzaW5nIGEgYnJvd3NlciB2ZXJzaW9uIHRoYXQgaXMgbm90XG4gKiBzdXBwb3J0ZWQgYnkgdXMgb3IgYW55IHRoaXJkIHBhcnR5IHByb3ZpZGVyIHdlIHVzZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1Vuc3VwcG9ydGVkIGJyb3dzZXIgZXJyb3InKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAndW5zdXBwb3J0ZWRfYnJvd3Nlcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0ICogZnJvbSAnLi9icmFpbnRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXlwYWwnO1xuZXhwb3J0ICogZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgTW9kdWxlXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgVEluc3RhbmNlLFxuICAgIFRPcHRpb25zID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBURXJyb3IgPSBCcmFpbnRyZWVFcnJvcixcbj4ge1xuICAgIGNyZWF0ZShcbiAgICAgICAgY29uZmlnOiBUT3B0aW9ucyxcbiAgICAgICAgY2FsbGJhY2s/OiAoZXJyb3I6IFRFcnJvciwgaW5zdGFuY2U6IFRJbnN0YW5jZSkgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPFRJbnN0YW5jZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIGF1dGhvcml6YXRpb24/OiBzdHJpbmc7IC8vIEluZm86IGF1dGhvcml6YXRpb24gdXNlcyBjbGllbnRUb2tlbiBhcyBhIHZhbHVlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgV2luZG93XG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50Q3JlYXRvcjtcbiAgICBicmFpbnRyZWVGYXN0bGFuZT86IEJyYWludHJlZUZhc3RsYW5lO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgQ2xpZW50XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVDbGllbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVDbGllbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUNsaWVudCB7XG4gICAgcmVxdWVzdChwYXlsb2FkOiBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50UmVxdWVzdFJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCB7XG4gICAgZGF0YToge1xuICAgICAgICBjcmVkaXRDYXJkOiB7XG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzcz86IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBjdnY/OiBzdHJpbmc7XG4gICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbnVtYmVyOiBzdHJpbmc7XG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGJvb2xlYW47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgZW5kcG9pbnQ6IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICAgICAgY2FyZFR5cGU6IHN0cmluZztcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBzdHJpbmc7XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RGb3VyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RUd286IHN0cmluZztcbiAgICB9O1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGJpbkRhdGE6IHtcbiAgICAgICAgY29tbWVyY2lhbDogc3RyaW5nO1xuICAgICAgICBjb3VudHJ5T2ZJc3N1YW5jZTogc3RyaW5nO1xuICAgICAgICBkZWJpdDogc3RyaW5nO1xuICAgICAgICBkdXJiaW5SZWd1bGF0ZWQ6IHN0cmluZztcbiAgICAgICAgaGVhbHRoY2FyZTogc3RyaW5nO1xuICAgICAgICBpc3N1aW5nQmFuazogc3RyaW5nO1xuICAgICAgICBwYXlyb2xsOiBzdHJpbmc7XG4gICAgICAgIHByZXBhaWQ6IHN0cmluZztcbiAgICAgICAgcHJvZHVjdElkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UmVzcG9uc2Uge1xuICAgIGNyZWRpdENhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWRbXTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIERhdGEgQ29sbGVjdG9yXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGtvdW50PzogYm9vbGVhbjsgLy8gSW5mbzogdGhpcyBwYXJhbSBpcyBuZWVkZWQgZm9yIGZyYXVkIGRldGVjdGlvbiAoc2hvdWxkIGFsd2F5cyBiZSAndHJ1ZScpXG4gICAgcGF5cGFsPzogYm9vbGVhbjsgLy8gVE9ETzogYmFzZWQgb24gYnJhaW50cmVlIGRvY3VtZW50YXRpb24sIHRoaXMgcGFyYW0gaXMgZGVwcmVjYXRlZCwgc28gd2UgZG9udCBuZWVkIGl0IGFueW1vcmVcbiAgICByaXNrQ29ycmVsYXRpb25JZD86IHN0cmluZzsgLy8gSW5mbzogdGhlIG9wdGlvbiBpcyBuZWVkZWQgZm9yIFBheVBhbCBBbmFseXRpY3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBkZXZpY2VEYXRhPzogc3RyaW5nO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbnRlcmZhY2Ugd2hlbiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Ugd2lsbCBiZSByZW1vdmVkXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZURhdGFDb2xsZWN0b3JzIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwYXlwYWw/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgR29vZ2xlIFBheW1lbnRcbiAqXG4gKi9cbnR5cGUgQnJhaW50cmVlR29vZ2xlUGF5bWVudEFkZHJlc3NGb3JtYXQgPSAnRlVMTCcgfCAnTUlOJztcblxuZXhwb3J0IGVudW0gVG90YWxQcmljZVN0YXR1c1R5cGUge1xuICAgIEVTVElNQVRFRCA9ICdFU1RJTUFURUQnLFxuICAgIEZJTkFMID0gJ0ZJTkFMJyxcbiAgICBOT1RfQ1VSUkVOVExZX0tOT1dOID0gJ05PVF9DVVJSRU5UTFlfS05PV04nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdE9wdGlvbnMge1xuICAgIG1lcmNoYW50SW5mbzoge1xuICAgICAgICBhdXRoSnd0Pzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudElkPzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudE5hbWU/OiBzdHJpbmc7XG4gICAgfTtcbiAgICB0cmFuc2FjdGlvbkluZm86IHtcbiAgICAgICAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBjYXJkUmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBCcmFpbnRyZWVHb29nbGVQYXltZW50QWRkcmVzc0Zvcm1hdDtcbiAgICB9O1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3Qge1xuICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogc3RyaW5nW107XG4gICAgYXBpVmVyc2lvbjogbnVtYmVyO1xuICAgIGNhcmRSZXF1aXJlbWVudHM6IHtcbiAgICAgICAgYWxsb3dlZENhcmROZXR3b3Jrczogc3RyaW5nW107XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBzdHJpbmc7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGk6IHtcbiAgICAgICAgZ29vZ2xlVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgICAgICBzdGFydFRpbWVNczogbnVtYmVyO1xuICAgIH07XG4gICAgbWVyY2hhbnRJbmZvOiB7XG4gICAgICAgIG1lcmNoYW50SWQ6IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnROYW1lOiBzdHJpbmc7XG4gICAgICAgIGF1dGhKd3Q/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmFwaVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWVyY2hhbnRJZCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWV0YWRhdGEnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOnNka1ZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICBnYXRld2F5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRva2VuaXphdGlvblR5cGU6IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVHb29nbGVQYXltZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBjcmVhdGVQYXltZW50RGF0YVJlcXVlc3QoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3RPcHRpb25zLFxuICAgICk6IEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXlUaHJlZURTZWN1cmUge1xuICAgIHZlcmlmeUNhcmQob3B0aW9uczogQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBiaW46IHN0cmluZztcbiAgICBzaG93TG9hZGVyPzogYm9vbGVhbjtcbiAgICBvbkxvb2t1cENvbXBsZXRlKGRhdGE6IEJyYWludHJlZVRocmVlRFNlY3VyZVZlcmlmaWNhdGlvbkRhdGEsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgM0QgU2VjdXJlXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmUgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHZlcmlmeUNhcmQoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrPzogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZENhbGxiYWNrLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG4gICAgY2FuY2VsVmVyaWZ5Q2FyZCgpOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xuICAgIG9uPEsgZXh0ZW5kcyBrZXlvZiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcD4oXG4gICAgICAgIGV2ZW50OiBLLFxuICAgICAgICBoYW5kbGVyOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcFtLXSxcbiAgICApOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkQ2FsbGJhY2sgPSAoXG4gICAgdmVyaWZ5RXJyb3I6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRFcnJvcixcbiAgICBwYXlsb2FkOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCxcbikgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcCB7XG4gICAgJ2N1c3RvbWVyLWNhbmNlbGVkJzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgdmVyc2lvbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyIHwgc3RyaW5nO1xuICAgIGNoYWxsZW5nZVJlcXVlc3RlZD86IGJvb2xlYW47XG4gICAgc2hvd0xvYWRlcj86IGJvb2xlYW47XG4gICAgYmluPzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbj86IHtcbiAgICAgICAgYWNzV2luZG93U2l6ZT86ICcwMScgfCAnMDInIHwgJzAzJyB8ICcwNCcgfCAnMDUnO1xuICAgIH07XG4gICAgY29sbGVjdERldmljZURhdGE/OiBib29sZWFuO1xuICAgIGFkZEZyYW1lPyhcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVGcmFtZT8oKTogdm9pZDtcbiAgICBvbkxvb2t1cENvbXBsZXRlPyhkYXRhOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhLCBuZXh0OiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhIHtcbiAgICBsb29rdXA6IHtcbiAgICAgICAgdGhyZWVEU2VjdXJlVmVyc2lvbjogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudE1ldGhvZDogQnJhaW50cmVlVmVyaWZ5UGF5bG9hZDtcbiAgICByZXF1aXJlc1VzZXJBdXRoZW50aWNhdGlvbjogYm9vbGVhbjtcbiAgICB0aHJlZURTZWN1cmVJbmZvOiB7XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlT3JkZXJTdGF0dXMge1xuICAgIENvbXBsZXRlZCA9ICdDT01QTEVURUQnLFxuICAgIFBlbmRpbmcgPSAnUEVORElORycsXG4gICAgRmFpbGVkID0gJ0ZBSUxFRCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlT3JkZXJTdGF0dXNEYXRhIHtcbiAgICBzdGF0dXM6IEJyYWludHJlZU9yZGVyU3RhdHVzO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVVMgQmFuayBBY2NvdW50IChBQ0gpXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlVXNCYW5rQWNjb3VudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudCB7XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50VG9rZW5pemF0aW9uT3B0aW9ucyB7XG4gICAgYmFua0RldGFpbHM6IEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzO1xuICAgIG1hbmRhdGVUZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudERldGFpbHMge1xuICAgIGFjY291bnROdW1iZXI6IHN0cmluZztcbiAgICByb3V0aW5nTnVtYmVyOiBzdHJpbmc7XG4gICAgb3duZXJzaGlwVHlwZTogc3RyaW5nO1xuICAgIGFjY291bnRUeXBlOiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJ1c2luZXNzTmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzczoge1xuICAgICAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgICAgIGV4dGVuZGVkQWRkcmVzczogc3RyaW5nO1xuICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICByZWdpb246IHN0cmluZztcbiAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIH07XG59XG5cbi8vIFRPRE86IG1vdmUgdGhpcyBpbnRlcmZhY2UgaW4gc2VwYXJhdGUgdHlwZXMgZ3JvdXAgaWYgaXQgd2lsbCBiZSB1c2VkIGluIGFub3RoZXIgKG5vdCBBQ0gpIHN0cmF0ZWdpZXNcbi8vIFRoaXMgc2VlbXMgdG8gYmUgYW4gaW50ZXJmYWNlIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBkaWZmZXJlbnQgcGxhY2VzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMge1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBheWVySWQ/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcztcbiAgICBiaWxsaW5nQWRkcmVzcz86IEJyYWludHJlZUFkZHJlc3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQWRkcmVzcyB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMjogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcyBleHRlbmRzIEJyYWludHJlZUFkZHJlc3Mge1xuICAgIHJlY2lwaWVudE5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIG5vbi1pbnN0YW50IHBheW1lbnQgbWV0aG9kc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gTm9uSW5zdGFudExvY2FsUGF5bWVudE1ldGhvZHMge1xuICAgIFRSVVNUTFkgPSAndHJ1c3RseScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50TWV0aG9kUmVkaXJlY3RBY3Rpb24ge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvZmZzaXRlX3JlZGlyZWN0JztcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2Uge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBvcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHk6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEZhc3RsYW5lXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUZhc3RsYW5lLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnIHtcbiAgICBhdXRob3JpemF0aW9uOiBzdHJpbmc7XG4gICAgY2xpZW50OiBCcmFpbnRyZWVDbGllbnQ7XG4gICAgZGV2aWNlRGF0YT86IHN0cmluZztcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZSB7XG4gICAgaWRlbnRpdHk6IEJyYWludHJlZUZhc3RsYW5lSWRlbnRpdHk7XG4gICAgcHJvZmlsZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlO1xuICAgIEZhc3RsYW5lQ2FyZENvbXBvbmVudDogKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zLFxuICAgICkgPT4gUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQ+O1xuICAgIGV2ZW50czogQnJhaW50cmVlRmFzdGxhbmVFdmVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlIHtcbiAgICBzaG93Q2FyZFNlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZT47XG4gICAgc2hvd1NoaXBwaW5nQWRkcmVzc1NlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3NTZWxlY3RvclJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzc1NlbGVjdG9yUmVzcG9uc2Uge1xuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGJvb2xlYW47XG4gICAgc2VsZWN0ZWRBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcyB7XG4gICAgbmFtZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZTtcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICByZWdpb246IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVOdW1lcmljPzogbnVtYmVyO1xuICAgIGNvdW50cnlDb2RlQWxwaGEyOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZSB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZSB7XG4gICAgc2VsZWN0aW9uQ2hhbmdlZDogYm9vbGVhbjtcbiAgICBzZWxlY3RlZENhcmQ6IEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJyYWludHJlZUZhc3RsYW5lOiBCcmFpbnRyZWVGYXN0bGFuZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUlkZW50aXR5IHtcbiAgICBsb29rdXBDdXN0b21lckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVMb29rdXBDdXN0b21lckJ5RW1haWxSZXN1bHQ+O1xuICAgIHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3coXG4gICAgICAgIGN1c3RvbWVySWQ6IHN0cmluZyxcbiAgICAgICAgb3B0aW9ucz86IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbkN1c3RvbWVyUmVzdWx0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUxvb2t1cEN1c3RvbWVyQnlFbWFpbFJlc3VsdCB7XG4gICAgY3VzdG9tZXJDb250ZXh0SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbk9wdGlvbnMge1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHtcbiAgICByb290Pzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5Pzogc3RyaW5nO1xuICAgICAgICBlcnJvckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgICAgICBmb250U2l6ZUJhc2U/OiBzdHJpbmc7XG4gICAgICAgIHBhZGRpbmc/OiBzdHJpbmc7XG4gICAgICAgIHByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICB9O1xuICAgIGlucHV0Pzoge1xuICAgICAgICBib3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb2N1c0JvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlcldpZHRoPzogc3RyaW5nO1xuICAgICAgICB0ZXh0Q29sb3JCYXNlPzogc3RyaW5nO1xuICAgIH07XG4gICAgdG9nZ2xlPzoge1xuICAgICAgICBjb2xvclByaW1hcnk/OiBzdHJpbmc7XG4gICAgICAgIGNvbG9yU2Vjb25kYXJ5Pzogc3RyaW5nO1xuICAgIH07XG4gICAgdGV4dD86IHtcbiAgICAgICAgYm9keT86IHtcbiAgICAgICAgICAgIGNvbG9yPzogc3RyaW5nO1xuICAgICAgICAgICAgZm9udFNpemU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIGNhcHRpb24/OiB7XG4gICAgICAgICAgICBjb2xvcj86IHN0cmluZztcbiAgICAgICAgICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYnJhbmRpbmc/OiBzdHJpbmc7IC8vICdsaWdodCcgfCAnZGFyaydcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIHtcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBGQUlMRUQgPSAnZmFpbGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxsZWQnLFxuICAgIFVOUkVDT0dOSVpFRCA9ICd1bnJlY29nbml6ZWQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25DdXN0b21lclJlc3VsdCB7XG4gICAgYXV0aGVudGljYXRpb25TdGF0ZTogQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIHByb2ZpbGVEYXRhOiBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZURhdGEge1xuICAgIGZhc3RsYW5lQ3VzdG9tZXJBdXRoQXNzZXJ0aW9uVG9rZW46IHN0cmluZztcbiAgICBmYXN0bGFuZUN1c3RvbWVySWQ6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBjYXJkOiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50O1xuICAgIG5hbWU6IEJyYWludHJlZUZhc3RsYW5lTmFtZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZU5hbWUge1xuICAgIGZpcnN0TmFtZTogc3RyaW5nO1xuICAgIGxhc3ROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IG51bWJlcjtcbiAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZFBheW1lbnRTb3VyY2Uge1xuICAgIGJyYW5kOiBzdHJpbmc7XG4gICAgZXhwaXJ5OiBzdHJpbmc7XG4gICAgbGFzdERpZ2l0czogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBiaW5EZXRhaWxzPzoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFNvdXJjZSB7XG4gICAgY2FyZDogQnJhaW50cmVlRmFzdGxhbmVDYXJkUGF5bWVudFNvdXJjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICBpZDogc3RyaW5nOyAvLyBUaGlzIGlzIHRoZSBub25jZSAvIHRva2VuXG4gICAgcGF5bWVudFNvdXJjZTogQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U291cmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudE9wdGlvbnMge1xuICAgIHN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb247XG4gICAgZmllbGRzOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRGaWVsZHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50RmllbGRzIHtcbiAgICBjYXJkaG9sZGVyTmFtZT86IHtcbiAgICAgICAgZW5hYmxlZD86IGJvb2xlYW47XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwaG9uZU51bWJlcj86IHtcbiAgICAgICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYXN0bGFuZVN0eWxlc1NldHRpbmdzIHtcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0Vycm9yQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NGb250RmFtaWx5Pzogc3RyaW5nO1xuICAgIGZhc3RsYW5lUm9vdFNldHRpbmdzUGFkZGluZz86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc1ByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyV2lkdGg/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzRm9jdXNCb3JkZXJCYXNlPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2U/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yUHJpbWFyeT86IHN0cmluZztcbiAgICBmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnk/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVCcmFuZGluZ1NldHRpbmdzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lVG9rZW5pemVPcHRpb25zIHtcbiAgICBuYW1lPzoge1xuICAgICAgICBmdWxsTmFtZTogc3RyaW5nO1xuICAgIH07XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgc2hpcHBpbmdBZGRyZXNzPzogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRXZlbnRzIHtcbiAgICBhcG1TZWxlY3RlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lQXBtU2VsZWN0ZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG4gICAgZW1haWxTdWJtaXR0ZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUVtYWlsRW50ZXJlZEV2ZW50T3B0aW9ucykgPT4gdm9pZDtcbiAgICBvcmRlclBsYWNlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGNvbnRleHRfdHlwZTogJ2NzX2lkJztcbiAgICBjb250ZXh0X2lkOiBzdHJpbmc7IC8vIGNoZWNrb3V0IHNlc3Npb24gaWRcbiAgICBwYWdlX3R5cGU6ICdjaGVja291dF9wYWdlJztcbiAgICBwYWdlX25hbWU6IHN0cmluZzsgLy8gdGl0bGUgb2YgdGhlIGNoZWNrb3V0IGluaXRpYXRpb24gcGFnZVxuICAgIHBhcnRuZXJfbmFtZTogJ2JpZ2MnO1xuICAgIHVzZXJfdHlwZTogJ3N0b3JlX21lbWJlcicgfCAnc3RvcmVfZ3Vlc3QnOyAvLyB0eXBlIG9mIHRoZSB1c2VyIG9uIHRoZSBtZXJjaGFudCBzaXRlXG4gICAgc3RvcmVfaWQ6IHN0cmluZztcbiAgICBtZXJjaGFudF9uYW1lOiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudDogc3RyaW5nOyAvLyBzdHJpbmdpZnkgSlNPTiBvYmplY3QgXCJbeyB0cmVhdG1lbnRfZ3JvdXA6ICd0ZXN0JyB8ICdjb250cm9sJyB9XVwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBcG1TZWxlY3RlZEV2ZW50T3B0aW9uc1xuICAgIGV4dGVuZHMgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGFwbV9zaG93bjogJzAnIHwgJzEnOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiB0aGUgY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9saXN0OiBzdHJpbmc7IC8vIGxpc3Qgb2YgYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9zZWxlY3RlZDogc3RyaW5nOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBtZXRob2Qgc2VsZWN0ZWQgLyBtZXRob2RJZFxuICAgIGFwbV9sb2NhdGlvbjogJ3ByZS1lbWFpbCBzZWN0aW9uJyB8ICdwYXltZW50IHNlY3Rpb24nOyAvLyBwbGFjZW1lbnQgb2YgQVBNLCB3aGV0aGVyIGl0IGJlIGFib3ZlIHRoZSBlbWFpbCBlbnRyeSBvciBpbiB0aGUgcmFkaW8gYnV0dG9uc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRW1haWxFbnRlcmVkRXZlbnRPcHRpb25zXG4gICAgZXh0ZW5kcyBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50Q29tbW9uT3B0aW9ucyB7XG4gICAgdXNlcl9lbWFpbF9zYXZlZDogYm9vbGVhbjsgLy8gc2hvd3Mgd2hldGhlciBjaGVja291dCB3YXMgbG9hZGVkIHdpdGggb3Igd2l0aG91dCBhIHNhdmVkIGVtYWlsXG4gICAgYXBtX3Nob3duOiAnMCcgfCAnMSc7IC8vIGFsdGVybmF0ZSBwYXltZW50IHNob3duIG9uIHRoZSBjaGVja291dCBwYWdlXG4gICAgYXBtX2xpc3Q6IHN0cmluZzsgLy8gbGlzdCBvZiBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiBjaGVja291dCBwYWdlICdhcHBsZXBheSxnb29nbGVwYXkscGF5cGFsJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnNcbiAgICBleHRlbmRzIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBzZWxlY3RlZF9wYXltZW50X21ldGhvZDogc3RyaW5nO1xuICAgIGN1cnJlbmN5X2NvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQge1xuICAgIChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zKTogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50O1xuICAgIGdldFBheW1lbnRUb2tlbihcbiAgICAgICAgb3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50PjtcbiAgICByZW5kZXIoZWxlbWVudDogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheWxvYWQgVmVyaWZpY2F0aW9uXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlcmlmeVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBjYXJkVHlwZTogc3RyaW5nO1xuICAgICAgICBsYXN0Rm91cjogc3RyaW5nO1xuICAgICAgICBsYXN0VHdvOiBzdHJpbmc7XG4gICAgfTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgbGlhYmlsaXR5U2hpZnRlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEVycm9yc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlRXJyb3JUeXBlIHtcbiAgICBDdXN0b21lciA9ICdDVVNUT01FUicsXG4gICAgTWVyY2hhbnQgPSAnTUVSQ0hBTlQnLFxuICAgIE5ldHdvcmsgPSAnTkVUV09SSycsXG4gICAgSW50ZXJuYWwgPSAnSU5URVJOQUwnLFxuICAgIFVua25vd24gPSAnVU5LTk9XTicsXG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVycm9yQ29kZSB7XG4gICAgS291bnROb3RFbmFibGVkID0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvclR5cGU7XG4gICAgY29kZTogc3RyaW5nIHwgQnJhaW50cmVlRXJyb3JDb2RlLktvdW50Tm90RW5hYmxlZDtcbiAgICBkZXRhaWxzPzogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVSZWRpcmVjdEVycm9yIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzcyBleHRlbmRzIEFkZHJlc3Mge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMge1xuICAgIFZpc2EgPSAndmlzYScsXG4gICAgTWFzdGVyY2FyZCA9ICdtYXN0ZXJjYXJkJyxcbiAgICBBbWVyaWNhbkV4cHJlc3MgPSAnYW1lcmljYW4tZXhwcmVzcycsXG4gICAgRGluZXJzQ2x1YiA9ICdkaW5lcnMtY2x1YicsXG4gICAgRGlzY292ZXIgPSAnZGlzY292ZXInLFxuICAgIEpjYiA9ICdqY2InLFxuICAgIFVuaW9uUGF5ID0gJ3VuaW9uLXBheScsXG4gICAgTWFlc3RybyA9ICdtYWVzdHJvJyxcbiAgICBFbG8gPSAnZWxvJyxcbiAgICBNaXIgPSAnbWlyJyxcbiAgICBIaXBlciA9ICdoaXBlcicsXG4gICAgSGlwZXJjYXJkID0gJ2hpcGVyY2FyZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3NTdGF0ZSB7XG4gICAgZGF0YT86IEJpbGxpbmdBZGRyZXNzO1xuICAgIGVycm9yczogQmlsbGluZ0FkZHJlc3NFcnJvcnNTdGF0ZTtcbiAgICBzdGF0dXNlczogQmlsbGluZ0FkZHJlc3NTdGF0dXNlc1N0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdBZGRyZXNzRXJyb3JzU3RhdGUge1xuICAgIGxvYWRFcnJvcj86IEVycm9yO1xuICAgIHVwZGF0ZUVycm9yPzogRXJyb3I7XG4gICAgY29udGludWVBc0d1ZXN0RXJyb3I/OiBFcnJvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzc1N0YXR1c2VzU3RhdGUge1xuICAgIGlzTG9hZGluZz86IGJvb2xlYW47XG4gICAgaXNVcGRhdGluZz86IGJvb2xlYW47XG4gICAgaXNDb250aW51aW5nQXNHdWVzdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgIGRhdGE6IHtcbiAgICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiB7XG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXJkaG9sZGVyTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgY3Z2Pzogc3RyaW5nO1xuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIG51bWJlcjogc3RyaW5nO1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBib29sZWFuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGVuZHBvaW50OiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBPbWl0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICBQYXlwYWxCdXR0b25PcHRpb25zLFxuICAgIFBheXBhbEJ1dHRvblJlbmRlcixcbiAgICBQYXlwYWxTREssXG4gICAgUGF5cGFsU3R5bGVPcHRpb25zLFxufSBmcm9tICcuL3BheXBhbCc7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3IsXG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yLFxuICAgIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkc1Rva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVNb2R1bGUsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyxcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVXaW5kb3csXG4gICAgRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICBWaXNhQ2hlY2tvdXRTREssXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgICBWaXNhQ2hlY2tvdXRJbml0T3B0aW9ucyxcbiAgICBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQsXG4gICAgVmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZCxcbn0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBDb25zdGFudHNcbiAqXG4gKi9cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVudiB7XG4gICAgU2FuZGJveCA9ICdzYW5kYm94JyxcbiAgICBQcm9kdWN0aW9uID0gJ3Byb2R1Y3Rpb24nLFxufVxuXG4vKipcbiAqXG4gKiBDb21tb25cbiAqXG4gKi9cbmV4cG9ydCBlbnVtIEJyYWludHJlZU1vZHVsZU5hbWUge1xuICAgIENsaWVudCA9ICdjbGllbnQnLFxuICAgIERhdGFDb2xsZWN0b3IgPSAnZGF0YUNvbGxlY3RvcicsXG4gICAgRmFzdGxhbmUgPSAnZmFzdGxhbmUnLFxuICAgIEdvb2dsZVBheW1lbnQgPSAnZ29vZ2xlUGF5bWVudCcsXG4gICAgSG9zdGVkRmllbGRzID0gJ2hvc3RlZEZpZWxkcycsXG4gICAgTG9jYWxQYXltZW50ID0gJ2xvY2FsUGF5bWVudCcsXG4gICAgUGF5cGFsID0gJ3BheXBhbCcsXG4gICAgUGF5cGFsQ2hlY2tvdXQgPSAncGF5cGFsQ2hlY2tvdXQnLFxuICAgIFRocmVlRFNlY3VyZSA9ICd0aHJlZURTZWN1cmUnLFxuICAgIFVzQmFua0FjY291bnQgPSAndXNCYW5rQWNjb3VudCcsXG4gICAgVmVubW8gPSAndmVubW8nLFxuICAgIFZpc2FDaGVja291dCA9ICd2aXNhQ2hlY2tvdXQnLFxufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyA9XG4gICAgfCBCcmFpbnRyZWVDbGllbnRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3JcbiAgICB8IEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlUGF5cGFsQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3JcbiAgICB8IEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I7XG5cbi8vIFRPRE86IHJlbmFtZSB0byBCcmFpbnRyZWVTZGtNb2R1bGVzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNESyB7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XT86IEJyYWludHJlZUNsaWVudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdPzogQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdPzogQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF0/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdPzogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdPzogQnJhaW50cmVlUGF5cGFsQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF0/OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXT86IEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dPzogQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XT86IEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF0/OiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdPzogQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcjtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0ZUNvbmZpZyxcbiAgICBCcmFpbnRyZWVFcnJvciB8IHVuZGVmaW5lZFxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdGVDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBtZXJjaGFudEFjY291bnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSB7XG4gICAgY2xpZW50VG9rZW46IHN0cmluZztcbiAgICBlbmFibGVDaGVja291dFBheXdhbGxCYW5uZXI/OiBib29sZWFuO1xuICAgIGludGVudD86ICdhdXRob3JpemUnIHwgJ29yZGVyJyB8ICdzYWxlJztcbiAgICBpc0NyZWRpdEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzQWNjZWxlcmF0ZWRDaGVja291dEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVTdHlsaW5nRW5hYmxlZD86IGJvb2xlYW47XG4gICAgaXNGYXN0bGFuZUVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVTaGlwcGluZ09wdGlvbkF1dG9TZWxlY3RFbmFibGVkPzogYm9vbGVhbjtcbiAgICBmYXN0bGFuZVN0eWxlcz86IEZhc3RsYW5lU3R5bGVzU2V0dGluZ3M7XG4gICAgaXNCcmFpbnRyZWVBbmFseXRpY3NWMkVuYWJsZWQ/OiBib29sZWFuO1xuICAgIHNob3VsZFJ1bkFjY2VsZXJhdGVkQ2hlY2tvdXQ/OiBib29sZWFuOyAvLyBUT0RPOiBvbmx5IGZvciBCVCBBWE8gQS9CIHRlc3RpbmcgcHVycG9zZXMsIGhlbmNlIHNob3VsZCBiZSByZW1vdmVkIGFmdGVyIHRlc3RpbmdcbiAgICBwYXltZW50QnV0dG9uU3R5bGVzPzogUmVjb3JkPHN0cmluZywgUGF5cGFsU3R5bGVPcHRpb25zPjtcbiAgICBwYXlwYWxCTlBMQ29uZmlndXJhdGlvbj86IFBheVBhbEJOUExDb25maWd1cmF0aW9uSXRlbVtdIHwgbnVsbDtcbiAgICBub25jZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0IHtcbiAgICBhbW91bnQ6IHN0cmluZyB8IG51bWJlcjtcbiAgICBiaWxsaW5nQWdyZWVtZW50RGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlO1xuICAgIGZsb3c6ICdjaGVja291dCcgfCAndmF1bHQnO1xuICAgIGludGVudD86ICdhdXRob3JpemUnIHwgJ29yZGVyJyB8ICdzYWxlJztcbiAgICBsYW5kaW5nUGFnZVR5cGU/OiAnbG9naW4nIHwgJ2JpbGxpbmcnO1xuICAgIGxvY2FsZT86IHN0cmluZztcbiAgICBvZmZlckNyZWRpdD86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlPzogQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGU7XG4gICAgdXNlcmFjdGlvbj86ICdjb21taXQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIHtcbiAgICBsaW5lMTogc3RyaW5nO1xuICAgIGxpbmUyPzogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHJlY2lwaWVudE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIHR5cGU6ICdQYXlwYWxBY2NvdW50JyB8ICdWZW5tb0FjY291bnQnO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG4gICAgY3JlZGl0RmluYW5jaW5nT2ZmZXJlZD86IHtcbiAgICAgICAgdG90YWxDb3N0OiB7XG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgdGVybTogbnVtYmVyO1xuICAgICAgICBtb250aGx5UGF5bWVudDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRvdGFsSW5zdGVyZXN0OiB7XG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgcGF5ZXJBY2NlcHRhbmNlOiBib29sZWFuO1xuICAgICAgICBjYXJ0QW1vdW50SW1tdXRhYmxlOiBib29sZWFuO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvckRhdGEgPSBPbWl0PEJyYWludHJlZUZvcm1GaWVsZFN0YXRlLCAnaXNGb2N1c2VkJz47XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvckRhdGFLZXlzID1cbiAgICB8ICdudW1iZXInXG4gICAgfCAnZXhwaXJhdGlvbkRhdGUnXG4gICAgfCAnZXhwaXJhdGlvbk1vbnRoJ1xuICAgIHwgJ2V4cGlyYXRpb25ZZWFyJ1xuICAgIHwgJ2N2didcbiAgICB8ICdwb3N0YWxDb2RlJztcblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUVycm9yc0RhdGEgPSBQYXJ0aWFsPFxuICAgIFJlY29yZDxCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cywgQnJhaW50cmVlRm9ybUVycm9yRGF0YT5cbj47XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBIb3N0ZWQgRmllbGRzXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMge1xuICAgIGdldFN0YXRlKCk6IEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlO1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD47XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQ+O1xuICAgIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGZpZWxkczoge1xuICAgICAgICBudW1iZXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGN2dj86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBwb3N0YWxDb2RlPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGNhcmRob2xkZXJOYW1lPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgfTtcbiAgICBzdHlsZXM/OiB7XG4gICAgICAgIGlucHV0PzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICAgICAgJy5pbnZhbGlkJz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICcudmFsaWQnPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICAgICAgJzpmb2N1cyc/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIH07XG4gICAgcHJldmVudEN1cnNvckp1bXBzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbiB7XG4gICAgY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudDtcbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGZvcm1hdElucHV0PzogYm9vbGVhbjtcbiAgICBtYXNrSW5wdXQ/OiBib29sZWFuIHwgeyBjaGFyYWN0ZXI/OiBzdHJpbmc7IHNob3dMYXN0Rm91cj86IHN0cmluZyB9O1xuICAgIHNlbGVjdD86IGJvb2xlYW4gfCB7IG9wdGlvbnM/OiBzdHJpbmdbXSB9O1xuICAgIG1heENhcmRMZW5ndGg/OiBudW1iZXI7XG4gICAgbWF4bGVuZ3RoPzogbnVtYmVyO1xuICAgIG1pbmxlbmd0aD86IG51bWJlcjtcbiAgICBwcmVmaWxsPzogc3RyaW5nO1xuICAgIHJlamVjdFVuc3VwcG9ydGVkQ2FyZHM/OiBib29sZWFuO1xuICAgIHN1cHBvcnRlZENhcmRCcmFuZHM/OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSB7XG4gICAgY2FyZHM6IEJyYWludHJlZUhvc3RlZEZpZWxkc0NhcmRbXTtcbiAgICBlbWl0dGVkQnk6IHN0cmluZztcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbnVtYmVyPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBleHBpcmF0aW9uRGF0ZT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBleHBpcmF0aW9uWWVhcj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgY3Z2PzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBwb3N0YWxDb2RlPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzQ2FyZCB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG5pY2VUeXBlOiBzdHJpbmc7XG4gICAgY29kZTogeyBuYW1lOiBzdHJpbmc7IHNpemU6IG51bWJlciB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YSB7XG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gICAgaXNFbXB0eTogYm9vbGVhbjtcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGJvb2xlYW47XG4gICAgaXNWYWxpZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZU9wdGlvbnMge1xuICAgIHZhdWx0PzogYm9vbGVhbjtcbiAgICBmaWVsZHNUb1Rva2VuaXplPzogc3RyaW5nW107XG4gICAgY2FyZGhvbGRlck5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUJpbGxpbmdBZGRyZXNzUmVxdWVzdERhdGEge1xuICAgIHBvc3RhbENvZGU/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvbXBhbnk/OiBzdHJpbmc7XG4gICAgc3RyZWV0QWRkcmVzcz86IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk/OiBzdHJpbmc7XG4gICAgcmVnaW9uPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZUFscGhhMj86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZUFscGhhMz86IHN0cmluZztcbiAgICBjb3VudHJ5TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IgZXh0ZW5kcyBCcmFpbnRyZWVFcnJvciB7XG4gICAgZGV0YWlscz86IHtcbiAgICAgICAgaW52YWxpZEZpZWxkS2V5cz86IHN0cmluZ1tdO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkU3RhdGUge1xuICAgIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgICBpc0VtcHR5OiBib29sZWFuO1xuICAgIGlzUG90ZW50aWFsbHlWYWxpZDogYm9vbGVhbjtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuaXphdGlvblBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgYmluOiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBQYXlQYWxcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVBheXBhbENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVBheXBhbD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsIHtcbiAgICBjbG9zZVdpbmRvdygpOiB2b2lkO1xuICAgIGZvY3VzV2luZG93KCk6IHZvaWQ7XG4gICAgdG9rZW5pemUob3B0aW9uczogQnJhaW50cmVlUGF5cGFsUmVxdWVzdCk6IFByb21pc2U8QnJhaW50cmVlVG9rZW5pemVQYXlsb2FkPjtcbiAgICBCdXR0b25zPyhvcHRpb25zOiBQYXlwYWxCdXR0b25PcHRpb25zKTogUGF5cGFsQnV0dG9uUmVuZGVyO1xufVxuXG4vKipcbiAqIEEgc2V0IG9mIG9wdGlvbnMgdGhhdCBhcmUgcmVxdWlyZWQgdG8gc3VwcG9ydCAzRCBTZWN1cmUgYXV0aGVudGljYXRpb24gZmxvdy5cbiAqXG4gKiBJZiB0aGUgY3VzdG9tZXIgdXNlcyBhIGNyZWRpdCBjYXJkIHRoYXQgaGFzIDNEIFNlY3VyZSBlbmFibGVkLCB0aGV5IHdpbGwgYmVcbiAqIGFza2VkIHRvIHZlcmlmeSB0aGVpciBpZGVudGl0eSB3aGVuIHRoZXkgcGF5LiBUaGUgdmVyaWZpY2F0aW9uIGlzIGRvbmVcbiAqIHRocm91Z2ggYSB3ZWIgcGFnZSB2aWEgYW4gaWZyYW1lIHByb3ZpZGVkIGJ5IHRoZSBjYXJkIGlzc3Vlci5cbiAqL1xuLy8gZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbi8vICAgICAvKipcbi8vICAgICAgKiBBIGNhbGxiYWNrIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgaWZyYW1lIGlzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgICAqIGN1cnJlbnQgcGFnZS4gSXQgaXMgcmVzcG9uc2libGUgZm9yIGRldGVybWluaW5nIHdoZXJlIHRoZSBpZnJhbWUgc2hvdWxkXG4vLyAgICAgICogYmUgaW5zZXJ0ZWQgaW4gdGhlIERPTS5cbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSBlcnJvciAtIEFueSBlcnJvciByYWlzZWQgZHVyaW5nIHRoZSB2ZXJpZmljYXRpb24gcHJvY2Vzcztcbi8vICAgICAgKiB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm9uZS5cbi8vICAgICAgKiBAcGFyYW0gaWZyYW1lIC0gVGhlIGlmcmFtZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIHZlcmlmaWNhdGlvbiB3ZWIgcGFnZVxuLy8gICAgICAqIHByb3ZpZGVkIGJ5IHRoZSBjYXJkIGlzc3Vlci5cbi8vICAgICAgKiBAcGFyYW0gY2FuY2VsIC0gQSBmdW5jdGlvbiwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoZSB2ZXJpZmljYXRpb25cbi8vICAgICAgKiBwcm9jZXNzIGFuZCByZW1vdmUgdGhlIGlmcmFtZS5cbi8vICAgICAgKi9cbi8vICAgICBhZGRGcmFtZShcbi8vICAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuLy8gICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuLy8gICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4vLyAgICAgKTogdm9pZDtcbi8vXG4vLyAgICAgLyoqXG4vLyAgICAgICogQSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb21cbi8vICAgICAgKiB0aGUgY3VycmVudCBwYWdlLlxuLy8gICAgICAqL1xuLy8gICAgIHJlbW92ZUZyYW1lKCk6IHZvaWQ7XG4vLyB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybU9wdGlvbnMge1xuICAgIGZpZWxkczogQnJhaW50cmVlRm9ybUZpZWxkc01hcCB8IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXA7XG4gICAgc3R5bGVzPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzTWFwO1xuICAgIG9uQmx1cj8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkQmx1ckV2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25DYXJkVHlwZUNoYW5nZT8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkQ2FyZFR5cGVDaGFuZ2VFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uRm9jdXM/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEZvY3VzRXZlbnREYXRhKTogdm9pZDtcbiAgICBvblZhbGlkYXRlPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25FbnRlcj8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkRW50ZXJFdmVudERhdGEpOiB2b2lkO1xufVxuXG5leHBvcnQgZW51bSBCcmFpbnRyZWVGb3JtRmllbGRUeXBlIHtcbiAgICBDYXJkQ29kZSA9ICdjYXJkQ29kZScsXG4gICAgQ2FyZENvZGVWZXJpZmljYXRpb24gPSAnY2FyZENvZGVWZXJpZmljYXRpb24nLFxuICAgIENhcmRFeHBpcnkgPSAnY2FyZEV4cGlyeScsXG4gICAgQ2FyZE5hbWUgPSAnY2FyZE5hbWUnLFxuICAgIENhcmROdW1iZXIgPSAnY2FyZE51bWJlcicsXG4gICAgQ2FyZE51bWJlclZlcmlmaWNhdGlvbiA9ICdjYXJkTnVtYmVyVmVyaWZpY2F0aW9uJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRzTWFwIHtcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZV0/OiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRFeHBpcnldOiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROYW1lXTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyXTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwIHtcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dPzogQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zIHtcbiAgICBhY2Nlc3NpYmlsaXR5TGFiZWw/OiBzdHJpbmc7XG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRPcHRpb25zIGV4dGVuZHMgQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucyB7XG4gICAgaW5zdHJ1bWVudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzTWFwIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xuICAgIGVycm9yPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xuICAgIGZvY3VzPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXMgPSBQYXJ0aWFsPFxuICAgIFBpY2s8Q1NTU3R5bGVEZWNsYXJhdGlvbiwgJ2NvbG9yJyB8ICdmb250RmFtaWx5JyB8ICdmb250U2l6ZScgfCAnZm9udFdlaWdodCc+XG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhIHtcbiAgICBmaWVsZFR5cGU6IHN0cmluZztcbiAgICBlcnJvcnM/OiBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YTtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkQmx1ckV2ZW50RGF0YSA9IEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhO1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkRW50ZXJFdmVudERhdGEgPSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YTtcbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEZvY3VzRXZlbnREYXRhID0gQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkQ2FyZFR5cGVDaGFuZ2VFdmVudERhdGEge1xuICAgIGNhcmRUeXBlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXZlbnREYXRhIHtcbiAgICBlcnJvcnM6IHtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVdPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeV0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZV0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICB9O1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGEge1xuICAgIGZpZWxkVHlwZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBQYXlQYWwgQ2hlY2tvdXRcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbENoZWNrb3V0IHtcbiAgICBsb2FkUGF5UGFsU0RLKFxuICAgICAgICBjb25maWc6IEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4gICAgICAgIGNhbGxiYWNrOiAoZXJyOiBudWxsIHwgdW5kZWZpbmVkIHwgQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZDtcbiAgICBjcmVhdGVQYXltZW50KG9wdGlvbnM6IEJyYWludHJlZVBheXBhbFJlcXVlc3QpOiBQcm9taXNlPHN0cmluZz47XG4gICAgdGVhcmRvd24oKTogUHJvbWlzZTx2b2lkPjtcbiAgICB0b2tlbml6ZVBheW1lbnQob3B0aW9uczogUGF5cGFsQXV0aG9yaXplRGF0YSk6IFByb21pc2U8QnJhaW50cmVlVG9rZW5pemVQYXlsb2FkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWxTZGtDcmVhdG9yQ29uZmlnIHtcbiAgICBjb21wb25lbnRzPzogc3RyaW5nO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIGludGVudD86IHN0cmluZztcbiAgICBpc0NyZWRpdEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGNvbW1pdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBWZW5tb1xuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlVmVubW9DcmVhdG9yQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlbm1vQ2hlY2tvdXQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHRva2VuaXplKGNhbGxiYWNrOiAoZXJyb3I6IEJyYWludHJlZUVycm9yLCBwYXlsb2FkOiBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQpID0+IHVua25vd24pOiB2b2lkO1xuICAgIGlzQnJvd3NlclN1cHBvcnRlZCgpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGFsbG93RGVza3RvcD86IGJvb2xlYW47XG4gICAgcGF5bWVudE1ldGhvZFVzYWdlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dFxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlVmlzYUNoZWNrb3V0PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHRva2VuaXplKHBheW1lbnQ6IFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCk6IFByb21pc2U8VmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZD47XG4gICAgY3JlYXRlSW5pdE9wdGlvbnMob3B0aW9uczogUGFydGlhbDxWaXNhQ2hlY2tvdXRJbml0T3B0aW9ucz4pOiBWaXNhQ2hlY2tvdXRJbml0T3B0aW9ucztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEJOUEwgQ29uZmlndXJhdG9yIHJlbGF0ZWQgdHlwZXNcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzdGF0dXM6IGJvb2xlYW47XG4gICAgc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgTG9jYWwgTWV0aG9kc1xuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRDb25maWcge1xuICAgIHBheW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgZmFsbGJhY2s6IHtcbiAgICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICAgIGJ1dHRvblRleHQ6IHN0cmluZztcbiAgICB9O1xuICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgZ2l2ZW5OYW1lOiBzdHJpbmc7XG4gICAgc3VybmFtZTogc3RyaW5nO1xuICAgIGFkZHJlc3M6IHtcbiAgICAgICAgY291bnRyeUNvZGU6IHN0cmluZztcbiAgICB9O1xuICAgIG9uUGF5bWVudFN0YXJ0KGRhdGE6IEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEsIHN0YXJ0OiAoKSA9PiBQcm9taXNlPHZvaWQ+KTogUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMUE1TdGFydFBheW1lbnRFcnJvciB7XG4gICAgY29kZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEge1xuICAgIHBheW1lbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUxvY2FsUGF5bWVudCBleHRlbmRzIEJyYWludHJlZU1vZHVsZSB7XG4gICAgc3RhcnRQYXltZW50KFxuICAgICAgICBjb25maWc6IEJyYWludHJlZUxvY2FsUGF5bWVudENvbmZpZyxcbiAgICAgICAgY2FsbGJhY2s6IChcbiAgICAgICAgICAgIHN0YXJ0UGF5bWVudEVycm9yOiBCcmFpbnRyZWVMUE1TdGFydFBheW1lbnRFcnJvciB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBheWxvYWQ6IEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkLFxuICAgICAgICApID0+IFByb21pc2U8dm9pZD4sXG4gICAgKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogT3RoZXJcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdFdpbmRvdyBleHRlbmRzIEJyYWludHJlZVdpbmRvdyB7XG4gICAgYnJhaW50cmVlPzogQnJhaW50cmVlU0RLO1xuICAgIHBheXBhbD86IFBheXBhbFNESztcbiAgICBWPzogVmlzYUNoZWNrb3V0U0RLO1xufVxuIiwiaW1wb3J0IHtcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVNjcmlwdExvYWRlciBmcm9tICcuL2JyYWludHJlZS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlQ2xpZW50LFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3IsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWcsXG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlRXJyb3JDb2RlLFxuICAgIEJyYWludHJlZUdvb2dsZVBheW1lbnQsXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50LFxuICAgIEJyYWludHJlZU1vZHVsZSxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudCxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgaXNCcmFpbnRyZWVFcnJvciBmcm9tICcuL3V0aWxzL2lzLWJyYWludHJlZS1lcnJvcic7XG5pbXBvcnQgeyBWaXNhQ2hlY2tvdXRTREsgfSBmcm9tICcuL3Zpc2FjaGVja291dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVNkayB7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVWZW5tbz86IEJyYWludHJlZVZlbm1vQ2hlY2tvdXQ7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVMb2NhbFBheW1lbnQ/OiBCcmFpbnRyZWVMb2NhbFBheW1lbnQ7XG4gICAgcHJpdmF0ZSBjbGllbnQ/OiBCcmFpbnRyZWVDbGllbnQ7XG4gICAgcHJpdmF0ZSBjbGllbnRUb2tlbj86IHN0cmluZztcbiAgICBwcml2YXRlIGRhdGFDb2xsZWN0b3I/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yO1xuICAgIHByaXZhdGUgZ29vZ2xlUGF5bWVudD86IEJyYWludHJlZUdvb2dsZVBheW1lbnQ7XG4gICAgcHJpdmF0ZSB0aHJlZURTPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlO1xuICAgIHByaXZhdGUgdmlzYUNoZWNrb3V0PzogUHJvbWlzZTxCcmFpbnRyZWVWaXNhQ2hlY2tvdXQ+O1xuICAgIHByaXZhdGUgdmlzYUNoZWNrb3V0U0RLPzogVmlzYUNoZWNrb3V0U0RLO1xuICAgIHByaXZhdGUgdXNCYW5rQWNjb3VudD86IEJyYWludHJlZVVzQmFua0FjY291bnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJyYWludHJlZVNjcmlwdExvYWRlcjogQnJhaW50cmVlU2NyaXB0TG9hZGVyKSB7fVxuXG4gICAgaW5pdGlhbGl6ZShjbGllbnRUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0Q2xpZW50VG9rZW4oY2xpZW50VG9rZW4pO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy50ZWFyZG93bk1vZHVsZSh0aGlzLmRhdGFDb2xsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMuZGF0YUNvbGxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBDbGllbnRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX2NsaWVudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDbGllbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50VG9rZW4gPSB0aGlzLmdldENsaWVudFRva2VuT3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50Q3JlYXRvciA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRDbGllbnQoKTtcblxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBhd2FpdCBjbGllbnRDcmVhdG9yLmNyZWF0ZSh7IGF1dGhvcml6YXRpb246IGNsaWVudFRva2VuIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIERhdGEgY29sbGVjdG9yXG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9kYXRhLWNvbGxlY3Rvci5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXREYXRhQ29sbGVjdG9yT3JUaHJvdyhcbiAgICAgICAgb3B0aW9ucz86IFBhcnRpYWw8QnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWc+LFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRGF0YUNvbGxlY3Rvcj4ge1xuICAgICAgICBjb25zdCBlbXB0eURhdGFDb2xsZWN0b3IgPSB7XG4gICAgICAgICAgICBkZXZpY2VEYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0ZWFyZG93bjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLmRhdGFDb2xsZWN0b3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ29sbGVjdG9yID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZERhdGFDb2xsZWN0b3IoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb2xsZWN0b3JDb25maWc6IEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGtvdW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3IgPSBhd2FpdCBkYXRhQ29sbGVjdG9yLmNyZWF0ZShkYXRhQ29sbGVjdG9yQ29uZmlnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpICYmIGVycm9yLmNvZGUgPT09IEJyYWludHJlZUVycm9yQ29kZS5Lb3VudE5vdEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5RGF0YUNvbGxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2xsZWN0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgR29vZ2xlIFBheW1lbnRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX2dvb2dsZS1wYXltZW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZUdvb2dsZVBheW1lbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVHb29nbGVQYXltZW50PiB7XG4gICAgICAgIGlmICghdGhpcy5nb29nbGVQYXltZW50KSB7XG4gICAgICAgICAgICBjb25zdCBbY2xpZW50LCBicmFpbnRyZWVHb29nbGVQYXltZW50XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRHb29nbGVQYXltZW50KCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgdGhpcy5nb29nbGVQYXltZW50ID0gYXdhaXQgYnJhaW50cmVlR29vZ2xlUGF5bWVudC5jcmVhdGUoeyBjbGllbnQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nb29nbGVQYXltZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIDNEU1xuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdGhyZWUtZC1zZWN1cmUuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QnJhaW50cmVlVGhyZWVEUygpOiBQcm9taXNlPEJyYWludHJlZVRocmVlRFNlY3VyZT4ge1xuICAgICAgICBpZiAoIXRoaXMudGhyZWVEUykge1xuICAgICAgICAgICAgY29uc3QgW2NsaWVudCwgdGhyZWVEU2VjdXJlXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWQzRFMoKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLnRocmVlRFMgPSBhd2FpdCB0aHJlZURTZWN1cmUuY3JlYXRlKHsgY2xpZW50LCB2ZXJzaW9uOiAyIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGhyZWVEUztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBMb2NhbCBQYXltZW50IE1ldGhvZHNcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX2xvY2FsLXBheW1lbnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QnJhaW50cmVlTG9jYWxQYXltZW50KFxuICAgICAgICBtZXJjaGFudEFjY291bnRJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlTG9jYWxQYXltZW50IHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVMb2NhbFBheW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjbGllbnQsIGxvY2FsUGF5bWVudENyZWF0b3JdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZExvY2FsUGF5bWVudCgpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50ID0gYXdhaXQgbmV3IFByb21pc2UoXG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiAoYnJhaW50cmVlTG9jYWxQYXltZW50OiBCcmFpbnRyZWVMb2NhbFBheW1lbnQpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdDogKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT4gdm9pZCxcbiAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBsb2NhbFBheW1lbnRDcmVhdG9yLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xpZW50LCBtZXJjaGFudEFjY291bnRJZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVMb2NhbFBheW1lbnQ6IEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYnJhaW50cmVlTG9jYWxQYXltZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVMb2NhbFBheW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVXNCYW5rQWNjb3VudFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdXMtYmFuay1hY2NvdW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzQmFua0FjY291bnQoKSB7XG4gICAgICAgIGlmICghdGhpcy51c0JhbmtBY2NvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgdXNCYW5rQWNjb3VudCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRVc0JhbmtBY2NvdW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMudXNCYW5rQWNjb3VudCA9IGF3YWl0IHVzQmFua0FjY291bnQuY3JlYXRlKHsgY2xpZW50IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudXNCYW5rQWNjb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBWaXNhIENoZWNrb3V0XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl92aXNhLWNoZWNrb3V0Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGdldEJyYWludHJlZVZpc2FDaGVja291dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2FDaGVja291dCkge1xuICAgICAgICAgICAgdGhpcy52aXNhQ2hlY2tvdXQgPSBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0KCksXG4gICAgICAgICAgICBdKS50aGVuKChbY2xpZW50LCBwYXlwYWxdKSA9PiBwYXlwYWwuY3JlYXRlKHsgY2xpZW50IH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2FDaGVja291dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBWaXNhIENoZWNrb3V0IFNES1xuICAgICAqIHZpc2EgY2hlY2tvdXQgZG9jOiBodHRwczovL2RldmVsb3Blci52aXNhLmNvbS9jYXBhYmlsaXRpZXMvdmlzYV9jaGVja291dC9kb2NzLWhvdy10b1xuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlPzogYm9vbGVhbikge1xuICAgICAgICBpZiAoIXRoaXMudmlzYUNoZWNrb3V0U0RLKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2FDaGVja291dFNESyA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRWaXNhQ2hlY2tvdXRTZGsodGVzdE1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmlzYUNoZWNrb3V0U0RLO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFZlbm1vIENoZWNrb3V0XG4gICAgICogYnJhaW50cmVlIHZlbm1vIGNoZWNrb3V0IGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl92ZW5tby5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRWZW5tb0NoZWNrb3V0T3JUaHJvdygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZVZlbm1vKSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgdmVubW9DaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRWZW5tb0NoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIGFsbG93RGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kVXNhZ2U6ICdtdWx0aV91c2UnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgYnJhaW50cmVlVmVubW9DaGVja291dCA9IGF3YWl0IHZlbm1vQ2hlY2tvdXQuY3JlYXRlKHZlbm1vQ2hlY2tvdXRDb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoYnJhaW50cmVlVmVubW9DaGVja291dC5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlVmVubW8gPSBicmFpbnRyZWVWZW5tb0NoZWNrb3V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZVZlbm1vO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldENsaWVudFRva2VuKGNsaWVudFRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGllbnRUb2tlbiA9IGNsaWVudFRva2VuO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2xpZW50VG9rZW5PclRocm93KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudFRva2VuO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGVhcmRvd25Nb2R1bGUobW9kdWxlPzogQnJhaW50cmVlTW9kdWxlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBtb2R1bGUgPyBtb2R1bGUudGVhcmRvd24oKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyYWludHJlZUVycm9yIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0JyYWludHJlZUVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQnJhaW50cmVlRXJyb3Ige1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgKCd0eXBlJyBpbiBlcnJvciB8fCAnbWVzc2FnZScgaW4gZXJyb3IgfHwgJ2NvZGUnIGluIGVycm9yKSxcbiAgICApO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgZmFpbHNcbiAqIHRvIGxvYWQsIG9yIGZvciBzb21lIHJlYXNvbiwgaXQgaXMgaW5hY2Nlc3NpYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaXMgbm90IGxvYWRlZCBvciByZWFkeSB0byBiZSB1c2VkLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZSc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlTW9kdWxlTmFtZSB9IGZyb20gJy4vYnJhaW50cmVlJztcbmltcG9ydCB7XG4gICAgQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT04sXG59IGZyb20gJy4vYnJhaW50cmVlLXNkay12ZXJpc29uJztcblxuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkgPSB7XG4gICAgW0JSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT05dOiB7XG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LTI2QlhETm5KSTIzSllSeUZCajR4ZTRzVk5yVVNTaVNTdTExa3hWWE5NL3ZFUE9ObTRMdUwwMHc2WmFUZ1Fld3QnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LUIrdnpiWnduUXR6V0J0aHBrVDRUWEtVaWJPNjV0eWVLN2VDeFN2cGJsZ3ByVGVwMitJQVhCMkN4eGpybjcxME8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdOlxuICAgICAgICAgICAgJ3NoYTM4NC11eUFHTDEvMytYSkFIbkdvTnk0ZUNvWGR6SjRmN0lsenArNnc5UE5uRWpzNkRDQ3o5V015SmpNTjFnemM3OFUrJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtTEl2T0VNa0lWRXdWdVlCZFZPUWMxQUM1WWJHR2x3eWZVaGVTMEFDSzIxOEQyU1R1VllRbFo0RnlFUG93QUVmVCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdOlxuICAgICAgICAgICAgJ3NoYTM4NC0xYm85SkR6K0tzY3RoYzA4NWNDS1d1cjhDTHdVb0Jwb055eHNEaTc5MzJtQ2wwekZxM0E1bXYrRlFMdzlHSHBWJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF06XG4gICAgICAgICAgICAnc2hhMzg0LXhtSEJWYVUrdzc0VitPZWJEM0FhUE9ORnhIVUdNZitRUnM4Ry9KeFZQWE5OUDdNRGEyakwwSUNXSEllMnRUZkonLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtV0tESmw4bXFvUDgycVpwTUdINkFiWnhudlhuU1c4SUxWNE02NEN5TUxpdWdHTXd1N0x5UDg5d2pDa0hxc2lCZScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV06XG4gICAgICAgICAgICAnc2hhMzg0LVZRVWxwR0h6c0d2czVYZWlHRmlwN0VYUnN2b0hXRVhEVm1nQ2FjZmJ5aWVaSTltZEJPcXEzTlNveW8yOE9DT0InLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC15eDdtQURmelROMFQ0M1E2cmxINDlMSWcxRUowaVVaZ0JwL0Vjelg5TFhzVUdreVNneHJEK25XSFFSQmt5Zm9UJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dOlxuICAgICAgICAgICAgJ3NoYTM4NC1RWDRyUGpvajFaRGh1RzBhU3lLczU2bEVLRHFUTVRjall4VUhZMVN6TzVWWkRzcUlFMk5Ua3FvdDdLTlNDeW92JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXTpcbiAgICAgICAgICAgICdzaGEzODQtVnZZQkFDZlN1MENyL0ozMnVLbXhHN0FYY05PSkUxQXpJSUwza2Jpa3lTN1lLcDVmejVJcytOek5QL2x5YXVOeScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXTpcbiAgICAgICAgICAgICdzaGEzODQtOW9Hc1pNUlp3cEd0REVEWWEvZEZ0NzZkRUNxajF4QW5pOWdJS2djM0tmTUlpUm5SNzNuRWVlVURMaUJ6eGhGYScsXG4gICAgfSxcbiAgICBbQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT05dOiB7XG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LW8rbmJRR2N3Tk54SUJlWGV1MytYbWJTcStDZzhSM0VOM04wbDVoWENnTU1VMlJHWTB0MXowTHJvU0VJQWJmQU8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LVdyZmJXUEJTNG1IODZHQW95Y1BTZ2lIOGhROEtIN0E2N0M5M0hqaHVudi94aE5rMllwQm4zd2JGQTRGaGc5VS8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdOlxuICAgICAgICAgICAgJ3NoYTM4NC1WRjM4OW52dnJSVWdEc1RYTXhUWU9SRHRWZWdCOUlRYTNDeHIvL0R5Sm5MWW56OC9YOFZDekV2Y2syYytNZWd0JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtdFpLeDJyRVFiZm1acG9QU1k1VlBtSkVoYXE0WDc1ZEx2d0hNczNWRTlVK0M4bFB5dytoV1RJTDErR1B2V0NJSCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdOlxuICAgICAgICAgICAgJ3NoYTM4NC1FNmszd09wUDdzeUNERHdhUkRMRjA2OTQyWTAwTmtid0p2V2kyT1FYd3dLekd3RzVmZDNFN1JGVXZDQ2VjZnZPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF06XG4gICAgICAgICAgICAnc2hhMzg0LTI1OEZPTjhMWkdHMFc5UWF6NEppajgzcFpIdTMwWW5LakpBN2dOdWxMQmg2Q2Nsa3VjZ0YrdEhEUXVZRlJZZlcnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtdGFKMnAvMCtuMFZIMzI4UE9Bb0JpdUViTDN0bkhVVEU5UzQyaEsxVitUeHMzWCtRWWpaT3lLVzM1SmdIUkZmTycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV06XG4gICAgICAgICAgICAnc2hhMzg0LStOU1pINFpqM3NPNWJkV3ZQS2hVNU4xNlFEeGV1ZVRWVG5VVmVsZWVFU2toTFNhejRPYjFoaC81bXllY2M5WW0nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC02NkRpQmpnaHhrMU9tQmo4YWtzTjhnYlErQ3dvUWN4MXZQZmlYVU4wOGcxaVFWTStCd2V3RjBwN3RvTTNpN1NTJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dOlxuICAgICAgICAgICAgJ3NoYTM4NC1CNVV3WTQya0U0Um9Mb1diUTdZcHFvc1VsVWFkMi9EbEdXaXcwSGhvWmJTUGszMENRQWFTQTEwb2h5TERUa0RVJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXTpcbiAgICAgICAgICAgICdzaGEzODQtQXc5RWVzU2FVZVd4ZTM2UHFFSGlPeU95T3E4TTZDSWIxZ3c3L3lITlZQUnpHdEZYWGNkMk9ROHFYcklsT2oyUCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXTpcbiAgICAgICAgICAgICdzaGEzODQtcmhCTDFocFo3MUpxRysyVHNUMERpaDQ3bWJqeDhjakpDcGVaams5dHczZGYxZ0ZNS2ZDVG1NeVp1bmhyN0g0WScsXG4gICAgfSxcbiAgICBbQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0wV054a3NJcFJQK2ZZWmlJZHIxMmc2REJVUWZMRHpZQ1FKWnRSL0M4S2tjd1NHaFBIZmNGcDN0VGFHY015RlRxJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1sV00xams0Qk94b0ROVjZLb3A3dFZOdlFnSU5sbUVWejBjL093TStITkhLM1FDOHhxd2Q1NE92cnQyUVJEVGpoJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtZlhVbVZ4QzJFTVpCRFhaN2VUSFNUTC9MRkJySGVqL01TWFQvdlRCWHZyYTRsemdMTkd2UkVBcCt4MEdZT2J1SCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXBoYTF4R3VHU2ttWkg1eDlhcUh2UmFPNHhMZWE3cm1RLzc5UEZqOXp4Tnp4dUZjT1daZzdnT1A3RmlieWdPRUMnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtUTZQSTJGOWVla1diQXhocm95YmwrYUVjdnFoZG93Ti9FUWxHd0JVeUpPelBGbjk5ODJ1OXhsNlNVNlhmR0t6YycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1XM1JMUVNLSkwxdFEzK1k3bVA2dG1rYW10WjhiVjRZdy9YeEw5Smo1SnRYSHJhRDhsb01GOGhBSUc1bTJ6SzdGJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LVRJVFFNc0ZXQTNlbEROR1AybVd6Mm9LQm80cWp0K1RscXpvdmNhUG9lQmlBaC93UEJpNm5hZTUwQURkZ1UxL2knLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1ZaXljWU44OVpsTC9FdmNhcTR5MWFqVzFtaGQ3SllmWkJEdU93SHRJbjQvSm5tMjBHTCsvWENNK3pZQXdXRDhEJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtL09kYVR2OXFya0t6ak9idFVlNnl6ZkRoSG96RlcvK3VYbHJTbDczNnNPWlJKcGpHUUVUdnBZWHFNRkZnNjl4dicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtZEErb2pkVzl2YkpTNEphdmNYeU9zOWQ1dVpISmc1ZE50WXVwb1BTSDJ6c1hJaVlEVlM1YW1MYi91OHFtUTZveicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LTMxWmtTNTgraWFXc1cwNmZ0VzUyenpWWkZwNDNXUGQ3cE5ZUmlkZFl5blNOZzZPaDdXR2JTRkdvckFVSDZUMXonLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LWpsYnJ3TnZMM0h2TEFVQ3RMU21yblEyR0gxdWRDVXJSUy9iVm1SZUFTNWZ1SVZ2Y1c4UGtvL0drZzgydGxndHInLFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE1pc3NpbmdEYXRhRXJyb3JUeXBlIHtcbiAgICBNaXNzaW5nQmlsbGluZ0FkZHJlc3MsXG4gICAgTWlzc2luZ0NhcnQsXG4gICAgTWlzc2luZ0NoZWNrb3V0LFxuICAgIE1pc3NpbmdDb25zaWdubWVudHMsXG4gICAgTWlzc2luZ0N1c3RvbWVyLFxuICAgIE1pc3NpbmdDaGVja291dENvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXIsXG4gICAgTWlzc2luZ09yZGVyQ29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcklkLFxuICAgIE1pc3NpbmdQYXltZW50LFxuICAgIE1pc3NpbmdQYXltZW50SWQsXG4gICAgTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdQYXltZW50TWV0aG9kLFxuICAgIE1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmwsXG4gICAgTWlzc2luZ1BheW1lbnRTdGF0dXMsXG4gICAgTWlzc2luZ1BheW1lbnRUb2tlbixcbiAgICBNaXNzaW5nU2hpcHBpbmdBZGRyZXNzLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3Igd2hlbiBkYXRhIHRoYXQgaXMgZXhwZWN0ZWQgdG8gZXhpc3QgaXMgbWlzc2luZy4gVXN1YWxseSBpdFxuICogaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQgY2VydGFpbiBkYXRhIGhhcyBub3QgYmVlbiByZXRyaWV2ZWQgZnJvbSBvciBzYXZlZCB0b1xuICogdGhlIHNlcnZlciB5ZXQuIEFuZCBzdWNoIGRhdGEgaXMgcmVxdWlyZWQgdG8gcGVyZm9ybSBjZXJ0YWluIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3NpbmdEYXRhRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ0RhdGFFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdtaXNzaW5nX2RhdGEnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgYmlsbGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDYXJ0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NvbnNpZ25tZW50czpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNoZWNrb3V0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDdXN0b21lcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWc6XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyQ29uZmlnOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbmZpZ3VyYXRpb24gZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcklkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0Lic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW46XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2Q6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBzaGlwcGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG4gICAgfVxufVxuIiwiZXhwb3J0IGVudW0gQXBwbGVQYXlHYXRld2F5VHlwZSB7XG4gICAgQlJBSU5UUkVFID0gJ2JyYWludHJlZScsXG4gICAgQlJBSU5UUkVFX0ZBU1RMQU5FID0gJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnLFxufVxuIiwiaW1wb3J0IHsgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQgeyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIH0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5JztcbmltcG9ydCBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyc2lvbi1tYW5hZ2VyJztcbmltcG9ydCBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uIGZyb20gJy4vaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbic7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3IsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yLFxuICAgIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3IsXG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZU1vZHVsZUNyZWF0b3JzLFxuICAgIEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yLFxuICAgIEJyYWludHJlZVBheXBhbENyZWF0b3IsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFZpc2FDaGVja291dFNESyB9IGZyb20gJy4vdmlzYWNoZWNrb3V0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlU2NyaXB0TG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyOiBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBsb2FkQ2xpZW50KCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVDbGllbnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50LFxuICAgICAgICAgICAgJ2NsaWVudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRGYXN0bGFuZSgpOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZSxcbiAgICAgICAgICAgICdmYXN0bGFuZS5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRQYXlwYWxDaGVja291dCgpOiBQcm9taXNlPEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICdwYXlwYWwtY2hlY2tvdXQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkUGF5cGFsKCk6IFByb21pc2U8QnJhaW50cmVlUGF5cGFsQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVQYXlwYWxDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsLFxuICAgICAgICAgICAgJ3BheXBhbC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRMb2NhbFBheW1lbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnQsXG4gICAgICAgICAgICAnbG9jYWwtcGF5bWVudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWREYXRhQ29sbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yLFxuICAgICAgICAgICAgJ2RhdGEtY29sbGVjdG9yLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFVzQmFua0FjY291bnQoKTogUHJvbWlzZTxCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnQsXG4gICAgICAgICAgICAndXMtYmFuay1hY2NvdW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZEdvb2dsZVBheW1lbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnQsXG4gICAgICAgICAgICAnZ29vZ2xlLXBheW1lbnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkM0RTKCk6IFByb21pc2U8QnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlLFxuICAgICAgICAgICAgJ3RocmVlLWQtc2VjdXJlLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbG9hZFZpc2FDaGVja291dCgpOiBQcm9taXNlPEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dCxcbiAgICAgICAgICAgICd2aXNhLWNoZWNrb3V0Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbG9hZFZlbm1vQ2hlY2tvdXQoKTogUHJvbWlzZTxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vLFxuICAgICAgICAgICAgJ3Zlbm1vLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZEhvc3RlZEZpZWxkcygpOiBQcm9taXNlPEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkcyxcbiAgICAgICAgICAgICdob3N0ZWQtZmllbGRzLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFZpc2FDaGVja291dFNkayh0ZXN0TW9kZT86IGJvb2xlYW4pOiBQcm9taXNlPFZpc2FDaGVja291dFNESz4ge1xuICAgICAgICBpZiAodGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc2ggPSB0ZXN0TW9kZVxuICAgICAgICAgICAgPyAnc2hhMzg0LTBldTFzMUd0cXpYbEw5RHRMZ213ekM1V1dsRUgvQURSTTBuMzhjVlFrdnRUK1cvZ2V5OTZyY2IxTHd1VU9QRG0nXG4gICAgICAgICAgICA6ICdzaGEzODQtMWYxY3N2UDNaRnhnNGRJTEgxR2FZNExIbFowb1g3Ums4M3J4bUxsd2JuSWk0VE0wTll6WG9ldjFWb0VpVkRTNic7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyXG4gICAgICAgICAgICAubG9hZFNjcmlwdChcbiAgICAgICAgICAgICAgICBgLy8ke1xuICAgICAgICAgICAgICAgICAgICB0ZXN0TW9kZSA/ICdzYW5kYm94LScgOiAnJ1xuICAgICAgICAgICAgICAgIH1hc3NldHMuc2VjdXJlLmNoZWNrb3V0LnZpc2EuY29tL2NoZWNrb3V0LXdpZGdldC9yZXNvdXJjZXMvanMvaW50ZWdyYXRpb24vdjEvc2RrLmpzYCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IGhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogJ2Fub255bW91cycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVjtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8VCBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JzPihcbiAgICAgICAgYnJhaW50cmVlTW9kdWxlTmFtZTogQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICAgICAgZmlsZU5hbWU6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgbGV0IG1vZHVsZSA9IHRoaXMuZ2V0QnJhaW50cmVlTW9kdWxlKGJyYWludHJlZU1vZHVsZU5hbWUpO1xuXG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUgYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJyYWludHJlZVNka1ZlcnNpb24gPSB0aGlzLmJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLmdldFNES1ZlcnNpb24oKTtcblxuICAgICAgICBjb25zdCBzY3JpcHRQYXRoID0gYC8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLyR7YnJhaW50cmVlU2RrVmVyc2lvbn0vanMvJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIGNvbnN0IGludGVncml0eSA9IGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24oYnJhaW50cmVlU2RrVmVyc2lvbilcbiAgICAgICAgICAgID8gdGhpcy5nZXRJbnRlZ3JpdHlWYWx1ZXNCeU1vZHVsZU5hbWUoYnJhaW50cmVlTW9kdWxlTmFtZSwgYnJhaW50cmVlU2RrVmVyc2lvbilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICBzY3JpcHRQYXRoLFxuICAgICAgICAgICAgaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiAnYW5vbnltb3VzJyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICApO1xuXG4gICAgICAgIG1vZHVsZSA9IHRoaXMuZ2V0QnJhaW50cmVlTW9kdWxlKGJyYWludHJlZU1vZHVsZU5hbWUpO1xuXG4gICAgICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgcmV0dXJuIG1vZHVsZSBhcyBUO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QnJhaW50cmVlTW9kdWxlKFxuICAgICAgICBicmFpbnRyZWVNb2R1bGVOYW1lOiBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgICk6IEJyYWludHJlZU1vZHVsZUNyZWF0b3JzIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWU/LlticmFpbnRyZWVNb2R1bGVOYW1lXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZShcbiAgICAgICAgbW9kdWxlTmFtZTogQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICAgICAgdmVyc2lvbjoga2V5b2YgdHlwZW9mIEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFksXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaW50ZWdyaXR5ID0gQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWVt2ZXJzaW9uXVttb2R1bGVOYW1lXTtcblxuICAgICAgICBpZiAoIWludGVncml0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGZpbGVOYW1lIHZhbHVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW50ZWdyaXR5O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkgfSBmcm9tICcuL2JyYWludHJlZS1zZGstc2NyaXB0cy1pbnRlZ3JpdHknO1xuXG5mdW5jdGlvbiBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uKFxuICAgIHZlcnNpb246IHN0cmluZyxcbik6IHZlcnNpb24gaXMga2V5b2YgdHlwZW9mIEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkge1xuICAgIHJldHVybiB2ZXJzaW9uIGluIEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb247XG4iLCJpbXBvcnQgUmVzb2x2YWJsZU1vZHVsZSBmcm9tICcuL3Jlc29sdmFibGUtbW9kdWxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9SZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPihcbiAgICBtb2R1bGU6IFRNb2R1bGUsXG4gICAgcmVzb2x2ZUlkczogVElkZW50aWZpZXJbXSxcbik6IFJlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtb2R1bGUsIHsgcmVzb2x2ZUlkcyB9KTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgdHJ5IHRvIGNhbGwgYSBtZXRob2QgdGhhdCBpcyBvbmx5IGEgc3R1YiBhbmQgaGFzIG5vdFxuICogYmVlbiBmdWxseSBpbXBsZW1lbnRlZC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW1wbGVtZW50ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnTm90IGltcGxlbWVudGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbXBsZW1lbnRlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbXBsZW1lbnRlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgcGF5bWVudCBmbG93IGlzIGNhbmNlbGxlZC4gSXQgY291bGQgYmVcbiAqIGR1ZSB0byBhIGRlbGliZXJhdGUgdXNlciBpbnRlcmFjdGlvbiwgaS5lLjogdGhlIHVzZXIgY2xpY2tzIG9uIGEgY2FuY2VsXG4gKiBidXR0b24gd2hpY2ggZGlzbWlzc2VzIHRoZSBwYXltZW50IG1vZGFsLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1BheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9jYW5jZWxsZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEJyYWludHJlZVNkayB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQWRkcmVzc1JlcXVlc3RCb2R5LFxuICAgIENhcnQsXG4gICAgQ2hlY2tvdXQsXG4gICAgQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICBDdXN0b21lclN0cmF0ZWd5LFxuICAgIEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW1wbGVtZW50ZWRFcnJvcixcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgU2hpcHBpbmdPcHRpb24sXG4gICAgU3RvcmVDb25maWcsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBBcHBsZVBheUdhdGV3YXlUeXBlIH0gZnJvbSAnLi9hcHBsZS1wYXknO1xuaW1wb3J0IHsgV2l0aEFwcGxlUGF5Q3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYXBwbGUtcGF5LWN1c3RvbWVyLWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgQXBwbGVQYXlTY3JpcHRMb2FkZXIgZnJvbSAnLi9hcHBsZS1wYXktc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuXG5jb25zdCB2YWxpZGF0aW9uRW5kcG9pbnQgPSAoYmlnUGF5RW5kcG9pbnQ6IHN0cmluZykgPT5cbiAgICBgJHtiaWdQYXlFbmRwb2ludH0vYXBpL3B1YmxpYy92MS9wYXltZW50cy9hcHBsZXBheS92YWxpZGF0ZV9tZXJjaGFudGA7XG5cbmVudW0gRGVmYXVsdExhYmVscyB7XG4gICAgU3VidG90YWwgPSAnU3VidG90YWwnLFxuICAgIFNoaXBwaW5nID0gJ1NoaXBwaW5nJyxcbn1cblxuZnVuY3Rpb24gaXNTaGlwcGluZ09wdGlvbnMob3B0aW9uczogU2hpcHBpbmdPcHRpb25bXSB8IHVuZGVmaW5lZCk6IG9wdGlvbnMgaXMgU2hpcHBpbmdPcHRpb25bXSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7XG4gICAgcHJpdmF0ZSBfYXBwbGVQYXlCdXR0b24/OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9vbkF1dGhvcml6ZUNhbGxiYWNrID0gbm9vcDtcbiAgICBwcml2YXRlIF9vbkVycm9yID0gbm9vcDtcbiAgICBwcml2YXRlIF9vbkNsaWNrID0gbm9vcDtcbiAgICBwcml2YXRlIF9zdWJUb3RhbExhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgIHByaXZhdGUgX3NoaXBwaW5nTGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU2hpcHBpbmc7XG4gICAgcHJpdmF0ZSBfaGFzQXBwbGVQYXlTZXNzaW9uID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBfc2Vzc2lvbkZhY3Rvcnk6IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnksXG4gICAgICAgIHByaXZhdGUgX2JyYWludHJlZVNkazogQnJhaW50cmVlU2RrLFxuICAgICAgICBwcml2YXRlIF9hcHBsZVBheVNjcmlwdExvYWRlcjogQXBwbGVQYXlTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhBcHBsZVBheUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIGFwcGxlcGF5IH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQgfHwgIWFwcGxlcGF5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBzaGlwcGluZ0xhYmVsLFxuICAgICAgICAgICAgc3VidG90YWxMYWJlbCxcbiAgICAgICAgICAgIG9uRXJyb3IgPSBub29wLFxuICAgICAgICAgICAgb25DbGljayA9IG5vb3AsXG4gICAgICAgICAgICBvblBheW1lbnRBdXRob3JpemUsXG4gICAgICAgIH0gPSBhcHBsZXBheTtcblxuICAgICAgICB0aGlzLl9zaGlwcGluZ0xhYmVsID0gc2hpcHBpbmdMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgICAgICB0aGlzLl9zdWJUb3RhbExhYmVsID0gc3VidG90YWxMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgICAgICB0aGlzLl9vbkF1dGhvcml6ZUNhbGxiYWNrID0gb25QYXltZW50QXV0aG9yaXplO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgdGhpcy5fb25DbGljayA9IG9uQ2xpY2s7XG5cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX2FwcGxlUGF5U2NyaXB0TG9hZGVyLmxvYWRTZGsoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfSBjYXRjaCAoX2UpIHtcbiAgICAgICAgICAgIHN0YXRlID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS52ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5fYXBwbGVQYXlCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fYXBwbGVQYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUgJiZcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZSh0aGlzLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHNpZ25JbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXG4gICAgICAgICAgICAnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgQXBwbGUsIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJBcHBsZSBQYXlcIiBidXR0b24uJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzaWduT3V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcignTmVlZCB0byBkbyBzaWdub3V0IHZpYSBhcHBsZS4nKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlQnV0dG9uKGNvbnRhaW5lcklkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXBwbGVQYXlCdXR0b24gPSB0aGlzLl9jcmVhdGVBcHBsZVBheUJ1dHRvbkVsZW1lbnQoKTtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXBwbGVQYXlCdXR0b24pO1xuXG4gICAgICAgIHJldHVybiBhcHBsZVBheUJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVBcHBsZVBheUJ1dHRvbkVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBhcHBsZVBheUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FwcGxlLXBheS1idXR0b24nKTtcblxuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2J1dHRvbnN0eWxlJywgJ2JsYWNrJyk7XG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdwbGFpbicpO1xuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAnc3R5bGUnLFxuICAgICAgICAgICAgJy0tYXBwbGUtcGF5LWJ1dHRvbi13aWR0aDogMTAwJTsgLS1hcHBsZS1wYXktYnV0dG9uLWhlaWdodDogNDBweDsgLS1hcHBsZS1wYXktYnV0dG9uLWJvcmRlci1yYWRpdXM6IDRweDsnLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBhcHBsZVBheUJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVXYWxsZXRCdXR0b25DbGljayhldmVudDogRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAodGhpcy5faGFzQXBwbGVQYXlTZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vbkNsaWNrKCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3BheW1lbnRNZXRob2QgfHwgIXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0QmFzZVJlcXVlc3QoY2FydCwgY2hlY2tvdXQsIGNvbmZpZywgdGhpcy5fcGF5bWVudE1ldGhvZCk7XG4gICAgICAgIGNvbnN0IGFwcGxlUGF5U2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb25GYWN0b3J5LmNyZWF0ZShyZXF1ZXN0KTtcblxuICAgICAgICB0aGlzLl9oYW5kbGVBcHBsZVBheUV2ZW50cyhhcHBsZVBheVNlc3Npb24sIHRoaXMuX3BheW1lbnRNZXRob2QsIGNvbmZpZyk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmJlZ2luKCk7XG4gICAgICAgIHRoaXMuX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0QmFzZVJlcXVlc3QoXG4gICAgICAgIGNhcnQ6IENhcnQsXG4gICAgICAgIGNoZWNrb3V0OiBDaGVja291dCxcbiAgICAgICAgY29uZmlnOiBTdG9yZUNvbmZpZyxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICApOiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudFJlcXVlc3Qge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzdG9yZVByb2ZpbGU6IHsgc3RvcmVDb3VudHJ5Q29kZSwgc3RvcmVOYW1lIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGNvZGUsIGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IGNhcnQ7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiB7IG1lcmNoYW50Q2FwYWJpbGl0aWVzLCBzdXBwb3J0ZWROZXR3b3JrcyB9LFxuICAgICAgICB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBjb25zdCByZXF1aXJlc1NoaXBwaW5nID0gY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcy5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCB0b3RhbDogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtID0gcmVxdWlyZXNTaGlwcGluZ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgcmVxdWlyZWRCaWxsaW5nQ29udGFjdEZpZWxkczogWydwb3N0YWxBZGRyZXNzJ10sXG4gICAgICAgICAgICByZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkczogWydlbWFpbCcsICdwaG9uZSddLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IHN0b3JlQ291bnRyeUNvZGUsXG4gICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGNvZGUsXG4gICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgIHN1cHBvcnRlZE5ldHdvcmtzLFxuICAgICAgICAgICAgbGluZUl0ZW1zOiBbXSxcbiAgICAgICAgICAgIHRvdGFsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChyZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzPy5wdXNoKCdwb3N0YWxBZGRyZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lSXRlbXM6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbVtdID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N1YlRvdGFsTGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc3VidG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjaGVja291dC50YXhlcy5mb3JFYWNoKCh0YXgpID0+XG4gICAgICAgICAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGF4Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7dGF4LmFtb3VudC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXF1ZXN0LmxpbmVJdGVtcyA9IGxpbmVJdGVtcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUFwcGxlUGF5RXZlbnRzKFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgY29uZmlnOiBTdG9yZUNvbmZpZyxcbiAgICApIHtcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9udmFsaWRhdGVtZXJjaGFudCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJvZHk6IG1lcmNoYW50U2Vzc2lvbiB9ID0gYXdhaXQgdGhpcy5fb25WYWxpZGF0ZU1lcmNoYW50KFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uKG1lcmNoYW50U2Vzc2lvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uc2hpcHBpbmdjb250YWN0c2VsZWN0ZWQgPSBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZChhcHBsZVBheVNlc3Npb24sIGNvbmZpZywgZXZlbnQpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnNoaXBwaW5nbWV0aG9kc2VsZWN0ZWQgPSBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTaGlwcGluZ01ldGhvZFNlbGVjdGVkKGFwcGxlUGF5U2Vzc2lvbiwgY29uZmlnLCBldmVudCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uY2FuY2VsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFzQXBwbGVQYXlTZXNzaW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYC9yZW1vdGUtY2hlY2tvdXQvJHtwYXltZW50TWV0aG9kLmlkfS9zaWdub3V0YDtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KHVybCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3IobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25wYXltZW50YXV0aG9yaXplZCA9IGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX29uUGF5bWVudEF1dGhvcml6ZWQoZXZlbnQsIGFwcGxlUGF5U2Vzc2lvbiwgcGF5bWVudE1ldGhvZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaGFuZGxlU2hpcHBpbmdDb250YWN0U2VsZWN0ZWQoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBjb25maWc6IFN0b3JlQ29uZmlnLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoZXZlbnQuc2hpcHBpbmdDb250YWN0KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3Moc2hpcHBpbmdBZGRyZXNzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5faGFzQXBwbGVQYXlTZXNzaW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZU5hbWUgfSxcbiAgICAgICAgfSA9IGNvbmZpZztcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBsZXQgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uPy5pZDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlT3B0aW9ucyA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucz8uZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCk7XG4gICAgICAgIGNvbnN0IHVuc2VsZWN0ZWRPcHRpb25zID0gYXZhaWxhYmxlT3B0aW9ucz8uZmlsdGVyKFxuICAgICAgICAgICAgKG9wdGlvbikgPT4gb3B0aW9uLmlkICE9PSBzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzaGlwcGluZ09wdGlvbnM6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFtdID0gc2VsZWN0ZWRPcHRpb25cbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWxlY3RlZE9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3NlbGVjdGVkT3B0aW9uLmNvc3QudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogc2VsZWN0ZWRPcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHNlbGVjdGVkT3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICBpZiAodW5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAuLi51bnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgICAgIC4uLnVuc2VsZWN0ZWRPcHRpb25zLmZpbHRlcigob3B0aW9uKSA9PiAhb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgXS5mb3JFYWNoKChvcHRpb24pID0+XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke29wdGlvbi5jb3N0LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBvcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBvcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1NoaXBwaW5nT3B0aW9ucyhhdmFpbGFibGVPcHRpb25zKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwcGluZyBvcHRpb25zIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICBBcHBsZVBheVNlc3Npb24uU1RBVFVTX0lOVkFMSURfU0hJUFBJTkdfUE9TVEFMX0FERFJFU1MsXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlY29tbWVuZGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5pc1JlY29tbWVuZGVkKTtcblxuICAgICAgICBjb25zdCBvcHRpb25JZCA9IHJlY29tbWVuZGVkT3B0aW9uID8gcmVjb21tZW5kZWRPcHRpb24uaWQgOiBhdmFpbGFibGVPcHRpb25zWzBdLmlkO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbklkID0gc2VsZWN0ZWRPcHRpb24gPyBzZWxlY3RlZE9wdGlvbi5pZCA6IG9wdGlvbklkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVTaGlwcGluZ09wdGlvbihzZWxlY3RlZE9wdGlvbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbih7XG4gICAgICAgICAgICBuZXdTaGlwcGluZ01ldGhvZHM6IHNoaXBwaW5nT3B0aW9ucyxcbiAgICAgICAgICAgIG5ld1RvdGFsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV3TGluZUl0ZW1zOiB0aGlzLl9nZXRVcGRhdGVkTGluZUl0ZW1zKGNoZWNrb3V0LCBkZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaGFuZGxlU2hpcHBpbmdNZXRob2RTZWxlY3RlZChcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5U2hpcHBpbmdNZXRob2RTZWxlY3RlZEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzdG9yZVByb2ZpbGU6IHsgc3RvcmVOYW1lIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNoaXBwaW5nTWV0aG9kOiB7IGlkZW50aWZpZXI6IG9wdGlvbklkIH0sXG4gICAgICAgIH0gPSBldmVudDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNBcHBsZVBheVNlc3Npb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdNZXRob2RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3VG90YWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHRoaXMuX2dldFVwZGF0ZWRMaW5lSXRlbXMoY2hlY2tvdXQsIGRlY2ltYWxQbGFjZXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRVcGRhdGVkTGluZUl0ZW1zKFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGRlY2ltYWxQbGFjZXM6IG51bWJlcixcbiAgICApOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSB7XG4gICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N1YlRvdGFsTGFiZWwsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGF4Lm5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5fc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc2hpcHBpbmdDb3N0VG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbGluZUl0ZW1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKG9wdGlvbklkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2VsZWN0U2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgcGF5bWVudERhdGE6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5VmFsaWRhdGVNZXJjaGFudEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBib2R5ID0gW1xuICAgICAgICAgICAgYHZhbGlkYXRpb25Vcmw9JHtldmVudC52YWxpZGF0aW9uVVJMfWAsXG4gICAgICAgICAgICBgbWVyY2hhbnRJZGVudGlmaWVyPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLm1lcmNoYW50SWR9YCxcbiAgICAgICAgICAgIGBkaXNwbGF5TmFtZT0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5zdG9yZU5hbWV9YCxcbiAgICAgICAgICAgIGBkb21haW5OYW1lPSR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfWAsXG4gICAgICAgIF0uam9pbignJicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW5kcG9pbnQocGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRzVXJsKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgICAgICAgICAnWC1YU1JGLVRPS0VOJzogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uUGF5bWVudEF1dGhvcml6ZWQoXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudCxcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIGJpbGxpbmdDb250YWN0LCBzaGlwcGluZ0NvbnRhY3QgfSA9IGV2ZW50LnBheW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcblxuICAgICAgICBsZXQgZGV2aWNlU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSkge1xuICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5fZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudDogUGF5bWVudCA9IHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50TWV0aG9kLmlkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZV9wYXlfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfZGF0YTogdG9rZW4ucGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZDogdG9rZW4ucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkOiB0b2tlbi50cmFuc2FjdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoYmlsbGluZ0NvbnRhY3QpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3Moc2hpcHBpbmdDb250YWN0KTtcbiAgICAgICAgY29uc3QgZW1haWxBZGRyZXNzID0gc2hpcHBpbmdDb250YWN0Py5lbWFpbEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHBob25lID0gc2hpcHBpbmdDb250YWN0Py5waG9uZU51bWJlciB8fCAnJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyh7XG4gICAgICAgICAgICAgICAgLi4udHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MoXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkU2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoe1xuICAgICAgICAgICAgICAgIHVzZVN0b3JlQ3JlZGl0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudCk7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfU1VDQ0VTUyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkF1dGhvcml6ZUNhbGxiYWNrKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfRkFJTFVSRSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoXG4gICAgICAgIGNvbnRhY3Q/OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudENvbnRhY3QsXG4gICAgKTogQWRkcmVzc1JlcXVlc3RCb2R5IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogY29udGFjdD8uZ2l2ZW5OYW1lIHx8ICcnLFxuICAgICAgICAgICAgbGFzdE5hbWU6IGNvbnRhY3Q/LmZhbWlseU5hbWUgfHwgJycsXG4gICAgICAgICAgICBjaXR5OiBjb250YWN0Py5sb2NhbGl0eSB8fCAnJyxcbiAgICAgICAgICAgIGNvbXBhbnk6ICcnLFxuICAgICAgICAgICAgYWRkcmVzczE6IChjb250YWN0Py5hZGRyZXNzTGluZXMgJiYgY29udGFjdC5hZGRyZXNzTGluZXNbMF0pIHx8ICcnLFxuICAgICAgICAgICAgYWRkcmVzczI6IChjb250YWN0Py5hZGRyZXNzTGluZXMgJiYgY29udGFjdC5hZGRyZXNzTGluZXNbMV0pIHx8ICcnLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogY29udGFjdD8ucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBjb250YWN0Py5jb3VudHJ5Q29kZSB8fCAnJyxcbiAgICAgICAgICAgIHBob25lOiBjb250YWN0Py5waG9uZU51bWJlciB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZTogY29udGFjdD8uYWRtaW5pc3RyYXRpdmVBcmVhIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlQ29kZTogY29udGFjdD8uYWRtaW5pc3RyYXRpdmVBcmVhIHx8ICcnLFxuICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuX2JyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlRGF0YTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdGhyb3cgYW4gZXJyb3IgdG8gYXZvaWQgYnJlYWtpbmcgY2hlY2tvdXQgZmxvd1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IEFwcGxlUGF5V2luZG93IGZyb20gJy4vYXBwbGUtcGF5LXdpbmRvdyc7XG5pbXBvcnQgaXNBcHBsZVBheVdpbmRvdyBmcm9tICcuL2lzLWFwcGxlLXBheS13aW5kb3cnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0QXBwbGVQYXlXaW5kb3cod2luZG93OiBXaW5kb3cpOiBhc3NlcnRzIHdpbmRvdyBpcyBBcHBsZVBheVdpbmRvdyB7XG4gICAgaWYgKCFpc0FwcGxlUGF5V2luZG93KHdpbmRvdykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBsZSBwYXkgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSB7XG4gICAgY3JlYXRlKHJlcXVlc3Q6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCk6IEFwcGxlUGF5U2Vzc2lvbiB7XG4gICAgICAgIGFzc2VydEFwcGxlUGF5V2luZG93KHdpbmRvdyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcHBsZVBheVNlc3Npb24oMSwgcmVxdWVzdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFwcGxlUGF5V2luZG93IGZyb20gJy4vYXBwbGUtcGF5LXdpbmRvdyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXBwbGVQYXlXaW5kb3cod2luZG93OiBXaW5kb3cpOiB3aW5kb3cgaXMgQXBwbGVQYXlXaW5kb3cge1xuICAgIHJldHVybiAnQXBwbGVQYXlTZXNzaW9uJyBpbiB3aW5kb3c7XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IGFzc2VydEFwcGxlUGF5V2luZG93IH0gZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcbmltcG9ydCBpc0FwcGxlUGF5U2RrV2luZG93IGZyb20gJy4vaXMtYXBwbGUtcGF5LXNkay13aW5kb3cnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheVNjcmlwdExvYWRlciB7XG4gICAgcHJpdmF0ZSBzZGtWZXJzaW9uID0gJzEubGF0ZXN0JztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIpIHt9XG5cbiAgICBhc3luYyBsb2FkU2RrKCkge1xuICAgICAgICBpZiAoaXNBcHBsZVBheVNka1dpbmRvdyh3aW5kb3cpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgYGh0dHBzOi8vYXBwbGVwYXkuY2RuLWFwcGxlLmNvbS9qc2FwaS8ke3RoaXMuc2RrVmVyc2lvbn0vYXBwbGUtcGF5LXNkay5qc2AsXG4gICAgICAgICk7XG5cbiAgICAgICAgYXNzZXJ0QXBwbGVQYXlXaW5kb3cod2luZG93KTtcbiAgICB9XG59XG4iLCJpbnRlcmZhY2UgQXBwbGVQYXlTZGtXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIEFwcGxlUGF5U0RLPzoge1xuICAgICAgICBvcmlnaW46IHN0cmluZztcbiAgICAgICAgcHVibGljUGF0aDogc3RyaW5nO1xuICAgICAgICB0b2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXBwbGVQYXlTZGtXaW5kb3cod2luZG93OiBXaW5kb3cpOiB3aW5kb3cgaXMgQXBwbGVQYXlTZGtXaW5kb3cge1xuICAgIHJldHVybiAnQXBwbGVQYXlTREsnIGluIHdpbmRvdztcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyLCBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5IGZyb20gJy4vYXBwbGUtcGF5LWN1c3RvbWVyLXN0cmF0ZWd5JztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IGNyZWF0ZUFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8QXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3QgeyBnZXRIb3N0IH0gPSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuICAgIHJldHVybiBuZXcgQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBjcmVhdGVSZXF1ZXN0U2VuZGVyKHsgaG9zdDogZ2V0SG9zdCgpIH0pLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSgpLFxuICAgICAgICBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSwgd2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBBcHBsZVBheVNjcmlwdExvYWRlcihuZXcgU2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5LCBbeyBpZDogJ2FwcGxlcGF5JyB9XSk7XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVTZGsgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBBcHBsZVBheUdhdGV3YXlUeXBlIH0gZnJvbSAnLi9hcHBsZS1wYXknO1xuaW1wb3J0IHsgV2l0aEFwcGxlUGF5UGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9hcHBsZS1wYXktcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgdmFsaWRhdGlvbkVuZHBvaW50ID0gKGJpZ1BheUVuZHBvaW50OiBzdHJpbmcpID0+XG4gICAgYCR7YmlnUGF5RW5kcG9pbnR9L2FwaS9wdWJsaWMvdjEvcGF5bWVudHMvYXBwbGVwYXkvdmFsaWRhdGVfbWVyY2hhbnRgO1xuXG5pbnRlcmZhY2UgQXBwbGVQYXlQcm9taXNlIHtcbiAgICByZXNvbHZlKCk6IHZvaWQ7XG4gICAgcmVqZWN0KHJlYXNvbj86IEVycm9yKTogdm9pZDtcbn1cblxuZW51bSBEZWZhdWx0TGFiZWxzIHtcbiAgICBTaGlwcGluZyA9ICdTaGlwcGluZycsXG4gICAgU3VidG90YWwgPSAnU3VidG90YWwnLFxuICAgIFN0b3JlQ3JlZGl0ID0gJ1N0b3JlIENyZWRpdCcsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIF9zaGlwcGluZ0xhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgIHByaXZhdGUgX3N1YlRvdGFsTGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU3VidG90YWw7XG4gICAgcHJpdmF0ZSBfc3RvcmVDcmVkaXRMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TdG9yZUNyZWRpdDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9yZXF1ZXN0U2VuZGVyOiBSZXF1ZXN0U2VuZGVyLFxuICAgICAgICBwcml2YXRlIF9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIF9zZXNzaW9uRmFjdG9yeTogQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSxcbiAgICAgICAgcHJpdmF0ZSBfYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgICAgIHByaXZhdGUgX2FwcGxlUGF5U2NyaXB0TG9hZGVyOiBBcHBsZVBheVNjcmlwdExvYWRlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEFwcGxlUGF5UGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIW9wdGlvbnM/Lm1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fYXBwbGVQYXlTY3JpcHRMb2FkZXIubG9hZFNkaygpO1xuXG4gICAgICAgIHRoaXMuX3NoaXBwaW5nTGFiZWwgPSBvcHRpb25zLmFwcGxlcGF5Py5zaGlwcGluZ0xhYmVsIHx8IERlZmF1bHRMYWJlbHMuU2hpcHBpbmc7XG4gICAgICAgIHRoaXMuX3N1YlRvdGFsTGFiZWwgPSBvcHRpb25zLmFwcGxlcGF5Py5zdWJ0b3RhbExhYmVsIHx8IERlZmF1bHRMYWJlbHMuU3VidG90YWw7XG4gICAgICAgIHRoaXMuX3N0b3JlQ3JlZGl0TGFiZWwgPSBvcHRpb25zLmFwcGxlcGF5Py5zdG9yZUNyZWRpdExhYmVsIHx8IERlZmF1bHRMYWJlbHMuU3RvcmVDcmVkaXQ7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSAmJlxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlblxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuX2JyYWludHJlZVNkay5pbml0aWFsaXplKHBheW1lbnRNZXRob2QuY2xpZW50VG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCB9ID0gcGF5bG9hZDtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgaWYgKCFwYXltZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQgfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0QmFzZVJlcXVlc3Qoc3RhdGUsIHBheW1lbnRNZXRob2QpO1xuICAgICAgICBjb25zdCBhcHBsZVBheVNlc3Npb24gPSB0aGlzLl9zZXNzaW9uRmFjdG9yeS5jcmVhdGUocmVxdWVzdCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1c2VTdG9yZUNyZWRpdDogcGF5bG9hZC51c2VTdG9yZUNyZWRpdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5iZWdpbigpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVBcHBsZVBheUV2ZW50cyhhcHBsZVBheVNlc3Npb24sIHBheW1lbnRNZXRob2QsIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0QmFzZVJlcXVlc3QoXG4gICAgICAgIHN0YXRlOiBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZUNvdW50cnlDb2RlLCBzdG9yZU5hbWUgfSxcbiAgICAgICAgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgY29kZSwgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gY2FydDtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiB7IG1lcmNoYW50Q2FwYWJpbGl0aWVzLCBzdXBwb3J0ZWROZXR3b3JrcyB9LFxuICAgICAgICB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBjb25zdCB7IGdyYW5kVG90YWwsIGlzU3RvcmVDcmVkaXRBcHBsaWVkLCBvdXRzdGFuZGluZ0JhbGFuY2UgfSA9IGNoZWNrb3V0O1xuXG4gICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N1YlRvdGFsTGFiZWwsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGF4Lm5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zaGlwcGluZ0xhYmVsLFxuICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zaGlwcGluZ0Nvc3RUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpc1N0b3JlQ3JlZGl0QXBwbGllZCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdG9yZUNyZWRpdCB9ID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG5cbiAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5fc3RvcmVDcmVkaXRMYWJlbCxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAtJHtNYXRoLm1pbihncmFuZFRvdGFsLCBzdG9yZUNyZWRpdCkudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY291bnRyeUNvZGU6IHN0b3JlQ291bnRyeUNvZGUsXG4gICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGNvZGUsXG4gICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgIHN1cHBvcnRlZE5ldHdvcmtzLFxuICAgICAgICAgICAgbGluZUl0ZW1zLFxuICAgICAgICAgICAgdG90YWw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogc3RvcmVOYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYCR7b3V0c3RhbmRpbmdCYWxhbmNlLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVBcHBsZVBheUV2ZW50cyhcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIHByb21pc2U6IEFwcGxlUGF5UHJvbWlzZSxcbiAgICApIHtcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9udmFsaWRhdGVtZXJjaGFudCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJvZHk6IG1lcmNoYW50U2Vzc2lvbiB9ID0gYXdhaXQgdGhpcy5fb25WYWxpZGF0ZU1lcmNoYW50KFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uKG1lcmNoYW50U2Vzc2lvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lcmNoYW50IHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uY2FuY2VsID0gYXN5bmMgKCkgPT5cbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoJ0NvbnRpbnVlIHdpdGggYXBwbGVwYXknKSk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9ucGF5bWVudGF1dGhvcml6ZWQgPSAoZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50QXV0aG9yaXplZEV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5fb25QYXltZW50QXV0aG9yaXplZChldmVudCwgYXBwbGVQYXlTZXNzaW9uLCBwYXltZW50TWV0aG9kLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgIHBheW1lbnREYXRhOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVZhbGlkYXRlTWVyY2hhbnRFdmVudCxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYm9keSA9IFtcbiAgICAgICAgICAgIGB2YWxpZGF0aW9uVXJsPSR7ZXZlbnQudmFsaWRhdGlvblVSTH1gLFxuICAgICAgICAgICAgYG1lcmNoYW50SWRlbnRpZmllcj0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5tZXJjaGFudElkfWAsXG4gICAgICAgICAgICBgZGlzcGxheU5hbWU9JHtwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEuc3RvcmVOYW1lfWAsXG4gICAgICAgICAgICBgZG9tYWluTmFtZT0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX1gLFxuICAgICAgICBdLmpvaW4oJyYnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFxuICAgICAgICAgICAgdmFsaWRhdGlvbkVuZHBvaW50KHBheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50c1VybCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ1gtWFNSRi1UT0tFTic6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblBheW1lbnRBdXRob3JpemVkKFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnQsXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBwcm9taXNlOiBBcHBsZVBheVByb21pc2UsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IGV2ZW50LnBheW1lbnQ7XG5cbiAgICAgICAgbGV0IGRldmljZVNlc3Npb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpIHtcbiAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCA9IGF3YWl0IHRoaXMuX2dldEJyYWludHJlZURldmljZURhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheW1lbnQ6IFBheW1lbnQgPSB7XG4gICAgICAgICAgICBtZXRob2RJZDogcGF5bWVudE1ldGhvZC5pZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVfcGF5X3Rva2VuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2RhdGE6IHRva2VuLnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IHRva2VuLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZDogdG9rZW4udHJhbnNhY3Rpb25JZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudCk7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfU1VDQ0VTUyk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnQoQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19GQUlMVVJFKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLl9icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHRocm93IGFuIGVycm9yIHRvIGF2b2lkIGJyZWFraW5nIGNoZWNrb3V0IGZsb3dcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyLCBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBBcHBsZVBheVBheW1lbnRTdHJhdGVneSBmcm9tICcuL2FwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5JztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IGNyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PEFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3QgeyBnZXRIb3N0IH0gPSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbiAgICByZXR1cm4gbmV3IEFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBjcmVhdGVSZXF1ZXN0U2VuZGVyKHsgaG9zdDogZ2V0SG9zdCgpIH0pLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSgpLFxuICAgICAgICBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSwgd2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBBcHBsZVBheVNjcmlwdExvYWRlcihuZXcgU2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQXBwbGVQYXlQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAnYXBwbGVwYXknIH1dKTtcbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgc2hvcHBlciB0cmllcyB0byBzaWduIGluIGFzIGEgZ3Vlc3QgYnV0XG4gKiB0aGV5IGFyZSBhbHJlYWR5IHNpZ25lZCBpbiBhcyBhIHJlZ2lzdGVyZWQgY3VzdG9tZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQgZHVyaW5nIGJ1eSBub3cgY2FydCBjcmVhdGlvbiBwcm9jZXNzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0J1eU5vd0NhcnRDcmVhdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2J1eV9ub3dfY2FydF9jcmVhdGlvbl9lcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVxdWVzdFNlbmRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgQnJhaW50cmVlU2RrIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBBZGRyZXNzUmVxdWVzdEJvZHksXG4gICAgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IsXG4gICAgQ2FydCxcbiAgICBDaGVja291dCxcbiAgICBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgU2hpcHBpbmdPcHRpb24sXG4gICAgU3RvcmVDb25maWcsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBBcHBsZVBheUdhdGV3YXlUeXBlIH0gZnJvbSAnLi9hcHBsZS1wYXknO1xuaW1wb3J0IEFwcGxlUGF5QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoQXBwbGVQYXlCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9hcHBsZS1wYXktYnV0dG9uLWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgQXBwbGVQYXlTY3JpcHRMb2FkZXIgZnJvbSAnLi9hcHBsZS1wYXktc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuXG5jb25zdCB2YWxpZGF0aW9uRW5kcG9pbnQgPSAoYmlnUGF5RW5kcG9pbnQ6IHN0cmluZykgPT5cbiAgICBgJHtiaWdQYXlFbmRwb2ludH0vYXBpL3B1YmxpYy92MS9wYXltZW50cy9hcHBsZXBheS92YWxpZGF0ZV9tZXJjaGFudGA7XG5cbmVudW0gRGVmYXVsdExhYmVscyB7XG4gICAgU3VidG90YWwgPSAnU3VidG90YWwnLFxuICAgIFNoaXBwaW5nID0gJ1NoaXBwaW5nJyxcbn1cblxuZXhwb3J0IGVudW0gQnV0dG9uU3R5bGVPcHRpb24ge1xuICAgIEJsYWNrID0gJ2JsYWNrJyxcbiAgICBXaGl0ZSA9ICd3aGl0ZScsXG4gICAgV2hpdGVCb3JkZXIgPSAnd2hpdGUtYm9yZGVyJyxcbn1cblxuZnVuY3Rpb24gaXNTaGlwcGluZ09wdGlvbnMob3B0aW9uczogU2hpcHBpbmdPcHRpb25bXSB8IHVuZGVmaW5lZCk6IG9wdGlvbnMgaXMgU2hpcHBpbmdPcHRpb25bXSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheTtcbn1cblxuY29uc3QgZ2V0QnV0dG9uU3R5bGUgPSAoYnV0dG9uU3R5bGU/OiBCdXR0b25TdHlsZU9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoIChidXR0b25TdHlsZSkge1xuICAgICAgICBjYXNlIEJ1dHRvblN0eWxlT3B0aW9uLldoaXRlOlxuICAgICAgICAgICAgcmV0dXJuICd3aGl0ZSc7XG5cbiAgICAgICAgY2FzZSBCdXR0b25TdHlsZU9wdGlvbi5XaGl0ZUJvcmRlcjpcbiAgICAgICAgICAgIHJldHVybiAnd2hpdGUtb3V0bGluZSc7XG5cbiAgICAgICAgY2FzZSBCdXR0b25TdHlsZU9wdGlvbi5CbGFjazpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnYmxhY2snO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3kgaW1wbGVtZW50cyBDaGVja291dEJ1dHRvblN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIF9wYXltZW50TWV0aG9kPzogUGF5bWVudE1ldGhvZDtcbiAgICBwcml2YXRlIF9hcHBsZVBheUJ1dHRvbj86IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3JlcXVpcmVzU2hpcHBpbmc/OiBib29sZWFuO1xuICAgIHByaXZhdGUgX2J1eU5vd0luaXRpYWxpemVPcHRpb25zPzogQXBwbGVQYXlCdXR0b25Jbml0aWFsaXplT3B0aW9uc1snYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMnXTtcbiAgICBwcml2YXRlIF9vbkF1dGhvcml6ZUNhbGxiYWNrID0gbm9vcDtcbiAgICBwcml2YXRlIF9zdWJUb3RhbExhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgIHByaXZhdGUgX3NoaXBwaW5nTGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU2hpcHBpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBfc2Vzc2lvbkZhY3Rvcnk6IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnksXG4gICAgICAgIHByaXZhdGUgX2JyYWludHJlZVNkazogQnJhaW50cmVlU2RrLFxuICAgICAgICBwcml2YXRlIF9hcHBsZVBheVNjcmlwdExvYWRlcjogQXBwbGVQYXlTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyAmIFdpdGhBcHBsZVBheUJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBjb250YWluZXJJZCwgYXBwbGVwYXkgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCB8fCAhYXBwbGVwYXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX2FwcGxlUGF5U2NyaXB0TG9hZGVyLmxvYWRTZGsoKTtcblxuICAgICAgICBjb25zdCB7IG9uUGF5bWVudEF1dGhvcml6ZSwgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMsIHJlcXVpcmVzU2hpcHBpbmcgfSA9IGFwcGxlcGF5O1xuXG4gICAgICAgIHRoaXMuX3JlcXVpcmVzU2hpcHBpbmcgPSByZXF1aXJlc1NoaXBwaW5nO1xuXG4gICAgICAgIHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zID0gYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5fb25BdXRob3JpemVDYWxsYmFjayA9IG9uUGF5bWVudEF1dGhvcml6ZTtcblxuICAgICAgICBpZiAoIWJ1eU5vd0luaXRpYWxpemVPcHRpb25zKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWREZWZhdWx0Q2hlY2tvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnQoKTtcblxuICAgICAgICBpZiAoY2FydCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS52ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUgJiZcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZSh0aGlzLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKFxuICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uc3R5bGVPcHRpb24sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUJ1dHRvbihjb250YWluZXJJZDogc3RyaW5nLCBzdHlsZU9wdGlvbj86IEJ1dHRvblN0eWxlT3B0aW9uKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGNyZWF0ZSB3YWxsZXQgYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXBwbGVQYXlCdXR0b24gPSB0aGlzLl9jcmVhdGVBcHBsZVBheUJ1dHRvbkVsZW1lbnQoc3R5bGVPcHRpb24pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhcHBsZVBheUJ1dHRvbik7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudChzdHlsZU9wdGlvbj86IEJ1dHRvblN0eWxlT3B0aW9uKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBhcHBsZVBheUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FwcGxlLXBheS1idXR0b24nKTtcblxuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2J1dHRvbnN0eWxlJywgZ2V0QnV0dG9uU3R5bGUoc3R5bGVPcHRpb24pKTtcbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3BsYWluJyk7XG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdzdHlsZScsXG4gICAgICAgICAgICAnLS1hcHBsZS1wYXktYnV0dG9uLXdpZHRoOiAxMDAlOyAtLWFwcGxlLXBheS1idXR0b24taGVpZ2h0OiA0MHB4OyAtLWFwcGxlLXBheS1idXR0b24tYm9yZGVyLXJhZGl1czogNHB4OycsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcGF5bWVudE1ldGhvZCB8fCAhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMuZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgICAgICBzdG9yZU5hbWUsXG4gICAgICAgICAgICB9ID0gdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRSZXF1ZXN0V2l0aEVtcHR5VG90YWwoXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGUsXG4gICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZE5ldHdvcmtzLFxuICAgICAgICAgICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzPy5wdXNoKCdwb3N0YWxBZGRyZXNzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFwcGxlUGF5U2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb25GYWN0b3J5LmNyZWF0ZShyZXF1ZXN0KTtcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQXBwbGVQYXlFdmVudHMoYXBwbGVQYXlTZXNzaW9uLCB0aGlzLl9wYXltZW50TWV0aG9kLCBzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uYmVnaW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0QmFzZVJlcXVlc3QoY2FydCwgY2hlY2tvdXQsIGNvbmZpZywgdGhpcy5fcGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICBjb25zdCBhcHBsZVBheVNlc3Npb24gPSB0aGlzLl9zZXNzaW9uRmFjdG9yeS5jcmVhdGUocmVxdWVzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFwcGxlUGF5RXZlbnRzKFxuICAgICAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgIGNvbmZpZy5zdG9yZVByb2ZpbGUuc3RvcmVOYW1lLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRSZXF1ZXN0V2l0aEVtcHR5VG90YWwoXG4gICAgICAgIGNvdW50cnlDb2RlOiBzdHJpbmcsXG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nLFxuICAgICAgICBzdXBwb3J0ZWROZXR3b3Jrczogc3RyaW5nW10sXG4gICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzOiBBcHBsZVBheUpTLkFwcGxlUGF5TWVyY2hhbnRDYXBhYmlsaXR5W10sXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgIHRvdGFsOiB7IGxhYmVsOiAnJywgYW1vdW50OiAnMCcsIHR5cGU6ICdwZW5kaW5nJyB9LFxuICAgICAgICAgICAgcmVxdWlyZWRCaWxsaW5nQ29udGFjdEZpZWxkczogWydwb3N0YWxBZGRyZXNzJ10sXG4gICAgICAgICAgICByZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkczogWydlbWFpbCcsICdwaG9uZSddLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJhc2VSZXF1ZXN0KFxuICAgICAgICBjYXJ0OiBDYXJ0LFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlQ291bnRyeUNvZGUsIHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBjb2RlLCBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBjYXJ0O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogeyBtZXJjaGFudENhcGFiaWxpdGllcywgc3VwcG9ydGVkTmV0d29ya3MgfSxcbiAgICAgICAgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgdG90YWw6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbSA9IHJlcXVpcmVzU2hpcHBpbmdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHJlcXVpcmVkQmlsbGluZ0NvbnRhY3RGaWVsZHM6IFsncG9zdGFsQWRkcmVzcyddLFxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM6IFsnZW1haWwnLCAncGhvbmUnXSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzdG9yZUNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjb2RlLFxuICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgIGxpbmVJdGVtczogW10sXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkcz8ucHVzaCgncG9zdGFsQWRkcmVzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGluZUl0ZW1zOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnN1YnRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY2hlY2tvdXQudGF4ZXMuZm9yRWFjaCgodGF4KSA9PlxuICAgICAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3RheC5hbW91bnQudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmVxdWVzdC5saW5lSXRlbXMgPSBsaW5lSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVBcHBsZVBheUV2ZW50cyhcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICBhcHBsZVBheVNlc3Npb24ub252YWxpZGF0ZW1lcmNoYW50ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm9keTogbWVyY2hhbnRTZXNzaW9uIH0gPSBhd2FpdCB0aGlzLl9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24obWVyY2hhbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXJjaGFudCB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyAmJiAhdGhpcy5fcmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9ucGF5bWVudG1ldGhvZHNlbGVjdGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZUJ1eU5vd0NhcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVQYXltZW50TWV0aG9kU2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25zaGlwcGluZ2NvbnRhY3RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zICYmIHRoaXMuX3JlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jcmVhdGVCdXlOb3dDYXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkKGFwcGxlUGF5U2Vzc2lvbiwgc3RvcmVOYW1lLCBldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uc2hpcHBpbmdtZXRob2RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlU2hpcHBpbmdNZXRob2RTZWxlY3RlZChhcHBsZVBheVNlc3Npb24sIHN0b3JlTmFtZSwgZXZlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbmNhbmNlbCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYC9yZW1vdGUtY2hlY2tvdXQvJHtwYXltZW50TWV0aG9kLmlkfS9zaWdub3V0YDtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KHVybCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnBheW1lbnRhdXRob3JpemVkID0gYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5fb25QYXltZW50QXV0aG9yaXplZChldmVudCwgYXBwbGVQYXlTZXNzaW9uLCBwYXltZW50TWV0aG9kKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jcmVhdGVCdXlOb3dDYXJ0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FydFJlcXVlc3RCb2R5ID0gdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/LmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keT8uKCk7XG5cbiAgICAgICAgICAgIGlmICghY2FydFJlcXVlc3RCb2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidXlOb3dDYXJ0ID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVCdXlOb3dDYXJ0KFxuICAgICAgICAgICAgICAgIGNhcnRSZXF1ZXN0Qm9keSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KGJ1eU5vd0NhcnQuaWQpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2hvdWxkRXhlY3V0ZVNwYW1DaGVjayB9ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRFeGVjdXRlU3BhbUNoZWNrKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS52ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZVBheW1lbnRNZXRob2RTZWxlY3RlZChhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbikge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcGF5bWVudE1ldGhvZCB8fCAhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRCYXNlUmVxdWVzdChjYXJ0LCBjaGVja291dCwgY29uZmlnLCB0aGlzLl9wYXltZW50TWV0aG9kKTtcblxuICAgICAgICBkZWxldGUgcmVxdWVzdC50b3RhbC50eXBlO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnRNZXRob2RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3VG90YWw6IHJlcXVlc3QudG90YWwsXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHJlcXVlc3QubGluZUl0ZW1zLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZChcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoZXZlbnQuc2hpcHBpbmdDb250YWN0KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3Moc2hpcHBpbmdBZGRyZXNzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5hYm9ydCgpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoaXBwaW5nIGFkZHJlc3MgdXBkYXRlIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBsZXQgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uPy5pZDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlT3B0aW9ucyA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucz8uZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCk7XG4gICAgICAgIGNvbnN0IHVuc2VsZWN0ZWRPcHRpb25zID0gYXZhaWxhYmxlT3B0aW9ucz8uZmlsdGVyKFxuICAgICAgICAgICAgKG9wdGlvbikgPT4gb3B0aW9uLmlkICE9PSBzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzaGlwcGluZ09wdGlvbnM6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFtdID0gc2VsZWN0ZWRPcHRpb25cbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWxlY3RlZE9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3NlbGVjdGVkT3B0aW9uLmNvc3QudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogc2VsZWN0ZWRPcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHNlbGVjdGVkT3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICBpZiAodW5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAuLi51bnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgICAgIC4uLnVuc2VsZWN0ZWRPcHRpb25zLmZpbHRlcigob3B0aW9uKSA9PiAhb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgXS5mb3JFYWNoKChvcHRpb24pID0+XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke29wdGlvbi5jb3N0LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBvcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBvcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1NoaXBwaW5nT3B0aW9ucyhhdmFpbGFibGVPcHRpb25zKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwcGluZyBvcHRpb25zIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICBBcHBsZVBheVNlc3Npb24uU1RBVFVTX0lOVkFMSURfU0hJUFBJTkdfUE9TVEFMX0FERFJFU1MsXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlY29tbWVuZGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5pc1JlY29tbWVuZGVkKTtcblxuICAgICAgICBjb25zdCBvcHRpb25JZCA9IHJlY29tbWVuZGVkT3B0aW9uID8gcmVjb21tZW5kZWRPcHRpb24uaWQgOiBhdmFpbGFibGVPcHRpb25zWzBdLmlkO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbklkID0gc2VsZWN0ZWRPcHRpb24gPyBzZWxlY3RlZE9wdGlvbi5pZCA6IG9wdGlvbklkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVTaGlwcGluZ09wdGlvbihzZWxlY3RlZE9wdGlvbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9ucyB1cGRhdGUgZmFpbGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3U2hpcHBpbmdNZXRob2RzOiBzaGlwcGluZ09wdGlvbnMsXG4gICAgICAgICAgICBuZXdUb3RhbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld0xpbmVJdGVtczogdGhpcy5fZ2V0VXBkYXRlZExpbmVJdGVtcyhjaGVja291dCwgZGVjaW1hbFBsYWNlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBzdG9yZU5hbWU6IHN0cmluZyxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNoaXBwaW5nTWV0aG9kOiB7IGlkZW50aWZpZXI6IG9wdGlvbklkIH0sXG4gICAgICAgIH0gPSBldmVudDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmFib3J0KCk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9uIHNlbGVjdGlvbiB1cGRhdGUgZmFpbGVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdNZXRob2RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3VG90YWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHRoaXMuX2dldFVwZGF0ZWRMaW5lSXRlbXMoY2hlY2tvdXQsIGRlY2ltYWxQbGFjZXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRVcGRhdGVkTGluZUl0ZW1zKFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGRlY2ltYWxQbGFjZXM6IG51bWJlcixcbiAgICApOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSB7XG4gICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N1YlRvdGFsTGFiZWwsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGF4Lm5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5fc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc2hpcHBpbmdDb3N0VG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbGluZUl0ZW1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKG9wdGlvbklkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2VsZWN0U2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgcGF5bWVudERhdGE6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5VmFsaWRhdGVNZXJjaGFudEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBib2R5ID0gW1xuICAgICAgICAgICAgYHZhbGlkYXRpb25Vcmw9JHtldmVudC52YWxpZGF0aW9uVVJMfWAsXG4gICAgICAgICAgICBgbWVyY2hhbnRJZGVudGlmaWVyPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLm1lcmNoYW50SWR9YCxcbiAgICAgICAgICAgIGBkaXNwbGF5TmFtZT0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5zdG9yZU5hbWV9YCxcbiAgICAgICAgICAgIGBkb21haW5OYW1lPSR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfWAsXG4gICAgICAgIF0uam9pbignJicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW5kcG9pbnQocGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRzVXJsKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgICAgICAgICAnWC1YU1JGLVRPS0VOJzogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uUGF5bWVudEF1dGhvcml6ZWQoXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudCxcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIGJpbGxpbmdDb250YWN0LCBzaGlwcGluZ0NvbnRhY3QgfSA9IGV2ZW50LnBheW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcblxuICAgICAgICBsZXQgZGV2aWNlU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSkge1xuICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5fZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudDogUGF5bWVudCA9IHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50TWV0aG9kLmlkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZV9wYXlfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfZGF0YTogdG9rZW4ucGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZDogdG9rZW4ucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkOiB0b2tlbi50cmFuc2FjdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoYmlsbGluZ0NvbnRhY3QpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3Moc2hpcHBpbmdDb250YWN0KTtcbiAgICAgICAgY29uc3QgZW1haWxBZGRyZXNzID0gc2hpcHBpbmdDb250YWN0Py5lbWFpbEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHBob25lID0gc2hpcHBpbmdDb250YWN0Py5waG9uZU51bWJlciB8fCAnJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyh7XG4gICAgICAgICAgICAgICAgLi4udHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MoXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkU2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoe1xuICAgICAgICAgICAgICAgIHVzZVN0b3JlQ3JlZGl0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudCk7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfU1VDQ0VTUyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkF1dGhvcml6ZUNhbGxiYWNrKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfRkFJTFVSRSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BheW1lbnQgY2Fubm90IGNvbXBsZXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKFxuICAgICAgICBjb250YWN0PzogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRDb250YWN0LFxuICAgICk6IEFkZHJlc3NSZXF1ZXN0Qm9keSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGNvbnRhY3Q/LmdpdmVuTmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBjb250YWN0Py5mYW1pbHlOYW1lIHx8ICcnLFxuICAgICAgICAgICAgY2l0eTogY29udGFjdD8ubG9jYWxpdHkgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzBdKSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MyOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzFdKSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGNvbnRhY3Q/LnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogY29udGFjdD8uY291bnRyeUNvZGUgfHwgJycsXG4gICAgICAgICAgICBwaG9uZTogY29udGFjdD8ucGhvbmVOdW1iZXIgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLl9icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHRocm93IGFuIGVycm9yIHRvIGF2b2lkIGJyZWFraW5nIGNoZWNrb3V0IGZsb3dcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyLCBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQXBwbGVQYXlCdXR0b25TdHJhdGVneSBmcm9tICcuL2FwcGxlLXBheS1idXR0b24tc3RyYXRlZ3knO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgY3JlYXRlQXBwbGVQYXlCdXR0b25TdHJhdGVneTogQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3Rvcnk8QXBwbGVQYXlCdXR0b25TdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHsgZ2V0SG9zdCB9ID0gcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbiAgICByZXR1cm4gbmV3IEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3koXG4gICAgICAgIGNyZWF0ZVJlcXVlc3RTZW5kZXIoeyBob3N0OiBnZXRIb3N0KCkgfSksXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBBcHBsZVBheVNlc3Npb25GYWN0b3J5KCksXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTZGsoXG4gICAgICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpLCB3aW5kb3csIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKSxcbiAgICAgICAgKSxcbiAgICAgICAgbmV3IEFwcGxlUGF5U2NyaXB0TG9hZGVyKG5ldyBTY3JpcHRMb2FkZXIoKSksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVBcHBsZVBheUJ1dHRvblN0cmF0ZWd5LCBbeyBpZDogJ2FwcGxlcGF5JyB9XSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImlzRXhwZXJpbWVudEVuYWJsZWQiLCJmZWF0dXJlcyIsImV4cGVyaW1lbnROYW1lIiwiZmFsbGJhY2tWYWx1ZSIsImQiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04iLCJCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OIiwiQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJicmFpbnRyZWVXaW5kb3ciLCJ3aW5kb3ciLCJnZXRTREtWZXJzaW9uIiwic3RvcmVDb25maWciLCJ0aGlzIiwiZ2V0U3RhdGUiLCJnZXRTdG9yZUNvbmZpZyIsImNoZWNrb3V0U2V0dGluZ3MiLCJnZXRQcmVsb2FkZWRTREtWZXJzaW9uIiwiYnJhaW50cmVlIiwicHJlbG9hZGVkVmVyc2lvbiIsImZpbmQiLCJ2YWx1ZXMiLCJtb2R1bGUiLCJWRVJTSU9OIiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciIsIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiVG90YWxQcmljZVN0YXR1c1R5cGUiLCJCcmFpbnRyZWVPcmRlclN0YXR1cyIsIk5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzIiwiQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIiwiQnJhaW50cmVlRXJyb3JUeXBlIiwiQnJhaW50cmVlRXJyb3JDb2RlIiwiQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJzdWJ0eXBlIiwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZCIsIlBheW1lbnROb3RJbml0aWFsaXplZCIsIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQiLCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkIiwiZ2V0RXJyb3JNZXNzYWdlIiwiQnJhaW50cmVlRW52IiwiQnJhaW50cmVlTW9kdWxlTmFtZSIsIkJyYWludHJlZUZvcm1GaWVsZFR5cGUiLCJCcmFpbnRyZWVTZGsiLCJicmFpbnRyZWVTY3JpcHRMb2FkZXIiLCJpbml0aWFsaXplIiwiY2xpZW50VG9rZW4iLCJzZXRDbGllbnRUb2tlbiIsImRlaW5pdGlhbGl6ZSIsInRlYXJkb3duTW9kdWxlIiwiZGF0YUNvbGxlY3RvciIsInVuZGVmaW5lZCIsImdldENsaWVudCIsImNsaWVudCIsImdldENsaWVudFRva2VuT3JUaHJvdyIsImNsaWVudENyZWF0b3IiLCJsb2FkQ2xpZW50IiwiY3JlYXRlIiwiYXV0aG9yaXphdGlvbiIsImdldERhdGFDb2xsZWN0b3JPclRocm93Iiwib3B0aW9ucyIsImVtcHR5RGF0YUNvbGxlY3RvciIsImRldmljZURhdGEiLCJ0ZWFyZG93biIsIlByb21pc2UiLCJyZXNvbHZlIiwibG9hZERhdGFDb2xsZWN0b3IiLCJkYXRhQ29sbGVjdG9yQ29uZmlnIiwia291bnQiLCJlcnJvciIsIkJvb2xlYW4iLCJpc0JyYWludHJlZUVycm9yIiwiY29kZSIsIktvdW50Tm90RW5hYmxlZCIsImdldEJyYWludHJlZUdvb2dsZVBheW1lbnQiLCJnb29nbGVQYXltZW50IiwiYnJhaW50cmVlR29vZ2xlUGF5bWVudCIsImFsbCIsImxvYWRHb29nbGVQYXltZW50IiwiZ2V0QnJhaW50cmVlVGhyZWVEUyIsInRocmVlRFMiLCJ0aHJlZURTZWN1cmUiLCJsb2FkM0RTIiwidmVyc2lvbiIsImdldEJyYWludHJlZUxvY2FsUGF5bWVudCIsIm1lcmNoYW50QWNjb3VudElkIiwiYnJhaW50cmVlTG9jYWxQYXltZW50IiwibG9jYWxQYXltZW50Q3JlYXRvciIsImxvYWRMb2NhbFBheW1lbnQiLCJyZWplY3QiLCJnZXRVc0JhbmtBY2NvdW50IiwidXNCYW5rQWNjb3VudCIsImxvYWRVc0JhbmtBY2NvdW50IiwiZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0IiwidmlzYUNoZWNrb3V0IiwibG9hZFZpc2FDaGVja291dCIsInRoZW4iLCJwYXlwYWwiLCJnZXRWaXNhQ2hlY2tvdXRTZGsiLCJ0ZXN0TW9kZSIsInZpc2FDaGVja291dFNESyIsImxvYWRWaXNhQ2hlY2tvdXRTZGsiLCJnZXRWZW5tb0NoZWNrb3V0T3JUaHJvdyIsImJyYWludHJlZVZlbm1vIiwidmVubW9DaGVja291dCIsImxvYWRWZW5tb0NoZWNrb3V0IiwidmVubW9DaGVja291dENvbmZpZyIsImFsbG93RGVza3RvcCIsInBheW1lbnRNZXRob2RVc2FnZSIsImJyYWludHJlZVZlbm1vQ2hlY2tvdXQiLCJpc0Jyb3dzZXJTdXBwb3J0ZWQiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIkJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkiLCJDbGllbnQiLCJQYXlwYWxDaGVja291dCIsIlBheXBhbCIsIkxvY2FsUGF5bWVudCIsIkRhdGFDb2xsZWN0b3IiLCJVc0JhbmtBY2NvdW50IiwiR29vZ2xlUGF5bWVudCIsIlRocmVlRFNlY3VyZSIsIlZpc2FDaGVja291dCIsIlZlbm1vIiwiSG9zdGVkRmllbGRzIiwiRmFzdGxhbmUiLCJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIkFwcGxlUGF5R2F0ZXdheVR5cGUiLCJCcmFpbnRyZWVTY3JpcHRMb2FkZXIiLCJzY3JpcHRMb2FkZXIiLCJicmFpbnRyZWVIb3N0V2luZG93IiwiYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJsb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyIsImxvYWRGYXN0bGFuZSIsImxvYWRQYXlwYWxDaGVja291dCIsImxvYWRQYXlwYWwiLCJsb2FkSG9zdGVkRmllbGRzIiwiViIsImhhc2giLCJsb2FkU2NyaXB0IiwiYXN5bmMiLCJhdHRyaWJ1dGVzIiwiaW50ZWdyaXR5IiwiY3Jvc3NvcmlnaW4iLCJicmFpbnRyZWVNb2R1bGVOYW1lIiwiZmlsZU5hbWUiLCJnZXRCcmFpbnRyZWVNb2R1bGUiLCJicmFpbnRyZWVTZGtWZXJzaW9uIiwic2NyaXB0UGF0aCIsImdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZSIsIm1vZHVsZU5hbWUiLCJ0b1Jlc29sdmFibGVNb2R1bGUiLCJyZXNvbHZlSWRzIiwiYXNzaWduIiwiTWlzc2luZ0RhdGFFcnJvciIsIk1pc3NpbmdCaWxsaW5nQWRkcmVzcyIsIk1pc3NpbmdDYXJ0IiwiTWlzc2luZ0NvbnNpZ25tZW50cyIsIk1pc3NpbmdDaGVja291dCIsIk1pc3NpbmdDdXN0b21lciIsIk1pc3NpbmdDaGVja291dENvbmZpZyIsIk1pc3NpbmdPcmRlckNvbmZpZyIsIk1pc3NpbmdPcmRlciIsIk1pc3NpbmdPcmRlcklkIiwiTWlzc2luZ1BheW1lbnQiLCJNaXNzaW5nUGF5bWVudFRva2VuIiwiTWlzc2luZ1BheW1lbnRNZXRob2QiLCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzIiwiTm90SW1wbGVtZW50ZWRFcnJvciIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiRGVmYXVsdExhYmVscyIsIkFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSIsIl9yZXF1ZXN0U2VuZGVyIiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJfc2Vzc2lvbkZhY3RvcnkiLCJfYnJhaW50cmVlU2RrIiwiX2FwcGxlUGF5U2NyaXB0TG9hZGVyIiwiX29uQXV0aG9yaXplQ2FsbGJhY2siLCJub29wIiwiX29uRXJyb3IiLCJfb25DbGljayIsIl9zdWJUb3RhbExhYmVsIiwiU3VidG90YWwiLCJfc2hpcHBpbmdMYWJlbCIsIlNoaXBwaW5nIiwiX2hhc0FwcGxlUGF5U2Vzc2lvbiIsIm1ldGhvZElkIiwiYXBwbGVwYXkiLCJjb250YWluZXIiLCJzaGlwcGluZ0xhYmVsIiwic3VidG90YWxMYWJlbCIsIm9uRXJyb3IiLCJvbkNsaWNrIiwib25QYXltZW50QXV0aG9yaXplIiwic3RhdGUiLCJsb2FkU2RrIiwiX3BheW1lbnRNZXRob2QiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsIl9lIiwibG9hZFBheW1lbnRNZXRob2QiLCJ2ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uIiwiX2FwcGxlUGF5QnV0dG9uIiwiX2NyZWF0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2siLCJiaW5kIiwiaW5pdGlhbGl6YXRpb25EYXRhIiwiZ2F0ZXdheSIsIkJSQUlOVFJFRSIsInNpZ25JbiIsInNpZ25PdXQiLCJleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0IiwiY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayIsImNvbnRhaW5lcklkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFwcGxlUGF5QnV0dG9uIiwiX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjYXJ0IiwiZ2V0Q2FydE9yVGhyb3ciLCJjb25maWciLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJjaGVja291dCIsImdldENoZWNrb3V0T3JUaHJvdyIsInJlcXVlc3QiLCJfZ2V0QmFzZVJlcXVlc3QiLCJhcHBsZVBheVNlc3Npb24iLCJfaGFuZGxlQXBwbGVQYXlFdmVudHMiLCJiZWdpbiIsInBheW1lbnRNZXRob2QiLCJzdG9yZVByb2ZpbGUiLCJzdG9yZUNvdW50cnlDb2RlIiwic3RvcmVOYW1lIiwiY3VycmVuY3kiLCJkZWNpbWFsUGxhY2VzIiwibWVyY2hhbnRDYXBhYmlsaXRpZXMiLCJzdXBwb3J0ZWROZXR3b3JrcyIsInJlcXVpcmVzU2hpcHBpbmciLCJsaW5lSXRlbXMiLCJwaHlzaWNhbEl0ZW1zIiwibGVuZ3RoIiwicmVxdWlyZWRCaWxsaW5nQ29udGFjdEZpZWxkcyIsInJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzIiwiY291bnRyeUNvZGUiLCJjdXJyZW5jeUNvZGUiLCJ0b3RhbCIsImxhYmVsIiwiYW1vdW50IiwiZ3JhbmRUb3RhbCIsInRvRml4ZWQiLCJwdXNoIiwic3VidG90YWwiLCJ0YXhlcyIsImZvckVhY2giLCJ0YXgiLCJvbnZhbGlkYXRlbWVyY2hhbnQiLCJib2R5IiwibWVyY2hhbnRTZXNzaW9uIiwiX29uVmFsaWRhdGVNZXJjaGFudCIsImNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uIiwiZXJyIiwib25zaGlwcGluZ2NvbnRhY3RzZWxlY3RlZCIsIl9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZCIsIm9uc2hpcHBpbmdtZXRob2RzZWxlY3RlZCIsIl9oYW5kbGVTaGlwcGluZ01ldGhvZFNlbGVjdGVkIiwib25jYW5jZWwiLCJ1cmwiLCJpZCIsImxvYWRDaGVja291dCIsIm9ucGF5bWVudGF1dGhvcml6ZWQiLCJfb25QYXltZW50QXV0aG9yaXplZCIsInNoaXBwaW5nQWRkcmVzcyIsIl90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzIiwic2hpcHBpbmdDb250YWN0IiwidXBkYXRlU2hpcHBpbmdBZGRyZXNzIiwiYWJvcnQiLCJzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkIiwiY29uc2lnbm1lbnRzIiwic2VsZWN0ZWRTaGlwcGluZ09wdGlvbiIsImF2YWlsYWJsZU9wdGlvbnMiLCJhdmFpbGFibGVTaGlwcGluZ09wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsInVuc2VsZWN0ZWRPcHRpb25zIiwiZmlsdGVyIiwib3B0aW9uIiwic2hpcHBpbmdPcHRpb25zIiwiZGVzY3JpcHRpb24iLCJjb3N0IiwiZGV0YWlsIiwiYWRkaXRpb25hbERlc2NyaXB0aW9uIiwiaWRlbnRpZmllciIsImlzUmVjb21tZW5kZWQiLCJBcnJheSIsImNvbXBsZXRlU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uIiwiQXBwbGVQYXlTZXNzaW9uIiwiU1RBVFVTX0lOVkFMSURfU0hJUFBJTkdfUE9TVEFMX0FERFJFU1MiLCJyZWNvbW1lbmRlZE9wdGlvbiIsIm9wdGlvbklkIiwic2VsZWN0ZWRPcHRpb25JZCIsIl91cGRhdGVTaGlwcGluZ09wdGlvbiIsIm5ld1NoaXBwaW5nTWV0aG9kcyIsIm5ld1RvdGFsIiwibmV3TGluZUl0ZW1zIiwiX2dldFVwZGF0ZWRMaW5lSXRlbXMiLCJzaGlwcGluZ01ldGhvZCIsImNvbXBsZXRlU2hpcHBpbmdNZXRob2RTZWxlY3Rpb24iLCJzaGlwcGluZ0Nvc3RUb3RhbCIsInNlbGVjdFNoaXBwaW5nT3B0aW9uIiwicGF5bWVudERhdGEiLCJ2YWxpZGF0aW9uVVJMIiwibWVyY2hhbnRJZCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJqb2luIiwicG9zdCIsInBheW1lbnRzVXJsIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiQWNjZXB0IiwidG9rZW4iLCJiaWxsaW5nQ29udGFjdCIsInBheW1lbnQiLCJkZXZpY2VTZXNzaW9uSWQiLCJfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSIsImZvcm1hdHRlZFBheWxvYWQiLCJhcHBsZV9wYXlfdG9rZW4iLCJwYXltZW50X2RhdGEiLCJwYXltZW50X21ldGhvZCIsInRyYW5zYWN0aW9uX2lkIiwidHJhbnNhY3Rpb25JZGVudGlmaWVyIiwidHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyIsInRyYW5zZm9ybWVkU2hpcHBpbmdBZGRyZXNzIiwiZW1haWxBZGRyZXNzIiwicGhvbmUiLCJwaG9uZU51bWJlciIsInVwZGF0ZUJpbGxpbmdBZGRyZXNzIiwiZW1haWwiLCJzdWJtaXRPcmRlciIsInVzZVN0b3JlQ3JlZGl0Iiwic3VibWl0UGF5bWVudCIsImNvbXBsZXRlUGF5bWVudCIsIlNUQVRVU19TVUNDRVNTIiwiU1RBVFVTX0ZBSUxVUkUiLCJjb250YWN0IiwiZmlyc3ROYW1lIiwiZ2l2ZW5OYW1lIiwibGFzdE5hbWUiLCJmYW1pbHlOYW1lIiwiY2l0eSIsImxvY2FsaXR5IiwiY29tcGFueSIsImFkZHJlc3MxIiwiYWRkcmVzc0xpbmVzIiwiYWRkcmVzczIiLCJwb3N0YWxDb2RlIiwic3RhdGVPclByb3ZpbmNlIiwiYWRtaW5pc3RyYXRpdmVBcmVhIiwic3RhdGVPclByb3ZpbmNlQ29kZSIsImN1c3RvbUZpZWxkcyIsIl8iLCJhc3NlcnRBcHBsZVBheVdpbmRvdyIsImlzQXBwbGVQYXlXaW5kb3ciLCJBcHBsZVBheVNlc3Npb25GYWN0b3J5IiwiQXBwbGVQYXlTY3JpcHRMb2FkZXIiLCJzZGtWZXJzaW9uIiwiaXNBcHBsZVBheVNka1dpbmRvdyIsImdldEhvc3QiLCJjcmVhdGVSZXF1ZXN0U2VuZGVyIiwiaG9zdCIsImdldFNjcmlwdExvYWRlciIsIlNjcmlwdExvYWRlciIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJBcHBsZVBheVBheW1lbnRTdHJhdGVneSIsIl9zdG9yZUNyZWRpdExhYmVsIiwiU3RvcmVDcmVkaXQiLCJzdG9yZUNyZWRpdExhYmVsIiwiZXhlY3V0ZSIsInBheWxvYWQiLCJmaW5hbGl6ZSIsImlzU3RvcmVDcmVkaXRBcHBsaWVkIiwib3V0c3RhbmRpbmdCYWxhbmNlIiwic3RvcmVDcmVkaXQiLCJnZXRDdXN0b21lck9yVGhyb3ciLCJNYXRoIiwibWluIiwicHJvbWlzZSIsIkJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yIiwiQnV0dG9uU3R5bGVPcHRpb24iLCJBcHBsZVBheUJ1dHRvblN0cmF0ZWd5IiwiYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMiLCJfcmVxdWlyZXNTaGlwcGluZyIsIl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyIsImxvYWREZWZhdWx0Q2hlY2tvdXQiLCJnZXRDYXJ0Iiwic3R5bGVPcHRpb24iLCJidXR0b25TdHlsZSIsIldoaXRlIiwiV2hpdGVCb3JkZXIiLCJCbGFjayIsImdldEJ1dHRvblN0eWxlIiwiZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5IiwiX2dldFJlcXVlc3RXaXRoRW1wdHlUb3RhbCIsIm9ucGF5bWVudG1ldGhvZHNlbGVjdGVkIiwiX2NyZWF0ZUJ1eU5vd0NhcnQiLCJfaGFuZGxlUGF5bWVudE1ldGhvZFNlbGVjdGVkIiwiY2FydFJlcXVlc3RCb2R5IiwiYnV5Tm93Q2FydCIsImNyZWF0ZUJ1eU5vd0NhcnQiLCJzaG91bGRFeGVjdXRlU3BhbUNoZWNrIiwiY29tcGxldGVQYXltZW50TWV0aG9kU2VsZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/apple-pay.js\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/ApplePayButton.tsx":
/*!***************************************************************!*\
  !*** ./packages/apple-pay-integration/src/ApplePayButton.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/apple-pay */ \"../checkout-sdk-js/dist/esm/integrations/apple-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/checkout-button-integration */ \"./packages/checkout-button-integration/src/CheckoutButton.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_utility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/utility */ \"./packages/utility/src/navigateToOrderConfirmation.ts\");\n\n\n\n\n\nconst ApplePayButton = (props) => {\n    const { language, onUnhandledError } = props;\n    const integrations = [_bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_0__.createApplePayCustomerStrategy];\n    const additionalInitializationOptions = {\n        shippingLabel: language.translate('cart.shipping_text'),\n        subtotalLabel: language.translate('cart.subtotal_text'),\n        onPaymentAuthorize: _bigcommerce_checkout_utility__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        onError: onUnhandledError,\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__[\"default\"], Object.assign({ additionalInitializationOptions: additionalInitializationOptions, integrations: integrations }, props)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ApplePayButton, [\n    { id: 'applepay' },\n]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL0FwcGxlUGF5QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWtHO0FBQzVDO0FBRTZCO0FBSzVCO0FBQ3FCO0FBRTVFLE1BQU0sY0FBYyxHQUEyQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ3JFLE1BQU0sRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFN0MsTUFBTSxZQUFZLEdBQUcsQ0FBQyw0R0FBOEIsQ0FBQyxDQUFDO0lBRXRELE1BQU0sK0JBQStCLEdBQUc7UUFDcEMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUM7UUFDdkQsYUFBYSxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUM7UUFDdkQsa0JBQWtCLEVBQUUscUVBQTJCO1FBQy9DLE9BQU8sRUFBRSxnQkFBZ0I7S0FDNUIsQ0FBQztJQUVGLE9BQU8sQ0FDSCwyREFBQyx5RkFBYyxrQkFDWCwrQkFBK0IsRUFBRSwrQkFBK0IsRUFDaEUsWUFBWSxFQUFFLFlBQVksSUFDdEIsS0FBSyxFQUNYLENBQ0wsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUErQyxjQUFjLEVBQUU7SUFDL0YsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFO0NBQ3JCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9BcHBsZVBheUJ1dHRvbi50c3g/MGY2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBcHBsZVBheUN1c3RvbWVyU3RyYXRlZ3kgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2ludGVncmF0aW9ucy9hcHBsZS1wYXknO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IENoZWNrb3V0QnV0dG9uIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIHR5cGUgQ2hlY2tvdXRCdXR0b25Qcm9wcyxcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IG5hdmlnYXRlVG9PcmRlckNvbmZpcm1hdGlvbiB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC91dGlsaXR5JztcblxuY29uc3QgQXBwbGVQYXlCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PENoZWNrb3V0QnV0dG9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYW5ndWFnZSwgb25VbmhhbmRsZWRFcnJvciB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBpbnRlZ3JhdGlvbnMgPSBbY3JlYXRlQXBwbGVQYXlDdXN0b21lclN0cmF0ZWd5XTtcblxuICAgIGNvbnN0IGFkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIHNoaXBwaW5nTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zaGlwcGluZ190ZXh0JyksXG4gICAgICAgIHN1YnRvdGFsTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zdWJ0b3RhbF90ZXh0JyksXG4gICAgICAgIG9uUGF5bWVudEF1dGhvcml6ZTogbmF2aWdhdGVUb09yZGVyQ29uZmlybWF0aW9uLFxuICAgICAgICBvbkVycm9yOiBvblVuaGFuZGxlZEVycm9yLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Q2hlY2tvdXRCdXR0b25cbiAgICAgICAgICAgIGFkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnM9e2FkZGl0aW9uYWxJbml0aWFsaXphdGlvbk9wdGlvbnN9XG4gICAgICAgICAgICBpbnRlZ3JhdGlvbnM9e2ludGVncmF0aW9uc31cbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlQ29tcG9uZW50PENoZWNrb3V0QnV0dG9uUHJvcHMsIENoZWNrb3V0QnV0dG9uUmVzb2x2ZUlkPihBcHBsZVBheUJ1dHRvbiwgW1xuICAgIHsgaWQ6ICdhcHBsZXBheScgfSxcbl0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/ApplePayButton.tsx\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx":
/*!**********************************************************************!*\
  !*** ./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/apple-pay */ \"../checkout-sdk-js/dist/esm/integrations/apple-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\nconst ApplePayPaymentMethod = ({ method, checkoutService, language, onUnhandledError, }) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n        const initializePayment = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            try {\n                yield checkoutService.initializePayment({\n                    gatewayId: method.gateway,\n                    methodId: method.id,\n                    integrations: [_bigcommerce_checkout_sdk_integrations_apple_pay__WEBPACK_IMPORTED_MODULE_1__.createApplePayPaymentStrategy],\n                    applepay: {\n                        shippingLabel: language.translate('cart.shipping_text'),\n                        subtotalLabel: language.translate('cart.subtotal_text'),\n                    },\n                });\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        void initializePayment();\n        return () => {\n            const deinitializePayment = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n                try {\n                    yield checkoutService.deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        onUnhandledError(error);\n                    }\n                }\n            });\n            void deinitializePayment();\n        };\n    }, [checkoutService, language, method, onUnhandledError]);\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ApplePayPaymentMethod, [{ id: 'applepay' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL0FwcGxlUGF5UGF5bWVudE1ldGhvZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRztBQUNoQztBQU1WO0FBRXZELE1BQU0scUJBQXFCLEdBQTBDLENBQUMsRUFDbEUsTUFBTSxFQUNOLGVBQWUsRUFDZixRQUFRLEVBQ1IsZ0JBQWdCLEdBQ25CLEVBQUUsRUFBRTtJQUNELGdEQUFTLENBQUMsR0FBRyxFQUFFO1FBQ1gsTUFBTSxpQkFBaUIsR0FBRyxHQUFTLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUM7Z0JBQ0QsTUFBTSxlQUFlLENBQUMsaUJBQWlCLENBQUM7b0JBQ3BDLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTztvQkFDekIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO29CQUNuQixZQUFZLEVBQUUsQ0FBQywyR0FBNkIsQ0FBQztvQkFDN0MsUUFBUSxFQUFFO3dCQUNOLGFBQWEsRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDO3dCQUN2RCxhQUFhLEVBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQztxQkFDMUQ7aUJBQ0osQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2IsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7b0JBQ3pCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUMsRUFBQztRQUVGLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztRQUV6QixPQUFPLEdBQUcsRUFBRTtZQUNSLE1BQU0sbUJBQW1CLEdBQUcsR0FBUyxFQUFFLENBQUM7Z0JBQ3BDLElBQUksQ0FBQztvQkFDRCxNQUFNLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQzt3QkFDdEMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPO3dCQUN6QixRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7cUJBQ3RCLENBQUMsQ0FBQztnQkFDUCxDQUFDO2dCQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7b0JBQ2IsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7d0JBQ3pCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM1QixDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDLEVBQUM7WUFFRixLQUFLLG1CQUFtQixFQUFFLENBQUM7UUFDL0IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0lBRTFELHlEQUF5RDtJQUN6RCxPQUFPLHlIQUFLLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsaUVBQWUseUZBQXFCLENBQ2hDLHFCQUFxQixFQUNyQixDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQ3ZCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvQXBwbGVQYXlQYXltZW50TWV0aG9kLnRzeD82ZjhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvYXBwbGUtcGF5JztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgdHlwZSBQYXltZW50TWV0aG9kUHJvcHMsXG4gICAgdHlwZSBQYXltZW50TWV0aG9kUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuY29uc3QgQXBwbGVQYXlQYXltZW50TWV0aG9kOiBGdW5jdGlvbkNvbXBvbmVudDxQYXltZW50TWV0aG9kUHJvcHM+ID0gKHtcbiAgICBtZXRob2QsXG4gICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgIGxhbmd1YWdlLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG59KSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZVBheW1lbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrb3V0U2VydmljZS5pbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0aW9uczogW2NyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5XSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVwYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBwaW5nTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZSgnY2FydC5zaGlwcGluZ190ZXh0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbExhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoJ2NhcnQuc3VidG90YWxfdGV4dCcpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdm9pZCBpbml0aWFsaXplUGF5bWVudCgpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWluaXRpYWxpemVQYXltZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrb3V0U2VydmljZS5kZWluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZVBheW1lbnQoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2hlY2tvdXRTZXJ2aWNlLCBsYW5ndWFnZSwgbWV0aG9kLCBvblVuaGFuZGxlZEVycm9yXSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LW5vLXVzZWxlc3MtZnJhZ21lbnRcbiAgICByZXR1cm4gPD48Lz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8UGF5bWVudE1ldGhvZFByb3BzLCBQYXltZW50TWV0aG9kUmVzb2x2ZUlkPihcbiAgICBBcHBsZVBheVBheW1lbnRNZXRob2QsXG4gICAgW3sgaWQ6ICdhcHBsZXBheScgfV0sXG4pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/apple-pay-integration/src/index.ts":
/*!*****************************************************!*\
  !*** ./packages/apple-pay-integration/src/index.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApplePayButton: () => (/* reexport safe */ _ApplePayButton__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   ApplePayPaymentMethod: () => (/* reexport safe */ _ApplePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _ApplePayButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ApplePayButton */ \"./packages/apple-pay-integration/src/ApplePayButton.tsx\");\n/* harmony import */ var _ApplePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApplePayPaymentMethod */ \"./packages/apple-pay-integration/src/ApplePayPaymentMethod.tsx\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7QUFDYyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9pbmRleC50cz83OTYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwbGVQYXlCdXR0b24gfSBmcm9tICcuL0FwcGxlUGF5QnV0dG9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwbGVQYXlQYXltZW50TWV0aG9kIH0gZnJvbSAnLi9BcHBsZVBheVBheW1lbnRNZXRob2QnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/apple-pay-integration/src/index.ts\n\n}");

/***/ }),

/***/ "./packages/checkout-button-integration/src/CheckoutButton.tsx":
/*!*********************************************************************!*\
  !*** ./packages/checkout-button-integration/src/CheckoutButton.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\nconst CheckoutButton = ({ checkoutService: { deinitializeCustomer, initializeCustomer }, checkoutButtonContainerClass, containerId, methodId, onUnhandledError, onWalletButtonClick, additionalInitializationOptions, integrations, }) => {\n    const initializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield initializeCustomer({\n                methodId,\n                integrations,\n                [methodId]: Object.assign({ container: containerId, onUnhandledError, onClick: () => onWalletButtonClick(methodId) }, additionalInitializationOptions),\n            });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    const deinitializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield deinitializeCustomer({ methodId });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        void initializeCustomerStrategyOrThrow();\n        return () => {\n            void deinitializeCustomerStrategyOrThrow();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: checkoutButtonContainerClass, \"data-test\": containerId, id: containerId }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(CheckoutButton, []));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jaGVja291dC1idXR0b24taW50ZWdyYXRpb24vc3JjL0NoZWNrb3V0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFNVjtBQUV2RCxNQUFNLGNBQWMsR0FBMkMsQ0FBQyxFQUM1RCxlQUFlLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxFQUM3RCw0QkFBNEIsRUFDNUIsV0FBVyxFQUNYLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLCtCQUErQixFQUMvQixZQUFZLEdBQ2YsRUFBRSxFQUFFO0lBQ0QsTUFBTSxpQ0FBaUMsR0FBRyxHQUFTLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUM7WUFDRCxNQUFNLGtCQUFrQixDQUFDO2dCQUNyQixRQUFRO2dCQUNSLFlBQVk7Z0JBQ1osQ0FBQyxRQUFRLENBQUMsa0JBQ04sU0FBUyxFQUFFLFdBQVcsRUFDdEIsZ0JBQWdCLEVBQ2hCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsSUFDekMsK0JBQStCLENBQ3JDO2FBQ0osQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLE9BQU8sZ0JBQWdCLEtBQUssVUFBVSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztnQkFDbkUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRixNQUFNLG1DQUFtQyxHQUFHLEdBQVMsRUFBRSxDQUFDO1FBQ3BELElBQUksQ0FBQztZQUNELE1BQU0sb0JBQW9CLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFVBQVUsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQ25FLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQyxFQUFDO0lBRUYsZ0RBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxLQUFLLGlDQUFpQyxFQUFFLENBQUM7UUFFekMsT0FBTyxHQUFHLEVBQUU7WUFDUixLQUFLLG1DQUFtQyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDO1FBQ0YsdURBQXVEO0lBQzNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCxvRUFBSyxTQUFTLEVBQUUsNEJBQTRCLGVBQWEsV0FBVyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUksQ0FDNUYsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUNoQyxjQUFjLEVBQ2QsRUFBRSxDQUNMLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbi9zcmMvQ2hlY2tvdXRCdXR0b24udHN4P2FjMzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUHJvcHMsXG4gICAgdHlwZSBDaGVja291dEJ1dHRvblJlc29sdmVJZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmNvbnN0IENoZWNrb3V0QnV0dG9uOiBGdW5jdGlvbkNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlOiB7IGRlaW5pdGlhbGl6ZUN1c3RvbWVyLCBpbml0aWFsaXplQ3VzdG9tZXIgfSxcbiAgICBjaGVja291dEJ1dHRvbkNvbnRhaW5lckNsYXNzLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIG1ldGhvZElkLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgb25XYWxsZXRCdXR0b25DbGljayxcbiAgICBhZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgIGludGVncmF0aW9ucyxcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGludGVncmF0aW9ucyxcbiAgICAgICAgICAgICAgICBbbWV0aG9kSWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IG9uV2FsbGV0QnV0dG9uQ2xpY2sobWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25VbmhhbmRsZWRFcnJvciA9PT0gJ2Z1bmN0aW9uJyAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7IG1ldGhvZElkIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvblVuaGFuZGxlZEVycm9yID09PSAnZnVuY3Rpb24nICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2b2lkIGluaXRpYWxpemVDdXN0b21lclN0cmF0ZWd5T3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZUN1c3RvbWVyU3RyYXRlZ3lPclRocm93KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2hlY2tvdXRCdXR0b25Db250YWluZXJDbGFzc30gZGF0YS10ZXN0PXtjb250YWluZXJJZH0gaWQ9e2NvbnRhaW5lcklkfSAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8Q2hlY2tvdXRCdXR0b25Qcm9wcywgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQ+KFxuICAgIENoZWNrb3V0QnV0dG9uLFxuICAgIFtdLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/checkout-button-integration/src/CheckoutButton.tsx\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/toResolvableComponent.tsx":
/*!************************************************************************!*\
  !*** ./packages/payment-integration-api/src/toResolvableComponent.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ toResolvableComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction toResolvableComponent(\n// eslint-disable-next-line @typescript-eslint/naming-convention\nComponent, resolveIds) {\n    return Object.assign((props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props)), { resolveIds });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG9SZXNvbHZhYmxlQ29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0Q7QUFJbkMsU0FBUyxxQkFBcUI7QUFDekMsZ0VBQWdFO0FBQ2hFLFNBQWdDLEVBQ2hDLFVBQXlCO0lBRXpCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQWEsRUFBRSxFQUFFLENBQUMsMkRBQUMsU0FBUyxvQkFBSyxLQUFLLEVBQUksRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFDdEYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3RvUmVzb2x2YWJsZUNvbXBvbmVudC50c3g/YTQ5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdHlwZSBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdHlwZSBSZXNvbHZhYmxlQ29tcG9uZW50IGZyb20gJy4vUmVzb2x2YWJsZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZUNvbXBvbmVudDxUUHJvcHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBUSWRlbnRpZmllcj4oXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgIENvbXBvbmVudDogQ29tcG9uZW50VHlwZTxUUHJvcHM+LFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlQ29tcG9uZW50PFRQcm9wcywgVElkZW50aWZpZXI+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigocHJvcHM6IFRQcm9wcykgPT4gPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCB7IHJlc29sdmVJZHMgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/toResolvableComponent.tsx\n\n}");

/***/ })

}]);