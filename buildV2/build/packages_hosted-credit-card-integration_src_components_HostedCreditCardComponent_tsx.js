"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["packages_hosted-credit-card-integration_src_components_HostedCreditCardComponent_tsx"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/credit-card.js":
/*!***************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/credit-card.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCreditCardPaymentStrategy: () => (/* binding */ h)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\nvar i;class n extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class r extends n{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class o extends n{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class a extends r{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(i||(i={}));class s extends n{constructor(e){super(function(e){switch(e){case i.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case i.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case i.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case i.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}var d=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})},c=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class l{constructor(e){this._paymentIntegrationService=e}execute(e,t){var i,n;return this._isHostedPaymentFormEnabled(null===(i=e.payment)||void 0===i?void 0:i.methodId,null===(n=e.payment)||void 0===n?void 0:n.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(e,t):this._executeWithoutHostedForm(e,t)}initialize(e){if(!this._isHostedPaymentFormEnabled(null==e?void 0:e.methodId,null==e?void 0:e.gatewayId)||!this._isHostedFieldAvailable(e))return this._shouldRenderHostedForm=!1,Promise.resolve();const t=e&&e.creditCard&&e.creditCard.form,i=this._paymentIntegrationService.getState(),{paymentSettings:{bigpayBaseUrl:n=\"\"}={}}=i.getStoreConfigOrThrow();if(!t)throw new r;const o=this._paymentIntegrationService.createHostedForm(n,t);return o.attach().then(()=>(this._shouldRenderHostedForm=!0,this._hostedForm=o,Promise.resolve()))}deinitialize(){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve()}finalize(){return Promise.reject(new o)}_executeWithoutHostedForm(e,t){return d(this,void 0,void 0,function*(){const{payment:i}=e,n=c(e,[\"payment\"]),r=i&&i.paymentData;if(!i||!r)throw new a([\"payment.paymentData\"]);yield this._paymentIntegrationService.submitOrder(n,t),yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},i),{paymentData:r}))})}_executeWithHostedForm(e,t){return d(this,void 0,void 0,function*(){const{payment:n}=e,r=c(e,[\"payment\"]),o=this._hostedForm;if(!o)throw new s(i.PaymentNotInitialized);if(!n||!n.methodId)throw new a([\"payment.methodId\"]);yield this._paymentIntegrationService.submitOrder(r,t),yield o.validate().then(()=>o.submit(n))})}_isHostedPaymentFormEnabled(e,t){return!!e&&!0===this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}_isHostedFieldAvailable(i){return!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.values)(i&&i.creditCard&&i.creditCard.form.fields).every(lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)}}const h=(u=e=>new l(e),m=[{default:!0}],Object.assign(u,{resolveIds:m}));var u,m;\n//# sourceMappingURL=credit-card.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9jcmVkaXQtY2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkMsTUFBTSxzQkFBc0IsZUFBZSxNQUFNLHVUQUF1VCxrQkFBa0IsZUFBZSxpSEFBaUgsa0JBQWtCLGNBQWMsbUtBQW1LLGtCQUFrQixlQUFlLCtFQUErRSxTQUFTLEdBQUcseURBQXlELGFBQWEsc0RBQXNELGFBQWEseVNBQXlTLFNBQVMsR0FBRyxrQkFBa0IsZUFBZSxrQkFBa0IsVUFBVSx3SEFBd0gsc0hBQXNILHdIQUF3SCw2SEFBNkgsNEZBQTRGLGlGQUFpRix3QkFBd0IseUNBQXlDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGdFQUFnRSxLQUFLLGFBQWEsK0JBQStCLEVBQUUsaUJBQWlCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixVQUFVLFFBQVEsZUFBZSxrQ0FBa0MsYUFBYSxRQUFRLG1QQUFtUCxjQUFjLHNMQUFzTCx5RkFBeUYsaUJBQWlCLG1CQUFtQixJQUFJLDJCQUEyQixrQkFBa0IsOERBQThELG1HQUFtRyxlQUFlLHFFQUFxRSxXQUFXLDZCQUE2QiwrQkFBK0Isd0NBQXdDLE1BQU0sVUFBVSx5Q0FBeUMsK0NBQStDLHlJQUF5SSxLQUFLLGNBQWMsR0FBRyxFQUFFLDRCQUE0Qix3Q0FBd0MsTUFBTSxVQUFVLHlDQUF5QywyQ0FBMkMscURBQXFELGdHQUFnRyxFQUFFLGlDQUFpQyxtSEFBbUgsMkJBQTJCLE9BQU8sOENBQUMsa0RBQWtELHlDQUFDLEdBQUcsMkJBQTJCLFdBQVcsbUJBQW1CLGFBQWEsR0FBRyxRQUFxRDtBQUMzaUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi9jaGVja291dC1zZGstanMvZGlzdC9lc20vaW50ZWdyYXRpb25zL2NyZWRpdC1jYXJkLmpzPzZjOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2lzTmlsIGFzIGUsdmFsdWVzIGFzIHR9ZnJvbVwibG9kYXNoXCI7dmFyIGk7Y2xhc3MgbiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGV8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpLHRoaXMubmFtZT1cIlN0YW5kYXJkRXJyb3JcIix0aGlzLnR5cGU9XCJzdGFuZGFyZFwiLHQ9bmV3LnRhcmdldC5wcm90b3R5cGUsT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQpOnRoaXMuX19wcm90b19fPXQsXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxuZXcudGFyZ2V0KTp0aGlzLnN0YWNrPW5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrfX1jbGFzcyByIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIkludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC5cIiksdGhpcy5uYW1lPVwiSW52YWxpZEFyZ3VtZW50RXJyb3JcIix0aGlzLnR5cGU9XCJpbnZhbGlkX2FyZ3VtZW50XCJ9fWNsYXNzIG8gZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLlwiKSx0aGlzLm5hbWU9XCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3JcIix0aGlzLnR5cGU9XCJvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkXCJ9fWNsYXNzIGEgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe2xldCB0PVwiVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLlwiO2UmJih0PWAke3R9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2Uuam9pbihcIiwgXCIpfS5gKSxzdXBlcih0KSx0aGlzLm5hbWU9XCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3JcIn19IWZ1bmN0aW9uKGUpe2VbZS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkPTBdPVwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZFwiLGVbZS5DdXN0b21lck5vdEluaXRpYWxpemVkPTFdPVwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZFwiLGVbZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ9Ml09XCJQYXltZW50Tm90SW5pdGlhbGl6ZWRcIixlW2UuU2hpcHBpbmdOb3RJbml0aWFsaXplZD0zXT1cIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWRcIixlW2UuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZD00XT1cIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWRcIn0oaXx8KGk9e30pKTtjbGFzcyBzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBpLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIGkuUGF5bWVudE5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIGkuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2UgaS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIn19KGUpKSx0aGlzLnN1YnR5cGU9ZSx0aGlzLm5hbWU9XCJOb3RJbml0aWFsaXplZEVycm9yXCIsdGhpcy50eXBlPVwibm90X2luaXRpYWxpemVkXCJ9fXZhciBkPWZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKGZ1bmN0aW9uKHIsbyl7ZnVuY3Rpb24gYShlKXt0cnl7ZChuLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Qobi50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gZChlKXt2YXIgdDtlLmRvbmU/cihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkoZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKGEscyl9ZCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9LGM9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5pbmRleE9mKG4pPDAmJihpW25dPWVbbl0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyPG4ubGVuZ3RoO3IrKyl0LmluZGV4T2YobltyXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltyXSkmJihpW25bcl1dPWVbbltyXV0pfXJldHVybiBpfTtjbGFzcyBse2NvbnN0cnVjdG9yKGUpe3RoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9ZX1leGVjdXRlKGUsdCl7dmFyIGksbjtyZXR1cm4gdGhpcy5faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQobnVsbD09PShpPWUucGF5bWVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkubWV0aG9kSWQsbnVsbD09PShuPWUucGF5bWVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZ2F0ZXdheUlkKSYmdGhpcy5fc2hvdWxkUmVuZGVySG9zdGVkRm9ybT90aGlzLl9leGVjdXRlV2l0aEhvc3RlZEZvcm0oZSx0KTp0aGlzLl9leGVjdXRlV2l0aG91dEhvc3RlZEZvcm0oZSx0KX1pbml0aWFsaXplKGUpe2lmKCF0aGlzLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChudWxsPT1lP3ZvaWQgMDplLm1ldGhvZElkLG51bGw9PWU/dm9pZCAwOmUuZ2F0ZXdheUlkKXx8IXRoaXMuX2lzSG9zdGVkRmllbGRBdmFpbGFibGUoZSkpcmV0dXJuIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm09ITEsUHJvbWlzZS5yZXNvbHZlKCk7Y29uc3QgdD1lJiZlLmNyZWRpdENhcmQmJmUuY3JlZGl0Q2FyZC5mb3JtLGk9dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHtwYXltZW50U2V0dGluZ3M6e2JpZ3BheUJhc2VVcmw6bj1cIlwifT17fX09aS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtpZighdCl0aHJvdyBuZXcgcjtjb25zdCBvPXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlSG9zdGVkRm9ybShuLHQpO3JldHVybiBvLmF0dGFjaCgpLnRoZW4oKCk9Pih0aGlzLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtPSEwLHRoaXMuX2hvc3RlZEZvcm09byxQcm9taXNlLnJlc29sdmUoKSkpfWRlaW5pdGlhbGl6ZSgpe3JldHVybiB0aGlzLl9ob3N0ZWRGb3JtJiZ0aGlzLl9ob3N0ZWRGb3JtLmRldGFjaCgpLFByb21pc2UucmVzb2x2ZSgpfWZpbmFsaXplKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBvKX1fZXhlY3V0ZVdpdGhvdXRIb3N0ZWRGb3JtKGUsdCl7cmV0dXJuIGQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0e3BheW1lbnQ6aX09ZSxuPWMoZSxbXCJwYXltZW50XCJdKSxyPWkmJmkucGF5bWVudERhdGE7aWYoIWl8fCFyKXRocm93IG5ldyBhKFtcInBheW1lbnQucGF5bWVudERhdGFcIl0pO3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIobix0KSx5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYXltZW50RGF0YTpyfSkpfSl9X2V4ZWN1dGVXaXRoSG9zdGVkRm9ybShlLHQpe3JldHVybiBkKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHtwYXltZW50Om59PWUscj1jKGUsW1wicGF5bWVudFwiXSksbz10aGlzLl9ob3N0ZWRGb3JtO2lmKCFvKXRocm93IG5ldyBzKGkuUGF5bWVudE5vdEluaXRpYWxpemVkKTtpZighbnx8IW4ubWV0aG9kSWQpdGhyb3cgbmV3IGEoW1wicGF5bWVudC5tZXRob2RJZFwiXSk7eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihyLHQpLHlpZWxkIG8udmFsaWRhdGUoKS50aGVuKCgpPT5vLnN1Ym1pdChuKSl9KX1faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQoZSx0KXtyZXR1cm4hIWUmJiEwPT09dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldFBheW1lbnRNZXRob2RPclRocm93KGUsdCkuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWR9X2lzSG9zdGVkRmllbGRBdmFpbGFibGUoaSl7cmV0dXJuIXQoaSYmaS5jcmVkaXRDYXJkJiZpLmNyZWRpdENhcmQuZm9ybS5maWVsZHMpLmV2ZXJ5KGUpfX1jb25zdCBoPSh1PWU9Pm5ldyBsKGUpLG09W3tkZWZhdWx0OiEwfV0sT2JqZWN0LmFzc2lnbih1LHtyZXNvbHZlSWRzOm19KSk7dmFyIHUsbTtleHBvcnR7aCBhcyBjcmVhdGVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWRpdC1jYXJkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/credit-card.js\n\n}");

/***/ }),

/***/ "../checkout-sdk-js/dist/esm/integrations/td-bank.js":
/*!***********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/td-bank.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTDOnlineMartPaymentStrategy: () => (/* binding */ I)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nvar s,o;class a extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class d extends a{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class c extends d{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(s||(s={}));class u extends a{constructor(e){super(function(e){switch(e){case s.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case s.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case s.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case s.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case s.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case s.MissingCheckoutConfig:case s.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case s.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case s.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case s.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case s.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case s.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case s.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class l extends a{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function h(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function m(){const{navigator:e}=window;let t;return t=e.language?e.language:e.userLanguage,{color_depth:window.screen.colorDepth||24,java_enabled:\"function\"==typeof e.javaEnabled&&e.javaEnabled(),language:t,screen_height:window.screen.height,screen_width:window.screen.width,time_zone_offset:(new Date).getTimezoneOffset().toString()}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(o||(o={}));class p extends a{constructor(e){super(function(e){switch(e){case o.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case o.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case o.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case o.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}function g(e){return\"object\"==typeof e&&null!==e&&\"bigpayToken\"in e&&\"defaultInstrument\"in e&&\"provider\"in e&&\"trustedShippingAddress\"in e&&\"method\"in e&&\"type\"in e}var y;!function(e){e.CARD_NUMBER=\"card-number\",e.CVV=\"cvv\",e.EXPIRY=\"expiry\"}(y||(y={}));var b=function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}d((i=i.apply(e,t||[])).next())})};class f{constructor(e,t,n){this.paymentIntegrationService=e,this.tdOnlineMartScriptLoader=t,this.formPoster=n,this.tdInputs=[{id:\"ccNumber\",fieldType:y.CARD_NUMBER},{id:\"ccCvv\",fieldType:y.CVV},{id:\"ccExpiry\",fieldType:y.EXPIRY}]}initialize(e){return b(this,void 0,void 0,function*(){const{methodId:t}=e;if(!t)throw new d('Unable to initialize payment because \"options.methodId\" argument is not provided.');this.tdOnlineMartClient=yield this.loadTDOnlineMartJs(),this.mountHostedFields(t)})}execute(e,t){return b(this,void 0,void 0,function*(){const{payment:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,[\"payment\"]);if(!n)throw new c([\"payment\"]);if(!n.methodId)throw new u(s.MissingPaymentMethod);const r=yield this.getPaymentPayloadOrThrow(n);yield this.paymentIntegrationService.submitOrder(i,t);try{yield this.paymentIntegrationService.submitPayment(r)}catch(e){yield this.processWithAdditionalAction(e)}})}finalize(){return Promise.reject(new l)}deinitialize(){return this.tdOnlineMartClient=void 0,this.tdInputs.forEach(({inputElement:e})=>{null==e||e.unmount()}),Promise.resolve()}getPaymentPayloadOrThrow(e){return b(this,void 0,void 0,function*(){const{methodId:t,paymentData:n}=e,{shouldSaveInstrument:i=!1,shouldSetAsDefaultInstrument:r=!1}=h(n)?n:{},s={browser_info:m(),shouldSaveInstrument:i,shouldSetAsDefaultInstrument:r};if(h(n)&&Boolean(n.instrumentId)&&n.instrumentId){const e=!!this.paymentIntegrationService.getState().getCartOrThrow().lineItems.digitalItems.length,i=!this.isTrustedVaultingInstrument(n.instrumentId)||e;return{methodId:t,paymentData:Object.assign(Object.assign(Object.assign({},s),{instrumentId:n.instrumentId}),i?{nonce:n.instrumentId}:{})}}let o;try{o=yield this.getTokenOrThrow()}catch(e){this.throwTokenizationError(e)}return{methodId:t,paymentData:Object.assign(Object.assign({},s),{nonce:o})}})}mountHostedFields(e){const t=this.getHostedFieldsOptions(),n=this.getTDOnlineMartClientOrThrow();this.tdInputs.forEach(i=>{const r=`${e}-${i.id}`;document.getElementById(r)&&(i.inputElement=n.create(i.fieldType,t),i.inputElement.mount(`#${r}`))})}loadTDOnlineMartJs(){return b(this,void 0,void 0,function*(){return this.tdOnlineMartClient?this.tdOnlineMartClient:this.tdOnlineMartScriptLoader.load()})}getTokenOrThrow(){return new Promise((e,t)=>{this.getTDOnlineMartClientOrThrow().createToken(n=>{const{error:i,token:r}=n;if(i||!r)return t(i);e(r)})})}getTDOnlineMartClientOrThrow(){if(!this.tdOnlineMartClient)throw new p(o.PaymentNotInitialized);return this.tdOnlineMartClient}processWithAdditionalAction(e){return b(this,void 0,void 0,function*(){if(!function(e){return(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)&&(t=e.body,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(t)&&\"object\"==typeof t&&\"errors\"in t&&\"three_ds_result\"in t&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(t.errors)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(t.errors,{code:\"three_d_secure_required\"}));// removed by dead control flow\n var t; }(e))throw e;const{three_ds_result:t}=e.body,{acs_url:s,payer_auth_request:o,merchant_data:a}=t||{};if(!s||!o||!a)throw new c([\"formUrl\",\"threeDSSessionData\",\"creq\"]);return new Promise(e=>{this.formPoster.postForm(s,{threeDSSessionData:o,creq:a},e,\"_top\")})})}throwTokenizationError(e){if(!function(e){return\"object\"==typeof e&&null!==e&&\"field\"in e&&\"type\"in e&&\"message\"in e}(e))throw new u(s.MissingPaymentToken);throw new Error(e.message)}getHostedFieldsOptions(){return{style:{error:{color:\"#d14343\"}},classes:{error:\"form-input--error\"}}}isTrustedVaultingInstrument(e){const t=this.paymentIntegrationService.getState().getInstruments(),n=null==t?void 0:t.find(t=>g(t)&&t.bigpayToken===e);return!(g(n)&&!n.trustedShippingAddress)}}class M extends a{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class v{constructor(e,t=window){this.scriptLoader=e,this.tdOnlineMartWindow=t}load(){return e=this,t=void 0,i=function*(){if(this.tdOnlineMartWindow.customcheckout||(yield this.scriptLoader.loadScript(\"https://libs.na.bambora.com/customcheckout/1/customcheckout.js\")),!this.tdOnlineMartWindow.customcheckout)throw new M;return this.tdOnlineMartWindow.customcheckout()},new((n=void 0)||(n=Promise))(function(r,s){function o(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}d((i=i.apply(e,t||[])).next())});// removed by dead control flow\n var e, t, n, i; }}const I=(w=n=>new f(n,new v((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)()),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),O=[{id:\"tdonlinemart\"}],Object.assign(w,{resolveIds:O}));var w,O;\n//# sourceMappingURL=td-bank.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy90ZC1iYW5rLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtMLFFBQVEsc0JBQXNCLGVBQWUsTUFBTSx1VEFBdVQsa0JBQWtCLGVBQWUsaUhBQWlILGtCQUFrQixlQUFlLCtFQUErRSxTQUFTLEdBQUcseURBQXlELGFBQWEsc0RBQXNELGFBQWEsc3lCQUFzeUIsU0FBUyxHQUFHLGtCQUFrQixlQUFlLGtCQUFrQixVQUFVLG9HQUFvRywrRUFBK0UsK0ZBQStGLHVGQUF1Rix1RkFBdUYsNEhBQTRILGlGQUFpRixzR0FBc0cscUZBQXFGLGdIQUFnSCw2SEFBNkgsc0dBQXNHLDZFQUE2RSwyRUFBMkUsa0JBQWtCLGNBQWMsbUtBQW1LLGNBQWMsNE1BQTRNLGFBQWEsTUFBTSxZQUFZLFFBQVEsTUFBTSwrQ0FBK0MsbVBBQW1QLGFBQWEseVNBQXlTLFNBQVMsR0FBRyxrQkFBa0IsZUFBZSxrQkFBa0IsVUFBVSx3SEFBd0gsc0hBQXNILHdIQUF3SCw2SEFBNkgsNEZBQTRGLGlGQUFpRixjQUFjLHVKQUF1SixNQUFNLGFBQWEsMERBQTBELFNBQVMsR0FBRyx3QkFBd0IseUNBQXlDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGdFQUFnRSxLQUFLLGFBQWEsK0JBQStCLEdBQUcsUUFBUSxtQkFBbUIsbUdBQW1HLHNDQUFzQyxFQUFFLDJCQUEyQixFQUFFLGlDQUFpQyxFQUFFLGNBQWMsd0NBQXdDLE1BQU0sV0FBVyxHQUFHLHVHQUF1RyxrRkFBa0YsRUFBRSxhQUFhLHdDQUF3QyxNQUFNLFVBQVUsbUJBQW1CLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixTQUFTLGdCQUFnQiwrQkFBK0IsbURBQW1ELCtDQUErQyxzREFBc0QsSUFBSSxzREFBc0QsU0FBUywyQ0FBMkMsRUFBRSxXQUFXLDZCQUE2QixlQUFlLDhEQUE4RCxlQUFlLElBQUkscUJBQXFCLG9CQUFvQiw0QkFBNEIsd0NBQXdDLE1BQU0seUJBQXlCLElBQUksNERBQTRELFVBQVUsSUFBSSx3RUFBd0Usa0RBQWtELDBKQUEwSixPQUFPLG1FQUFtRSxLQUFLLDRCQUE0QixLQUFLLHFCQUFxQixHQUFHLEdBQUcsTUFBTSxJQUFJLCtCQUErQixTQUFTLCtCQUErQixPQUFPLHFEQUFxRCxLQUFLLFFBQVEsR0FBRyxFQUFFLHFCQUFxQiw0RUFBNEUsMEJBQTBCLFdBQVcsRUFBRSxHQUFHLEtBQUssRUFBRSw2RkFBNkYsRUFBRSxJQUFJLEVBQUUscUJBQXFCLHdDQUF3Qyw0RkFBNEYsRUFBRSxrQkFBa0IsMkJBQTJCLG9EQUFvRCxNQUFNLGdCQUFnQixHQUFHLHFCQUFxQixLQUFLLEVBQUUsRUFBRSwrQkFBK0IsaUVBQWlFLCtCQUErQiwrQkFBK0Isd0NBQXdDLGdCQUFnQixrRUFBa0UsZ0RBQUMsOERBQThELCtDQUFDLFlBQVksNENBQUMsV0FBVywrQkFBK0IsR0FBRztBQUFBLFFBQUssQ0FBQyxZQUFZLE1BQU0sa0JBQWtCLFNBQVMsK0NBQStDLE9BQU8sbUVBQW1FLHVCQUF1Qiw0QkFBNEIsNEJBQTRCLFdBQVcsRUFBRSxFQUFFLDBCQUEwQixnQkFBZ0IsMkVBQTJFLHVDQUF1QywyQkFBMkIseUJBQXlCLE9BQU8sT0FBTyxPQUFPLGlCQUFpQixVQUFVLDRCQUE0QiwrQkFBK0IsdUhBQXVILDBDQUEwQyxrQkFBa0IsZUFBZSwrTUFBK00sUUFBUSx3QkFBd0IsOENBQThDLE9BQU8scUNBQXFDLHNNQUFzTSxnREFBZ0QsNENBQTRDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGdFQUFnRSxLQUFLLGFBQWEsK0JBQStCLEVBQUU7QUFBQSxpQkFBVyxFQUFFLDRCQUE0QiwyRUFBQyxJQUFJLDBFQUFDLFFBQVEsa0JBQWtCLG1CQUFtQixhQUFhLEdBQUcsUUFBdUQ7QUFDOW5VIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy90ZC1iYW5rLmpzPzM2ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2NyZWF0ZUZvcm1Qb3N0ZXIgYXMgZX1mcm9tXCJAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXJcIjtpbXBvcnR7Z2V0U2NyaXB0TG9hZGVyIGFzIHR9ZnJvbVwiQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXJcIjtpbXBvcnR7aXNBcnJheSBhcyBuLGlzT2JqZWN0IGFzIGksc29tZSBhcyByfWZyb21cImxvZGFzaFwiO3ZhciBzLG87Y2xhc3MgYSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGV8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpLHRoaXMubmFtZT1cIlN0YW5kYXJkRXJyb3JcIix0aGlzLnR5cGU9XCJzdGFuZGFyZFwiLHQ9bmV3LnRhcmdldC5wcm90b3R5cGUsT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQpOnRoaXMuX19wcm90b19fPXQsXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxuZXcudGFyZ2V0KTp0aGlzLnN0YWNrPW5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrfX1jbGFzcyBkIGV4dGVuZHMgYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIkludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC5cIiksdGhpcy5uYW1lPVwiSW52YWxpZEFyZ3VtZW50RXJyb3JcIix0aGlzLnR5cGU9XCJpbnZhbGlkX2FyZ3VtZW50XCJ9fWNsYXNzIGMgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUpe2xldCB0PVwiVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLlwiO2UmJih0PWAke3R9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2Uuam9pbihcIiwgXCIpfS5gKSxzdXBlcih0KSx0aGlzLm5hbWU9XCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3JcIn19IWZ1bmN0aW9uKGUpe2VbZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M9MF09XCJNaXNzaW5nQmlsbGluZ0FkZHJlc3NcIixlW2UuTWlzc2luZ0NhcnQ9MV09XCJNaXNzaW5nQ2FydFwiLGVbZS5NaXNzaW5nQ2hlY2tvdXQ9Ml09XCJNaXNzaW5nQ2hlY2tvdXRcIixlW2UuTWlzc2luZ0NvbnNpZ25tZW50cz0zXT1cIk1pc3NpbmdDb25zaWdubWVudHNcIixlW2UuTWlzc2luZ0N1c3RvbWVyPTRdPVwiTWlzc2luZ0N1c3RvbWVyXCIsZVtlLk1pc3NpbmdDaGVja291dENvbmZpZz01XT1cIk1pc3NpbmdDaGVja291dENvbmZpZ1wiLGVbZS5NaXNzaW5nT3JkZXI9Nl09XCJNaXNzaW5nT3JkZXJcIixlW2UuTWlzc2luZ09yZGVyQ29uZmlnPTddPVwiTWlzc2luZ09yZGVyQ29uZmlnXCIsZVtlLk1pc3NpbmdPcmRlcklkPThdPVwiTWlzc2luZ09yZGVySWRcIixlW2UuTWlzc2luZ1BheW1lbnQ9OV09XCJNaXNzaW5nUGF5bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudElkPTEwXT1cIk1pc3NpbmdQYXltZW50SWRcIixlW2UuTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50PTExXT1cIk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudE1ldGhvZD0xMl09XCJNaXNzaW5nUGF5bWVudE1ldGhvZFwiLGVbZS5NaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsPTEzXT1cIk1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmxcIixlW2UuTWlzc2luZ1BheW1lbnRTdGF0dXM9MTRdPVwiTWlzc2luZ1BheW1lbnRTdGF0dXNcIixlW2UuTWlzc2luZ1BheW1lbnRUb2tlbj0xNV09XCJNaXNzaW5nUGF5bWVudFRva2VuXCIsZVtlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M9MTZdPVwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzc1wifShzfHwocz17fSkpO2NsYXNzIHUgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIHMuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHMuTWlzc2luZ0NhcnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHMuTWlzc2luZ0NvbnNpZ25tZW50czpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBzLk1pc3NpbmdDaGVja291dDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHMuTWlzc2luZ0N1c3RvbWVyOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugcy5NaXNzaW5nQ2hlY2tvdXRDb25maWc6Y2FzZSBzLk1pc3NpbmdPcmRlckNvbmZpZzpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugcy5NaXNzaW5nT3JkZXI6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBzLk1pc3NpbmdPcmRlcklkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC5cIjtjYXNlIHMuTWlzc2luZ1BheW1lbnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHMuTWlzc2luZ1BheW1lbnRUb2tlbjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy5cIjtjYXNlIHMuTWlzc2luZ1BheW1lbnRNZXRob2Q6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuXCI7Y2FzZSBzLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIn19KGUpKSx0aGlzLnN1YnR5cGU9ZSx0aGlzLm5hbWU9XCJNaXNzaW5nRGF0YUVycm9yXCIsdGhpcy50eXBlPVwibWlzc2luZ19kYXRhXCJ9fWNsYXNzIGwgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLlwiKSx0aGlzLm5hbWU9XCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3JcIix0aGlzLnR5cGU9XCJvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkXCJ9fWZ1bmN0aW9uIGgoZSl7cmV0dXJuIShcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fHZvaWQgMCE9PWUuc2hvdWxkU2F2ZUluc3RydW1lbnQmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5zaG91bGRTYXZlSW5zdHJ1bWVudHx8dm9pZCAwIT09ZS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50JiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCl9ZnVuY3Rpb24gbSgpe2NvbnN0e25hdmlnYXRvcjplfT13aW5kb3c7bGV0IHQ7cmV0dXJuIHQ9ZS5sYW5ndWFnZT9lLmxhbmd1YWdlOmUudXNlckxhbmd1YWdlLHtjb2xvcl9kZXB0aDp3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGh8fDI0LGphdmFfZW5hYmxlZDpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmphdmFFbmFibGVkJiZlLmphdmFFbmFibGVkKCksbGFuZ3VhZ2U6dCxzY3JlZW5faGVpZ2h0OndpbmRvdy5zY3JlZW4uaGVpZ2h0LHNjcmVlbl93aWR0aDp3aW5kb3cuc2NyZWVuLndpZHRoLHRpbWVfem9uZV9vZmZzZXQ6KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLnRvU3RyaW5nKCl9fSFmdW5jdGlvbihlKXtlW2UuQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZD0wXT1cIkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWRcIixlW2UuQ3VzdG9tZXJOb3RJbml0aWFsaXplZD0xXT1cIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWRcIixlW2UuUGF5bWVudE5vdEluaXRpYWxpemVkPTJdPVwiUGF5bWVudE5vdEluaXRpYWxpemVkXCIsZVtlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ9M109XCJTaGlwcGluZ05vdEluaXRpYWxpemVkXCIsZVtlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ9NF09XCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkXCJ9KG98fChvPXt9KSk7Y2xhc3MgcCBleHRlbmRzIGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2Ugby5DdXN0b21lck5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSBvLlBheW1lbnROb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSBvLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIG8uU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7ZGVmYXVsdDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCJ9fShlKSksdGhpcy5zdWJ0eXBlPWUsdGhpcy5uYW1lPVwiTm90SW5pdGlhbGl6ZWRFcnJvclwiLHRoaXMudHlwZT1cIm5vdF9pbml0aWFsaXplZFwifX1mdW5jdGlvbiBnKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmXCJiaWdwYXlUb2tlblwiaW4gZSYmXCJkZWZhdWx0SW5zdHJ1bWVudFwiaW4gZSYmXCJwcm92aWRlclwiaW4gZSYmXCJ0cnVzdGVkU2hpcHBpbmdBZGRyZXNzXCJpbiBlJiZcIm1ldGhvZFwiaW4gZSYmXCJ0eXBlXCJpbiBlfXZhciB5OyFmdW5jdGlvbihlKXtlLkNBUkRfTlVNQkVSPVwiY2FyZC1udW1iZXJcIixlLkNWVj1cImN2dlwiLGUuRVhQSVJZPVwiZXhwaXJ5XCJ9KHl8fCh5PXt9KSk7dmFyIGI9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24ocixzKXtmdW5jdGlvbiBvKGUpe3RyeXtkKGkubmV4dChlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gYShlKXt0cnl7ZChpLnRocm93KGUpKX1jYXRjaChlKXtzKGUpfX1mdW5jdGlvbiBkKGUpe3ZhciB0O2UuZG9uZT9yKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4obyxhKX1kKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgZntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlPWUsdGhpcy50ZE9ubGluZU1hcnRTY3JpcHRMb2FkZXI9dCx0aGlzLmZvcm1Qb3N0ZXI9bix0aGlzLnRkSW5wdXRzPVt7aWQ6XCJjY051bWJlclwiLGZpZWxkVHlwZTp5LkNBUkRfTlVNQkVSfSx7aWQ6XCJjY0N2dlwiLGZpZWxkVHlwZTp5LkNWVn0se2lkOlwiY2NFeHBpcnlcIixmaWVsZFR5cGU6eS5FWFBJUll9XX1pbml0aWFsaXplKGUpe3JldHVybiBiKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHttZXRob2RJZDp0fT1lO2lmKCF0KXRocm93IG5ldyBkKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3RoaXMudGRPbmxpbmVNYXJ0Q2xpZW50PXlpZWxkIHRoaXMubG9hZFRET25saW5lTWFydEpzKCksdGhpcy5tb3VudEhvc3RlZEZpZWxkcyh0KX0pfWV4ZWN1dGUoZSx0KXtyZXR1cm4gYih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7cGF5bWVudDpufT1lLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyPGkubGVuZ3RoO3IrKyl0LmluZGV4T2YoaVtyXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtyXSkmJihuW2lbcl1dPWVbaVtyXV0pfXJldHVybiBufShlLFtcInBheW1lbnRcIl0pO2lmKCFuKXRocm93IG5ldyBjKFtcInBheW1lbnRcIl0pO2lmKCFuLm1ldGhvZElkKXRocm93IG5ldyB1KHMuTWlzc2luZ1BheW1lbnRNZXRob2QpO2NvbnN0IHI9eWllbGQgdGhpcy5nZXRQYXltZW50UGF5bG9hZE9yVGhyb3cobik7eWllbGQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKGksdCk7dHJ5e3lpZWxkIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHIpfWNhdGNoKGUpe3lpZWxkIHRoaXMucHJvY2Vzc1dpdGhBZGRpdGlvbmFsQWN0aW9uKGUpfX0pfWZpbmFsaXplKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBsKX1kZWluaXRpYWxpemUoKXtyZXR1cm4gdGhpcy50ZE9ubGluZU1hcnRDbGllbnQ9dm9pZCAwLHRoaXMudGRJbnB1dHMuZm9yRWFjaCgoe2lucHV0RWxlbWVudDplfSk9PntudWxsPT1lfHxlLnVubW91bnQoKX0pLFByb21pc2UucmVzb2x2ZSgpfWdldFBheW1lbnRQYXlsb2FkT3JUaHJvdyhlKXtyZXR1cm4gYih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7bWV0aG9kSWQ6dCxwYXltZW50RGF0YTpufT1lLHtzaG91bGRTYXZlSW5zdHJ1bWVudDppPSExLHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6cj0hMX09aChuKT9uOnt9LHM9e2Jyb3dzZXJfaW5mbzptKCksc2hvdWxkU2F2ZUluc3RydW1lbnQ6aSxzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OnJ9O2lmKGgobikmJkJvb2xlYW4obi5pbnN0cnVtZW50SWQpJiZuLmluc3RydW1lbnRJZCl7Y29uc3QgZT0hIXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnRPclRocm93KCkubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5sZW5ndGgsaT0hdGhpcy5pc1RydXN0ZWRWYXVsdGluZ0luc3RydW1lbnQobi5pbnN0cnVtZW50SWQpfHxlO3JldHVybnttZXRob2RJZDp0LHBheW1lbnREYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMpLHtpbnN0cnVtZW50SWQ6bi5pbnN0cnVtZW50SWR9KSxpP3tub25jZTpuLmluc3RydW1lbnRJZH06e30pfX1sZXQgbzt0cnl7bz15aWVsZCB0aGlzLmdldFRva2VuT3JUaHJvdygpfWNhdGNoKGUpe3RoaXMudGhyb3dUb2tlbml6YXRpb25FcnJvcihlKX1yZXR1cm57bWV0aG9kSWQ6dCxwYXltZW50RGF0YTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse25vbmNlOm99KX19KX1tb3VudEhvc3RlZEZpZWxkcyhlKXtjb25zdCB0PXRoaXMuZ2V0SG9zdGVkRmllbGRzT3B0aW9ucygpLG49dGhpcy5nZXRURE9ubGluZU1hcnRDbGllbnRPclRocm93KCk7dGhpcy50ZElucHV0cy5mb3JFYWNoKGk9Pntjb25zdCByPWAke2V9LSR7aS5pZH1gO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpJiYoaS5pbnB1dEVsZW1lbnQ9bi5jcmVhdGUoaS5maWVsZFR5cGUsdCksaS5pbnB1dEVsZW1lbnQubW91bnQoYCMke3J9YCkpfSl9bG9hZFRET25saW5lTWFydEpzKCl7cmV0dXJuIGIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLnRkT25saW5lTWFydENsaWVudD90aGlzLnRkT25saW5lTWFydENsaWVudDp0aGlzLnRkT25saW5lTWFydFNjcmlwdExvYWRlci5sb2FkKCl9KX1nZXRUb2tlbk9yVGhyb3coKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9Pnt0aGlzLmdldFRET25saW5lTWFydENsaWVudE9yVGhyb3coKS5jcmVhdGVUb2tlbihuPT57Y29uc3R7ZXJyb3I6aSx0b2tlbjpyfT1uO2lmKGl8fCFyKXJldHVybiB0KGkpO2Uocil9KX0pfWdldFRET25saW5lTWFydENsaWVudE9yVGhyb3coKXtpZighdGhpcy50ZE9ubGluZU1hcnRDbGllbnQpdGhyb3cgbmV3IHAoby5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLnRkT25saW5lTWFydENsaWVudH1wcm9jZXNzV2l0aEFkZGl0aW9uYWxBY3Rpb24oZSl7cmV0dXJuIGIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm4oZT0+XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcImJvZHlcImluIGUpKGUpJiYodD1lLmJvZHksaSh0KSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZXJyb3JzXCJpbiB0JiZcInRocmVlX2RzX3Jlc3VsdFwiaW4gdCYmbih0LmVycm9ycykmJnIodC5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSkpO3ZhciB0fShlKSl0aHJvdyBlO2NvbnN0e3RocmVlX2RzX3Jlc3VsdDp0fT1lLmJvZHkse2Fjc191cmw6cyxwYXllcl9hdXRoX3JlcXVlc3Q6byxtZXJjaGFudF9kYXRhOmF9PXR8fHt9O2lmKCFzfHwhb3x8IWEpdGhyb3cgbmV3IGMoW1wiZm9ybVVybFwiLFwidGhyZWVEU1Nlc3Npb25EYXRhXCIsXCJjcmVxXCJdKTtyZXR1cm4gbmV3IFByb21pc2UoZT0+e3RoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybShzLHt0aHJlZURTU2Vzc2lvbkRhdGE6byxjcmVxOmF9LGUsXCJfdG9wXCIpfSl9KX10aHJvd1Rva2VuaXphdGlvbkVycm9yKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJlwiZmllbGRcImluIGUmJlwidHlwZVwiaW4gZSYmXCJtZXNzYWdlXCJpbiBlfShlKSl0aHJvdyBuZXcgdShzLk1pc3NpbmdQYXltZW50VG9rZW4pO3Rocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpfWdldEhvc3RlZEZpZWxkc09wdGlvbnMoKXtyZXR1cm57c3R5bGU6e2Vycm9yOntjb2xvcjpcIiNkMTQzNDNcIn19LGNsYXNzZXM6e2Vycm9yOlwiZm9ybS1pbnB1dC0tZXJyb3JcIn19fWlzVHJ1c3RlZFZhdWx0aW5nSW5zdHJ1bWVudChlKXtjb25zdCB0PXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEluc3RydW1lbnRzKCksbj1udWxsPT10P3ZvaWQgMDp0LmZpbmQodD0+Zyh0KSYmdC5iaWdwYXlUb2tlbj09PWUpO3JldHVybiEoZyhuKSYmIW4udHJ1c3RlZFNoaXBwaW5nQWRkcmVzcyl9fWNsYXNzIE0gZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuXCIpLHRoaXMubmFtZT1cIlBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yXCIsdGhpcy50eXBlPVwicGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlXCJ9fWNsYXNzIHZ7Y29uc3RydWN0b3IoZSx0PXdpbmRvdyl7dGhpcy5zY3JpcHRMb2FkZXI9ZSx0aGlzLnRkT25saW5lTWFydFdpbmRvdz10fWxvYWQoKXtyZXR1cm4gZT10aGlzLHQ9dm9pZCAwLGk9ZnVuY3Rpb24qKCl7aWYodGhpcy50ZE9ubGluZU1hcnRXaW5kb3cuY3VzdG9tY2hlY2tvdXR8fCh5aWVsZCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiaHR0cHM6Ly9saWJzLm5hLmJhbWJvcmEuY29tL2N1c3RvbWNoZWNrb3V0LzEvY3VzdG9tY2hlY2tvdXQuanNcIikpLCF0aGlzLnRkT25saW5lTWFydFdpbmRvdy5jdXN0b21jaGVja291dCl0aHJvdyBuZXcgTTtyZXR1cm4gdGhpcy50ZE9ubGluZU1hcnRXaW5kb3cuY3VzdG9tY2hlY2tvdXQoKX0sbmV3KChuPXZvaWQgMCl8fChuPVByb21pc2UpKShmdW5jdGlvbihyLHMpe2Z1bmN0aW9uIG8oZSl7dHJ5e2QoaS5uZXh0KGUpKX1jYXRjaChlKXtzKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtkKGkudGhyb3coZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ7ZS5kb25lP3IoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihvLGEpfWQoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pO3ZhciBlLHQsbixpfX1jb25zdCBJPSh3PW49Pm5ldyBmKG4sbmV3IHYodCgpKSxlKCkpLE89W3tpZDpcInRkb25saW5lbWFydFwifV0sT2JqZWN0LmFzc2lnbih3LHtyZXNvbHZlSWRzOk99KSk7dmFyIHcsTztleHBvcnR7SSBhcyBjcmVhdGVURE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3l9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGQtYmFuay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/td-bank.js\n\n}");

/***/ }),

/***/ "./packages/hosted-credit-card-integration/src/components/HostedCreditCardComponent.tsx":
/*!**********************************************************************************************!*\
  !*** ./packages/hosted-credit-card-integration/src/components/HostedCreditCardComponent.tsx ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_bluesnap_direct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/bluesnap-direct */ \"../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_checkoutcom_custom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/checkoutcom-custom */ \"../checkout-sdk-js/dist/esm/integrations/checkoutcom-custom.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_credit_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/credit-card */ \"../checkout-sdk-js/dist/esm/integrations/credit-card.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_td_bank__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/td-bank */ \"../checkout-sdk-js/dist/esm/integrations/td-bank.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _bigcommerce_checkout_credit_card_integration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/credit-card-integration */ \"./packages/credit-card-integration/src/CreditCardPaymentMethodContainer.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/creditCard/getCreditCardInputStyles/getCreditCardInputStyles.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/creditCard/CreditCardCustomerCodeField.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardCodeRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardNumberRequiredSelector.ts\");\n/* harmony import */ var _getHostedCreditCardValidationSchema__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./getHostedCreditCardValidationSchema */ \"./packages/hosted-credit-card-integration/src/components/getHostedCreditCardValidationSchema/getHostedCreditCardValidationSchema.ts\");\n/* harmony import */ var _getHostedInstrumentValidationSchema__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./getHostedInstrumentValidationSchema */ \"./packages/hosted-credit-card-integration/src/components/getHostedInstrumentValidationSchema/getHostedInstrumentValidationSchema.ts\");\n/* harmony import */ var _HostedCreditCardFieldset__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./HostedCreditCardFieldset */ \"./packages/hosted-credit-card-integration/src/components/HostedCreditCardFieldset/HostedCreditCardFieldset.tsx\");\n/* harmony import */ var _HostedCreditCardValidation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./HostedCreditCardValidation */ \"./packages/hosted-credit-card-integration/src/components/HostedCreditCardValidation/HostedCreditCardValidation.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst HostedCreditCardComponent = ({ method, checkoutService, checkoutState, paymentForm, language, onUnhandledError, initializePayment: initializePaymentProp, }) => {\n    const [focusedFieldType, setFocusedFieldType] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)();\n    const { setFieldTouched, setFieldValue, setSubmitted, submitForm } = paymentForm;\n    const isInstrumentCardCodeRequiredProp = (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(checkoutState);\n    const isInstrumentCardNumberRequiredProp = (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(checkoutState);\n    const { config: { cardCode, showCardHolderName }, } = method;\n    const isCardCodeRequired = cardCode || cardCode === null;\n    const isCardHolderNameRequired = showCardHolderName !== null && showCardHolderName !== void 0 ? showCardHolderName : true;\n    const getHostedFieldId = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((name) => {\n        return `${(0,lodash__WEBPACK_IMPORTED_MODULE_5__.compact)([method.gateway, method.id]).join('-')}-${name}`;\n    }, [method]);\n    const getHostedFormOptions = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((selectedInstrument) => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        const styleProps = ['color', 'fontFamily', 'fontSize', 'fontWeight'];\n        const isInstrumentCardNumberRequired = selectedInstrument\n            ? isInstrumentCardNumberRequiredProp(selectedInstrument, method)\n            : false;\n        const isInstrumentCardCodeRequired = selectedInstrument\n            ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n            : false;\n        let styleContainerId = '';\n        if (selectedInstrument) {\n            if (isInstrumentCardCodeRequired) {\n                styleContainerId = getHostedFieldId('ccCvv');\n            }\n            else if (isInstrumentCardNumberRequired) {\n                styleContainerId = getHostedFieldId('ccNumber');\n            }\n        }\n        else {\n            styleContainerId = getHostedFieldId('ccNumber');\n        }\n        return {\n            fields: selectedInstrument\n                ? {\n                    cardCodeVerification: isInstrumentCardCodeRequired\n                        ? {\n                            accessibilityLabel: language.translate('payment.credit_card_cvv_label'),\n                            containerId: getHostedFieldId('ccCvv'),\n                            instrumentId: selectedInstrument.bigpayToken,\n                        }\n                        : undefined,\n                    cardNumberVerification: isInstrumentCardNumberRequired\n                        ? {\n                            accessibilityLabel: language.translate('payment.credit_card_number_label'),\n                            containerId: getHostedFieldId('ccNumber'),\n                            instrumentId: selectedInstrument.bigpayToken,\n                        }\n                        : undefined,\n                }\n                : {\n                    cardCode: isCardCodeRequired\n                        ? {\n                            accessibilityLabel: language.translate('payment.credit_card_cvv_label'),\n                            containerId: getHostedFieldId('ccCvv'),\n                        }\n                        : undefined,\n                    cardExpiry: {\n                        accessibilityLabel: language.translate('payment.credit_card_expiration_label'),\n                        containerId: getHostedFieldId('ccExpiry'),\n                        placeholder: language.translate('payment.credit_card_expiration_placeholder_text'),\n                    },\n                    cardName: isCardHolderNameRequired\n                        ? {\n                            accessibilityLabel: language.translate('payment.credit_card_name_label'),\n                            containerId: getHostedFieldId('ccName'),\n                        }\n                        : undefined,\n                    cardNumber: {\n                        accessibilityLabel: language.translate('payment.credit_card_number_label'),\n                        containerId: getHostedFieldId('ccNumber'),\n                    },\n                },\n            styles: styleContainerId\n                ? {\n                    default: yield (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(styleContainerId, styleProps),\n                    error: yield (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(styleContainerId, styleProps, _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__.CreditCardInputStylesType.Error),\n                    focus: yield (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(styleContainerId, styleProps, _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_8__.CreditCardInputStylesType.Focus),\n                }\n                : {},\n            onBlur: ({ fieldType }) => {\n                if (focusedFieldType === fieldType) {\n                    setFocusedFieldType(undefined);\n                }\n            },\n            onCardTypeChange: ({ cardType }) => {\n                setFieldValue('hostedForm.cardType', cardType);\n            },\n            onEnter: () => {\n                setSubmitted(true);\n                submitForm();\n            },\n            onFocus: ({ fieldType }) => {\n                setFocusedFieldType(fieldType);\n            },\n            onValidate: ({ errors = {} }) => {\n                (0,lodash__WEBPACK_IMPORTED_MODULE_5__.forIn)(errors, (fieldErrors = [], fieldType) => {\n                    var _a, _b;\n                    const errorKey = `hostedForm.errors.${fieldType}`;\n                    setFieldValue(errorKey, (_b = (_a = fieldErrors[0]) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : '');\n                    if (fieldErrors[0]) {\n                        setFieldTouched(errorKey);\n                    }\n                });\n            },\n        };\n    }), [\n        focusedFieldType,\n        getHostedFieldId,\n        isCardCodeRequired,\n        isCardHolderNameRequired,\n        isInstrumentCardCodeRequiredProp,\n        isInstrumentCardNumberRequiredProp,\n        language,\n        method,\n        setFieldValue,\n        setFieldTouched,\n        setFocusedFieldType,\n        setSubmitted,\n        submitForm,\n    ]);\n    const hostedFieldset = (react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_HostedCreditCardFieldset__WEBPACK_IMPORTED_MODULE_14__[\"default\"], { additionalFields: method.config.requireCustomerCode && (react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { name: \"ccCustomerCode\" })), cardCodeId: isCardCodeRequired ? getHostedFieldId('ccCvv') : undefined, cardExpiryId: getHostedFieldId('ccExpiry'), cardNameId: isCardHolderNameRequired ? getHostedFieldId('ccName') : undefined, cardNumberId: getHostedFieldId('ccNumber'), focusedFieldType: focusedFieldType }));\n    const hostedValidationSchema = (0,_getHostedCreditCardValidationSchema__WEBPACK_IMPORTED_MODULE_12__[\"default\"])({ language });\n    const getHostedStoredCardValidationFieldset = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((selectedInstrument) => {\n        const isInstrumentCardNumberRequired = selectedInstrument\n            ? isInstrumentCardNumberRequiredProp(selectedInstrument, method)\n            : false;\n        const isInstrumentCardCodeRequired = selectedInstrument\n            ? isInstrumentCardCodeRequiredProp(selectedInstrument, method)\n            : false;\n        return (react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_HostedCreditCardValidation__WEBPACK_IMPORTED_MODULE_15__[\"default\"], { cardCodeId: isInstrumentCardCodeRequired ? getHostedFieldId('ccCvv') : undefined, cardNumberId: isInstrumentCardNumberRequired\n                ? getHostedFieldId('ccNumber')\n                : undefined, focusedFieldType: focusedFieldType }));\n    }, [\n        focusedFieldType,\n        getHostedFieldId,\n        isInstrumentCardCodeRequiredProp,\n        isInstrumentCardNumberRequiredProp,\n        method,\n    ]);\n    const initializePayment = initializePaymentProp !== null && initializePaymentProp !== void 0 ? initializePaymentProp : checkoutService.initializePayment;\n    const initializeHostedCreditCardPayment = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((options, selectedInstrument) => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        return initializePayment(Object.assign(Object.assign({}, options), { integrations: [\n                _bigcommerce_checkout_sdk_integrations_credit_card__WEBPACK_IMPORTED_MODULE_3__.createCreditCardPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_bluesnap_direct__WEBPACK_IMPORTED_MODULE_1__.createBlueSnapDirectCreditCardPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_td_bank__WEBPACK_IMPORTED_MODULE_4__.createTDOnlineMartPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_checkoutcom_custom__WEBPACK_IMPORTED_MODULE_2__.createCheckoutComCreditCardPaymentStrategy,\n            ], creditCard: {\n                form: yield getHostedFormOptions(selectedInstrument),\n                bigpayToken: selectedInstrument === null || selectedInstrument === void 0 ? void 0 : selectedInstrument.bigpayToken,\n            } }));\n    }), [getHostedFormOptions, initializePayment]);\n    const hostedStoredCardValidationSchema = (0,_getHostedInstrumentValidationSchema__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({ language });\n    const props = {\n        checkoutService,\n        checkoutState,\n        paymentForm,\n        language,\n        method,\n        onUnhandledError,\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_bigcommerce_checkout_credit_card_integration__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, props, { cardFieldset: hostedFieldset, cardValidationSchema: hostedValidationSchema, deinitializePayment: checkoutService.deinitializePayment, getHostedFormOptions: getHostedFormOptions, getStoredCardValidationFieldset: getHostedStoredCardValidationFieldset, initializePayment: initializeHostedCreditCardPayment, storedCardValidationSchema: hostedStoredCardValidationSchema })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HostedCreditCardComponent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtY3JlZGl0LWNhcmQtaW50ZWdyYXRpb24vc3JjL2NvbXBvbmVudHMvSG9zdGVkQ3JlZGl0Q2FyZENvbXBvbmVudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdUg7QUFDQTtBQUNsQjtBQUNGO0FBQzNEO0FBQ3FEO0FBS3RDO0FBT1A7QUFHNEM7QUFDQTtBQUN0QjtBQUNJO0FBTTFFLE1BQU0seUJBQXlCLEdBQXNELENBQUMsRUFDbEYsTUFBTSxFQUNOLGVBQWUsRUFDZixhQUFhLEVBQ2IsV0FBVyxFQUNYLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsaUJBQWlCLEVBQUUscUJBQXFCLEdBQzNDLEVBQUUsRUFBRTtJQUNELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLCtDQUFRLEVBQVUsQ0FBQztJQUVuRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEdBQUcsV0FBVyxDQUFDO0lBQ2pGLE1BQU0sZ0NBQWdDLEdBQUcsbUZBQW9DLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDN0YsTUFBTSxrQ0FBa0MsR0FDcEMsbUZBQXNDLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUQsTUFBTSxFQUNGLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxrQkFBa0IsRUFBRSxHQUMzQyxHQUFHLE1BQU0sQ0FBQztJQUNYLE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxJQUFJLFFBQVEsS0FBSyxJQUFJLENBQUM7SUFDekQsTUFBTSx3QkFBd0IsR0FBRyxrQkFBa0IsYUFBbEIsa0JBQWtCLGNBQWxCLGtCQUFrQixHQUFJLElBQUksQ0FBQztJQUU1RCxNQUFNLGdCQUFnQixHQUE2QixrREFBVyxDQUMxRCxDQUFDLElBQUksRUFBRSxFQUFFO1FBQ0wsT0FBTyxHQUFHLCtDQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMs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LFdBQVc7YUFDL0MsSUFDSCxDQUFDO0lBQ1AsQ0FBQyxHQUNELENBQUMsb0JBQW9CLEVBQUUsaUJBQWlCLENBQUMsQ0FDNUMsQ0FBQztJQUVOLE1BQU0sZ0NBQWdDLEdBQUcsaUZBQW1DLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBRTNGLE1BQU0sS0FBSyxHQUFHO1FBQ1YsZUFBZTtRQUNmLGFBQWE7UUFDYixXQUFXO1FBQ1gsUUFBUTtRQUNSLE1BQU07UUFDTixnQkFBZ0I7S0FDbkIsQ0FBQztJQUVGLE9BQU8sQ0FDSCwyREFBQyxxRkFBZ0Msb0JBQ3pCLEtBQUssSUFDVCxZQUFZLEVBQUUsY0FBYyxFQUM1QixvQkFBb0IsRUFBRSxzQkFBc0IsRUFDNUMsbUJBQW1CLEVBQUUsZUFBZSxDQUFDLG1CQUFtQixFQUN4RCxvQkFBb0IsRUFBRSxvQkFBb0IsRUFDMUMsK0JBQStCLEVBQUUscUNBQXFDLEVBQ3RFLGlCQUFpQixFQUFFLGlDQUFpQyxFQUNwRCwwQkFBMEIsRUFBRSxnQ0FBZ0MsSUFDOUQsQ0FDTCxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsaUVBQWUseUJBQXlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2hvc3RlZC1jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbi9zcmMvY29tcG9uZW50cy9Ib3N0ZWRDcmVkaXRDYXJkQ29tcG9uZW50LnRzeD9iNTA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgdHlwZSBDYXJkSW5zdHJ1bWVudCxcbiAgICB0eXBlIENoZWNrb3V0U2VydmljZSxcbiAgICB0eXBlIExlZ2FjeUhvc3RlZEZvcm1PcHRpb25zLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrJztcbmltcG9ydCB7IGNyZWF0ZUJsdWVTbmFwRGlyZWN0Q3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL2JsdWVzbmFwLWRpcmVjdCc7XG5pbXBvcnQgeyBjcmVhdGVDaGVja291dENvbUNyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2ludGVncmF0aW9ucy9jaGVja291dGNvbS1jdXN0b20nO1xuaW1wb3J0IHsgY3JlYXRlQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL2NyZWRpdC1jYXJkJztcbmltcG9ydCB7IGNyZWF0ZVRET25saW5lTWFydFBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL3RkLWJhbmsnO1xuaW1wb3J0IHsgY29tcGFjdCwgZm9ySW4gfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHR5cGUgUmVhY3ROb2RlLCB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgQ3JlZGl0Q2FyZFBheW1lbnRNZXRob2RDb21wb25lbnQsXG4gICAgdHlwZSBDcmVkaXRDYXJkUGF5bWVudE1ldGhvZFByb3BzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvY3JlZGl0LWNhcmQtaW50ZWdyYXRpb24nO1xuaW1wb3J0IHtcbiAgICBDcmVkaXRDYXJkQ3VzdG9tZXJDb2RlRmllbGQsXG4gICAgQ3JlZGl0Q2FyZElucHV0U3R5bGVzVHlwZSxcbiAgICBnZXRDcmVkaXRDYXJkSW5wdXRTdHlsZXMsXG4gICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFNlbGVjdG9yLFxuICAgIGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFNlbGVjdG9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQgeyB0eXBlIFBheW1lbnRNZXRob2RQcm9wcyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IGdldEhvc3RlZENyZWRpdENhcmRWYWxpZGF0aW9uU2NoZW1hIH0gZnJvbSAnLi9nZXRIb3N0ZWRDcmVkaXRDYXJkVmFsaWRhdGlvblNjaGVtYSc7XG5pbXBvcnQgeyBnZXRIb3N0ZWRJbnN0cnVtZW50VmFsaWRhdGlvblNjaGVtYSB9IGZyb20gJy4vZ2V0SG9zdGVkSW5zdHJ1bWVudFZhbGlkYXRpb25TY2hlbWEnO1xuaW1wb3J0IHsgSG9zdGVkQ3JlZGl0Q2FyZEZpZWxkc2V0IH0gZnJvbSAnLi9Ib3N0ZWRDcmVkaXRDYXJkRmllbGRzZXQnO1xuaW1wb3J0IHsgSG9zdGVkQ3JlZGl0Q2FyZFZhbGlkYXRpb24gfSBmcm9tICcuL0hvc3RlZENyZWRpdENhcmRWYWxpZGF0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBIb3N0ZWRDcmVkaXRDYXJkQ29tcG9uZW50UHJvcHMgZXh0ZW5kcyBQYXltZW50TWV0aG9kUHJvcHMge1xuICAgIGluaXRpYWxpemVQYXltZW50PzogQ2hlY2tvdXRTZXJ2aWNlWydpbml0aWFsaXplUGF5bWVudCddO1xufVxuXG5jb25zdCBIb3N0ZWRDcmVkaXRDYXJkQ29tcG9uZW50OiBGdW5jdGlvbkNvbXBvbmVudDxIb3N0ZWRDcmVkaXRDYXJkQ29tcG9uZW50UHJvcHM+ID0gKHtcbiAgICBtZXRob2QsXG4gICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgIGNoZWNrb3V0U3RhdGUsXG4gICAgcGF5bWVudEZvcm0sXG4gICAgbGFuZ3VhZ2UsXG4gICAgb25VbmhhbmRsZWRFcnJvcixcbiAgICBpbml0aWFsaXplUGF5bWVudDogaW5pdGlhbGl6ZVBheW1lbnRQcm9wLFxufSkgPT4ge1xuICAgIGNvbnN0IFtmb2N1c2VkRmllbGRUeXBlLCBzZXRGb2N1c2VkRmllbGRUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oKTtcblxuICAgIGNvbnN0IHsgc2V0RmllbGRUb3VjaGVkLCBzZXRGaWVsZFZhbHVlLCBzZXRTdWJtaXR0ZWQsIHN1Ym1pdEZvcm0gfSA9IHBheW1lbnRGb3JtO1xuICAgIGNvbnN0IGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWRQcm9wID0gaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFNlbGVjdG9yKGNoZWNrb3V0U3RhdGUpO1xuICAgIGNvbnN0IGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFByb3AgPVxuICAgICAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRTZWxlY3RvcihjaGVja291dFN0YXRlKTtcbiAgICBjb25zdCB7XG4gICAgICAgIGNvbmZpZzogeyBjYXJkQ29kZSwgc2hvd0NhcmRIb2xkZXJOYW1lIH0sXG4gICAgfSA9IG1ldGhvZDtcbiAgICBjb25zdCBpc0NhcmRDb2RlUmVxdWlyZWQgPSBjYXJkQ29kZSB8fCBjYXJkQ29kZSA9PT0gbnVsbDtcbiAgICBjb25zdCBpc0NhcmRIb2xkZXJOYW1lUmVxdWlyZWQgPSBzaG93Q2FyZEhvbGRlck5hbWUgPz8gdHJ1ZTtcblxuICAgIGNvbnN0IGdldEhvc3RlZEZpZWxkSWQ6IChuYW1lOiBzdHJpbmcpID0+IHN0cmluZyA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAobmFtZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGAke2NvbXBhY3QoW21ldGhvZC5nYXRld2F5LCBtZXRob2QuaWRdKS5qb2luKCctJyl9LSR7bmFtZX1gO1xuICAgICAgICB9LFxuICAgICAgICBbbWV0aG9kXSxcbiAgICApO1xuXG4gICAgY29uc3QgZ2V0SG9zdGVkRm9ybU9wdGlvbnM6IChcbiAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50PzogQ2FyZEluc3RydW1lbnQsXG4gICAgKSA9PiBQcm9taXNlPExlZ2FjeUhvc3RlZEZvcm1PcHRpb25zPiA9IHVzZUNhbGxiYWNrKFxuICAgICAgICBhc3luYyAoc2VsZWN0ZWRJbnN0cnVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZVByb3BzID0gWydjb2xvcicsICdmb250RmFtaWx5JywgJ2ZvbnRTaXplJywgJ2ZvbnRXZWlnaHQnXTtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZCA9IHNlbGVjdGVkSW5zdHJ1bWVudFxuICAgICAgICAgICAgICAgID8gaXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkUHJvcChzZWxlY3RlZEluc3RydW1lbnQsIG1ldGhvZClcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZCA9IHNlbGVjdGVkSW5zdHJ1bWVudFxuICAgICAgICAgICAgICAgID8gaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFByb3Aoc2VsZWN0ZWRJbnN0cnVtZW50LCBtZXRob2QpXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzdHlsZUNvbnRhaW5lcklkID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEluc3RydW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZUNvbnRhaW5lcklkID0gZ2V0SG9zdGVkRmllbGRJZCgnY2NDdnYnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZUNvbnRhaW5lcklkID0gZ2V0SG9zdGVkRmllbGRJZCgnY2NOdW1iZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlQ29udGFpbmVySWQgPSBnZXRIb3N0ZWRGaWVsZElkKCdjY051bWJlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpZWxkczogc2VsZWN0ZWRJbnN0cnVtZW50XG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ29kZVZlcmlmaWNhdGlvbjogaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGF5bWVudC5jcmVkaXRfY2FyZF9jdnZfbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkOiBnZXRIb3N0ZWRGaWVsZElkKCdjY0N2dicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkOiBzZWxlY3RlZEluc3RydW1lbnQuYmlncGF5VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyVmVyaWZpY2F0aW9uOiBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnQuY3JlZGl0X2NhcmRfbnVtYmVyX2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJZDogZ2V0SG9zdGVkRmllbGRJZCgnY2NOdW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZDogc2VsZWN0ZWRJbnN0cnVtZW50LmJpZ3BheVRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ29kZTogaXNDYXJkQ29kZVJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXltZW50LmNyZWRpdF9jYXJkX2N2dl9sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySWQ6IGdldEhvc3RlZEZpZWxkSWQoJ2NjQ3Z2JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRXhwaXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGF5bWVudC5jcmVkaXRfY2FyZF9leHBpcmF0aW9uX2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJZDogZ2V0SG9zdGVkRmllbGRJZCgnY2NFeHBpcnknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBsYW5ndWFnZS50cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnQuY3JlZGl0X2NhcmRfZXhwaXJhdGlvbl9wbGFjZWhvbGRlcl90ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROYW1lOiBpc0NhcmRIb2xkZXJOYW1lUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnQuY3JlZGl0X2NhcmRfbmFtZV9sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySWQ6IGdldEhvc3RlZEZpZWxkSWQoJ2NjTmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZE51bWJlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnQuY3JlZGl0X2NhcmRfbnVtYmVyX2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJZDogZ2V0SG9zdGVkRmllbGRJZCgnY2NOdW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0eWxlczogc3R5bGVDb250YWluZXJJZFxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYXdhaXQgZ2V0Q3JlZGl0Q2FyZElucHV0U3R5bGVzKHN0eWxlQ29udGFpbmVySWQsIHN0eWxlUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogYXdhaXQgZ2V0Q3JlZGl0Q2FyZElucHV0U3R5bGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVkaXRDYXJkSW5wdXRTdHlsZXNUeXBlLkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogYXdhaXQgZ2V0Q3JlZGl0Q2FyZElucHV0U3R5bGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVkaXRDYXJkSW5wdXRTdHlsZXNUeXBlLkZvY3VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICAgICAgICBvbkJsdXI6ICh7IGZpZWxkVHlwZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkRmllbGRUeXBlID09PSBmaWVsZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZvY3VzZWRGaWVsZFR5cGUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DYXJkVHlwZUNoYW5nZTogKHsgY2FyZFR5cGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdob3N0ZWRGb3JtLmNhcmRUeXBlJywgY2FyZFR5cGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdWJtaXR0ZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRm9jdXM6ICh7IGZpZWxkVHlwZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEZvY3VzZWRGaWVsZFR5cGUoZmllbGRUeXBlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmFsaWRhdGU6ICh7IGVycm9ycyA9IHt9IH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ySW4oZXJyb3JzLCAoZmllbGRFcnJvcnMgPSBbXSwgZmllbGRUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvcktleSA9IGBob3N0ZWRGb3JtLmVycm9ycy4ke2ZpZWxkVHlwZX1gO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWVsZFZhbHVlKGVycm9yS2V5LCBmaWVsZEVycm9yc1swXT8udHlwZSA/PyAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZEVycm9yc1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpZWxkVG91Y2hlZChlcnJvcktleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgICBmb2N1c2VkRmllbGRUeXBlLFxuICAgICAgICAgICAgZ2V0SG9zdGVkRmllbGRJZCxcbiAgICAgICAgICAgIGlzQ2FyZENvZGVSZXF1aXJlZCxcbiAgICAgICAgICAgIGlzQ2FyZEhvbGRlck5hbWVSZXF1aXJlZCxcbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWRQcm9wLFxuICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkUHJvcCxcbiAgICAgICAgICAgIGxhbmd1YWdlLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgc2V0RmllbGRWYWx1ZSxcbiAgICAgICAgICAgIHNldEZpZWxkVG91Y2hlZCxcbiAgICAgICAgICAgIHNldEZvY3VzZWRGaWVsZFR5cGUsXG4gICAgICAgICAgICBzZXRTdWJtaXR0ZWQsXG4gICAgICAgICAgICBzdWJtaXRGb3JtLFxuICAgICAgICBdLFxuICAgICk7XG5cbiAgICBjb25zdCBob3N0ZWRGaWVsZHNldCA9IChcbiAgICAgICAgPEhvc3RlZENyZWRpdENhcmRGaWVsZHNldFxuICAgICAgICAgICAgYWRkaXRpb25hbEZpZWxkcz17XG4gICAgICAgICAgICAgICAgbWV0aG9kLmNvbmZpZy5yZXF1aXJlQ3VzdG9tZXJDb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPENyZWRpdENhcmRDdXN0b21lckNvZGVGaWVsZCBuYW1lPVwiY2NDdXN0b21lckNvZGVcIiAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhcmRDb2RlSWQ9e2lzQ2FyZENvZGVSZXF1aXJlZCA/IGdldEhvc3RlZEZpZWxkSWQoJ2NjQ3Z2JykgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICBjYXJkRXhwaXJ5SWQ9e2dldEhvc3RlZEZpZWxkSWQoJ2NjRXhwaXJ5Jyl9XG4gICAgICAgICAgICBjYXJkTmFtZUlkPXtpc0NhcmRIb2xkZXJOYW1lUmVxdWlyZWQgPyBnZXRIb3N0ZWRGaWVsZElkKCdjY05hbWUnKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIGNhcmROdW1iZXJJZD17Z2V0SG9zdGVkRmllbGRJZCgnY2NOdW1iZXInKX1cbiAgICAgICAgICAgIGZvY3VzZWRGaWVsZFR5cGU9e2ZvY3VzZWRGaWVsZFR5cGV9XG4gICAgICAgIC8+XG4gICAgKTtcbiAgICBjb25zdCBob3N0ZWRWYWxpZGF0aW9uU2NoZW1hID0gZ2V0SG9zdGVkQ3JlZGl0Q2FyZFZhbGlkYXRpb25TY2hlbWEoeyBsYW5ndWFnZSB9KTtcblxuICAgIGNvbnN0IGdldEhvc3RlZFN0b3JlZENhcmRWYWxpZGF0aW9uRmllbGRzZXQ6IChzZWxlY3RlZEluc3RydW1lbnQ6IENhcmRJbnN0cnVtZW50KSA9PiBSZWFjdE5vZGUgPVxuICAgICAgICB1c2VDYWxsYmFjayhcbiAgICAgICAgICAgIChzZWxlY3RlZEluc3RydW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWQgPSBzZWxlY3RlZEluc3RydW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRQcm9wKHNlbGVjdGVkSW5zdHJ1bWVudCwgbWV0aG9kKVxuICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWQgPSBzZWxlY3RlZEluc3RydW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyBpc0luc3RydW1lbnRDYXJkQ29kZVJlcXVpcmVkUHJvcChzZWxlY3RlZEluc3RydW1lbnQsIG1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxIb3N0ZWRDcmVkaXRDYXJkVmFsaWRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZENvZGVJZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZCA/IGdldEhvc3RlZEZpZWxkSWQoJ2NjQ3Z2JykgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXJJZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0SG9zdGVkRmllbGRJZCgnY2NOdW1iZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZEZpZWxkVHlwZT17Zm9jdXNlZEZpZWxkVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRmllbGRUeXBlLFxuICAgICAgICAgICAgICAgIGdldEhvc3RlZEZpZWxkSWQsXG4gICAgICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFByb3AsXG4gICAgICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkUHJvcCxcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBdLFxuICAgICAgICApO1xuXG4gICAgY29uc3QgaW5pdGlhbGl6ZVBheW1lbnQgPSBpbml0aWFsaXplUGF5bWVudFByb3AgPz8gY2hlY2tvdXRTZXJ2aWNlLmluaXRpYWxpemVQYXltZW50O1xuXG4gICAgY29uc3QgaW5pdGlhbGl6ZUhvc3RlZENyZWRpdENhcmRQYXltZW50OiBDcmVkaXRDYXJkUGF5bWVudE1ldGhvZFByb3BzWydpbml0aWFsaXplUGF5bWVudCddID1cbiAgICAgICAgdXNlQ2FsbGJhY2soXG4gICAgICAgICAgICBhc3luYyAob3B0aW9ucywgc2VsZWN0ZWRJbnN0cnVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVERPbmxpbmVNYXJ0UGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ2hlY2tvdXRDb21DcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBjcmVkaXRDYXJkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtOiBhd2FpdCBnZXRIb3N0ZWRGb3JtT3B0aW9ucyhzZWxlY3RlZEluc3RydW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlncGF5VG9rZW46IHNlbGVjdGVkSW5zdHJ1bWVudD8uYmlncGF5VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW2dldEhvc3RlZEZvcm1PcHRpb25zLCBpbml0aWFsaXplUGF5bWVudF0sXG4gICAgICAgICk7XG5cbiAgICBjb25zdCBob3N0ZWRTdG9yZWRDYXJkVmFsaWRhdGlvblNjaGVtYSA9IGdldEhvc3RlZEluc3RydW1lbnRWYWxpZGF0aW9uU2NoZW1hKHsgbGFuZ3VhZ2UgfSk7XG5cbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgICAgICBjaGVja291dFN0YXRlLFxuICAgICAgICBwYXltZW50Rm9ybSxcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgb25VbmhhbmRsZWRFcnJvcixcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENyZWRpdENhcmRQYXltZW50TWV0aG9kQ29tcG9uZW50XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBjYXJkRmllbGRzZXQ9e2hvc3RlZEZpZWxkc2V0fVxuICAgICAgICAgICAgY2FyZFZhbGlkYXRpb25TY2hlbWE9e2hvc3RlZFZhbGlkYXRpb25TY2hlbWF9XG4gICAgICAgICAgICBkZWluaXRpYWxpemVQYXltZW50PXtjaGVja291dFNlcnZpY2UuZGVpbml0aWFsaXplUGF5bWVudH1cbiAgICAgICAgICAgIGdldEhvc3RlZEZvcm1PcHRpb25zPXtnZXRIb3N0ZWRGb3JtT3B0aW9uc31cbiAgICAgICAgICAgIGdldFN0b3JlZENhcmRWYWxpZGF0aW9uRmllbGRzZXQ9e2dldEhvc3RlZFN0b3JlZENhcmRWYWxpZGF0aW9uRmllbGRzZXR9XG4gICAgICAgICAgICBpbml0aWFsaXplUGF5bWVudD17aW5pdGlhbGl6ZUhvc3RlZENyZWRpdENhcmRQYXltZW50fVxuICAgICAgICAgICAgc3RvcmVkQ2FyZFZhbGlkYXRpb25TY2hlbWE9e2hvc3RlZFN0b3JlZENhcmRWYWxpZGF0aW9uU2NoZW1hfVxuICAgICAgICAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIb3N0ZWRDcmVkaXRDYXJkQ29tcG9uZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/hosted-credit-card-integration/src/components/HostedCreditCardComponent.tsx\n\n}");

/***/ })

}]);