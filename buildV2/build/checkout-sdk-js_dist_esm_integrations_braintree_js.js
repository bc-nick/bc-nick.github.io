"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_braintree_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/braintree.js":
/*!*************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/braintree.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBraintreeAchPaymentStrategy: () => (/* binding */ Ae),\n/* harmony export */   createBraintreeCreditCardPaymentStrategy: () => (/* binding */ pt),\n/* harmony export */   createBraintreeFastlaneCustomerStrategy: () => (/* binding */ pe),\n/* harmony export */   createBraintreeFastlanePaymentStrategy: () => (/* binding */ tt),\n/* harmony export */   createBraintreeLocalMethodsPaymentStrategy: () => (/* binding */ Xe),\n/* harmony export */   createBraintreePaypalButtonStrategy: () => (/* binding */ Ct),\n/* harmony export */   createBraintreePaypalCreditButtonStrategy: () => (/* binding */ It),\n/* harmony export */   createBraintreePaypalCreditCustomerStrategy: () => (/* binding */ Z),\n/* harmony export */   createBraintreePaypalCustomerStrategy: () => (/* binding */ K),\n/* harmony export */   createBraintreePaypalPaymentStrategy: () => (/* binding */ je),\n/* harmony export */   createBraintreeVenmoButtonStrategy: () => (/* binding */ Mt),\n/* harmony export */   createBraintreeVenmoPaymentStrategy: () => (/* binding */ st),\n/* harmony export */   createBraintreeVisaCheckoutButtonStrategy: () => (/* binding */ Et),\n/* harmony export */   createBraintreeVisaCheckoutCustomerStrategy: () => (/* binding */ Ce),\n/* harmony export */   createBraintreeVisaCheckoutPaymentStrategy: () => (/* binding */ rt)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _braintree_browser_detection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @braintree/browser-detection */ \"../checkout-sdk-js/node_modules/@braintree/browser-detection/dist/browser-detection.js\");\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\nvar h={};function y(e,t,i=!0){var n;return null!==(n=e[t])&&void 0!==n?n:i}h.d=(e,t)=>{for(var i in t)h.o(t,i)&&!h.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},h.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const m=\"3.128.0\",p=\"3.123.2\",g=\"3.106.0\";class v{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(y(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?m:y(t,\"PAYPAL-5636.update_braintree_sdk_version\")?p:g)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const t=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(Object.values(e),e=>!!e.VERSION);return null==t?void 0:t.VERSION}}}class f extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class b extends f{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}class w extends f{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class C extends w{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class S extends f{constructor(e,t){super(t||\"Unable to proceed because the payment form contains invalid data.\"),this.details=e,this.name=\"PaymentInvalidFormError\",this.type=\"payment_invalid_form\"}}var P;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(P||(P={}));class I extends f{constructor(e){super(function(e){switch(e){case P.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case P.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case P.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case P.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}class O extends f{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class k{constructor(e){const t=new Promise((e,t)=>{this.cancel=t});this.promise=Promise.race([e,t])}}let E=null;const T=[\"buttons\",\"messages\"];var A,z,N,D,M,_,B,x,F;function L(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}!function(e){e.HORIZONTAL=\"horizontal\",e.VERTICAL=\"vertical\"}(A||(A={})),function(e){e.SMALL=\"small\",e.MEDIUM=\"medium\",e.LARGE=\"large\",e.RESPONSIVE=\"responsive\"}(z||(z={})),function(e){e.GOLD=\"gold\",e.BLUE=\"blue\",e.SIlVER=\"silver\",e.BLACK=\"black\",e.WHITE=\"white\"}(N||(N={})),function(e){e.CHECKOUT=\"checkout\",e.PAY=\"pay\",e.BUYNOW=\"buynow\",e.PAYPAL=\"paypal\",e.CREDIT=\"credit\"}(D||(D={})),function(e){e.PILL=\"pill\",e.RECT=\"rect\"}(M||(M={})),function(e){e.CART=\"cart\",e.HOME=\"homepage\",e.PAYMENT=\"payment\",e.PRODUCT=\"product\"}(_||(_={})),function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(B||(B={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(x||(x={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(F||(F={}));var V=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class j{constructor(e,t,i){this.braintreeScriptLoader=e,this.braintreeHostWindow=t,this.overlay=i,this.dataCollectors={}}initialize(e,t){this.clientToken=e,this.threeDSecureOptions=t}getBraintreeFastlane(e,t,i){return V(this,void 0,void 0,function*(){if(t&&(window.localStorage.setItem(\"axoEnv\",\"sandbox\"),window.localStorage.setItem(\"fastlaneEnv\",\"sandbox\")),!this.braintreeHostWindow.braintreeFastlane){const t=this.getClientTokenOrThrow(),n=yield this.getClient(),r=yield this.getSessionId(e),o=yield this.braintreeScriptLoader.loadFastlane(),a={root:{backgroundColorPrimary:\"transparent\"}};this.braintreeHostWindow.braintreeFastlane=yield o.create({authorization:t,client:n,deviceData:r,styles:i||a})}return this.braintreeHostWindow.braintreeFastlane})}getClient(){return V(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=t.create({authorization:e})}return this.client})}getPaypal(){return this.braintreePaypal||(this.braintreePaypal=Promise.all([this.getClient(),this.braintreeScriptLoader.loadPaypal()]).then(([e,t])=>t.create({client:e}))),this.braintreePaypal}paypal(e){var{shouldSaveInstrument:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"shouldSaveInstrument\"]);const n=(0,_braintree_browser_detection__WEBPACK_IMPORTED_MODULE_3__.supportsPopups)();return this.getPaypal().then(e=>{var r;return n&&(null===(r=this.overlay)||void 0===r||r.show({onClick:()=>e.focusWindow()})),e.tokenize(Object.assign({enableShippingAddress:!0,flow:t?\"vault\":\"checkout\",useraction:\"commit\"},i))}).then(e=>{var t;return null===(t=this.overlay)||void 0===t||t.remove(),e}).catch(e=>{var t;throw null===(t=this.overlay)||void 0===t||t.remove(),e})}getPaypalCheckout(e,t,i){return V(this,void 0,void 0,function*(){const n=yield this.getClient(),r=yield this.braintreeScriptLoader.loadPaypalCheckout(),o={client:n};return this.paypalCheckout=yield r.create(o,(n,r)=>{var o;if(n)return i(n);const a=Object.assign(Object.assign({currency:e.currency},e.isCreditEnabled&&{\"enable-funding\":\"paylater\"}),{components:T.toString(),intent:e.intent,commit:null===(o=e.commit)||void 0===o||o});this.braintreeHostWindow.paypal?t(r):function(e,t){return E||(E=new Promise((i,n)=>{e.loadPayPalSDK(t,t=>{t?(E=null,n(t)):i(e)})})),E}(r,a).then(()=>t(r))}),this.paypalCheckout})}getDataCollector(e){return V(this,void 0,void 0,function*(){const t=(null==e?void 0:e.paypal)?\"paypal\":\"default\";let i=this.dataCollectors[t];if(!i){try{const t=yield this.getClient(),n=yield this.braintreeScriptLoader.loadDataCollector(),r=Object.assign({client:t,kount:!0},e);i=yield n.create(r)}catch(e){if(!L(e)||\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"!==e.code)throw e;i={deviceData:void 0,teardown:()=>Promise.resolve()}}this.dataCollectors[t]=i}return i})}getBraintreeEnv(e=!1){return e?B.Sandbox:B.Production}mapToBraintreeShippingAddressOverride(e){return{recipientName:`${e.firstName} ${e.lastName}`,line1:e.address1,line2:e.address2,city:e.city,state:e.stateOrProvinceCode,postalCode:e.postalCode,countryCode:e.countryCode,phone:e.phone}}mapToLegacyShippingAddress(e){const{email:t,phone:i,shippingAddress:n}=e,r=(null==n?void 0:n.recipientName)||\"\",[o,a]=r.split(\" \");return{email:t,first_name:o||\"\",last_name:a||\"\",phone_number:i,address_line_1:null==n?void 0:n.line1,address_line_2:null==n?void 0:n.line2,city:null==n?void 0:n.city,state:null==n?void 0:n.state,country_code:null==n?void 0:n.countryCode,postal_code:null==n?void 0:n.postalCode}}mapToLegacyBillingAddress(e){const{billingAddress:t,email:i,firstName:n,lastName:r,phone:o,shippingAddress:a}=e,s=t||a;return{email:i,first_name:n,last_name:r,phone_number:o,address_line_1:null==s?void 0:s.line1,address_line_2:null==s?void 0:s.line2,city:null==s?void 0:s.city,state:null==s?void 0:s.state,country_code:null==s?void 0:s.countryCode,postal_code:null==s?void 0:s.postalCode}}removeElement(e){const t=e&&document.getElementById(e);t&&t.remove()}getSessionId(e){return V(this,void 0,void 0,function*(){const{deviceData:t}=yield this.getDataCollector({riskCorrelationId:e});return t})}teardown(){return V(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollectors.default),yield this.teardownModule(this.dataCollectors.paypal),this.dataCollectors={},yield this.teardownModule(this.paypalCheckout),this.paypalCheckout=void 0})}get3DS(){return V(this,void 0,void 0,function*(){return this.threeDS||(this.threeDS=Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]).then(([e,t])=>t.create({client:e,version:2}))),this.threeDS})}getVenmoCheckout(e){return V(this,void 0,void 0,function*(){if(!this.venmoCheckout){const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadVenmoCheckout(),n=Object.assign({client:t,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},e||{});this.venmoCheckout=yield new Promise((e,t)=>{i.create(n,(i,n)=>i?t(i):n.isBrowserSupported()?void e(n):t(new b))})}return this.venmoCheckout})}verifyCard(e,t,i){return V(this,void 0,void 0,function*(){const n=yield this.tokenizeCard(e,t);return this.challenge3DSVerification(n,i)})}tokenizeCard(e,t){return V(this,void 0,void 0,function*(){const{paymentData:i}=e;if(!function(e){if(\"object\"!=typeof e||null===e)return!1;const t=e;return\"object\"==typeof t.ccExpiry&&null!==t.ccExpiry&&\"string\"==typeof t.ccNumber&&\"string\"==typeof t.ccName}(i))throw new C([\"payment.paymentData\"]);const r=this.getErrorsRequiredFields(i);if(!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(r))throw new S(r);const o=this.mapToCreditCard(i,t),a=yield this.getClient(),{creditCards:s}=yield a.request(o);return{nonce:s[0].nonce,bin:s[0].details.bin}})}challenge3DSVerification(e,t){return V(this,void 0,void 0,function*(){const i=yield this.get3DS();return this.present3DSChallenge(i,t,e)})}teardownModule(e){return e?e.teardown():Promise.resolve()}getClientTokenOrThrow(){if(!this.clientToken)throw new I(P.PaymentNotInitialized);return this.clientToken}getErrorsRequiredFields(e){const{ccNumber:t,ccExpiry:i}=e,n={};return t||(n.ccNumber=[{message:\"Credit card number is required\",type:\"required\"}]),i||(n.ccExpiry=[{message:\"Expiration date is required\",type:\"required\"}]),n}mapToCreditCard(e,t){return{data:{creditCard:{cardholderName:e.ccName,number:e.ccNumber,cvv:e.ccCvv,expirationDate:`${e.ccExpiry.month}/${e.ccExpiry.year}`,options:{validate:!1},billingAddress:t&&{countryCodeAlpha2:t.countryCode,locality:t.city,countryName:t.country,postalCode:t.postalCode,streetAddress:t.address2?`${t.address1} ${t.address2}`:t.address1}}},endpoint:\"payment_methods/credit_cards\",method:\"post\"}}present3DSChallenge(e,t,i){const{nonce:n,bin:r}=i;if(!this.threeDSecureOptions||!n)throw new I(P.PaymentNotInitialized);const{addFrame:o,removeFrame:a,challengeRequested:s=!0,additionalInformation:d}=this.threeDSecureOptions,l=()=>V(this,void 0,void 0,function*(){const t=yield e.cancelVerifyCard();return u.cancel(new O),t}),c=t.toFixed(2),u=new k(e.verifyCard({addFrame:(e,t)=>{o&&o(e,t,l)},amount:Number(c),bin:r,challengeRequested:s,nonce:n,removeFrame:a,onLookupComplete:(e,t)=>{t()},collectDeviceData:!0,additionalInformation:d}));return u.promise}}class U extends f{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}const R={[g]:{[x.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[x.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[x.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[x.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[x.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[x.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[x.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[x.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[x.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[x.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[x.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[x.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[p]:{[x.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[x.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[x.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[x.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[x.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[x.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[x.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[x.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[x.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[x.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[x.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[x.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[m]:{[x.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[x.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[x.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[x.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[x.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[x.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[x.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[x.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[x.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[x.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[x.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[x.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var H,W=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class q{constructor(e,t,i){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=i}loadClient(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.Client,\"client.min.js\")})}loadFastlane(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.GooglePayment,\"google-payment.min.js\")})}load3DS(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(x.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(x.Venmo,\"venmo.min.js\")}loadHostedFields(){return W(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(x.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return W(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new U;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return W(this,void 0,void 0,function*(){let i=this.getBraintreeModule(e);if(i)return i;const n=this.braintreeSDKVersionManager.getSDKVersion(),r=`//js.braintreegateway.com/web/${n}/js/${t}`,o=n in R?this.getIntegrityValuesByModuleName(e,n):void 0;if(yield this.scriptLoader.loadScript(r,o?{async:!0,attributes:{integrity:o,crossorigin:\"anonymous\"}}:void 0),i=this.getBraintreeModule(e),!i)throw new U;return i})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const i=R[t][e];if(!i)throw new Error(\"Unexpected fileName value\");return i}}function $(e,t){return Object.assign(e,{resolveIds:t})}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(H||(H={}));class G extends f{constructor(e){super(function(e){switch(e){case H.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case H.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case H.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case H.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case H.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case H.MissingCheckoutConfig:case H.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case H.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case H.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case H.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case H.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case H.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case H.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}var Y=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class J{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return Y(this,void 0,void 0,function*(){const{braintreepaypal:t,methodId:i}=e,{container:n,onError:r}=t||{};if(!i)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new w('Unable to initialize payment because \"options.braintreepaypal\" argument is not provided.');if(!n)throw new w('Unable to initialize payment because \"options.braintreepaypal.container\" argument is not provided.');let o,a=this.paymentIntegrationService.getState();try{if(o=a.getPaymentMethodOrThrow(i),!o.clientToken)throw new G(H.MissingPaymentToken)}catch(e){a=yield this.paymentIntegrationService.loadPaymentMethod(i),o=a.getPaymentMethodOrThrow(i)}const{clientToken:s,config:d,initializationData:l}=o,{paymentButtonStyles:c}=l||{},{checkoutTopButtonStyles:u}=c||{};if(!s||!l)throw new G(H.MissingPaymentMethod);const h={currency:a.getCartOrThrow().currency.code,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{this.renderPayPalButton(e,t,i,Boolean(d.testMode),u)},e=>this.handleError(e,n,r))})}deinitialize(){return Y(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}signIn(e,t){return Y(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return Y(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}renderPayPalButton(e,t,i,n,r){const{container:o,onClick:s=lodash__WEBPACK_IMPORTED_MODULE_2__.noop}=t,{paypal:d}=this.braintreeHostWindow,l=null==d?void 0:d.FUNDING.PAYPAL;if(d&&l){const a=d.Buttons({env:this.braintreeIntegrationService.getBraintreeEnv(n),fundingSource:l,style:Object.assign(Object.assign({},r),{height:40}),createOrder:()=>this.setupPayment(e,t,i),onApprove:n=>this.tokenizePayment(n,e,i,t),onClick:s});a.isEligible()&&a.render(`#${o}`)}else this.braintreeIntegrationService.removeElement(o)}setupPayment(e,t,i){var n;return Y(this,void 0,void 0,function*(){try{yield this.paymentIntegrationService.loadDefaultCheckout();const t=this.paymentIntegrationService.getState(),r=t.getCheckoutOrThrow().outstandingBalance,o=t.getCartOrThrow().currency.code,a=t.getCustomer(),s=t.getPaymentMethodOrThrow(i),d=null==a?void 0:a.addresses[0],l=d?this.braintreeIntegrationService.mapToBraintreeShippingAddressOverride(d):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:l,amount:r,currency:o,offerCredit:!1,intent:null===(n=s.initializationData)||void 0===n?void 0:n.intent})}catch(e){const{container:i,onError:n}=t;this.handleError(e,i,n)}})}tokenizePayment(e,t,i,n){return Y(this,void 0,void 0,function*(){try{const{deviceData:n}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),r=yield t.tokenizePayment(e),{details:o,nonce:a}=r,s=this.braintreeIntegrationService.mapToLegacyBillingAddress(o),d=this.braintreeIntegrationService.mapToLegacyShippingAddress(o);return this.formPoster.postForm(\"/checkout.php\",{payment_type:\"paypal\",provider:i,action:\"set_external_checkout\",nonce:a,device_data:n,billing_address:JSON.stringify(s),shipping_address:JSON.stringify(d)}),r}catch(e){const{container:t,onError:i}=n;this.handleError(e,t,i)}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!L(e))throw e;i(e)}}const K=$(i=>{const n=window,r=new v(i),o=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r),n);return new J(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o,n)},[{id:\"braintreepaypal\"}]);var X=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Q{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return X(this,void 0,void 0,function*(){const{braintreepaypalcredit:t,methodId:i}=e,{container:n,onError:r}=t||{};if(!i)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new w('Unable to initialize payment because \"options.braintreepaypalcredit\" argument is not provided.');if(!n)throw new w('Unable to initialize payment because \"options.braintreepaypalcredit.container\" argument is not provided.');let o,a=this.paymentIntegrationService.getState();try{if(o=a.getPaymentMethodOrThrow(i),!o.clientToken)throw new G(H.MissingPaymentToken)}catch(e){a=yield this.paymentIntegrationService.loadPaymentMethod(i),o=a.getPaymentMethodOrThrow(i)}const{clientToken:s,config:d,initializationData:l}=o,{paymentButtonStyles:c}=l||{},{checkoutTopButtonStyles:u}=c||{};if(!s||!l)throw new G(H.MissingPaymentMethod);const h={currency:a.getCartOrThrow().currency.code,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{this.renderPayPalButton(e,t,i,Boolean(d.testMode),Object.assign(Object.assign({},u),{height:40}))},e=>this.handleError(e,n,r))})}deinitialize(){return X(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}signIn(e,t){return X(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return X(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}renderPayPalButton(e,t,i,n,r){const{container:o,onClick:s=lodash__WEBPACK_IMPORTED_MODULE_2__.noop}=t,{paypal:d}=this.braintreeHostWindow;let l=!1;d&&[d.FUNDING.PAYLATER,d.FUNDING.CREDIT].forEach(a=>{if(!l){const c=d.Buttons({env:n?\"sandbox\":\"production\",fundingSource:a,style:r,createOrder:()=>this.setupPayment(e,t,i),onApprove:n=>this.tokenizePayment(n,e,i,t),onClick:s});c.isEligible()&&(c.render(`#${o}`),l=!0)}}),d&&l||this.braintreeIntegrationService.removeElement(o)}setupPayment(e,t,i){var n;return X(this,void 0,void 0,function*(){try{yield this.paymentIntegrationService.loadDefaultCheckout();const t=this.paymentIntegrationService.getState(),r=t.getCheckoutOrThrow().outstandingBalance,o=t.getCartOrThrow().currency.code,a=t.getCustomer(),s=t.getPaymentMethodOrThrow(i),d=null==a?void 0:a.addresses[0],l=d?this.braintreeIntegrationService.mapToBraintreeShippingAddressOverride(d):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:l,amount:r,currency:o,offerCredit:!0,intent:null===(n=s.initializationData)||void 0===n?void 0:n.intent})}catch(e){const{container:i,onError:n}=t;this.handleError(e,i,n)}})}tokenizePayment(e,t,i,n){return X(this,void 0,void 0,function*(){try{const{deviceData:n}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),r=yield t.tokenizePayment(e),{details:o,nonce:a}=r,s=this.braintreeIntegrationService.mapToLegacyBillingAddress(o),d=this.braintreeIntegrationService.mapToLegacyShippingAddress(o);return this.formPoster.postForm(\"/checkout.php\",{payment_type:\"paypal\",provider:i,action:\"set_external_checkout\",nonce:a,device_data:n,billing_address:JSON.stringify(s),shipping_address:JSON.stringify(d)}),r}catch(e){const{container:t,onError:i}=n;this.handleError(e,t,i)}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!L(e))throw e;i(e)}}const Z=$(i=>{const n=window,r=new v(i),o=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r),n);return new Q(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o,n)},[{id:\"braintreepaypalcredit\"}]);function ee(e){return\"string\"!=typeof e}function te(e,t){if(t||e)return function(e){var t,i;const n={},r=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(e.root,ee),o=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(e.input,ee),a=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(e.toggle,ee),s=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(null===(t=e.text)||void 0===t?void 0:t.body,ee),l=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(null===(i=e.text)||void 0===i?void 0:i.caption,ee),c=e.branding;return Object.keys(r).length&&(n.root=r),Object.keys(o).length&&(n.input=o),Object.keys(a).length&&(n.toggle=a),Object.keys(s).length&&(n.text={},n.text.body=s),Object.keys(l).length&&(n.text=Object.assign({},n.text),n.text.caption=l),c&&(n.branding=c),n}(function(e,t){var i,n,r,o,a,s,d,l,c,u,h,y,m,p,g,v,f,b,w,C,S,P;return{root:{backgroundColorPrimary:(null==e?void 0:e.fastlaneRootSettingsBackgroundColor)||(null===(i=null==t?void 0:t.root)||void 0===i?void 0:i.backgroundColorPrimary),errorColor:(null==e?void 0:e.fastlaneRootSettingsErrorColor)||(null===(n=null==t?void 0:t.root)||void 0===n?void 0:n.errorColor),fontFamily:(null==e?void 0:e.fastlaneRootSettingsFontFamily)||(null===(r=null==t?void 0:t.root)||void 0===r?void 0:r.fontFamily),fontSizeBase:(null==e?void 0:e.fastlaneRootSettingsFontSize)||(null===(o=null==t?void 0:t.root)||void 0===o?void 0:o.fontSizeBase),padding:(null==e?void 0:e.fastlaneRootSettingsPadding)||(null===(a=null==t?void 0:t.root)||void 0===a?void 0:a.padding),primaryColor:(null==e?void 0:e.fastlaneRootSettingsPrimaryColor)||(null===(s=null==t?void 0:t.root)||void 0===s?void 0:s.primaryColor)},input:{borderRadius:(null==e?void 0:e.fastlaneInputSettingsBorderRadius)||(null===(d=null==t?void 0:t.input)||void 0===d?void 0:d.borderRadius),borderColor:(null==e?void 0:e.fastlaneInputSettingsBorderColor)||(null===(l=null==t?void 0:t.input)||void 0===l?void 0:l.borderColor),focusBorderColor:(null==e?void 0:e.fastlaneInputSettingsFocusBorderBase)||(null===(c=null==t?void 0:t.input)||void 0===c?void 0:c.focusBorderColor),backgroundColor:(null==e?void 0:e.fastlaneInputSettingsBackgroundColor)||(null===(u=null==t?void 0:t.input)||void 0===u?void 0:u.backgroundColor),borderWidth:(null==e?void 0:e.fastlaneInputSettingsBorderWidth)||(null===(h=null==t?void 0:t.input)||void 0===h?void 0:h.borderWidth),textColorBase:(null==e?void 0:e.fastlaneInputSettingsTextColorBase)||(null===(y=null==t?void 0:t.input)||void 0===y?void 0:y.textColorBase)},toggle:{colorPrimary:(null==e?void 0:e.fastlaneToggleSettingsColorPrimary)||(null===(m=null==t?void 0:t.toggle)||void 0===m?void 0:m.colorPrimary),colorSecondary:(null==e?void 0:e.fastlaneToggleSettingsColorSecondary)||(null===(p=null==t?void 0:t.toggle)||void 0===p?void 0:p.colorSecondary)},text:{body:{color:(null==e?void 0:e.fastlaneTextBodySettingsColor)||(null===(v=null===(g=null==t?void 0:t.text)||void 0===g?void 0:g.body)||void 0===v?void 0:v.color),fontSize:(null==e?void 0:e.fastlaneTextBodySettingsFontSize)||(null===(b=null===(f=null==t?void 0:t.text)||void 0===f?void 0:f.body)||void 0===b?void 0:b.fontSize)},caption:{color:(null==e?void 0:e.fastlaneTextCaptionSettingsColor)||(null===(C=null===(w=null==t?void 0:t.text)||void 0===w?void 0:w.caption)||void 0===C?void 0:C.color),fontSize:(null==e?void 0:e.fastlaneTextCaptionSettingsFontSize)||(null===(P=null===(S=null==t?void 0:t.text)||void 0===S?void 0:S.caption)||void 0===P?void 0:P.fontSize)}},branding:(null==e?void 0:e.fastlaneBrandingSettings)||(null==t?void 0:t.branding)}}(e,t))}var ie,ne,re,oe,ae,se,de,le,ce=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class ue{constructor(e,t){this.paymentIntegrationService=e,this.braintreeFastlaneUtils=t,this.isAcceleratedCheckoutEnabled=!1}initialize({methodId:e,braintreefastlane:t}){var i;return ce(this,void 0,void 0,function*(){if(!e)throw new w('Unable to proceed because \"methodId\" argument is not provided.');const n=yield this.getValidPaymentMethodOrThrow(e),{isAcceleratedCheckoutEnabled:r,isFastlaneStylingEnabled:o}=n.initializationData||{},a=o?null===(i=n.initializationData)||void 0===i?void 0:i.fastlaneStyles:void 0;this.isAcceleratedCheckoutEnabled=!!r;try{if(this.isAcceleratedCheckoutEnabled){const e=te(a,null==t?void 0:t.styles);yield this.braintreeFastlaneUtils.initializeBraintreeFastlaneOrThrow(n.id,e)}}catch(e){}return Promise.resolve()})}deinitialize(){return ce(this,void 0,void 0,function*(){return Promise.resolve()})}signIn(e,t){return ce(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signInCustomer(e,t)})}signOut(e){return ce(this,void 0,void 0,function*(){yield this.paymentIntegrationService.signOutCustomer(e)})}executePaymentMethodCheckout(e){return ce(this,void 0,void 0,function*(){const{checkoutPaymentMethodExecuted:t,continueWithCheckoutCallback:i}=e||{};if(\"function\"!=typeof i)throw new w('Unable to proceed because \"continueWithCheckoutCallback\" argument is not provided and it must be a function.');const n=this.paymentIntegrationService.getState().getCustomerOrThrow();if(this.isAcceleratedCheckoutEnabled&&n.isGuest){const e=yield this.shouldRunAuthenticationFlow();t&&\"function\"==typeof t&&t(),e&&(yield this.braintreeFastlaneUtils.runPayPalAuthenticationFlowOrThrow(void 0,!0))}i()})}shouldRunAuthenticationFlow(){var e;return ce(this,void 0,void 0,function*(){const t=\"braintreeacceleratedcheckout\";try{yield this.paymentIntegrationService.loadPaymentMethod(t);const i=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t);return(null===(e=i.initializationData)||void 0===e?void 0:e.shouldRunAcceleratedCheckout)||!1}catch(e){return!1}})}getValidPaymentMethodOrThrow(e){return ce(this,void 0,void 0,function*(){let t=e;try{yield this.paymentIntegrationService.loadPaymentMethod(t)}catch(i){t=\"braintree\"===e?\"braintreeacceleratedcheckout\":\"braintree\",yield this.paymentIntegrationService.loadPaymentMethod(t)}return this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t)})}}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(ie||(ie={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(ne||(ne={})),function(e){e.TRUSTLY=\"trustly\"}(re||(re={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(oe||(oe={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(ae||(ae={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(se||(se={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(de||(de={})),function(e){e.CVV=\"cvv\",e.PAN=\"pan\"}(le||(le={}));class he{static get(e){const t=`${encodeURIComponent(`${e}`)}=`,i=document.cookie;let n=null;const r=i.indexOf(t);if(r>-1){let e=i.indexOf(\";\",r);-1===e&&(e=i.length),n=decodeURIComponent(i.substring(r+t.length,e))}return n}static set(e,t,i={secure:!0}){let n=`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;const{expires:r,path:o,domain:a,secure:s}=i;if(r)n+=`; expires=${r.toUTCString()}`;else{const e=new Date,t=60;e.setTime(e.getTime()+60*t*1e3),n+=`; expires=${e.toUTCString()}`}o&&(n+=`; path=${o}`),a&&(n+=`; domain=${a}`),s&&(n+=\"; secure\"),document.cookie=n}static remove(e,t){he.set(e,\"\",Object.assign({expires:new Date(0)},t))}}var ye=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class me{constructor(e,t){this.paymentIntegrationService=e,this.braintreeIntegrationService=t}getDeviceSessionId(){return ye(this,void 0,void 0,function*(){const e=this.paymentIntegrationService.getState().getCart();return this.braintreeIntegrationService.getSessionId(null==e?void 0:e.id)})}initializeBraintreeFastlaneOrThrow(e,t){return ye(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=i.getCart(),{clientToken:r,config:o}=i.getPaymentMethodOrThrow(e);if(!r)throw new G(H.MissingPaymentMethod);this.methodId=e,this.braintreeIntegrationService.initialize(r),this.braintreeFastlane=yield this.braintreeIntegrationService.getBraintreeFastlane(null==n?void 0:n.id,o.testMode,t)})}getBraintreeFastlaneOrThrow(){if(!this.braintreeFastlane)throw new U;return this.braintreeFastlane}getBraintreeFastlaneComponentOrThrow(){return this.getBraintreeFastlaneOrThrow().FastlaneCardComponent}runPayPalAuthenticationFlowOrThrow(e,t){var i;return ye(this,void 0,void 0,function*(){try{const n=this.getMethodIdOrThrow(),r=this.getBraintreeFastlaneOrThrow(),{lookupCustomerByEmail:o,triggerAuthenticationFlow:a}=r.identity,s=this.paymentIntegrationService.getState(),d=s.getCartOrThrow(),l=s.getCustomer(),c=s.getBillingAddress(),{isFastlaneShippingOptionAutoSelectEnabled:u}=s.getPaymentMethodOrThrow(n).initializationData||{},h=e||(null==l?void 0:l.email)||(null==c?void 0:c.email)||\"\",{customerContextId:y}=yield o(h);if(!y)return yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:oe.UNRECOGNIZED,addresses:[],instruments:[]}),void this.saveSessionIdToCookies(d.id);const{authenticationState:m,profileData:p}=yield a(y),g=(null===(i=null==p?void 0:p.shippingAddress)||void 0===i?void 0:i.phoneNumber)||\"\";if(m===oe.CANCELED)return yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:m,addresses:[],instruments:[]}),void this.removeSessionIdFromCookies();const v=this.mapPayPalToBcAddress([p.shippingAddress],[g])||[],f=this.getPayPalBillingAddresses(p),b=f?this.mapPayPalToBcAddress([f],[g]):[],w=p.card?this.mapPayPalToBcInstrument(n,[p.card]):[],C=this.mergeShippingAndBillingAddresses(v,b);if(this.saveSessionIdToCookies(d.id),yield this.paymentIntegrationService.updatePaymentProviderCustomer({authenticationState:m,addresses:C,instruments:w}),b.length>0&&d.lineItems.physicalItems.length>0&&(yield this.paymentIntegrationService.updateBillingAddress(b[0])),b.length>0&&d.lineItems.digitalItems.length>0&&0===d.lineItems.physicalItems.length){const{firstName:e,lastName:t}=C[0],i=Object.assign(Object.assign({},b[0]),{firstName:e,lastName:t});yield this.paymentIntegrationService.updateBillingAddress(i)}v.length>0&&d.lineItems.physicalItems.length>0&&(yield this.paymentIntegrationService.updateShippingAddress(v[0]),t&&u&&(yield this.setShippingOption()))}catch(e){}})}getSessionIdFromCookies(){return he.get(\"bc-fastlane-sessionId\")||\"\"}saveSessionIdToCookies(e){const t=new Date;t.setDate(t.getDate()+14),he.set(\"bc-fastlane-sessionId\",e,{expires:t,secure:!0})}removeSessionIdFromCookies(){he.remove(\"bc-fastlane-sessionId\")}mapPayPalToBcInstrument(e,t){if(t)return t.map(t=>{const{id:i,paymentSource:n}=t,{brand:r,expiry:o,lastDigits:a,binDetails:s}=n.card,[d,l]=o.split(\"-\");return{bigpayToken:i,brand:r,defaultInstrument:!1,expiryMonth:l,expiryYear:d,iin:(null==s?void 0:s.bin)||\"\",last4:a,method:e,provider:e,trustedShippingAddress:!1,type:\"card\",untrustedShippingCardVerificationMode:le.PAN}})}mapPayPalToBcAddress(e,t){if(!e)return[];const i=this.paymentIntegrationService.getState().getCountries()||[],n=e=>{const t=i.find(t=>t.code===e);return(null==t?void 0:t.name)||\"\"};return e.map(e=>({id:Date.now(),type:\"paypal-address\",firstName:e.firstName||\"\",lastName:e.lastName||\"\",company:e.company||\"\",address1:e.streetAddress,address2:e.extendedAddress||\"\",city:e.locality,stateOrProvince:e.region,stateOrProvinceCode:e.region,country:n(e.countryCodeAlpha2),countryCode:e.countryCodeAlpha2,postalCode:e.postalCode,phone:t&&t[0]||\"\",customFields:[]}))}getPayPalBillingAddresses(e){const{card:t,name:i}=e||{};if(!t)return;const{firstName:n,lastName:o}=t.paymentSource.card.billingAddress,{firstName:a,lastName:s}=i||{},{shippingAddress:d}=e||{},l=Object.assign(Object.assign({},t.paymentSource.card.billingAddress),{firstName:n||a,lastName:o||s});return d&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(this.normalizeAddress(l),this.normalizeAddress(d))?d:l}normalizeAddress(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.omit)(e,[\"id\"])}mergeShippingAndBillingAddresses(e,t){const i=t.filter(t=>!e.some(e=>(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(this.normalizeAddress(e),this.normalizeAddress(t))));return[...e,...i]}getMethodIdOrThrow(){if(!this.methodId)throw new w('Unable to proceed because \"methodId\" argument is not provided.');return this.methodId}setShippingOption(){var e;return ye(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getConsignments()||[],i=(null===(e=t[0])||void 0===e?void 0:e.availableShippingOptions)||[],n=i.find(e=>e.isRecommended);if(n||i.length){const e=n||i[0];yield this.paymentIntegrationService.selectShippingOption(e.id)}})}}const pe=$(e=>{const i=window,n=new v(e),r=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,n),i),o=new me(e,r);return new ue(e,o)},[{id:\"braintreeacceleratedcheckout\"},{id:\"braintree\"}]);var ge=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class ve{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return ge(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return ge(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return ge(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadDataCollector(),n=Object.assign({client:t,kount:!0},e);this.dataCollector=yield i.create(n)}catch(e){if(L(e)&&e.code===se.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return ge(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return ge(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return ge(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,i]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((n,r)=>{i.create({client:t,merchantAccountId:e},(e,t)=>{e&&r(e),n(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return ge(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return ge(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return ge(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),i={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},n=yield t.create(i);if(!n.isBrowserSupported())throw new b;this.braintreeVenmo=n}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new I(P.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}class fe extends f{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}var be=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class we{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i,this.buttonClassName=\"visa-checkout-wrapper\",this.onError=lodash__WEBPACK_IMPORTED_MODULE_2__.noop}initialize(e){return be(this,void 0,void 0,function*(){const{braintreevisacheckout:t,methodId:i}=e;if(!i)throw new w('Unable to proceed because \"methodId\" argument is not provided.');if(!t)throw new w('Unable to proceed because \"options.braintreevisacheckout\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState(),r=n.getCheckoutOrThrow(),{clientToken:o,config:s}=n.getPaymentMethodOrThrow(i),d=n.getStoreConfigOrThrow();if(!o)throw new G(H.MissingPaymentMethod);this.braintreeSdk.initialize(o);const l=yield this.braintreeSdk.getBraintreeVisaCheckout(),c=yield this.braintreeSdk.getVisaCheckoutSdk(s.testMode),{container:u,onError:h}=t;this.onError=h||lodash__WEBPACK_IMPORTED_MODULE_2__.noop;const y=l.createInitOptions({paymentRequest:{currencyCode:d.currency.code,subtotal:String(r.subtotal)},settings:{locale:d.storeProfile.storeLanguage,shipping:{collectShipping:!0}}}),m=this.createSignInButton(u,this.buttonClassName);yield c.init(y),c.on(\"payment.success\",e=>this.tokenizePayment(l,e).then(()=>this.paymentIntegrationService.loadCheckout()).catch(e=>this.handleError(e))),c.on(\"payment.error\",(e,t)=>this.handleError(t)),m.style.visibility=\"visible\"})}deinitialize(){return be(this,void 0,void 0,function*(){yield this.braintreeSdk.deinitialize()})}signIn(){throw new fe('In order to sign in via VisaCheckout, the shopper must click on \"Visa Checkout\" button.')}signOut(e){return be(this,void 0,void 0,function*(){return yield this.paymentIntegrationService.signOutCustomer(e),Promise.resolve()})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}tokenizePayment(e,t){return be(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.mapToVisaCheckoutAddress(n),billingAddress:a=this.mapToVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}mapToVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}createSignInButton(e,t){const i=document.querySelector(`#${e}`);if(!i)throw new Error(\"Unable to proceed because the provided container ID is not valid.\");return this.insertVisaCheckoutButton(i,t)}insertVisaCheckoutButton(e,t){const i=document.createElement(\"div\");return i.style.display=\"flex\",i.style.flexDirection=\"column\",i.style.visibility=\"hidden\",i.style.width=\"max-content\",i.className=t,i.innerHTML='\\n            <img\\n                alt=\"Visa Checkout\"\\n                class=\"v-button\"\\n                role=\"button\"\\n                src=\"https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&height=34&width=178\"\\n                />\\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>',e.appendChild(i),i}handleError(e){if(\"function\"!=typeof this.onError)throw e;this.onError(e)}}const Ce=$(i=>{const n=window,r=new v(i),o=new ve(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r));return new we(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o)},[{id:\"braintreevisacheckout\"}]);function Se(e){return Boolean(e.instrumentId)}class Pe extends f{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function Ie(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}class Oe extends f{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}function ke(e){return!!e&&\"accountNumber\"in e&&\"routingNumber\"in e&&\"ownershipType\"in e&&\"accountType\"in e}var Ee=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Te{constructor(e,t){this.paymentIntegrationService=e,this.braintreeSdk=t}initialize(e){return Ee(this,void 0,void 0,function*(){const{methodId:t,braintreeach:i}=e||{};if(!t)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');this.getMandateText=null==i?void 0:i.getMandateText,yield this.paymentIntegrationService.loadPaymentMethod(t);const n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(t),{clientToken:r,initializationData:o}=n;if(!r||!o)throw new G(H.MissingPaymentMethod);this.braintreeSdk.initialize(r);try{this.usBankAccount=yield this.braintreeSdk.getUsBankAccount()}catch(e){this.handleBraintreeError(e)}})}execute(e,t){return Ee(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new C([\"payment\"]);const r=Se(i.paymentData||{}),o=r?yield this.tokenizePaymentForVaultedInstrument(i):yield this.tokenizePayment(i),a=r?yield this.preparePaymentDataForVaultedInstrument(o,i):yield this.preparePaymentData(o,i);yield this.paymentIntegrationService.submitOrder(n,t),yield this.paymentIntegrationService.submitPayment(a)})}finalize(){return Promise.reject(new Pe)}deinitialize(){return Ee(this,void 0,void 0,function*(){return yield this.braintreeSdk.deinitialize(),Promise.resolve()})}tokenizePayment({paymentData:e}){return Ee(this,void 0,void 0,function*(){const t=this.getUsBankAccountOrThrow();if(!ke(e))throw new C([\"payment.paymentData\"]);const i=Se(e)?\"The data are used for stored instrument verification\":\"function\"==typeof this.getMandateText&&this.getMandateText();if(!i)throw new w(\"Unable to proceed because getMandateText is not provided or returned undefined value.\");try{const{nonce:n}=yield t.tokenize({bankDetails:this.getBankDetails(e),mandateText:i});return n}catch(e){this.handleBraintreeError(e)}})}tokenizePaymentForVaultedInstrument(e){return Ee(this,void 0,void 0,function*(){const{methodId:t,paymentData:i={}}=e,n=this.paymentIntegrationService.getState(),{config:r}=n.getPaymentMethodOrThrow(t);if(!r.isVaultingEnabled)throw new w(\"Vaulting is disabled but a vaulted instrument was being used for this transaction\");return ke(i)?this.tokenizePayment(e):null})}preparePaymentData(e,t){return Ee(this,void 0,void 0,function*(){const{methodId:i,paymentData:n={}}=t;if(!ke(n))throw new C([\"payment.paymentData\"]);const{deviceData:r}=yield this.braintreeSdk.getDataCollectorOrThrow(),{shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a,routingNumber:s,accountNumber:d}=n;return{methodId:i,paymentData:{deviceSessionId:r,shouldSetAsDefaultInstrument:a,shouldSaveInstrument:o,formattedPayload:{tokenized_bank_account:{issuer:s,masked_account_number:d.substr(-4),token:e}}}}})}preparePaymentDataForVaultedInstrument(e,t){return Ee(this,void 0,void 0,function*(){const{methodId:i,paymentData:n={}}=t;if(!Se(n)||!Ie(n))throw new C([\"payment.paymentData\"]);const{deviceData:r}=yield this.braintreeSdk.getDataCollectorOrThrow(),{instrumentId:o,shouldSetAsDefaultInstrument:a}=n;return{methodId:i,paymentData:Object.assign({deviceSessionId:r,instrumentId:o,shouldSetAsDefaultInstrument:a},e&&{nonce:e})}})}getBankDetails(e){const t=this.paymentIntegrationService.getState().getBillingAddressOrThrow(),i=e.ownershipType.toLowerCase(),n=e.accountType.toLowerCase();return Object.assign(Object.assign({accountNumber:e.accountNumber,routingNumber:e.routingNumber,ownershipType:i},\"personal\"===i?{firstName:e.firstName,lastName:e.lastName}:{businessName:e.businessName}),{accountType:n,billingAddress:{streetAddress:t.address1,extendedAddress:t.address2,locality:t.city,region:t.stateOrProvinceCode,postalCode:t.postalCode}})}getUsBankAccountOrThrow(){if(!this.usBankAccount)throw new I(P.PaymentNotInitialized);return this.usBankAccount}handleBraintreeError(e){if(!L(e))throw e;throw new Oe(e.message)}}const Ae=$(e=>new Te(e,(e=>{const i=new v(e),n=new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,i);return new ve(n)})(e)),[{id:\"braintreeach\"}]);class ze{constructor(e){this.paymentIntegrationService=e,this.braintreeHostWindow=window}render(e,t,i){const n=t&&document.getElementById(t);if(this.braintreeHostWindow.paypal&&n){const r=this.paymentIntegrationService.getState(),o=r.getCartOrThrow(),a=r.getBillingAddressOrThrow(),s=r.getPaymentMethodOrThrow(e);if(!s.initializationData)return;const{paypalBNPLConfiguration:d=[]}=s.initializationData,l=i===_.PAYMENT?\"checkout\":i,c=d&&d.find(({id:e})=>e===l);if(!c||!c.status)return;i===_.CART&&(n.removeAttribute(\"data-pp-style-logo-type\"),n.removeAttribute(\"data-pp-style-logo-position\"),n.removeAttribute(\"data-pp-style-text-color\"),n.removeAttribute(\"data-pp-style-text-size\")),this.braintreeHostWindow.paypal.Messages({amount:o.cartAmount,buyerCountry:a.countryCode,placement:i,style:this.getPaypalMessagesStylesFromBNPLConfig(c)}).render(`#${t}`)}}getPaypalMessagesStylesFromBNPLConfig({styles:e}){const t={};return e.color&&(t.color=e.color),e.layout&&(t.layout=e.layout),(e[\"logo-type\"]||e[\"logo-position\"])&&(t.logo={},e[\"logo-type\"]&&(t.logo.type=e[\"logo-type\"]),e[\"logo-position\"]&&(t.logo.position=e[\"logo-position\"])),e.ratio&&(t.ratio=e.ratio),(e[\"text-color\"]||e[\"text-size\"])&&(t.text={},e[\"text-color\"]&&(t.text.color=e[\"text-color\"]),e[\"text-size\"]&&(t.text.size=+e[\"text-size\"])),t}}class Ne{constructor(e){const{element:t,closeElement:i,mainElement:n}=this._createElements(e);this._element=t,this._closeElement=i,this._mainElement=n}show(e){this._mainElement.parentElement||(this._registerClick(e),document.body.appendChild(this._mainElement),setTimeout(()=>this._element.style.opacity=\"1\"))}remove(){this._mainElement.parentElement&&(this._unregisterClick&&this._unregisterClick(),this._removeAfterTransition(),setTimeout(()=>this._element.style.opacity=\"0\"))}_createElements(e){const t=document.createElement(\"div\"),{background:i=\"rgba(0, 0, 0, 0.8)\",id:n=\"checkoutOverlay\",transitionDuration:r=400,hasCloseButton:o=!1,innerHtml:a=null}=e||{};let s,d,l,c,u=t;if(n&&(t.id=n),a){const e=document.createElement(\"div\");c=`${n}--overlayText`,e.className=c,e.appendChild(a),t.appendChild(e)}return o&&(l=`${n}--close`,s=document.createElement(\"div\"),s.className=l,d=`${n}--layout`,u=document.createElement(\"div\"),u.className=d,u.appendChild(t),u.appendChild(s)),u.appendChild(function(e){const{id:t,background:i,transitionDuration:n,classLayout:r,classOverlayText:o,classClose:a}=e,s=document.createElement(\"style\"),d=r?`, .${r}`:\"\";return s.id=`${t}--styles`,s.type=\"text/css\",s.innerText=`\\n        #${t}${d} {\\n            display: block;\\n            height: 100%;\\n            width: 100%;\\n            left: 0;\\n            top: 0;\\n            position: fixed;\\n            z-index: 2147483647;\\n        }\\n        #${t} {\\n            transition: opacity ${n}ms ease-out;\\n            background: ${i};\\n            opacity: 0;\\n        }\\n    `,o&&(s.innerText+=`\\n             #${t} {\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n             }\\n             #${t} .${o} {\\n                color: white;\\n                max-width: 330px;\\n                font-size: 1.2em;\\n                text-align: center;\\n             }\\n        `),a&&(s.innerText+=`\\n            #${t} {\\n                opacity: 1;\\n            }\\n            .${r} .${a} {\\n                position: fixed;\\n                right: 16px;\\n                top: 16px;\\n                width: 16px;\\n                height: 16px;\\n                opacity: 0.6;\\n                cursor: pointer;\\n                z-index: 3147483647;\\n            }\\n            .${r} .${a}::after, .${r} .${a}::before {\\n                position: absolute;\\n                left: 8px;\\n                content: '';\\n                height: 16px;\\n                width: 2px;\\n                background-color: #fff;\\n            }\\n            .${r} .${a}::after {\\n                transform: rotate(-45deg);\\n            }\\n            .${r} .${a}::before {\\n                transform: rotate(45deg);\\n            }\\n        `),s}({id:n,background:i,transitionDuration:r,classLayout:d,classOverlayText:c,classClose:l})),{element:t,closeElement:s,mainElement:u}}_addEventListener(e,t){e&&t&&e.addEventListener(\"click\",t)}_removeEventListener(e,t){e&&t&&e.removeEventListener(\"click\",t)}_registerClick(e){if(this._unregisterClick&&this._unregisterClick(),e){const{onClick:t,onClickClose:i}=e;this._addEventListener(this._element,t),this._addEventListener(this._closeElement,i),this._unregisterClick=()=>{this._removeEventListener(this._element,t),this._removeEventListener(this._closeElement,i),this._unregisterClick=void 0}}}_removeAfterTransition(){const e=t=>{\"opacity\"===t.propertyName&&(this._mainElement.parentElement&&this._mainElement.remove(),this._element.removeEventListener(\"transitionend\",e))};this._element.addEventListener(\"transitionend\",e)}}const De={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},Me=\"embedded-checkout-loading-indicator-rotation\";class _e{constructor(e){this.styles=Object.assign(Object.assign({},De),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${Me} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(i=>{e.style.setProperty(i,t[i])})}defineAnimation(){var e;if(document.getElementById(Me))return;const t=document.createElement(\"style\");t.id=Me,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${Me} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}const Be={\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"};function xe(e){return\"object\"==typeof e&&null!==e&&\"name\"in e&&\"BraintreeError\"===e.name}function Fe(e){return{recipientName:`${e.firstName} ${e.lastName}`,line1:e.address1,line2:e.address2,city:e.city,state:e.stateOrProvinceCode,postalCode:e.postalCode,countryCode:e.countryCode,phone:e.phone}}var Le=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Ve{constructor(e,t,i,n){this.paymentIntegrationService=e,this.braintreeIntegrationService=t,this.braintreeMessages=i,this.loadingIndicator=n,this.braintreeHostWindow=window}initialize(e){return Le(this,void 0,void 0,function*(){const{braintree:t,methodId:i}=e;if(this.braintree=t,this.paymentMethod&&this.paymentMethod.nonce||(this.paymentMethod=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i)),this.paymentMethod.clientToken&&(null==t?void 0:t.bannerContainerId))return yield this.loadPaypal(),this.loadPaypalCheckoutInstance();if(this.paymentMethod.clientToken)return this.loadPaypal();const n=yield this.paymentIntegrationService.loadPaymentMethod(i);if(this.paymentMethod=n.getPaymentMethodOrThrow(i),null==t?void 0:t.bannerContainerId)return this.loadPaypalCheckoutInstance();if(!this.paymentMethod.clientToken)throw new G(H.MissingPaymentMethod);return this.loadPaypal()})}execute(e,t){var i;return Le(this,void 0,void 0,function*(){const{payment:n}=e,r=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]),{onError:o}=this.braintree||{};if(!n)throw new C([\"payment\"]);try{const e=yield this.preparePaymentData(n,r.useStoreCredit);yield this.paymentIntegrationService.submitOrder(r,t),yield this.paymentIntegrationService.submitPayment(e)}catch(e){this.isProviderError(e)&&(yield this.loadPaypal(),null===(i=this.paypalButtonRender)||void 0===i||i.close(),yield this.loadPaypalCheckoutInstance(),yield new Promise((e,t)=>{o&&\"function\"==typeof o&&o(new Error(\"INSTRUMENT_DECLINED\")),t()})),this.handleError(e)}})}finalize(){return Promise.reject(new Pe)}deinitialize(){var e;return this.braintreeTokenizePayload=void 0,null===(e=this.paypalButtonRender)||void 0===e||e.close(),this.braintreeIntegrationService.teardown()}preparePaymentData(e,t){var i;return Le(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),r=n.getOutstandingBalance(t),o=n.getStoreConfig();if(!r)throw new G(H.MissingCheckout);if(!o)throw new G(H.MissingCheckoutConfig);if(!this.paymentMethod)throw new I(P.PaymentNotInitialized);const{currency:a,storeProfile:{storeLanguage:s}}=o,{nonce:d,config:{isVaultingEnabled:l}}=this.paymentMethod,{methodId:c,paymentData:u={}}=e,h=(null===(i=this.braintreeTokenizePayload)||void 0===i?void 0:i.nonce)||d;if(h){const t=yield this.paymentIntegrationService.loadPaymentMethod(c);return this.paymentMethod=t.getPaymentMethod(c),Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(h)})}if(Se(u)||(y=u,Boolean(y.instrumentId)&&!Object.prototype.hasOwnProperty.call(y,\"ccNumber\")&&!Object.prototype.hasOwnProperty.call(y,\"ccCvv\"))){if(!l)throw new w(\"Vaulting is disabled but a vaulted instrument was being used for this transaction\");return Promise.resolve(e)}var y;if(!Ie(u))throw new G(H.MissingPayment);const{shouldSaveInstrument:m,shouldSetAsDefaultInstrument:p}=u;if(m&&!l)throw new w(\"Vaulting is disabled but shouldSaveInstrument is set to true\");const g=n.getShippingAddress(),v=g?Fe(g):void 0;return Promise.all([this.braintreeIntegrationService.paypal({amount:r,locale:s,currency:a.code,offerCredit:\"braintreepaypalcredit\"===this.paymentMethod.id,shippingAddressOverride:v,shouldSaveInstrument:m||!1,shippingAddressEditable:!1}),this.braintreeIntegrationService.getSessionId()]).then(([{nonce:t,details:i}={},n])=>Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(t,i&&i.email,n,m,p)}))})}formattedPayload(e,t,i,n,r){return{formattedPayload:{vault_payment_instrument:n||null,set_as_default_stored_instrument:r||null,device_info:i||null,paypal_account:{token:e,email:t||null}}}}loadPaypalCheckoutInstance(){return Le(this,void 0,void 0,function*(){const{clientToken:e,initializationData:t,id:i}=this.paymentMethod||{};if(!e)throw new G(H.MissingPaymentMethod);try{this.braintreeIntegrationService.initialize(e);const n={currency:this.paymentIntegrationService.getState().getCartOrThrow().currency.code,intent:null==t?void 0:t.intent,isCreditEnabled:null==t?void 0:t.isCreditEnabled},r=\"braintreepaypalcredit\"===i||!(null==t?void 0:t.isCreditEnabled);yield this.braintreeIntegrationService.getPaypalCheckout(n,e=>{var t;r&&i&&(null===(t=this.braintree)||void 0===t?void 0:t.bannerContainerId)&&this.renderPayPalMessages(i,this.braintree.bannerContainerId),this.renderPayPalButton(e)},this.handleError)}catch(e){this.handleError(e)}})}renderPayPalMessages(e,t){this.braintreeMessages.render(e,t,_.PAYMENT)}renderPayPalButton(e){const{onPaymentError:t,submitForm:i,onRenderButton:n,containerId:r,onError:o}=this.braintree||{};if(!r)return;if(!this.paymentMethod)throw new I(P.PaymentNotInitialized);this.loadingIndicatorContainer=r.split(\"#\")[1];const{id:a,config:{testMode:s}}=this.paymentMethod,{paypal:d}=this.braintreeHostWindow,l=null==d?void 0:d.FUNDING.PAYPAL;d&&l?(this.paypalButtonRender=d.Buttons({env:s?\"sandbox\":\"production\",commit:!1,fundingSource:l,onClick:()=>{this.toggleLoadingIndicator(!0)},createOrder:()=>this.setupPayment(e,a,t),onApprove:t=>Le(this,void 0,void 0,function*(){this.braintreeTokenizePayload=yield this.tokenizePaymentOrThrow(t,e),i&&\"function\"==typeof i&&i()}),onCancel:()=>{this.toggleLoadingIndicator(!1)},onError:e=>{this.toggleLoadingIndicator(!1),null==o||o(e)}}),n&&\"function\"==typeof n&&n(),this.paypalButtonRender.isEligible()&&this.paypalButtonRender.render(`${r}`)):this.removeElement(r.split(\"#\")[1])}setupPayment(e,t,i){return Le(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState();try{const i=n.getCustomer(),r=n.getPaymentMethodOrThrow(t),o=n.getCheckoutOrThrow().outstandingBalance,a=n.getStoreConfigOrThrow().currency.code,s=n.getShippingAddress()||(null==i?void 0:i.addresses[0]),d=s?Fe(s):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:d,amount:o,currency:a,offerCredit:!1,intent:r.initializationData.intent})}catch(e){throw i&&(xe(e)||e instanceof f)&&i(e),e}})}tokenizePaymentOrThrow(e,t,i){return Le(this,void 0,void 0,function*(){try{return yield t.tokenizePayment(e)}catch(e){throw i&&(xe(e)||e instanceof f)&&i(e),e}})}loadPaypal(){return Le(this,void 0,void 0,function*(){const{clientToken:e,initializationData:t}=this.paymentMethod||{};if(!e||!t)throw new G(H.MissingPaymentMethod);try{this.braintreeIntegrationService.initialize(e),yield this.braintreeIntegrationService.getPaypal()}catch(e){this.handleError(e)}return Promise.resolve()})}handleError(e){if(!xe(e))throw e;if(\"PAYPAL_POPUP_CLOSED\"===e.code)throw new O(e.message);throw new Oe(e.message)}isProviderError(e){var t,i,n;return!!function(e){return\"object\"==typeof e&&null!==e&&\"errors\"in e}(e)&&\"2046\"===(null===(n=null===(i=((null===(t=null==e?void 0:e.errors)||void 0===t?void 0:t.filter(e=>e.provider_error))||[])[0])||void 0===i?void 0:i.provider_error)||void 0===n?void 0:n.code)}removeElement(e){const t=e&&document.getElementById(e);t&&t.remove()}toggleLoadingIndicator(e){e&&this.loadingIndicatorContainer?this.loadingIndicator.show(this.loadingIndicatorContainer):this.loadingIndicator.hide()}}const je=$(e=>{const i=window,n=new Ne,r=new v(e),o=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,r),i,n),a=new ze(e);return new Ve(e,o,a,new _e({containerStyles:Be}))},[{id:\"braintreepaypal\"},{id:\"braintreepaypalcredit\"}]);var Ue;!function(e){e.Json=\"application/json\",e.JsonV1=\"application/vnd.bc.v1+json\"}(Ue||(Ue={}));const Re=Ue,He={\"X-Checkout-SDK-Version\":\"1.867.0\"};class We{constructor(e){this.requestSender=e}getOrderStatus(e=\"braintreelocalmethods\",t){return i=this,n=void 0,o=function*(){const i=`/api/storefront/initialization/${e}`,n=Object.assign({\"X-API-INTERNAL\":\"This API endpoint is for internal use only and may change in the future\",\"Content-Type\":Re.Json},He);return(yield this.requestSender.get(i,Object.assign({headers:n},t))).body},new((r=void 0)||(r=Promise))(function(e,t){function a(e){try{d(o.next(e))}catch(e){t(e)}}function s(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(a,s)}d((o=o.apply(i,n||[])).next())});// removed by dead control flow\n var i, n, r, o; }}const qe={body:{},headers:{},status:0};class $e extends f{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||qe;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}class Ge extends $e{constructor(e){super(e,{message:\"There is a problem processing your payment. Please try again later.\"}),this.name=\"PaymentMethodInvalidError\",this.type=\"payment_method_invalid\"}}class Ye extends $e{constructor(e){super(e,{message:\"The request has timed out or aborted.\"}),this.name=\"TimeoutError\",this.type=\"timeout\"}}var Je=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Ke{constructor(e,t,i,n,r=3e3,o=3e5){this.paymentIntegrationService=e,this.braintreeSdk=t,this.braintreeRequestSender=i,this.loadingIndicator=n,this.pollingInterval=r,this.maxPollingIntervalTime=o,this.isLPMsUpdateExperimentEnabled=!1,this.pollingTimer=0,this.stopPolling=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this.isPollingEnabled=!1}initialize(e){return Je(this,void 0,void 0,function*(){const{gatewayId:t,methodId:i,braintreelocalmethods:n}=e;if(this.gatewayId=t,!i)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new w('Unable to initialize payment because \"options.gatewayId\" argument is not provided.');if(!n)throw new w('Unable to initialize payment because \"options.braintreelocalmethods\" argument is not provided.');this.braintreelocalmethods=n,this.loadingIndicatorContainer=n.container.split(\"#\")[1],yield this.paymentIntegrationService.loadPaymentMethod(t);const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(t),{clientToken:a,config:s,initializationData:d}=o,l=r.getStoreConfigOrThrow().checkoutSettings.features;if(this.isPollingEnabled=y(l,\"PAYPAL-5258.braintree_local_methods_polling\"),this.isLPMsUpdateExperimentEnabled=y(l,\"PAYPAL-4853.add_new_payment_flow_for_braintree_lpms\"),!a||!d||!s.merchantId)throw new G(H.MissingPaymentMethod);try{this.braintreeSdk.initialize(a),this.isNonInstantPaymentMethod(i)||(this.braintreeLocalPayment=yield this.braintreeSdk.getBraintreeLocalPayment(s.merchantId))}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new Pe)}deinitialize(){return Je(this,void 0,void 0,function*(){return this.toggleLoadingIndicator(!1),Promise.resolve()})}execute(e,t){return Je(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new C([\"payment\"]);const{methodId:r}=i;this.toggleLoadingIndicator(!0),this.isNonInstantPaymentMethod(r)?yield this.executeWithNotInstantLPM(r):yield this.executeWithInstantLPM(r,n,t)})}executeWithNotInstantLPM(e){return Je(this,void 0,void 0,function*(){try{const t=yield this.getLPMsBasicPaymentData();yield this.paymentIntegrationService.submitOrder(),yield this.paymentIntegrationService.submitPayment({methodId:e,paymentData:Object.assign(Object.assign({},t),{formattedPayload:{method:e}})})}catch(e){if(this.isBraintreeRedirectError(e)){const t=e.body.additional_action_required.data.redirect_url;return new Promise((e,i)=>{window.location.replace(t),this.toggleLoadingIndicator(!1),i()})}return this.handleError(e),Promise.reject(e)}})}executeWithInstantLPM(e,t,i){return Je(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment)throw new Ge;yield new Promise((n,r)=>{var o;null===(o=this.braintreeLocalPayment)||void 0===o||o.startPayment(this.getInstantLPMConfig(e,t,i),this.getInstantLPMCallback(n,r,e,t,i))})})}getLPMsBasicPaymentData(){return Je(this,void 0,void 0,function*(){const{deviceData:e}=yield this.braintreeSdk.getDataCollectorOrThrow();return{deviceSessionId:e}})}getInstantLPMConfig(e,t,i){const n=this.paymentIntegrationService.getState(),r=n.getCartOrThrow(),o=n.getBillingAddressOrThrow(),{firstName:a,lastName:s,countryCode:d}=o,{currency:l,email:c,lineItems:u}=r,h=u.physicalItems.length>0,y=n.getCheckoutOrThrow().outstandingBalance,m=n.getStoreConfigOrThrow().links.checkoutLink;return{paymentType:e,amount:y,fallback:{url:m,buttonText:\"Complete Payment\"},currencyCode:l.code,shippingAddressRequired:h,email:c,givenName:a,surname:s,address:{countryCode:d},onPaymentStart:(n,r)=>Je(this,void 0,void 0,function*(){if(!this.isLPMsUpdateExperimentEnabled)return this.orderId=n.paymentId,void r();const o=yield this.getLPMsBasicPaymentData(),a=Object.assign(Object.assign({},o),{formattedPayload:{method:e,[`${e}_account`]:{order_id:n.paymentId}}});try{yield this.paymentIntegrationService.submitOrder(t,i),yield this.paymentIntegrationService.submitPayment({methodId:e,paymentData:a})}catch(t){if(this.isBraintreeOrderSavedResponse(t)&&t.body.additional_action_required.data.order_id_saved_successfully)return r(),this.isPollingEnabled?new Promise((t,i)=>{this.initializePollingMechanism(e,t,i,this.gatewayId)}):void 0;throw t}})}}getInstantLPMCallback(e,t,i,n,r){const o=this.paymentIntegrationService.getState().getCartOrThrow();return(a,s)=>Je(this,void 0,void 0,function*(){if(a)return\"LOCAL_PAYMENT_WINDOW_CLOSED\"===a.code?(this.toggleLoadingIndicator(!1),this.resetPollingMechanism(),t()):(this.isPollingEnabled&&this.resetPollingMechanism(),this.toggleLoadingIndicator(!1),t(new Ge));const d=yield this.getLPMsBasicPaymentData(),l=Object.assign(Object.assign({},d),{formattedPayload:{method:i,[`${i}_account`]:Object.assign({email:o.email,token:s.nonce},this.isLPMsUpdateExperimentEnabled?{}:{order_id:this.orderId})}});try{return this.isLPMsUpdateExperimentEnabled||(yield this.paymentIntegrationService.submitOrder(n,r)),yield this.paymentIntegrationService.submitPayment({methodId:i,paymentData:l}),e(void 0)}catch(e){return this.handleError(e),t(e)}})}toggleLoadingIndicator(e){e&&this.loadingIndicatorContainer?this.loadingIndicator.show(this.loadingIndicatorContainer):this.loadingIndicator.hide()}handleError(e){const{onError:t}=this.braintreelocalmethods||{};this.isPollingEnabled&&this.resetPollingMechanism(),this.toggleLoadingIndicator(!1),t&&\"function\"==typeof t&&t(e)}isNonInstantPaymentMethod(e){return e.toUpperCase()in re}isBraintreeRedirectError(e){var t;if(\"object\"!=typeof e||null===e)return!1;const{body:i}=e;return!!i&&!!(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.redirect_url)}isBraintreeOrderSavedResponse(e){var t;if(\"object\"!=typeof e||null===e)return!1;const{body:i}=e;return!!i&&(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.hasOwnProperty(\"order_id_saved_successfully\"))}initializePollingMechanism(e,t,i,n){return Je(this,void 0,void 0,function*(){yield new Promise((e,t)=>{const i=setTimeout(e,this.pollingInterval);this.stopPolling=()=>(clearTimeout(i),this.toggleLoadingIndicator(!1),t())});try{this.pollingTimer+=this.pollingInterval;const r=yield this.braintreeRequestSender.getOrderStatus(n,{params:{useMetadata:!1}}),o=r.status===ne.Pending,a=r.status===ne.Completed,s=r.status===ne.Failed;if(a)return this.deinitializePollingMechanism(),t();if(s)return i();if(!a&&o&&this.pollingTimer<this.maxPollingIntervalTime)return yield this.initializePollingMechanism(e,t,i,n);yield this.reinitializeStrategy({methodId:e,gatewayId:n,braintreelocalmethods:this.braintreelocalmethods}),this.handleError(new Ye)}catch(e){i()}})}deinitializePollingMechanism(){this.stopPolling(),this.pollingTimer=0}resetPollingMechanism(){this.deinitializePollingMechanism()}reinitializeStrategy(e){return Je(this,void 0,void 0,function*(){yield this.deinitialize(),yield this.initialize(e)})}}const Xe=$(e=>{const i=window,n=new v(e),r=new ve(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,n)),o=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_4__.createRequestSender)(),a=new We(o);return new Ke(e,r,a,new _e({styles:{backgroundColor:\"black\"}}))},[{gateway:\"braintreelocalmethods\"}]);function Qe(e){return!!e&&(\"authenticationState\"in e||\"addresses\"in e||\"instruments\"in e)}var Ze=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class et{constructor(e,t,i){this.paymentIntegrationService=e,this.braintreeFastlaneUtils=t,this.braintreeSdk=i}initialize(e){var t;return Ze(this,void 0,void 0,function*(){const{methodId:i,braintreefastlane:n}=e;if(!i)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!n)throw new w('Unable to initialize payment because \"options.braintreefastlane\" argument is not provided.');if(!n.onInit||\"function\"!=typeof n.onInit)throw new w('Unable to initialize payment because \"options.braintreefastlane.onInit\" argument is not provided or it is not a function.');if(!n.onChange||\"function\"!=typeof n.onChange)throw new w('Unable to initialize payment because \"options.braintreefastlane.onChange\" argument is not provided or it is not a function.');yield this.paymentIntegrationService.loadPaymentMethod(i);const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(i),{initializationData:a,clientToken:s}=o||{},{isFastlaneStylingEnabled:d}=a||{},l=y(r.getStoreConfigOrThrow().checkoutSettings.features,\"PROJECT-7080.braintree_fastlane_three_ds\");this.is3DSEnabled=o.config.is3dsEnabled,s&&l&&this.braintreeSdk.initialize(s);const c=te(d?null===(t=o.initializationData)||void 0===t?void 0:t.fastlaneStyles:void 0,n.styles);yield this.braintreeFastlaneUtils.initializeBraintreeFastlaneOrThrow(i,c),this.shouldRunAuthenticationFlow()&&(yield this.braintreeFastlaneUtils.runPayPalAuthenticationFlowOrThrow()),yield this.initializeCardComponent(),this.onError=n.onError,n.onInit(e=>this.renderBraintreeCardComponent(e)),n.onChange(()=>this.handleBraintreeStoredInstrumentChange(i))})}execute(e,t){return Ze(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i)throw new C([\"payment\"]);yield this.paymentIntegrationService.submitOrder(n,t);const r=yield this.preparePaymentPayload(i.methodId);yield this.paymentIntegrationService.submitPayment(r),this.braintreeFastlaneUtils.removeSessionIdFromCookies()})}finalize(){return Promise.reject(new Pe)}deinitialize(){return Ze(this,void 0,void 0,function*(){return this.braintreeCardComponent=void 0,Promise.resolve()})}initializeCardComponent(){return Ze(this,void 0,void 0,function*(){const e=this.paymentIntegrationService.getState(),{phone:t,firstName:i,lastName:n}=e.getBillingAddressOrThrow(),r=`${i} ${n}`,o={styles:{},fields:Object.assign({cardholderName:{prefill:r,enabled:!0}},t&&{phoneNumber:{prefill:t}})},a=this.braintreeFastlaneUtils.getBraintreeFastlaneComponentOrThrow();this.braintreeCardComponent=yield a(o)})}renderBraintreeCardComponent(e){const t=this.getBraintreeCardComponentOrThrow();if(!e)throw new w('Unable to initialize payment because \"container\" argument is not provided.');t.render(e)}preparePaymentPayload(e){var t,i;return Ze(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),r=n.getBillingAddressOrThrow(),o=`${r.firstName} ${r.lastName}`,a=this.getPayPalInstruments()[0],s=yield this.braintreeFastlaneUtils.getDeviceSessionId(),d=y(n.getStoreConfigOrThrow().checkoutSettings.features,\"PROJECT-7080.braintree_fastlane_three_ds\");if(a){const t=this.is3DSEnabled&&d?yield this.get3DS(a.bigpayToken,(null==a?void 0:a.iin)||\"\"):void 0;return{methodId:e,paymentData:{deviceSessionId:s,formattedPayload:{paypal_fastlane_token:{token:t||a.bigpayToken}}}}}const{getPaymentToken:l}=this.getBraintreeCardComponentOrThrow(),c=yield l({name:{fullName:o},billingAddress:this.mapToPayPalAddress(r)}),u=(null===(i=null===(t=c.paymentSource.card)||void 0===t?void 0:t.binDetails)||void 0===i?void 0:i.bin)||\"\",h=this.is3DSEnabled&&d?yield this.get3DS(c.id,u):void 0;return{methodId:e,paymentData:{deviceSessionId:s,nonce:h||c.id}}})}get3DS(e,t){return Ze(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=yield this.braintreeSdk.getBraintreeThreeDS(),r=i.getOrderOrThrow();return new Promise((i,o)=>{n.verifyCard({amount:null==r?void 0:r.orderAmount,nonce:e,bin:t,onLookupComplete:(e,t)=>{n.on(\"customer-canceled\",()=>{\"function\"==typeof this.onError&&this.onError(new O),o(new O)}),t()}},(e,t)=>(e&&\"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT\"===e.code&&(\"function\"==typeof this.onError&&this.onError(new O),o(new O)),i(t.nonce)))})})}mapToPayPalAddress(e){return{streetAddress:(null==e?void 0:e.address1)||\"\",locality:(null==e?void 0:e.city)||\"\",region:(null==e?void 0:e.stateOrProvinceCode)||(null==e?void 0:e.stateOrProvince)||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCodeAlpha2:(null==e?void 0:e.countryCode)||\"\"}}shouldRunAuthenticationFlow(){const e=this.paymentIntegrationService.getState(),t=e.getCartOrThrow(),i=e.getCustomerOrThrow(),n=e.getPaymentProviderCustomer(),r=Qe(n)?n:{},o=this.braintreeFastlaneUtils.getSessionIdFromCookies();return!(!i.isGuest||(null==r?void 0:r.authenticationState)===oe.CANCELED||(null==r?void 0:r.authenticationState)||o!==t.id)}getBraintreeCardComponentOrThrow(){if(!this.braintreeCardComponent)throw new U;return this.braintreeCardComponent}getPayPalInstruments(){const e=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow();return(Qe(e)?e:{}).instruments||[]}handleBraintreeStoredInstrumentChange(e){return Ze(this,void 0,void 0,function*(){const t=this.braintreeFastlaneUtils.getBraintreeFastlaneOrThrow(),{selectionChanged:i,selectedCard:n}=yield t.profile.showCardSelector();if(i){const t=this.paymentIntegrationService.getState().getPaymentProviderCustomer(),i=Qe(t)?t:{},r=this.braintreeFastlaneUtils.mapPayPalToBcInstrument(e,[n]);if(r&&r.length>0)return yield this.paymentIntegrationService.updatePaymentProviderCustomer(Object.assign(Object.assign({},i),{instruments:[...r]})),r[0]}})}}const tt=$(e=>{const i=window,n=new v(e),r=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,n),i),o=new me(e,r),a=new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,n),s=new ve(a);return new et(e,o,s)},[{id:\"braintreeacceleratedcheckout\"}]);var it=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class nt{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i}initialize(e){return it(this,void 0,void 0,function*(){const{braintreevisacheckout:t,methodId:i}=e;if(!t)throw new w('Unable to initialize payment because \"options.braintreevisacheckout\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState();this.paymentMethod=n.getPaymentMethodOrThrow(i);const r=n.getCheckoutOrThrow(),o=n.getStoreConfigOrThrow(),{clientToken:s,config:d}=this.paymentMethod||{};if(!s)throw new G(H.MissingPaymentMethod);const{onError:l=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onPaymentSelect:c=lodash__WEBPACK_IMPORTED_MODULE_2__.noop}=t;this.braintreeSdk.initialize(s);const u=yield this.braintreeSdk.getBraintreeVisaCheckout(),h=yield this.braintreeSdk.getVisaCheckoutSdk(null==d?void 0:d.testMode),y=u.createInitOptions({settings:{locale:o.storeProfile.storeLanguage,shipping:{collectShipping:!1}},paymentRequest:{currencyCode:o.currency.code,subtotal:String(r.subtotal)}});yield h.init(y),h.on(\"payment.success\",e=>this.tokenizePayment(u,e).then(()=>Promise.all([this.paymentIntegrationService.loadCheckout(),this.paymentIntegrationService.loadPaymentMethod(i)])).then(()=>c()).catch(e=>l(e))),h.on(\"payment.error\",(e,t)=>l(t))})}execute(e,t){var i,n;return it(this,void 0,void 0,function*(){const{payment:r}=e,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!r)throw new w('Unable to submit payment because \"payload.payment\" argument is not provided.');if(!(null===(n=null===(i=this.paymentMethod)||void 0===i?void 0:i.initializationData)||void 0===n?void 0:n.nonce))throw new G(H.MissingPaymentMethod);const{nonce:a}=this.paymentMethod.initializationData;try{yield this.paymentIntegrationService.submitOrder(o,t),yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},r),{paymentData:{nonce:a}}))}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new Pe)}deinitialize(){return it(this,void 0,void 0,function*(){yield this.braintreeSdk.deinitialize()})}tokenizePayment(e,t){return it(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.mapToVisaCheckoutAddress(n),billingAddress:a=this.mapToVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}mapToVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}handleError(e){if(e instanceof Error&&\"BraintreeError\"===e.name)throw new Oe(e.message);throw e}}const rt=$(i=>{const n=window,r=new v(i),o=new ve(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r));return new nt(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o)},[{id:\"braintreevisacheckout\"}]);var ot=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class at{constructor(e,t){this.paymentIntegrationService=e,this.braintreeIntegrationService=t}initialize(e){return ot(this,void 0,void 0,function*(){const{methodId:t}=e;yield this.paymentIntegrationService.loadPaymentMethod(t);const i=this.paymentIntegrationService.getState();this.venmoOptions=e.braintreevenmo;const n=i.getPaymentMethodOrThrow(t);yield this.initializeBraintreeVenmo(n)})}execute(e){return ot(this,void 0,void 0,function*(){const{payment:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!t)throw new C([\"payment\"]);try{const e=yield this.preparePaymentData(t);yield this.paymentIntegrationService.submitOrder(i),yield this.paymentIntegrationService.submitPayment(e)}catch(e){this.handleError(e)}})}finalize(){return Promise.reject(new Pe)}deinitialize(){return ot(this,void 0,void 0,function*(){return yield this.braintreeIntegrationService.teardown(),Promise.resolve()})}handleError(e){if(!L(e))throw e;if(\"PAYPAL_POPUP_CLOSED\"===e.code)throw new O(e.message);throw new Oe(e.message)}initializeBraintreeVenmo(e){var t;return ot(this,void 0,void 0,function*(){const{clientToken:i}=e;if(!i)throw new G(H.MissingPaymentMethod);const n=y(this.paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings.features,\"PAYPAL-5406.braintree_venmo_web_fallback_support\");try{this.braintreeIntegrationService.initialize(i),this.braintreeVenmoCheckout=yield this.braintreeIntegrationService.getVenmoCheckout(Object.assign(Object.assign({},void 0!==(null===(t=this.venmoOptions)||void 0===t?void 0:t.allowDesktop)?{allowDesktop:this.venmoOptions.allowDesktop}:{}),n?{mobileWebFallBack:n}:{}))}catch(e){this.handleError(e)}})}preparePaymentData(e){return ot(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState(),{nonce:i}=t.getPaymentMethodOrThrow(e.methodId);if(i)return Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(i)});const n=yield this.braintreeVenmoTokenize(),r=yield this.braintreeIntegrationService.getSessionId();return Object.assign(Object.assign({},e),{paymentData:this.formattedPayload(n.nonce,n.details.email,r)})})}formattedPayload(e,t,i){return{formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:i||null,paypal_account:{token:e,email:t||null}}}}braintreeVenmoTokenize(){return new Promise((e,t)=>{var i;null===(i=this.braintreeVenmoCheckout)||void 0===i||i.tokenize((i,n)=>{if(i)return t(i);e(n)})})}}const st=$(e=>{const i=window,n=(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),r=new v(e),o=new q(n,i,r),a=new j(o,i);return new at(e,a)},[{id:\"braintreevenmo\"}]);var dt=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class lt{constructor(e,t,i){this.paymentIntegrationService=e,this.braintreeIntegrationService=t,this.braintreeHostedForm=i}initialize(e){return dt(this,void 0,void 0,function*(){const{methodId:t,gatewayId:i,braintree:n}=e;yield this.paymentIntegrationService.loadPaymentMethod(t);const r=this.paymentIntegrationService.getState();this.paymentMethod=r.getPaymentMethodOrThrow(t);const{clientToken:o}=this.paymentMethod;if(!o)throw new G(H.MissingPaymentMethod);this.threeDSecure=null==n?void 0:n.threeDSecure,this.onPaymentError=null==n?void 0:n.onPaymentError;try{this.braintreeIntegrationService.initialize(o,this.threeDSecure),this.isHostedPaymentFormEnabled(t,i)&&(null==n?void 0:n.form)&&(yield this.braintreeHostedForm.initialize(n.form,n.unsupportedCardBrands,o),this.isHostedFormInitialized=this.braintreeHostedForm.isInitialized()),this.is3dsEnabled=this.paymentMethod.config.is3dsEnabled,this.deviceSessionId=yield this.braintreeIntegrationService.getSessionId(),this.shouldInitializeBraintreeFastlane()&&(yield this.initializeBraintreeFastlaneOrThrow(t))}catch(e){return this.handleError(e,t)}})}execute(e){return dt(this,void 0,void 0,function*(){const{payment:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!t)throw new C([\"payment\"]);this.isHostedFormInitialized&&this.braintreeHostedForm.validate(),yield this.paymentIntegrationService.submitOrder(i);const n=this.paymentIntegrationService.getState(),r=n.getBillingAddressOrThrow(),o=n.getOrderOrThrow().orderAmount;try{const e=this.isHostedFormInitialized?yield this.prepareHostedPaymentData(t,r,o):yield this.preparePaymentData(t,r,o);yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},t),{paymentData:e}))}catch(e){return this.processAdditionalAction(e,t,o)}})}finalize(){return Promise.reject(new Pe)}deinitialize(){return dt(this,void 0,void 0,function*(){return this.isHostedFormInitialized=!1,yield Promise.all([this.braintreeIntegrationService.teardown(),this.braintreeHostedForm.deinitialize()]),Promise.resolve()})}handleError(e,t){var i;if(xe(e)){if(!(t&&this.paymentIntegrationService.getState().isPaymentMethodInitialized({methodId:t})||\"HOSTED_FIELDS_INVALID_FIELD_SELECTOR\"!==e.code))return;if(e.code.startsWith(\"THREEDS_\"))return null===(i=this.onPaymentError)||void 0===i||i.call(this,new Oe(\"THREEDS_VERIFICATION_FAILED\")),Promise.reject();throw new Oe(e.message)}throw e}preparePaymentData(e,t,i){return dt(this,void 0,void 0,function*(){const{paymentData:n}=e,r={deviceSessionId:this.deviceSessionId};if(this.isSubmittingWithStoredCard(e))return Object.assign(Object.assign({},r),n);const{shouldSaveInstrument:o=!1,shouldSetAsDefaultInstrument:a=!1}=Ie(n)?n:{},{nonce:s}=this.shouldPerform3DSVerification(e)?yield this.braintreeIntegrationService.verifyCard(e,t,i):yield this.braintreeIntegrationService.tokenizeCard(e,t);return Object.assign(Object.assign({},r),{nonce:s,shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a})})}prepareHostedPaymentData(e,t,i){return dt(this,void 0,void 0,function*(){const{paymentData:n}=e,r={deviceSessionId:this.deviceSessionId};if(this.isSubmittingWithStoredCard(e)){const{nonce:e}=yield this.braintreeHostedForm.tokenizeForStoredCardVerification();return Object.assign(Object.assign(Object.assign({},r),n),{nonce:e})}const{shouldSaveInstrument:o=!1,shouldSetAsDefaultInstrument:a=!1}=Ie(n)?n:{},{nonce:s}=this.shouldPerform3DSVerification(e)?yield this.verifyCardWithHostedForm(t,i):yield this.braintreeHostedForm.tokenize(t);return Object.assign(Object.assign({},r),{shouldSaveInstrument:o,shouldSetAsDefaultInstrument:a,nonce:s})})}prepareAdditionalActionPaymentData(e,t){const{paymentData:i}=e,n={deviceSessionId:this.deviceSessionId,nonce:t},{shouldSaveInstrument:r=!1,shouldSetAsDefaultInstrument:o=!1}=Ie(i)?i:{};return this.isSubmittingWithStoredCard(e)&&(r||o)?Object.assign(Object.assign({},i),n):Object.assign({},n)}verifyCardWithHostedForm(e,t){return dt(this,void 0,void 0,function*(){const i=yield this.braintreeHostedForm.tokenize(e);return this.braintreeIntegrationService.challenge3DSVerification(i,t)})}processAdditionalAction(e,t,i){return dt(this,void 0,void 0,function*(){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(e.body.errors,{code:\"three_d_secure_required\"}))return this.handleError(e);try{const{payer_auth_request:n}=function(e){return\"object\"==typeof e&&null!==e&&\"name\"in e&&\"body\"in e&&\"status\"in e.body&&\"three_ds_result\"in e.body&&\"payer_auth_request\"in e.body.three_ds_result&&\"errors\"in e.body}(e)&&e.body.three_ds_result||{},{paymentData:r}=t,o=this.paymentIntegrationService.getState();if(!r||!Se(r))throw new C([\"instrumentId\"]);const a=o.getCardInstrumentOrThrow(r.instrumentId),{nonce:s}=yield this.braintreeIntegrationService.challenge3DSVerification({nonce:n||\"\",bin:a.iin},i),d=this.prepareAdditionalActionPaymentData(t,s);yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},t),{paymentData:d}))}catch(e){return this.handleError(e)}})}isHostedPaymentFormEnabled(e,t){return!!e&&!0===this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}isSubmittingWithStoredCard(e){return!(!e.paymentData||!Se(e.paymentData))}shouldPerform3DSVerification(e){return!(!this.is3dsEnabled||this.isSubmittingWithStoredCard(e))}shouldInitializeBraintreeFastlane(){var e;const t=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow(),i=Qe(t)?t:{};return(null===(e=this.paymentMethod)||void 0===e?void 0:e.initializationData.isAcceleratedCheckoutEnabled)&&!(null==i?void 0:i.authenticationState)}initializeBraintreeFastlaneOrThrow(e){return dt(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getPaymentMethodOrThrow(e),{clientToken:r,config:o}=n;if(!r)throw new G(H.MissingPaymentMethod);this.braintreeIntegrationService.initialize(r,this.threeDSecure),yield this.braintreeIntegrationService.getBraintreeFastlane(i.id,o.testMode)})}}function ct(e){return\"cardNumber\"in e}function ut(e){if(!L(e))return!1;const{details:t}=e;return void 0===t||\"object\"==typeof t&&null!==t&&void 0===t.invalidFieldKeys||(i=t,Array.isArray(i)&&i.every(e=>\"string\"==typeof e));// removed by dead control flow\n var i; }var ht,yt=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};!function(e){e[e.CreditCard=0]=\"CreditCard\",e[e.StoredCardVerification=1]=\"StoredCardVerification\"}(ht||(ht={}));class mt{constructor(e,t){this.braintreeScriptLoader=e,this.braintreeSDKVersionManager=t,this.isInitializedHostedForm=!1,this.handleBlur=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onBlur)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy),errors:this.mapErrors(e.fields)})},this.handleFocus=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onFocus)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy)})},this.handleCardTypeChange=e=>{var t,i;const n=1===e.cards.length?e.cards[0].type.replace(/^master-card$/,\"mastercard\"):void 0;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onCardTypeChange)||void 0===i||i.call(t,{cardType:n})},this.handleInputSubmitRequest=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onEnter)||void 0===i||i.call(t,{fieldType:this.mapFieldType(e.emittedBy)})},this.handleValidityChange=e=>{var t,i;null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onValidate)||void 0===i||i.call(t,{isValid:this.isValidForm(e),errors:this.mapValidationErrors(e.fields)})}}initialize(e,t,i){var r,o,a,s,d;return yt(this,void 0,void 0,function*(){this.clientToken=i,this.formOptions=e,this.type=ct(e.fields)?ht.CreditCard:ht.StoredCardVerification;const l=this.mapFieldOptions(e.fields,t);(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(l)?this.isInitializedHostedForm=!1:(this.cardFields=yield this.createHostedFields({fields:l,styles:e.styles&&this.mapStyleOptions(e.styles)}),null===(r=this.cardFields)||void 0===r||r.on(\"blur\",this.handleBlur),null===(o=this.cardFields)||void 0===o||o.on(\"focus\",this.handleFocus),null===(a=this.cardFields)||void 0===a||a.on(\"cardTypeChange\",this.handleCardTypeChange),null===(s=this.cardFields)||void 0===s||s.on(\"validityChange\",this.handleValidityChange),null===(d=this.cardFields)||void 0===d||d.on(\"inputSubmitRequest\",this.handleInputSubmitRequest),this.isInitializedHostedForm=!0)})}isInitialized(){return!!this.isInitializedHostedForm}deinitialize(){var e;return yt(this,void 0,void 0,function*(){this.isInitializedHostedForm&&(this.isInitializedHostedForm=!1,yield null===(e=this.cardFields)||void 0===e?void 0:e.teardown())})}validate(){if(!this.cardFields)throw new I(P.PaymentNotInitialized);const e=this.cardFields.getState();if(!this.isValidForm(e)){this.handleValidityChange(e);const t=this.mapValidationErrors(e.fields);throw new S(t)}}tokenize(e){var t,i,n,r,a;return yt(this,void 0,void 0,function*(){if(!this.cardFields)throw new I(P.PaymentNotInitialized);try{const r=yield this.cardFields.tokenize((0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)({billingAddress:e&&this.mapBillingAddress(e)},lodash__WEBPACK_IMPORTED_MODULE_2__.isNil));return null===(i=null===(t=this.formOptions)||void 0===t?void 0:t.onValidate)||void 0===i||i.call(t,{isValid:!0,errors:{}}),{nonce:r.nonce,bin:null===(n=r.details)||void 0===n?void 0:n.bin}}catch(e){if(ut(e)){const t=this.mapTokenizeError(e);if(t)throw null===(a=null===(r=this.formOptions)||void 0===r?void 0:r.onValidate)||void 0===a||a.call(r,{isValid:!1,errors:t}),new S(t)}throw e}})}tokenizeForStoredCardVerification(){var e,t,i,n,r;return yt(this,void 0,void 0,function*(){if(!this.cardFields)throw new I(P.PaymentNotInitialized);try{const n=yield this.cardFields.tokenize();return null===(t=null===(e=this.formOptions)||void 0===e?void 0:e.onValidate)||void 0===t||t.call(e,{isValid:!0,errors:{}}),{nonce:n.nonce,bin:null===(i=n.details)||void 0===i?void 0:i.bin}}catch(e){if(ut(e)){const t=this.mapTokenizeError(e,!0);if(t)throw null===(r=null===(n=this.formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:!1,errors:t}),new S(t)}throw e}})}createHostedFields(e){return yt(this,void 0,void 0,function*(){const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadHostedFields(),n=this.braintreeSDKVersionManager.getSDKVersion()===m?Object.assign(Object.assign({},e),{preventCursorJumps:!0}):e;return i.create(Object.assign(Object.assign({},n),{client:t}))})}getClient(){return yt(this,void 0,void 0,function*(){if(!this.clientToken)throw new I(P.PaymentNotInitialized);if(!this.client){const e=yield this.braintreeScriptLoader.loadClient();this.client=e.create({authorization:this.clientToken})}return this.client})}mapBillingAddress(e){return{countryName:e.country,postalCode:e.postalCode,streetAddress:e.address2?`${e.address1} ${e.address2}`:e.address1}}mapFieldOptions(e,t){if(ct(e)){const i={};return null==t||t.forEach(e=>{(e=>Object.values(de).includes(e))(e)&&(i[e]=!1)}),(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)({number:Object.assign({container:`#${e.cardNumber.containerId}`,placeholder:e.cardNumber.placeholder,internalLabel:e.cardNumber.accessibilityLabel},Object.keys(i).length>0?{supportedCardBrands:i}:{}),expirationDate:{container:`#${e.cardExpiry.containerId}`,placeholder:e.cardExpiry.placeholder,internalLabel:e.cardExpiry.accessibilityLabel},cvv:e.cardCode&&{container:`#${e.cardCode.containerId}`,placeholder:e.cardCode.placeholder,internalLabel:e.cardCode.accessibilityLabel},cardholderName:{container:`#${e.cardName.containerId}`,placeholder:e.cardName.placeholder,internalLabel:e.cardName.accessibilityLabel}},lodash__WEBPACK_IMPORTED_MODULE_2__.isNil)}return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)({number:e.cardNumberVerification&&{container:`#${e.cardNumberVerification.containerId}`,placeholder:e.cardNumberVerification.placeholder},cvv:e.cardCodeVerification&&{container:`#${e.cardCodeVerification.containerId}`,placeholder:e.cardCodeVerification.placeholder}},lodash__WEBPACK_IMPORTED_MODULE_2__.isNil)}mapStyleOptions(e){const t=(e={})=>(0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)({color:e.color,\"font-family\":e.fontFamily,\"font-size\":e.fontSize,\"font-weight\":e.fontWeight},lodash__WEBPACK_IMPORTED_MODULE_2__.isNil);return{input:t(e.default),\".invalid\":t(e.error),\":focus\":t(e.focus)}}mapFieldType(e){switch(e){case\"number\":return this.type===ht.StoredCardVerification?F.CardNumberVerification:F.CardNumber;case\"expirationDate\":return F.CardExpiry;case\"cvv\":return this.type===ht.StoredCardVerification?F.CardCodeVerification:F.CardCode;case\"cardholderName\":return F.CardName;default:throw new Error(\"Unexpected field type\")}}mapErrors(e){const t={};if(e)for(const[i,n]of Object.entries(e))if(n&&this.isValidParam(i)){const{isValid:e,isEmpty:r,isPotentiallyValid:o}=n;t[i]={isValid:e,isEmpty:r,isPotentiallyValid:o}}return t}mapValidationErrors(e){return Object.keys(e).reduce((t,i)=>{var n;return Object.assign(Object.assign({},t),{[this.mapFieldType(i)]:(null===(n=e[i])||void 0===n?void 0:n.isValid)?void 0:[this.createInvalidError(this.mapFieldType(i))]})},{})}mapTokenizeError(e,t=!1){var i,n;if(\"HOSTED_FIELDS_FIELDS_EMPTY\"===e.code){const e=[this.createRequiredError(this.mapFieldType(\"cvv\"))];return t?{[this.mapFieldType(\"cvv\")]:e}:{[this.mapFieldType(\"cvv\")]:e,[this.mapFieldType(\"expirationDate\")]:[this.createRequiredError(this.mapFieldType(\"expirationDate\"))],[this.mapFieldType(\"number\")]:[this.createRequiredError(this.mapFieldType(\"number\"))],[this.mapFieldType(\"cardholderName\")]:[this.createRequiredError(this.mapFieldType(\"cardholderName\"))]}}return null===(n=null===(i=e.details)||void 0===i?void 0:i.invalidFieldKeys)||void 0===n?void 0:n.reduce((e,t)=>{const i=this.mapFieldType(t);return Object.assign(Object.assign({},e),{[i]:[this.createInvalidError(i)]})},{})}createRequiredError(e){var t;return{fieldType:e,message:null!==(t={[F.CardCode]:\"CVV is required\",[F.CardCodeVerification]:\"CVV is required\",[F.CardNumber]:\"Credit card number is required\",[F.CardNumberVerification]:\"Credit card number is required\",[F.CardExpiry]:\"Expiration date is required\",[F.CardName]:\"Full name is required\"}[e])&&void 0!==t?t:\"Field is required\",type:\"required\"}}createInvalidError(e){var t,i,n,r;const o={[F.CardCode]:{message:\"Invalid card code\",type:\"invalid_card_code\"},[F.CardCodeVerification]:{message:\"Invalid card code\",type:\"invalid_card_code\"},[F.CardNumber]:{message:\"Invalid card number\",type:\"invalid_card_number\"},[F.CardNumberVerification]:{message:\"Invalid card number\",type:\"invalid_card_number\"},[F.CardExpiry]:{message:\"Invalid card expiry\",type:\"invalid_card_expiry\"},[F.CardName]:{message:\"Invalid card name\",type:\"invalid_card_name\"}};return{fieldType:e,message:null!==(i=null===(t=o[e])||void 0===t?void 0:t.message)&&void 0!==i?i:\"Invalid field\",type:null!==(r=null===(n=o[e])||void 0===n?void 0:n.type)&&void 0!==r?r:\"invalid\"}}isValidForm(e){return Object.keys(e.fields).every(t=>{var i;return null===(i=e.fields[t])||void 0===i?void 0:i.isValid})}isValidParam(e){return[\"number\",\"cvv\",\"expirationDate\",\"postalCode\",\"cardholderName\",\"cardType\"].includes(e)}}const pt=$(e=>{const i=window,n=new v(e),r=new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),i,n),o=new j(r,i),a=new mt(r,n);return new lt(e,o,a)},[{id:\"braintree\"}]);class gt extends f{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}function vt(e){const{color:t,fundingicons:i,height:n=40,layout:r,shape:a,size:s,tagline:l}=e||{},c={color:t,fundingicons:i,height:ft(n),layout:r,shape:a||\"rect\",size:s,tagline:l};return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.omitBy)(c,lodash__WEBPACK_IMPORTED_MODULE_2__.isNil)}function ft(e){const t=Number(e);return!t||Number.isNaN(t)?40:t>55?55:t<25?25:t}var bt=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class wt{constructor(e,t,i,n){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeHostWindow=n}initialize(e){return bt(this,void 0,void 0,function*(){const{braintreepaypal:t,containerId:i,methodId:n}=e;if(!n)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!i)throw new w('Unable to initialize payment because \"options.containerId\" argument is not provided.');if(!t)throw new w('Unable to initialize payment because \"options.braintreepaypal\" argument is not provided.');let r,o=this.paymentIntegrationService.getState();if(t.buyNowInitializeOptions){if(!t.currencyCode)throw new w('Unable to initialize payment because \"options.braintreepaypalcredit.currencyCode\" argument is not provided.');r=t.currencyCode}else yield this.paymentIntegrationService.loadDefaultCheckout(),o=this.paymentIntegrationService.getState(),r=o.getCartOrThrow().currency.code;const a=o.getPaymentMethodOrThrow(n),{clientToken:s,config:d,initializationData:l}=a;if(!s||!l)throw new G(H.MissingPaymentMethod);const c={currency:r,intent:l.intent,isCreditEnabled:l.isCreditEnabled,commit:!1};this.braintreeIntegrationService.initialize(s),yield this.braintreeIntegrationService.getPaypalCheckout(c,e=>{this.renderPayPalButton(e,t,i,n,!!d.testMode)},e=>this.handleError(e,i,t.onError))})}deinitialize(){return bt(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}renderPayPalButton(e,t,i,n,r){const{style:o,shouldProcessPayment:a,onAuthorizeError:s,onEligibilityFailure:d}=t,{paypal:l}=this.braintreeHostWindow;if(l){const c=l.Buttons({env:r?\"sandbox\":\"production\",fundingSource:l.FUNDING.PAYPAL,style:vt(o),createOrder:()=>this.setupPayment(e,t,n),onApprove:t=>this.tokenizePayment(t,e,n,a,s)});c.isEligible()?c.render(`#${i}`):d&&\"function\"==typeof d&&d()}else this.braintreeIntegrationService.removeElement(i)}setupPayment(e,t,i){var n;return bt(this,void 0,void 0,function*(){const{onPaymentError:r,shippingAddress:o,buyNowInitializeOptions:a}=t;try{const r=\"function\"==typeof(null==a?void 0:a.getBuyNowCartRequestBody)?yield this.createBuyNowCart(a.getBuyNowCartRequestBody()):void 0;this.buyNowCartId=null==r?void 0:r.id;const s=this.paymentIntegrationService.getState(),d=s.getCustomer(),l=s.getPaymentMethodOrThrow(i),c=r?r.cartAmount:s.getCartOrThrow().cartAmount,u=r?t.currencyCode:s.getCartOrThrow().currency.code,h=o||(null==d?void 0:d.addresses[0]),y=h?Fe(h):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:y,amount:c,currency:u,offerCredit:!1,intent:null===(n=l.initializationData)||void 0===n?void 0:n.intent})}catch(e){throw r&&(L(e)||e instanceof f)&&r(e),e}})}tokenizePayment(e,t,i,n,r){return bt(this,void 0,void 0,function*(){try{const{deviceData:r}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),o=yield t.tokenizePayment(e),{details:a,nonce:s}=o,d=this.braintreeIntegrationService.mapToLegacyBillingAddress(a),l=this.braintreeIntegrationService.mapToLegacyShippingAddress(a);return this.formPoster.postForm(\"/checkout.php\",Object.assign({payment_type:\"paypal\",provider:i,action:n?\"process_payment\":\"set_external_checkout\",nonce:s,device_data:r,billing_address:JSON.stringify(d),shipping_address:JSON.stringify(l)},this.buyNowCartId&&{cart_id:this.buyNowCartId})),o}catch(e){throw r&&(L(e)||e instanceof f)&&r(e),e}})}createBuyNowCart(e){return bt(this,void 0,void 0,function*(){if(!e)throw new G(H.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(e)}catch(e){throw new gt}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!L(e))throw e;i(e)}}const Ct=$(i=>{const n=window,r=new v(i),o=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r),n);return new wt(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o,n)},[{id:\"braintreepaypal\"}]);var St=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class Pt{constructor(e,t,i,n,r){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeIntegrationService=i,this.braintreeMessages=n,this.braintreeHostWindow=r}initialize(e){var t,i;return St(this,void 0,void 0,function*(){const{braintreepaypalcredit:n,containerId:r,methodId:o}=e;if(!o)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!r)throw new w('Unable to initialize payment because \"options.containerId\" argument is not provided.');if(!n)throw new w('Unable to initialize payment because \"options.braintreepaypalcredit\" argument is not provided.');let a,s=this.paymentIntegrationService.getState();if(n.buyNowInitializeOptions){if(!n.currencyCode)throw new w('Unable to initialize payment because \"options.braintreepaypalcredit.currencyCode\" argument is not provided.');a=n.currencyCode}else yield this.paymentIntegrationService.loadDefaultCheckout(),s=this.paymentIntegrationService.getState(),a=s.getCartOrThrow().currency.code;const d=s.getPaymentMethodOrThrow(o),{clientToken:l,config:c,initializationData:u}=d;if(!l||!u)throw new G(H.MissingPaymentMethod);const h={currency:a,intent:u.intent,isCreditEnabled:u.isCreditEnabled,commit:!1},m=y(null!==(i=null===(t=s.getStoreConfig())||void 0===t?void 0:t.checkoutSettings.features)&&void 0!==i?i:{},\"PAYPAL-5663.hide_braintree_card_banner_implementation_in_checkout_sdk\");this.braintreeIntegrationService.initialize(l),yield this.braintreeIntegrationService.getPaypalCheckout(h,e=>{!m&&n.messagingContainerId&&this.renderPayPalMessages(o,n.messagingContainerId),this.renderPayPalButton(e,n,r,o,!!c.testMode)},e=>this.handleError(e,r,n.onError))})}deinitialize(){return St(this,void 0,void 0,function*(){yield this.braintreeIntegrationService.teardown()})}renderPayPalMessages(e,t){this.braintreeMessages.render(e,t,_.CART)}renderPayPalButton(e,t,i,n,r){const{style:o,shouldProcessPayment:a,onAuthorizeError:s,onEligibilityFailure:d}=t,{paypal:l}=this.braintreeHostWindow;let c=!1;l&&[l.FUNDING.PAYLATER,l.FUNDING.CREDIT].forEach(u=>{const h=u===l.FUNDING.CREDIT?Object.assign({label:D.CREDIT},vt(o)):vt(o);if(!c){const o=l.Buttons({env:r?\"sandbox\":\"production\",fundingSource:u,style:h,createOrder:()=>this.setupPayment(e,t,n),onApprove:t=>this.tokenizePayment(t,e,n,a,s)});o.isEligible()?(o.render(`#${i}`),c=!0):l.FUNDING.CREDIT&&d&&\"function\"==typeof d&&d()}}),l&&c||this.braintreeIntegrationService.removeElement(i)}setupPayment(e,t,i){var n;return St(this,void 0,void 0,function*(){const{onPaymentError:r,shippingAddress:o,buyNowInitializeOptions:a}=t;try{const r=\"function\"==typeof(null==a?void 0:a.getBuyNowCartRequestBody)?yield this.createBuyNowCart(a.getBuyNowCartRequestBody()):void 0;this.buyNowCartId=null==r?void 0:r.id;const s=this.paymentIntegrationService.getState(),d=s.getCustomer(),l=s.getPaymentMethodOrThrow(i),c=r?r.cartAmount:s.getCartOrThrow().cartAmount,u=r?t.currencyCode:s.getCartOrThrow().currency.code,h=o||(null==d?void 0:d.addresses[0]),y=h?Fe(h):void 0;return yield e.createPayment({flow:\"checkout\",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:y,amount:c,currency:u,offerCredit:!0,intent:null===(n=l.initializationData)||void 0===n?void 0:n.intent})}catch(e){throw r&&(L(e)||e instanceof f)&&r(e),e}})}tokenizePayment(e,t,i,n,r){return St(this,void 0,void 0,function*(){try{const{deviceData:r}=yield this.braintreeIntegrationService.getDataCollector({paypal:!0}),o=yield t.tokenizePayment(e),{details:a,nonce:s}=o,d=this.braintreeIntegrationService.mapToLegacyBillingAddress(a),l=this.braintreeIntegrationService.mapToLegacyShippingAddress(a);return this.formPoster.postForm(\"/checkout.php\",Object.assign({payment_type:\"paypal\",provider:i,action:n?\"process_payment\":\"set_external_checkout\",nonce:s,device_data:r,billing_address:JSON.stringify(d),shipping_address:JSON.stringify(l)},this.buyNowCartId&&{cart_id:this.buyNowCartId})),o}catch(e){throw r&&(L(e)||e instanceof f)&&r(e),e}})}createBuyNowCart(e){return St(this,void 0,void 0,function*(){if(!e)throw new G(H.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(e)}catch(e){throw new gt}})}handleError(e,t,i){if(this.braintreeIntegrationService.removeElement(t),!i||!L(e))throw e;i(e)}}const It=$(i=>{const n=window,r=new v(i),o=new j(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r),n),a=new ze(i);return new Pt(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o,a,n)},[{id:\"braintreepaypalcredit\"}]);var Ot=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class kt{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i}initialize(e){return Ot(this,void 0,void 0,function*(){const{containerId:t,methodId:i}=e;if(!i)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');if(!t)throw new w('Unable to initialize payment because \"options.containerId\" argument is not provided.');yield this.paymentIntegrationService.loadPaymentMethod(i);const n=this.paymentIntegrationService.getState(),{clientToken:r,initializationData:o,config:a}=n.getPaymentMethodOrThrow(i);if(!r||!o)throw new G(H.MissingPaymentMethod);this.braintreeSdk.initialize(r);const s=yield this.braintreeSdk.getBraintreeVisaCheckout(),{currency:{code:d},cartAmount:l}=n.getCartOrThrow(),c=yield this.braintreeSdk.getVisaCheckoutSdk(a.testMode),u=s.createInitOptions({paymentRequest:{currencyCode:d,subtotal:String(l)},settings:{shipping:{collectShipping:!0}}});this.createSignInButton(t),yield c.init(u),c.on(\"payment.success\",e=>Ot(this,void 0,void 0,function*(){yield this.paymentSuccess(s,e)}))})}deinitialize(){return Promise.resolve()}paymentSuccess(e,t){return Ot(this,void 0,void 0,function*(){return Promise.all([e.tokenize(t),this.braintreeSdk.getDataCollectorOrThrow()]).then(([e,t])=>{const i=this.paymentIntegrationService.getState(),n=i.getShippingAddress(),r=i.getBillingAddress(),{shippingAddress:o=this.toVisaCheckoutAddress(n),billingAddress:a=this.toVisaCheckoutAddress(r)}=e;return this.postForm(Object.assign(Object.assign({},e),{shippingAddress:o,billingAddress:a}),t)})})}postForm(e,t){const{userData:i,billingAddress:n,shippingAddress:r,details:o}=e,{userEmail:a}=i,{deviceData:s}=t;return this.formPoster.postForm(\"/checkout.php\",{payment_type:e.type,nonce:e.nonce,provider:\"braintreevisacheckout\",action:\"set_external_checkout\",device_data:s,card_information:JSON.stringify({type:o.cardType,number:o.lastTwo}),billing_address:JSON.stringify(this.getAddress(a,n)),shipping_address:JSON.stringify(this.getAddress(a,r))})}toVisaCheckoutAddress(e){return e?{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,streetAddress:e.address1,extendedAddress:e.address2,locality:e.city,region:e.stateOrProvinceCode,countryCode:e.countryCode,postalCode:e.postalCode}:{}}getAddress(e,t={}){return{email:e,first_name:t.firstName,last_name:t.lastName,phone_number:t.phoneNumber,address_line_1:t.streetAddress,address_line_2:t.extendedAddress,city:t.locality,state:t.region,country_code:t.countryCode,postal_code:t.postalCode}}createSignInButton(e){const t=document.querySelector(`#${e}`);if(!t)throw new Error(\"Need a container to place the button\");return this.insertVisaCheckoutButton(t)}insertVisaCheckoutButton(e){const t=document.createElement(\"div\");return t.style.display=\"flex\",t.style.flexDirection=\"column\",t.style.alignItems=\"flex-end\",t.innerHTML='\\n            <img\\n                alt=\"Visa Checkout\"\\n                class=\"v-button\"\\n                role=\"button\"\\n                src=\"https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&height=34&width=178\"\\n                />\\n            <a class=\"v-learn v-learn-default\" style=\"text-align: right; display: block; font-size: 10px; color: #003366;\" href=\"#\" data-locale=\"en_US\">Tell Me More</a>',e.appendChild(t),t}}const Et=$(i=>{const n=window,r=new v(i),o=new ve(new q((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),n,r));return new kt(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),o)},[{id:\"braintreevisacheckout\"}]);function Tt(e){const{billingAddress:t,email:i,firstName:n,lastName:r,phone:o,shippingAddress:a}=e,s=t||a;return{email:i,first_name:n,last_name:r,phone_number:o,address_line_1:null==s?void 0:s.line1,address_line_2:null==s?void 0:s.line2,city:null==s?void 0:s.city,state:null==s?void 0:s.state,country_code:null==s?void 0:s.countryCode,postal_code:null==s?void 0:s.postalCode}}function At(e){const{email:t,phone:i,shippingAddress:n}=e,r=(null==n?void 0:n.recipientName)||\"\",[o,a]=r.split(\" \");return{email:t,first_name:o||\"\",last_name:a||\"\",phone_number:i,address_line_1:null==n?void 0:n.line1,address_line_2:null==n?void 0:n.line2,city:null==n?void 0:n.city,state:null==n?void 0:n.state,country_code:null==n?void 0:n.countryCode,postal_code:null==n?void 0:n.postalCode}}var zt=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};const Nt=e=>{const{color:t,height:i}=e;return{backgroundColor:(n=t||\"\",n===N.WHITE?\"#FFFFFF\":\"#3D95CE\"),backgroundPosition:\"50% 50%\",backgroundSize:\"80px auto\",backgroundImage:`url(\"/app/assets/img/payment-providers/venmo-logo-${t===N.WHITE?N.BLUE:N.WHITE}.svg\")`,backgroundRepeat:\"no-repeat\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"0.2s ease\",minHeight:`${i||40}px`,minWidth:\"150px\",height:\"100%\",width:\"100%\",border:t===N.WHITE?\"1px solid black\":\"none\"};// removed by dead control flow\n var n; };class Dt{constructor(e,t,i){this.paymentIntegrationService=e,this.formPoster=t,this.braintreeSdk=i,this.onError=lodash__WEBPACK_IMPORTED_MODULE_2__.noop}initialize(e){return zt(this,void 0,void 0,function*(){const{braintreevenmo:t,containerId:i,methodId:n}=e;if(!n)throw new w('Unable to initialize payment because \"options.methodId\" argument is not provided.');const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(n),{clientToken:o,initializationData:a}=r,{paymentButtonStyles:s}=a,{cartButtonStyles:d}=s||{},l=(null==t?void 0:t.style)||d;if(!o||!a)throw new G(H.MissingPaymentMethod);if(!i)throw new w('Unable to initialize payment because \"options.containerId\" argument is not provided.');yield this.paymentIntegrationService.loadDefaultCheckout(),this.onError=(null==t?void 0:t.onError)||this.handleError,this.braintreeSdk.initialize(o);try{const e=yield this.braintreeSdk.getVenmoCheckoutOrThrow();this.renderVenmoButton(e,i,null==t?void 0:t.buyNowInitializeOptions,l)}catch(e){(xe(e)||function(e){return e instanceof b}(e))&&this.handleInitializationVenmoError(e,i)}})}deinitialize(){return zt(this,void 0,void 0,function*(){return yield this.braintreeSdk.deinitialize(),Promise.resolve()})}handleError(e){throw new Error(e.message)}createBuyNowCart(e){return zt(this,void 0,void 0,function*(){if(\"function\"==typeof(null==e?void 0:e.getBuyNowCartRequestBody)){const t=null==e?void 0:e.getBuyNowCartRequestBody();if(!t)throw new G(H.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(t)}catch(e){throw new gt}}})}handleInitializationVenmoError(e,t){return this.removeVenmoContainer(t),this.onError(e)}removeVenmoContainer(e){const t=document.getElementById(e);t&&t.remove()}renderVenmoButton(e,t,i,n){const r=document.getElementById(t),{color:o}=n||{};if(!r)throw new w(\"Unable to create wallet button without valid container ID.\");r.setAttribute(\"aria-label\",\"Venmo\"),Object.assign(r.style,Nt(n||{})),r.addEventListener(\"click\",()=>zt(this,void 0,void 0,function*(){r.setAttribute(\"disabled\",\"true\");const t=yield this.createBuyNowCart(i);e.tokenize&&e.tokenize((e,i)=>zt(this,void 0,void 0,function*(){r.removeAttribute(\"disabled\"),e&&this.onError(e),yield this.handlePostForm(i,null==t?void 0:t.id)}))})),o===N.BLUE&&(r.addEventListener(\"mouseenter\",()=>{r.style.backgroundColor=\"#0a7fc2\"}),r.addEventListener(\"mouseleave\",()=>{r.style.backgroundColor=Nt(n||{}).backgroundColor}))}handlePostForm(e,t){return zt(this,void 0,void 0,function*(){const{deviceData:i}=yield this.braintreeSdk.getDataCollectorOrThrow(),{nonce:n,details:r}=e;this.formPoster.postForm(\"/checkout.php\",Object.assign({nonce:n,provider:\"braintreevenmo\",payment_type:\"paypal\",device_data:i,action:\"set_external_checkout\",billing_address:JSON.stringify(Tt(r)),shipping_address:JSON.stringify(At(r))},t&&{cart_id:t}))})}}const Mt=$(i=>{const n=window,r=(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),o=new v(i),a=new q(r,n,o),s=new ve(a);return new Dt(i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),s)},[{id:\"braintreevenmo\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9icmFpbnRyZWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsSUFBSUEsRUFBc0IsQ0FBQyxFQ0daLFNBQVNDLEVBQ3BCQyxFQUNBQyxFQUNBQyxHQUFnQixHLE1BRWhCLE9BQStCLFFBQXhCLEVBQUFGLEVBQVNDLFVBQWUsUUFBSUMsQ0FDdkMsQ0NUQUosRUFBb0JLLEVBQUksQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQW9CUyxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQTNFLE1BQU1JLEVBQTBDLFVBQzFDQyxFQUFnQyxVQUNoQ0MsRUFBK0IsVUNVN0IsTUFBTUMsRUFHakIsV0FBQUMsQ0FBb0JDLEdBQUEsS0FBQUEsMEJBQUFBLEVBRlosS0FBQUMsZ0JBQXVDQyxNQUU0QixDQUUzRSxhQUFBQyxHQUNJLE1BQ01DLEVBRFFDLEtBQUtMLDBCQUEwQk0sV0FDbkJDLGlCQUNwQjdCLEdBQVcwQixhQUFXLEVBQVhBLEVBQWFJLGlCQUFpQjlCLFdBQVksQ0FBQyxFQUk1RCxPQUZ5QjJCLEtBQUtJLDJCQU0xQmhDLEVBQW9CQyxFQUFVLG1EQUN2QmlCLEVBR1BsQixFQUFvQkMsRUFBVSw0Q0FDdkJrQixFQUdKQyxFQUNYLENBRVEsc0JBQUFZLEdBQ0osTUFBTUMsRUFBWUwsS0FBS0osZ0JBQWdCUyxVQUV2QyxHQUFJQSxFQUFXLENBQ1gsTUFBTUMsRUFBbUJDLDRDQUFBQSxDQUNyQjFCLE9BQU8yQixPQUFPSCxHQUNiSSxLQUFhQSxFQUFPQyxTQUd6QixPQUFPSixhQUFnQixF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QVEsd0JBQ1JFLGdCQUFpQkMsS0FBS0MsVUFBVXBNLEdBQTBCNUksSUFDMURpVixpQkFBa0JGLEtBQUtDLFVBQVUvTSxHQUEyQmpJLEtBQ3hEKytCLEdBQWdCLENBQUVDLFFBQVNELElBRXZDLEUsRUU3T0osTUFxQkEsR0FBZTV1QixFQW5CVm5TLElBQ0QsTUFBTWtFLEVBQTJDaEUsT0FDM0N5USxFQUFleUcsMkVBQUFBLEdBQ2Z4RyxFQUE2QixJQUFJOVEsRUFBMkJFLEdBQzVEaUUsRUFBd0IsSUFBSXlNLEVBQzlCQyxFQUNBek0sRUFDQTBNLEdBR0VnVSxFQUFlLElBQUl2QixHQUFhcGYsR0FFdEMsT0FBTyxJQUFJcStCLEdBQ1B0aUMsRUFDQXFYLDBFQUFBQSxHQUNBdU4sSUFJOEQsQ0FBQyxDQUFFdE4sR0FBSSxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ib290c3RyYXA/ZmZjYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdXRpbGl0eS9zcmMvaXMtZXhwZXJpbWVudC1lbmFibGVkL2lzLWV4cGVyaW1lbnQtZW5hYmxlZC50cz9jOWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJpc29uLnRzP2Y5YWIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJzaW9uLW1hbmFnZXIudHM/MDRmOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3Vuc3VwcG9ydGVkLWJyb3dzZXItZXJyb3IudHM/OTk3ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1pbnZhbGlkLWZvcm0tZXJyb3IudHM/YzBmYiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9ub3QtaW5pdGlhbGl6ZWQtZXJyb3IudHM/OGI0ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jYW5jZWxsZWQtZXJyb3IudHM/MDg5MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2NvbW1vbi9jYW5jZWxsYWJsZS1wcm9taXNlL2NhbmNlbGxhYmxlLXByb21pc2UudHM/Zjc0YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9sb2FkLXBheXBhbC1zZGstb25jZS50cz83ZTE5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3BheXBhbC50cz84OWM2Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS50cz9hNzhlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2lzLWJyYWludHJlZS1lcnJvci50cz8zMjg4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1pbnRlZ3JhdGlvbi1zZXJ2aWNlLnRzPzU5Y2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdXRpbHMvaXMtY3JlZGl0LWNhcmQtaW5zdHJ1bWVudC1saWtlLnRzPzE5MjkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2xpZW50LXVuYXZhaWxhYmxlLWVycm9yLnRzP2Y4ZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eS50cz9iMjg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL21pc3NpbmctZGF0YS1lcnJvci50cz9iN2RjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zY3JpcHQtbG9hZGVyLnRzPzY2YWIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbi50cz9mZDcwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsL2JyYWludHJlZS1wYXlwYWwtY3VzdG9tZXItc3RyYXRlZ3kudHM/ODBiNSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2NoZWNrb3V0LWJ1dHRvbnMvZGVmYXVsdC1jaGVja291dC1idXR0b24taGVpZ2h0LnRzP2Q0MjUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1jdXN0b21lci1zdHJhdGVneS50cz8wZmRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwtY3JlZGl0L2JyYWludHJlZS1wYXlwYWwtY3JlZGl0LWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2IwMzEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC1jcmVkaXQvY3JlYXRlLWJyYWludHJlZS1wYXlwYWwtY3JlZGl0LWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzY2Y2UiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdXRpbHMvZ2V0LWZhc3RsYW5lLXN0eWxlcy50cz8zODA4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3R5cGVzLnRzPzMwMjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2luc3RydW1lbnQudHM/ZjJiNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtZmFzdGxhbmUvYnJhaW50cmVlLWZhc3RsYW5lLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2JkMDciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0b3JhZ2Uvc3JjL2Nvb2tpZS1zdG9yYWdlLnRzPzE1M2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWZhc3RsYW5lL2JyYWludHJlZS1mYXN0bGFuZS11dGlscy50cz8xZWRmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1mYXN0bGFuZS9jcmVhdGUtYnJhaW50cmVlLWZhc3RsYW5lLWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzVlNzAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay50cz84MDY0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbXBsZW1lbnRlZC1lcnJvci50cz8zYTM1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS12aXNhLWNoZWNrb3V0L2JyYWludHJlZS12aXNhLWNoZWNrb3V0LWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2RjYWYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQvY3JlYXRlLWJyYWludHJlZS12aXNhLWNoZWNrb3V0LWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2I3YjIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLXZhdWx0ZWQtaW5zdHJ1bWVudC50cz8xODBmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL29yZGVyLWZpbmFsaXphdGlvbi1ub3QtcmVxdWlyZWQtZXJyb3IudHM/YjVhMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtaG9zdGVkLWludHJ1bWVudC1saWtlLnRzPzg3NjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtZmFpbGVkLWVycm9yLnRzPzA3ZGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvaXMtdXMtYmFuay1hY2NvdW50LWluc3RydW1lbnQtbGlrZS50cz8xNTAwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1hY2gvYnJhaW50cmVlLWFjaC1wYXltZW50LXN0cmF0ZWd5LnRzP2FlY2QiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWFjaC9jcmVhdGUtYnJhaW50cmVlLWFjaC1wYXltZW50LXN0cmF0ZWd5LnRzPzU1YzYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvY3JlYXRlLWJyYWludHJlZS1zZGsudHM/MzRlNCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtbWVzc2FnZXMudHM/ODAzZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdWkvc3JjL292ZXJsYXkvb3ZlcmxheS50cz9lZjY4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy91aS9zcmMvb3ZlcmxheS9vdmVybGF5LXN0eWxlLnRzPzc3MWYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3VpL3NyYy9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci50cz9iMDg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwtY29uc3RhbnRzLnRzPzE1YWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvaXMtYnJhaW50cmVlLWVycm9yLnRzPzY5YjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlLnRzP2UzZTYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9icmFpbnRyZWUtcGF5cGFsLXBheW1lbnQtc3RyYXRlZ3kudHM/MDI4ZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9pcy1icmFpbnRyZWUtcGF5cGFsLXByb3ZpZGVyLWVycm9yLnRzPzg0MDAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXBheXBhbC9jcmVhdGUtYnJhaW50cmVlLXBheXBhbC1wYXltZW50LXN0cmF0ZWd5LnRzPzJiMTMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vaHR0cC1yZXF1ZXN0L2NvbnRlbnQtdHlwZS50cz81MDRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9zZGstdmVyc2lvbi1oZWFkZXJzLnRzPzdiZjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXJlcXVlc3Qtc2VuZGVyLnRzPzM4ZmIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vaHR0cC1yZXF1ZXN0L2ludGVybmFsLWFwaS1oZWFkZXJzLnRzPzQxMTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcmVxdWVzdC1lcnJvci50cz9jODQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWludmFsaWQtZXJyb3IudHM/M2FkZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy90aW1lb3V0LWVycm9yLnRzPzA4MGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWxvY2FsLXBheW1lbnQtbWV0aG9kcy9icmFpbnRyZWUtbG9jYWwtbWV0aG9kcy1wYXltZW50LXN0cmF0ZWd5LnRzPzNhMjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWxvY2FsLXBheW1lbnQtbWV0aG9kcy9jcmVhdGUtYnJhaW50cmVlLWxvY2FsLW1ldGhvZHMtcGF5bWVudC1zdHJhdGVneS50cz9mZGMzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2lzLWJyYWludHJlZS1hY2NlbGVyYXRlZC1jaGVja291dC1jdXN0b21lci50cz83NTQxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1mYXN0bGFuZS9icmFpbnRyZWUtZmFzdGxhbmUtcGF5bWVudC1zdHJhdGVneS50cz9jMTFiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1mYXN0bGFuZS9jcmVhdGUtYnJhaW50cmVlLWZhc3RsYW5lLXBheW1lbnQtc3RyYXRlZ3kudHM/ZmM1MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmlzYS1jaGVja291dC9icmFpbnRyZWUtdmlzYS1jaGVja291dC1wYXltZW50LXN0cmF0ZWd5LnRzPzE0MjIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQvY3JlYXRlLWJyYWludHJlZS12aXNhLWNoZWNrb3V0LXBheW1lbnQtc3RyYXRlZ3kudHM/NWU4OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmVubW8vYnJhaW50cmVlLXZlbm1vLXBheW1lbnQtc3RyYXRlZ3kudHM/MzA3MiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmVubW8vY3JlYXRlLWJyYWludHJlZS12ZW5tby1wYXltZW50LXN0cmF0ZWd5LnRzPzYzNjUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvYnJhaW50cmVlLWNyZWRpdC1jYXJkL2JyYWludHJlZS1jcmVkaXQtY2FyZC1wYXltZW50LXN0cmF0ZWd5LnRzP2E5YTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaXMtcmVxdWVzdC1lcnJvci50cz9iNDNkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2lzLWJyYWludHJlZS1wYXltZW50LXJlcXVlc3QtM2RzLWVycm9yLnRzP2I4MzciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvdXRpbHMvaXMtYnJhaW50cmVlLWZvcm0tZmllbGRzLW1hcC50cz8xZTRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL3V0aWxzL2lzLWJyYWludHJlZS1ob3N0ZWQtZm9ybS1lcnJvci50cz9lZDU5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1ob3N0ZWQtZm9ybS9icmFpbnRyZWUtaG9zdGVkLWZvcm0udHM/NTFjMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtc3VwcG9ydGVkLWNhcmQtYnJhbmQudHM/ZjllNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtY3JlZGl0LWNhcmQvY3JlYXRlLWJyYWludHJlZS1jcmVkaXQtY2FyZC1wYXltZW50LXN0cmF0ZWd5LnRzP2E1MGEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvYnV5LW5vdy1jYXJ0LWNyZWF0aW9uLWVycm9yLnRzP2Q2MDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS1pbnRlZ3JhdGlvbi9zcmMvZ2V0LXZhbGlkLWJ1dHRvbi1zdHlsZS50cz9lMzg4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwvYnJhaW50cmVlLXBheXBhbC1idXR0b24tc3RyYXRlZ3kudHM/ZGIxYSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtcGF5cGFsL2NyZWF0ZS1icmFpbnRyZWUtcGF5cGFsLWJ1dHRvbi1zdHJhdGVneS50cz9mZjE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwtY3JlZGl0L2JyYWludHJlZS1wYXlwYWwtY3JlZGl0LWJ1dHRvbi1zdHJhdGVneS50cz81M2NkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2JyYWludHJlZS1wYXlwYWwtY3JlZGl0L2NyZWF0ZS1icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1idXR0b24tc3RyYXRlZ3kudHM/ODY0MiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmlzYS1jaGVja291dC9icmFpbnRyZWUtdmlzYS1jaGVja291dC1idXR0b24tc3RyYXRlZ3kudHM/ZjI0ZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmlzYS1jaGVja291dC9jcmVhdGUtYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtYnV0dG9uLXN0cmF0ZWd5LnRzPzYwNzciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvbWFwLXRvLWxlZ2FjeS1iaWxsaW5nLWFkZHJlc3MudHM/OWQzOSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9tYXAtdG8tbGVnYWN5LXNoaXBwaW5nLWFkZHJlc3MudHM/NDE0MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmVubW8vYnJhaW50cmVlLXZlbm1vLWJ1dHRvbi1zdHJhdGVneS50cz8zOWI4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtaW50ZWdyYXRpb24vc3JjL2lzVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IudHM/YmUxYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLWludGVncmF0aW9uL3NyYy9icmFpbnRyZWUtdmVubW8vY3JlYXRlLWJyYWludHJlZS12ZW5tby1idXR0b24tc3RyYXRlZ3kudHM/NzhhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlcyB7XG4gICAgW2ZlYXR1cmVOYW1lOiBzdHJpbmddOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgIGZlYXR1cmVzOiBGZWF0dXJlcyxcbiAgICBleHBlcmltZW50TmFtZTogc3RyaW5nLFxuICAgIGZhbGxiYWNrVmFsdWUgPSB0cnVlLFxuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZlYXR1cmVzW2V4cGVyaW1lbnROYW1lXSA/PyBmYWxsYmFja1ZhbHVlO1xufVxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT04gPSAnMy4xMjguMCc7XG5leHBvcnQgY29uc3QgQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04gPSAnMy4xMjMuMic7XG5leHBvcnQgY29uc3QgQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTiA9ICczLjEwNi4wJztcbiIsImltcG9ydCB7IGZpbmQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQgeyBpc0V4cGVyaW1lbnRFbmFibGVkIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91dGlsaXR5JztcblxuaW1wb3J0IHsgQnJhaW50cmVlSG9zdFdpbmRvdyB9IGZyb20gJy4vYnJhaW50cmVlJztcbmltcG9ydCB7XG4gICAgQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT04sXG59IGZyb20gJy4vYnJhaW50cmVlLXNkay12ZXJpc29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIge1xuICAgIHByaXZhdGUgYnJhaW50cmVlV2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSB7fVxuXG4gICAgZ2V0U0RLVmVyc2lvbigpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qgc3RvcmVDb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZygpO1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0b3JlQ29uZmlnPy5jaGVja291dFNldHRpbmdzLmZlYXR1cmVzIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHByZWxvYWRlZFZlcnNpb24gPSB0aGlzLmdldFByZWxvYWRlZFNES1ZlcnNpb24oKTtcblxuICAgICAgICBpZiAocHJlbG9hZGVkVmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHByZWxvYWRlZFZlcnNpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFeHBlcmltZW50RW5hYmxlZChmZWF0dXJlcywgJ1BBWVBBTC01ODA5LmJyYWludHJlZV9ob3N0ZWRfZmllbGRzX2ZpeF92ZXJzaW9uJykpIHtcbiAgICAgICAgICAgIHJldHVybiBCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT047XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFeHBlcmltZW50RW5hYmxlZChmZWF0dXJlcywgJ1BBWVBBTC01NjM2LnVwZGF0ZV9icmFpbnRyZWVfc2RrX3ZlcnNpb24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT047XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQcmVsb2FkZWRTREtWZXJzaW9uKCk6IHZvaWQgfCBzdHJpbmcge1xuICAgICAgICBjb25zdCBicmFpbnRyZWUgPSB0aGlzLmJyYWludHJlZVdpbmRvdy5icmFpbnRyZWU7XG5cbiAgICAgICAgaWYgKGJyYWludHJlZSkge1xuICAgICAgICAgICAgY29uc3QgcHJlbG9hZGVkVmVyc2lvbiA9IGZpbmQ8eyBWRVJTSU9OPzogc3RyaW5nIH0+KFxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoYnJhaW50cmVlKSxcbiAgICAgICAgICAgICAgICAobW9kdWxlKSA9PiAhIW1vZHVsZS5WRVJTSU9OLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByZWxvYWRlZFZlcnNpb24/LlZFUlNJT047XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IHsgU3RhbmRhcmRFcnJvciB9IGZyb20gJy4vaW5kZXgnO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgdGhlIHNob3BwZXIgaXMgdXNpbmcgYSBicm93c2VyIHZlcnNpb24gdGhhdCBpcyBub3RcbiAqIHN1cHBvcnRlZCBieSB1cyBvciBhbnkgdGhpcmQgcGFydHkgcHJvdmlkZXIgd2UgdXNlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnVW5zdXBwb3J0ZWQgYnJvd3NlciBlcnJvcicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICd1bnN1cHBvcnRlZF9icm93c2VyJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIG1ldGhvZCBpcyB1bmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZVxuICogY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSBhcmd1bWVudHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlcXVpcmVtZW50cyxcbiAqIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludmFsaWRBcmd1bWVudEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2ludmFsaWRfYXJndW1lbnQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzIHtcbiAgICBba2V5OiBzdHJpbmddOiBBcnJheTx7IG1lc3NhZ2U6IHN0cmluZzsgdHlwZTogc3RyaW5nIH0+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50SW52YWxpZEZvcm1FcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkZXRhaWxzOiBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBmb3JtIGNvbnRhaW5zIGludmFsaWQgZGF0YS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEludmFsaWRGb3JtRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9pbnZhbGlkX2Zvcm0nO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBOb3RJbml0aWFsaXplZEVycm9yVHlwZSB7XG4gICAgQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZCxcbiAgICBDdXN0b21lck5vdEluaXRpYWxpemVkLFxuICAgIFBheW1lbnROb3RJbml0aWFsaXplZCxcbiAgICBTaGlwcGluZ05vdEluaXRpYWxpemVkLFxuICAgIFNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiBhIG1ldGhvZCByZXF1aXJlcyBhIGNlcnRhaW4gaW5pdGlhbGl6YXRpb24gY2FsbCB0byBiZVxuICogbWFkZSBmaXJzdC4gU29tZSBvYmplY3RzIGNhbiBiZSBjb25zdHJ1Y3RlZCBidXQgdGhleSBjYW5ub3QgYmUgdXNlZCB1bnRpbCBhXG4gKiBzZXBhcmF0ZSBpbml0aWFsaXphdGlvbiBjYWxsIGlzIG1hZGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEluaXRpYWxpemVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW5pdGlhbGl6ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW5pdGlhbGl6ZWQnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5DdXN0b21lck5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TaGlwcGluZ05vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgcGF5bWVudCBmbG93IGlzIGNhbmNlbGxlZC4gSXQgY291bGQgYmVcbiAqIGR1ZSB0byBhIGRlbGliZXJhdGUgdXNlciBpbnRlcmFjdGlvbiwgaS5lLjogdGhlIHVzZXIgY2xpY2tzIG9uIGEgY2FuY2VsXG4gKiBidXR0b24gd2hpY2ggZGlzbWlzc2VzIHRoZSBwYXltZW50IG1vZGFsLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1BheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9jYW5jZWxsZWQnO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbmNlbGxhYmxlUHJvbWlzZTxUPiB7XG4gICAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgICBjYW5jZWwhOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocHJvbWlzZTogUHJvbWlzZTxUPikge1xuICAgICAgICBjb25zdCBjYW5jZWxsYWJsZSA9IG5ldyBQcm9taXNlPFQ+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsID0gcmVqZWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Byb21pc2UsIGNhbmNlbGxhYmxlXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsIEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgcGF5cGFsU2RrUHJvbWlzZTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dCB8IG51bGw+IHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRQYXlQYWxTREtPbmNlKFxuICAgIHBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICBjb25maWc6IEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4pOiBQcm9taXNlPEJyYWludHJlZVBheXBhbENoZWNrb3V0IHwgbnVsbD4ge1xuICAgIGlmICghcGF5cGFsU2RrUHJvbWlzZSkge1xuICAgICAgICBwYXlwYWxTZGtQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXQubG9hZFBheVBhbFNESyhjb25maWcsIChlcnI6IG51bGwgfCB1bmRlZmluZWQgfCBCcmFpbnRyZWVFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsU2RrUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXlwYWxTZGtQcm9taXNlO1xufVxuXG4vLyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TG9hZFBheVBhbFNES09uY2VQcm9taXNlKCkge1xuICAgIHBheXBhbFNka1Byb21pc2UgPSBudWxsO1xufVxuIiwiLy8gdGhlIFBheVBhbCBzaWRlIG9mIHRoaW5ncyB1c2VzIHVwcGVyY2FzZSBrZXlzIGluc3RlYWQgb2YgY2FtZWwgY2FzZVxuXG4vKipcbiAqXG4gKiBQYXlQYWwgY29uc3RhbnRzXG4gKlxuICovXG5leHBvcnQgY29uc3QgUEFZUEFMX0NPTVBPTkVOVFMgPSBbJ2J1dHRvbnMnLCAnbWVzc2FnZXMnXTtcblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVMYXlvdXRPcHRpb24ge1xuICAgIEhPUklaT05UQUwgPSAnaG9yaXpvbnRhbCcsXG4gICAgVkVSVElDQUwgPSAndmVydGljYWwnLFxufVxuXG5leHBvcnQgZW51bSBQYXlwYWxCdXR0b25TdHlsZVNpemVPcHRpb24ge1xuICAgIFNNQUxMID0gJ3NtYWxsJyxcbiAgICBNRURJVU0gPSAnbWVkaXVtJyxcbiAgICBMQVJHRSA9ICdsYXJnZScsXG4gICAgUkVTUE9OU0lWRSA9ICdyZXNwb25zaXZlJyxcbn1cblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbiB7XG4gICAgR09MRCA9ICdnb2xkJyxcbiAgICBCTFVFID0gJ2JsdWUnLFxuICAgIFNJbFZFUiA9ICdzaWx2ZXInLFxuICAgIEJMQUNLID0gJ2JsYWNrJyxcbiAgICBXSElURSA9ICd3aGl0ZScsXG59XG5cbmV4cG9ydCBlbnVtIFBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24ge1xuICAgIENIRUNLT1VUID0gJ2NoZWNrb3V0JyxcbiAgICBQQVkgPSAncGF5JyxcbiAgICBCVVlOT1cgPSAnYnV5bm93JyxcbiAgICBQQVlQQUwgPSAncGF5cGFsJyxcbiAgICBDUkVESVQgPSAnY3JlZGl0Jyxcbn1cblxuZXhwb3J0IGVudW0gUGF5cGFsQnV0dG9uU3R5bGVTaGFwZU9wdGlvbiB7XG4gICAgUElMTCA9ICdwaWxsJyxcbiAgICBSRUNUID0gJ3JlY3QnLFxufVxuXG4vKipcbiAqXG4gKiBQYXlQYWwgaW50ZXJmYWNlc1xuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxTREsge1xuICAgIEJ1dHRvbjogUGF5cGFsQnV0dG9uO1xuICAgIGNoZWNrb3V0OiBQYXlwYWxFeHByZXNzQ2hlY2tvdXQ7XG4gICAgRlVORElORzogUGF5cGFsRnVuZGluZ1R5cGVMaXN0O1xuICAgIEJ1dHRvbnMob3B0aW9uczogUGF5cGFsQnV0dG9uT3B0aW9ucyk6IFBheXBhbEJ1dHRvblJlbmRlcjtcbiAgICBNZXNzYWdlcyhvcHRpb25zOiBNZXNzYWdpbmdPcHRpb25zKTogTWVzc2FnaW5nUmVuZGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheXBhbEJ1dHRvbiB7XG4gICAgcmVuZGVyKG9wdGlvbnM6IFBheXBhbEJ1dHRvbk9wdGlvbnMsIGNvbnRhaW5lcjogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXQge1xuICAgIGluaXRYTygpOiB2b2lkO1xuICAgIHN0YXJ0Rmxvdyh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gICAgY2xvc2VGbG93KCk6IHZvaWQ7XG4gICAgc2V0dXAobWVyY2hhbnRJZDogc3RyaW5nLCBvcHRpb25zOiBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxFeHByZXNzQ2hlY2tvdXRPcHRpb25zIHtcbiAgICBidXR0b246IHN0cmluZztcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2luZ09wdGlvbnMge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGJ1eWVyQ291bnRyeT86IHN0cmluZztcbiAgICBwbGFjZW1lbnQ6IHN0cmluZztcbiAgICBzdHlsZT86IE1lc3NhZ2VzU3R5bGVPcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VzU3R5bGVPcHRpb25zIHtcbiAgICBjb2xvcj86IHN0cmluZzsgLy8gJ2JsdWUnIHwgJ2JsYWNrJyB8ICd3aGl0ZScgfCAnd2hpdGUtbm8tYm9yZGVyJyB8ICdncmF5JyB8ICdtb25vY2hyb21lJyB8ICdncmF5c2NhbGUnXG4gICAgbGF5b3V0Pzogc3RyaW5nOyAvLyAndGV4dCcgfCAnZmxleCdcbiAgICBsb2dvPzoge1xuICAgICAgICB0eXBlPzogc3RyaW5nOyAvLyAncHJpbWFyeScgfCAnYWx0ZXJuYXRpdmUnIHwgJ2lubGluZScgfCAnbm9uZSdcbiAgICAgICAgcG9zaXRpb24/OiBzdHJpbmc7IC8vICdsZWZ0JyB8ICdyaWdodCcgfCAndG9wJ1xuICAgIH07XG4gICAgcmF0aW8/OiBzdHJpbmc7IC8vICcxeDEnIHwgJzF4NCcgfCAnOHgxJyB8ICcyMHgxJ1xuICAgIHRleHQ/OiB7XG4gICAgICAgIGFsaWduPzogc3RyaW5nOyAvLyAnbGVmdCcgfCAncmlnaHQnIHwgJ2NlbnRlcidcbiAgICAgICAgY29sb3I/OiBzdHJpbmc7IC8vICdibGFjaycgfCAnd2hpdGUnIHwgJ21vbm9jaHJvbWUnIHwgJ2dyYXlzY2FsZSdcbiAgICAgICAgc2l6ZT86IG51bWJlcjsgLy8gZnJvbSAxMCB0byAxNlxuICAgIH07XG59XG5cbmV4cG9ydCBlbnVtIE1lc3NhZ2luZ1BsYWNlbWVudHMge1xuICAgIENBUlQgPSAnY2FydCcsXG4gICAgSE9NRSA9ICdob21lcGFnZScsXG4gICAgUEFZTUVOVCA9ICdwYXltZW50JyxcbiAgICBQUk9EVUNUID0gJ3Byb2R1Y3QnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2luZ1JlbmRlciB7XG4gICAgcmVuZGVyKGNvbnRhaW5lcjogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxCdXR0b25PcHRpb25zIHtcbiAgICBlbnY/OiBzdHJpbmc7XG4gICAgY29tbWl0PzogYm9vbGVhbjtcbiAgICBzdHlsZT86IFBheXBhbFN0eWxlT3B0aW9ucztcbiAgICBmdW5kaW5nPzogUGF5cGFsRnVuZGluZ1R5cGU7XG4gICAgZnVuZGluZ1NvdXJjZT86IHN0cmluZztcbiAgICBjbGllbnQ/OiBQYXlwYWxDbGllbnRUb2tlbjtcbiAgICBwYXltZW50PyhkYXRhPzogUGF5cGFsQXV0aG9yaXplRGF0YSwgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMpOiBQcm9taXNlPHVua25vd24+O1xuICAgIG9uQXV0aG9yaXplPyhkYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8dW5rbm93bj47XG4gICAgY3JlYXRlT3JkZXI/KGRhdGE/OiBQYXlwYWxBdXRob3JpemVEYXRhLCBhY3Rpb25zPzogUGF5cGFsQWN0aW9ucyk6IFByb21pc2U8dW5rbm93bj47XG4gICAgb25BcHByb3ZlPyhkYXRhPzogUGF5cGFsQXV0aG9yaXplRGF0YSwgYWN0aW9ucz86IFBheXBhbEFjdGlvbnMpOiBQcm9taXNlPHVua25vd24+O1xuICAgIG9uQ2xpY2s/KCk6IHZvaWQ7XG4gICAgb25DYW5jZWw/KCk6IHZvaWQ7XG4gICAgb25FcnJvcj8oZXJyb3I6IEVycm9yKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxTdHlsZU9wdGlvbnMge1xuICAgIGxheW91dD86IFBheXBhbEJ1dHRvblN0eWxlTGF5b3V0T3B0aW9uO1xuICAgIHNpemU/OiBQYXlwYWxCdXR0b25TdHlsZVNpemVPcHRpb247XG4gICAgY29sb3I/OiBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uO1xuICAgIGxhYmVsPzogUGF5cGFsQnV0dG9uU3R5bGVMYWJlbE9wdGlvbjtcbiAgICBzaGFwZT86IFBheXBhbEJ1dHRvblN0eWxlU2hhcGVPcHRpb247XG4gICAgdGFnbGluZT86IGJvb2xlYW47XG4gICAgZnVuZGluZ2ljb25zPzogYm9vbGVhbjtcbiAgICBoZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQ2xpZW50VG9rZW4ge1xuICAgIHByb2R1Y3Rpb24/OiBzdHJpbmc7XG4gICAgc2FuZGJveD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxGdW5kaW5nVHlwZSB7XG4gICAgYWxsb3dlZD86IHN0cmluZ1tdO1xuICAgIGRpc2FsbG93ZWQ/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxBY3Rpb25zIHtcbiAgICBwYXltZW50OiBQYXlwYWxQYXltZW50QWN0aW9ucztcbiAgICByZXF1ZXN0OiBQYXlwYWxSZXF1ZXN0QWN0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxCdXR0b25SZW5kZXIge1xuICAgIHJlbmRlcihjb250YWluZXI6IHN0cmluZyk6IHZvaWQ7XG4gICAgaXNFbGlnaWJsZSgpOiBib29sZWFuO1xuICAgIGNsb3NlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsQXV0aG9yaXplRGF0YSB7XG4gICAgcGF5ZXJJZDogc3RyaW5nO1xuICAgIHBheW1lbnRJZD86IHN0cmluZztcbiAgICBiaWxsaW5nVG9rZW4/OiBzdHJpbmc7XG4gICAgcGF5ZXJJRD86IHN0cmluZztcbiAgICBwYXltZW50SUQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsRnVuZGluZ1R5cGVMaXN0IHtcbiAgICBDQVJEPzogc3RyaW5nO1xuICAgIENSRURJVD86IHN0cmluZztcbiAgICBQQVlQQUw/OiBzdHJpbmc7XG4gICAgUEFZTEFURVI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5cGFsUGF5bWVudEFjdGlvbnMge1xuICAgIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxSZXF1ZXN0QWN0aW9ucyB7XG4gICAgcG9zdCh1cmw6IHN0cmluZywgcGF5bG9hZD86IG9iamVjdCwgb3B0aW9ucz86IG9iamVjdCk6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+O1xufVxuIiwiaW1wb3J0IHsgT21pdCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQge1xuICAgIFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgUGF5cGFsQnV0dG9uT3B0aW9ucyxcbiAgICBQYXlwYWxCdXR0b25SZW5kZXIsXG4gICAgUGF5cGFsU0RLLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnLi9wYXlwYWwnO1xuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVDbGllbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yLFxuICAgIEJyYWludHJlZUVycm9yLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQsXG4gICAgQnJhaW50cmVlTW9kdWxlLFxuICAgIEJyYWludHJlZU1vZHVsZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yLFxuICAgIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMsXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3IsXG4gICAgQnJhaW50cmVlV2luZG93LFxuICAgIEZhc3RsYW5lU3R5bGVzU2V0dGluZ3MsXG4gICAgVmlzYUNoZWNrb3V0U0RLLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gICAgVmlzYUNoZWNrb3V0SW5pdE9wdGlvbnMsXG4gICAgVmlzYUNoZWNrb3V0UGF5bWVudFN1Y2Nlc3NQYXlsb2FkLFxuICAgIFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQsXG59IGZyb20gJy4vdmlzYWNoZWNrb3V0JztcblxuLyoqXG4gKlxuICogQ29uc3RhbnRzXG4gKlxuICovXG5leHBvcnQgZW51bSBCcmFpbnRyZWVFbnYge1xuICAgIFNhbmRib3ggPSAnc2FuZGJveCcsXG4gICAgUHJvZHVjdGlvbiA9ICdwcm9kdWN0aW9uJyxcbn1cblxuLyoqXG4gKlxuICogQ29tbW9uXG4gKlxuICovXG5leHBvcnQgZW51bSBCcmFpbnRyZWVNb2R1bGVOYW1lIHtcbiAgICBDbGllbnQgPSAnY2xpZW50JyxcbiAgICBEYXRhQ29sbGVjdG9yID0gJ2RhdGFDb2xsZWN0b3InLFxuICAgIEZhc3RsYW5lID0gJ2Zhc3RsYW5lJyxcbiAgICBHb29nbGVQYXltZW50ID0gJ2dvb2dsZVBheW1lbnQnLFxuICAgIEhvc3RlZEZpZWxkcyA9ICdob3N0ZWRGaWVsZHMnLFxuICAgIExvY2FsUGF5bWVudCA9ICdsb2NhbFBheW1lbnQnLFxuICAgIFBheXBhbCA9ICdwYXlwYWwnLFxuICAgIFBheXBhbENoZWNrb3V0ID0gJ3BheXBhbENoZWNrb3V0JyxcbiAgICBUaHJlZURTZWN1cmUgPSAndGhyZWVEU2VjdXJlJyxcbiAgICBVc0JhbmtBY2NvdW50ID0gJ3VzQmFua0FjY291bnQnLFxuICAgIFZlbm1vID0gJ3Zlbm1vJyxcbiAgICBWaXNhQ2hlY2tvdXQgPSAndmlzYUNoZWNrb3V0Jyxcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMgPVxuICAgIHwgQnJhaW50cmVlQ2xpZW50Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3JcbiAgICB8IEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JcbiAgICB8IEJyYWludHJlZVBheXBhbENyZWF0b3JcbiAgICB8IEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3JcbiAgICB8IEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3JcbiAgICB8IEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yO1xuXG4vLyBUT0RPOiByZW5hbWUgdG8gQnJhaW50cmVlU2RrTW9kdWxlc1xuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTREsge1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF0/OiBCcmFpbnRyZWVDbGllbnRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXT86IEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXT86IEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdPzogQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXT86IEJyYWludHJlZVBheXBhbENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdPzogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV0/OiBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXT86IEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF0/OiBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdPzogQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XT86IEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I7XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdGVDb25maWcsXG4gICAgQnJhaW50cmVlRXJyb3IgfCB1bmRlZmluZWRcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRlQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgbWVyY2hhbnRBY2NvdW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEge1xuICAgIGNsaWVudFRva2VuOiBzdHJpbmc7XG4gICAgZW5hYmxlQ2hlY2tvdXRQYXl3YWxsQmFubmVyPzogYm9vbGVhbjtcbiAgICBpbnRlbnQ/OiAnYXV0aG9yaXplJyB8ICdvcmRlcicgfCAnc2FsZSc7XG4gICAgaXNDcmVkaXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVFbmFibGVkPzogYm9vbGVhbjtcbiAgICBpc0Zhc3RsYW5lU2hpcHBpbmdPcHRpb25BdXRvU2VsZWN0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgZmFzdGxhbmVTdHlsZXM/OiBGYXN0bGFuZVN0eWxlc1NldHRpbmdzO1xuICAgIGlzQnJhaW50cmVlQW5hbHl0aWNzVjJFbmFibGVkPzogYm9vbGVhbjtcbiAgICBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0PzogYm9vbGVhbjsgLy8gVE9ETzogb25seSBmb3IgQlQgQVhPIEEvQiB0ZXN0aW5nIHB1cnBvc2VzLCBoZW5jZSBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciB0ZXN0aW5nXG4gICAgcGF5bWVudEJ1dHRvblN0eWxlcz86IFJlY29yZDxzdHJpbmcsIFBheXBhbFN0eWxlT3B0aW9ucz47XG4gICAgcGF5cGFsQk5QTENvbmZpZ3VyYXRpb24/OiBQYXlQYWxCTlBMQ29uZmlndXJhdGlvbkl0ZW1bXSB8IG51bGw7XG4gICAgbm9uY2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsUmVxdWVzdCB7XG4gICAgYW1vdW50OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgYmlsbGluZ0FncmVlbWVudERlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZTtcbiAgICBmbG93OiAnY2hlY2tvdXQnIHwgJ3ZhdWx0JztcbiAgICBpbnRlbnQ/OiAnYXV0aG9yaXplJyB8ICdvcmRlcicgfCAnc2FsZSc7XG4gICAgbGFuZGluZ1BhZ2VUeXBlPzogJ2xvZ2luJyB8ICdiaWxsaW5nJztcbiAgICBsb2NhbGU/OiBzdHJpbmc7XG4gICAgb2ZmZXJDcmVkaXQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZT86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlO1xuICAgIHVzZXJhY3Rpb24/OiAnY29tbWl0Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMj86IHN0cmluZztcbiAgICBjaXR5OiBzdHJpbmc7XG4gICAgc3RhdGU6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU6IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbiAgICByZWNpcGllbnROYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICB0eXBlOiAnUGF5cGFsQWNjb3VudCcgfCAnVmVubW9BY2NvdW50JztcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzO1xuICAgIGNyZWRpdEZpbmFuY2luZ09mZmVyZWQ/OiB7XG4gICAgICAgIHRvdGFsQ29zdDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRlcm06IG51bWJlcjtcbiAgICAgICAgbW9udGhseVBheW1lbnQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICB0b3RhbEluc3RlcmVzdDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHBheWVyQWNjZXB0YW5jZTogYm9vbGVhbjtcbiAgICAgICAgY2FydEFtb3VudEltbXV0YWJsZTogYm9vbGVhbjtcbiAgICB9O1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhID0gT21pdDxCcmFpbnRyZWVGb3JtRmllbGRTdGF0ZSwgJ2lzRm9jdXNlZCc+O1xuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cyA9XG4gICAgfCAnbnVtYmVyJ1xuICAgIHwgJ2V4cGlyYXRpb25EYXRlJ1xuICAgIHwgJ2V4cGlyYXRpb25Nb250aCdcbiAgICB8ICdleHBpcmF0aW9uWWVhcidcbiAgICB8ICdjdnYnXG4gICAgfCAncG9zdGFsQ29kZSc7XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvcnNEYXRhID0gUGFydGlhbDxcbiAgICBSZWNvcmQ8QnJhaW50cmVlRm9ybUVycm9yRGF0YUtleXMsIEJyYWludHJlZUZvcm1FcnJvckRhdGE+XG4+O1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgSG9zdGVkIEZpZWxkc1xuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzLFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JDb25maWdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzIHtcbiAgICBnZXRTdGF0ZSgpOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZTtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xuICAgIHRva2VuaXplKFxuICAgICAgICBvcHRpb25zPzogQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVQYXlsb2FkPjtcbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbnVtYmVyPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25EYXRlPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25Nb250aD86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBleHBpcmF0aW9uWWVhcj86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBjdnY/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgcG9zdGFsQ29kZT86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBjYXJkaG9sZGVyTmFtZT86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgIH07XG4gICAgc3R5bGVzPzoge1xuICAgICAgICBpbnB1dD86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICcuaW52YWxpZCc/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgICAgICAnLnZhbGlkJz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICc6Zm9jdXMnPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICB9O1xuICAgIHByZXZlbnRDdXJzb3JKdW1wcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb24ge1xuICAgIGNvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQ7XG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBmb3JtYXRJbnB1dD86IGJvb2xlYW47XG4gICAgbWFza0lucHV0PzogYm9vbGVhbiB8IHsgY2hhcmFjdGVyPzogc3RyaW5nOyBzaG93TGFzdEZvdXI/OiBzdHJpbmcgfTtcbiAgICBzZWxlY3Q/OiBib29sZWFuIHwgeyBvcHRpb25zPzogc3RyaW5nW10gfTtcbiAgICBtYXhDYXJkTGVuZ3RoPzogbnVtYmVyO1xuICAgIG1heGxlbmd0aD86IG51bWJlcjtcbiAgICBtaW5sZW5ndGg/OiBudW1iZXI7XG4gICAgcHJlZmlsbD86IHN0cmluZztcbiAgICByZWplY3RVbnN1cHBvcnRlZENhcmRzPzogYm9vbGVhbjtcbiAgICBzdXBwb3J0ZWRDYXJkQnJhbmRzPzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUge1xuICAgIGNhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDYXJkW107XG4gICAgZW1pdHRlZEJ5OiBzdHJpbmc7XG4gICAgZmllbGRzOiB7XG4gICAgICAgIG51bWJlcj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGV4cGlyYXRpb25Nb250aD86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvblllYXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGE7XG4gICAgICAgIGN2dj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgcG9zdGFsQ29kZT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0NhcmQge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBuaWNlVHlwZTogc3RyaW5nO1xuICAgIGNvZGU6IHsgbmFtZTogc3RyaW5nOyBzaXplOiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNGaWVsZERhdGEge1xuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgaXNGb2N1c2VkOiBib29sZWFuO1xuICAgIGlzRW1wdHk6IGJvb2xlYW47XG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBib29sZWFuO1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzVG9rZW5pemVPcHRpb25zIHtcbiAgICB2YXVsdD86IGJvb2xlYW47XG4gICAgZmllbGRzVG9Ub2tlbml6ZT86IHN0cmluZ1tdO1xuICAgIGNhcmRob2xkZXJOYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdBZGRyZXNzPzogQnJhaW50cmVlQmlsbGluZ0FkZHJlc3NSZXF1ZXN0RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhIHtcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5Pzogc3RyaW5nO1xuICAgIHJlZ2lvbj86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZU51bWVyaWM/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTI/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG4gICAgY291bnRyeU5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yIGV4dGVuZHMgQnJhaW50cmVlRXJyb3Ige1xuICAgIGRldGFpbHM/OiB7XG4gICAgICAgIGludmFsaWRGaWVsZEtleXM/OiBzdHJpbmdbXTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFN0YXRlIHtcbiAgICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gICAgaXNFbXB0eTogYm9vbGVhbjtcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGJvb2xlYW47XG4gICAgaXNWYWxpZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb2tlbml6YXRpb25QYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGJpbjogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgUGF5UGFsXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVQYXlwYWw+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbCB7XG4gICAgY2xvc2VXaW5kb3coKTogdm9pZDtcbiAgICBmb2N1c1dpbmRvdygpOiB2b2lkO1xuICAgIHRva2VuaXplKG9wdGlvbnM6IEJyYWludHJlZVBheXBhbFJlcXVlc3QpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD47XG4gICAgQnV0dG9ucz8ob3B0aW9uczogUGF5cGFsQnV0dG9uT3B0aW9ucyk6IFBheXBhbEJ1dHRvblJlbmRlcjtcbn1cblxuLyoqXG4gKiBBIHNldCBvZiBvcHRpb25zIHRoYXQgYXJlIHJlcXVpcmVkIHRvIHN1cHBvcnQgM0QgU2VjdXJlIGF1dGhlbnRpY2F0aW9uIGZsb3cuXG4gKlxuICogSWYgdGhlIGN1c3RvbWVyIHVzZXMgYSBjcmVkaXQgY2FyZCB0aGF0IGhhcyAzRCBTZWN1cmUgZW5hYmxlZCwgdGhleSB3aWxsIGJlXG4gKiBhc2tlZCB0byB2ZXJpZnkgdGhlaXIgaWRlbnRpdHkgd2hlbiB0aGV5IHBheS4gVGhlIHZlcmlmaWNhdGlvbiBpcyBkb25lXG4gKiB0aHJvdWdoIGEgd2ViIHBhZ2UgdmlhIGFuIGlmcmFtZSBwcm92aWRlZCBieSB0aGUgY2FyZCBpc3N1ZXIuXG4gKi9cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4vLyAgICAgLyoqXG4vLyAgICAgICogQSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBpcyByZWFkeSB0byBiZSBhZGRlZCB0byB0aGVcbi8vICAgICAgKiBjdXJyZW50IHBhZ2UuIEl0IGlzIHJlc3BvbnNpYmxlIGZvciBkZXRlcm1pbmluZyB3aGVyZSB0aGUgaWZyYW1lIHNob3VsZFxuLy8gICAgICAqIGJlIGluc2VydGVkIGluIHRoZSBET00uXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0gZXJyb3IgLSBBbnkgZXJyb3IgcmFpc2VkIGR1cmluZyB0aGUgdmVyaWZpY2F0aW9uIHByb2Nlc3M7XG4vLyAgICAgICogdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vbmUuXG4vLyAgICAgICogQHBhcmFtIGlmcmFtZSAtIFRoZSBpZnJhbWUgZWxlbWVudCBjb250YWluaW5nIHRoZSB2ZXJpZmljYXRpb24gd2ViIHBhZ2Vcbi8vICAgICAgKiBwcm92aWRlZCBieSB0aGUgY2FyZCBpc3N1ZXIuXG4vLyAgICAgICogQHBhcmFtIGNhbmNlbCAtIEEgZnVuY3Rpb24sIHdoZW4gY2FsbGVkLCB3aWxsIGNhbmNlbCB0aGUgdmVyaWZpY2F0aW9uXG4vLyAgICAgICogcHJvY2VzcyBhbmQgcmVtb3ZlIHRoZSBpZnJhbWUuXG4vLyAgICAgICovXG4vLyAgICAgYWRkRnJhbWUoXG4vLyAgICAgICAgIGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCxcbi8vICAgICAgICAgY2FuY2VsOiAoKSA9PiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+IHwgdW5kZWZpbmVkLFxuLy8gICAgICk6IHZvaWQ7XG4vL1xuLy8gICAgIC8qKlxuLy8gICAgICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBpZnJhbWUgaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tXG4vLyAgICAgICogdGhlIGN1cnJlbnQgcGFnZS5cbi8vICAgICAgKi9cbi8vICAgICByZW1vdmVGcmFtZSgpOiB2b2lkO1xuLy8gfVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1PcHRpb25zIHtcbiAgICBmaWVsZHM6IEJyYWludHJlZUZvcm1GaWVsZHNNYXAgfCBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwO1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlc01hcDtcbiAgICBvbkJsdXI/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEJsdXJFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uQ2FyZFR5cGVDaGFuZ2U/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZENhcmRUeXBlQ2hhbmdlRXZlbnREYXRhKTogdm9pZDtcbiAgICBvbkZvY3VzPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRGb2N1c0V2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25WYWxpZGF0ZT8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uRW50ZXI/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEVudGVyRXZlbnREYXRhKTogdm9pZDtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRm9ybUZpZWxkVHlwZSB7XG4gICAgQ2FyZENvZGUgPSAnY2FyZENvZGUnLFxuICAgIENhcmRDb2RlVmVyaWZpY2F0aW9uID0gJ2NhcmRDb2RlVmVyaWZpY2F0aW9uJyxcbiAgICBDYXJkRXhwaXJ5ID0gJ2NhcmRFeHBpcnknLFxuICAgIENhcmROYW1lID0gJ2NhcmROYW1lJyxcbiAgICBDYXJkTnVtYmVyID0gJ2NhcmROdW1iZXInLFxuICAgIENhcmROdW1iZXJWZXJpZmljYXRpb24gPSAnY2FyZE51bWJlclZlcmlmaWNhdGlvbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkc01hcCB7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVdPzogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkRXhwaXJ5XTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZV06IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06IEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB7XG4gICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVWZXJpZmljYXRpb25dPzogQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucyB7XG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsPzogc3RyaW5nO1xuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucyBleHRlbmRzIEJyYWludHJlZUZvcm1GaWVsZE9wdGlvbnMge1xuICAgIGluc3RydW1lbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFN0eWxlc01hcCB7XG4gICAgZGVmYXVsdD86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbiAgICBlcnJvcj86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbiAgICBmb2N1cz86IEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcztcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzID0gUGFydGlhbDxcbiAgICBQaWNrPENTU1N0eWxlRGVjbGFyYXRpb24sICdjb2xvcicgfCAnZm9udEZhbWlseScgfCAnZm9udFNpemUnIHwgJ2ZvbnRXZWlnaHQnPlxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YSB7XG4gICAgZmllbGRUeXBlOiBzdHJpbmc7XG4gICAgZXJyb3JzPzogQnJhaW50cmVlRm9ybUVycm9yc0RhdGE7XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEJsdXJFdmVudERhdGEgPSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YTtcbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEVudGVyRXZlbnREYXRhID0gQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGE7XG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRGb2N1c0V2ZW50RGF0YSA9IEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZENhcmRUeXBlQ2hhbmdlRXZlbnREYXRhIHtcbiAgICBjYXJkVHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSB7XG4gICAgZXJyb3JzOiB7XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRFeHBpcnldPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgfTtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhIHtcbiAgICBmaWVsZFR5cGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgUGF5UGFsIENoZWNrb3V0XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVBheXBhbENoZWNrb3V0PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWxDaGVja291dCB7XG4gICAgbG9hZFBheVBhbFNESyhcbiAgICAgICAgY29uZmlnOiBCcmFpbnRyZWVQYXlwYWxTZGtDcmVhdG9yQ29uZmlnLFxuICAgICAgICBjYWxsYmFjazogKGVycjogbnVsbCB8IHVuZGVmaW5lZCB8IEJyYWludHJlZUVycm9yKSA9PiB2b2lkLFxuICAgICk6IHZvaWQ7XG4gICAgY3JlYXRlUGF5bWVudChvcHRpb25zOiBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0KTogUHJvbWlzZTxzdHJpbmc+O1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD47XG4gICAgdG9rZW5pemVQYXltZW50KG9wdGlvbnM6IFBheXBhbEF1dGhvcml6ZURhdGEpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyB7XG4gICAgY29tcG9uZW50cz86IHN0cmluZztcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgICBpbnRlbnQ/OiBzdHJpbmc7XG4gICAgaXNDcmVkaXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBjb21taXQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVmVubW9cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShjYWxsYmFjazogKGVycm9yOiBCcmFpbnRyZWVFcnJvciwgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkKSA9PiB1bmtub3duKTogdm9pZDtcbiAgICBpc0Jyb3dzZXJTdXBwb3J0ZWQoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBhbGxvd0Rlc2t0b3A/OiBib29sZWFuO1xuICAgIHBheW1lbnRNZXRob2RVc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFZpc2EgQ2hlY2tvdXRcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVZpc2FDaGVja291dD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVmlzYUNoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpOiBQcm9taXNlPFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQ+O1xuICAgIGNyZWF0ZUluaXRPcHRpb25zKG9wdGlvbnM6IFBhcnRpYWw8VmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM+KTogVmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBCTlBMIENvbmZpZ3VyYXRvciByZWxhdGVkIHR5cGVzXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheVBhbEJOUExDb25maWd1cmF0aW9uSXRlbSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBib29sZWFuO1xuICAgIHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIExvY2FsIE1ldGhvZHNcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnIHtcbiAgICBwYXltZW50VHlwZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGZhbGxiYWNrOiB7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgICBidXR0b25UZXh0OiBzdHJpbmc7XG4gICAgfTtcbiAgICBjdXJyZW5jeUNvZGU6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGdpdmVuTmFtZTogc3RyaW5nO1xuICAgIHN1cm5hbWU6IHN0cmluZztcbiAgICBhZGRyZXNzOiB7XG4gICAgICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBvblBheW1lbnRTdGFydChkYXRhOiBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhLCBzdGFydDogKCkgPT4gUHJvbWlzZTx2b2lkPik6IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhIHtcbiAgICBwYXltZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHN0YXJ0UGF5bWVudChcbiAgICAgICAgY29uZmlnOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRDb25maWcsXG4gICAgICAgIGNhbGxiYWNrOiAoXG4gICAgICAgICAgICBzdGFydFBheW1lbnRFcnJvcjogQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYXlsb2FkOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCxcbiAgICAgICAgKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICk6IHZvaWQ7XG59XG5cbi8qKlxuICpcbiAqIE90aGVyXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RXaW5kb3cgZXh0ZW5kcyBCcmFpbnRyZWVXaW5kb3cge1xuICAgIGJyYWludHJlZT86IEJyYWludHJlZVNESztcbiAgICBwYXlwYWw/OiBQYXlwYWxTREs7XG4gICAgVj86IFZpc2FDaGVja291dFNESztcbn1cbiIsImltcG9ydCB7IEJyYWludHJlZUVycm9yIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0JyYWludHJlZUVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQnJhaW50cmVlRXJyb3Ige1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgKCd0eXBlJyBpbiBlcnJvciB8fCAnbWVzc2FnZScgaW4gZXJyb3IgfHwgJ2NvZGUnIGluIGVycm9yKSxcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgc3VwcG9ydHNQb3B1cHMgfSBmcm9tICdAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uJztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ2FuY2VsbGFibGVQcm9taXNlLFxuICAgIENyZWRpdENhcmRJbnN0cnVtZW50LFxuICAgIExlZ2FjeUFkZHJlc3MsXG4gICAgTm9uY2VJbnN0cnVtZW50LFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3IsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgbG9hZFBheVBhbFNES09uY2UgZnJvbSAnLi9sb2FkLXBheXBhbC1zZGstb25jZSc7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JzLFxuICAgIEJyYWludHJlZUVudixcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZU1vZHVsZSxcbiAgICBCcmFpbnRyZWVQYXlwYWwsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVSZXF1ZXN0RGF0YSxcbiAgICBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucyxcbiAgICBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuICAgIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVWZXJpZnlQYXlsb2FkLFxuICAgIFBBWVBBTF9DT01QT05FTlRTLFxuICAgIFRva2VuaXphdGlvblBheWxvYWQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi91dGlscy9pcy1icmFpbnRyZWUtZXJyb3InO1xuaW1wb3J0IGlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlIGZyb20gJy4vdXRpbHMvaXMtY3JlZGl0LWNhcmQtaW5zdHJ1bWVudC1saWtlJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXlwYWxDb25maWcge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgbG9jYWxlOiBzdHJpbmc7XG4gICAgb2ZmZXJDcmVkaXQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZT86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlO1xuICAgIHNob3VsZFNhdmVJbnN0cnVtZW50PzogYm9vbGVhbjtcbn1cblxuLy8gSW5mbzogdGhpcyBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBuZWFyZXN0IGZ1dHVyZS4gUGxlYXNlLCBkbyBub3QgYWRkIGFueXRoaW5nIGhlcmUuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Uge1xuICAgIHByaXZhdGUgY2xpZW50PzogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnQ+O1xuICAgIHByaXZhdGUgY2xpZW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhQ29sbGVjdG9yczogQnJhaW50cmVlRGF0YUNvbGxlY3RvcnMgPSB7fTtcbiAgICBwcml2YXRlIHBheXBhbENoZWNrb3V0PzogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVQYXlwYWw/OiBQcm9taXNlPEJyYWludHJlZVBheXBhbD47XG4gICAgcHJpdmF0ZSB0aHJlZURTZWN1cmVPcHRpb25zPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucztcbiAgICBwcml2YXRlIHRocmVlRFM/OiBQcm9taXNlPEJyYWludHJlZVRocmVlRFNlY3VyZT47XG4gICAgcHJpdmF0ZSB2ZW5tb0NoZWNrb3V0PzogQnJhaW50cmVlVmVubW9DaGVja291dDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNjcmlwdExvYWRlcjogQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIHByaXZhdGUgb3ZlcmxheT86IE92ZXJsYXksXG4gICAgKSB7fVxuXG4gICAgaW5pdGlhbGl6ZShjbGllbnRUb2tlbjogc3RyaW5nLCB0aHJlZURTZWN1cmVPcHRpb25zPzogQnJhaW50cmVlVGhyZWVEU2VjdXJlT3B0aW9ucykge1xuICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgIHRoaXMudGhyZWVEU2VjdXJlT3B0aW9ucyA9IHRocmVlRFNlY3VyZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QnJhaW50cmVlRmFzdGxhbmUoXG4gICAgICAgIGNhcmRJZD86IHN0cmluZyxcbiAgICAgICAgaXNUZXN0TW9kZUVuYWJsZWQ/OiBib29sZWFuLFxuICAgICAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbixcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUZhc3RsYW5lPiB7XG4gICAgICAgIGlmIChpc1Rlc3RNb2RlRW5hYmxlZCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdheG9FbnYnLCAnc2FuZGJveCcpO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXN0bGFuZUVudicsICdzYW5kYm94Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWVGYXN0bGFuZSkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50VG9rZW4gPSB0aGlzLmdldENsaWVudFRva2VuT3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZURhdGEgPSBhd2FpdCB0aGlzLmdldFNlc3Npb25JZChjYXJkSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRmFzdGxhbmUoKTtcblxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICByb290OiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclByaW1hcnk6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWVGYXN0bGFuZSA9IGF3YWl0IGJyYWludHJlZUZhc3RsYW5lQ3JlYXRvci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgICAgIHN0eWxlczogc3R5bGVzIHx8IGRlZmF1bHRTdHlsZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuYnJhaW50cmVlRmFzdGxhbmU7XG4gICAgfVxuXG4gICAgLy8gSW5mbzogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZC4gVXNlIGdldENsaWVudCBtZXRob2QgZnJvbSBCcmFpbnRyZWVTZGsgY2xhc3MgaW5zdGVhZFxuICAgIGFzeW5jIGdldENsaWVudCgpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRUb2tlbiA9IHRoaXMuZ2V0Q2xpZW50VG9rZW5PclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDcmVhdG9yID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudENyZWF0b3IuY3JlYXRlKHsgYXV0aG9yaXphdGlvbjogY2xpZW50VG9rZW4gfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQ7XG4gICAgfVxuXG4gICAgZ2V0UGF5cGFsKCk6IFByb21pc2U8QnJhaW50cmVlUGF5cGFsPiB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVQYXlwYWwpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlUGF5cGFsID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFBheXBhbCgpLFxuICAgICAgICAgICAgXSkudGhlbigoW2NsaWVudCwgcGF5cGFsXSkgPT4gcGF5cGFsLmNyZWF0ZSh7IGNsaWVudCB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVQYXlwYWw7XG4gICAgfVxuXG4gICAgcGF5cGFsKHsgc2hvdWxkU2F2ZUluc3RydW1lbnQsIC4uLmNvbmZpZyB9OiBQYXlwYWxDb25maWcpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICBjb25zdCBuZXdXaW5kb3dGbG93ID0gc3VwcG9ydHNQb3B1cHMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYXlwYWwoKVxuICAgICAgICAgICAgLnRoZW4oKHBheXBhbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXdXaW5kb3dGbG93KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheT8uc2hvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBwYXlwYWwuZm9jdXNXaW5kb3coKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheXBhbC50b2tlbml6ZSh7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmxvdzogc2hvdWxkU2F2ZUluc3RydW1lbnQgPyAndmF1bHQnIDogJ2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgdXNlcmFjdGlvbjogJ2NvbW1pdCcsXG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJsYXk/LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJsYXk/LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+LFxuICAgICAgICBvblN1Y2Nlc3M6IChpbnN0YW5jZTogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpID0+IHZvaWQsXG4gICAgICAgIG9uRXJyb3I6IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dD4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRQYXlwYWxDaGVja291dCgpO1xuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0Q29uZmlnID0geyBjbGllbnQgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRDYWxsYmFjayA9IChcbiAgICAgICAgICAgIGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBheXBhbFNka0xvYWRDYWxsYmFjayA9ICgpID0+IG9uU3VjY2VzcyhicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICBjb25zdCBwYXlwYWxTZGtMb2FkQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjb25maWcuY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgLi4uKGNvbmZpZy5pc0NyZWRpdEVuYWJsZWQgJiYgeyAnZW5hYmxlLWZ1bmRpbmcnOiAncGF5bGF0ZXInIH0pLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFBBWVBBTF9DT01QT05FTlRTLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgaW50ZW50OiBjb25maWcuaW50ZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdDogY29uZmlnLmNvbW1pdCA/PyB0cnVlLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cucGF5cGFsKSB7XG4gICAgICAgICAgICAgICAgdm9pZCBsb2FkUGF5UGFsU0RLT25jZShicmFpbnRyZWVQYXlwYWxDaGVja291dCwgcGF5cGFsU2RrTG9hZENvbmZpZykudGhlbihcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsU2RrTG9hZENhbGxiYWNrLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wYXlwYWxDaGVja291dCA9IGF3YWl0IHBheXBhbENoZWNrb3V0LmNyZWF0ZShcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0Q29uZmlnLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRDYWxsYmFjayxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXlwYWxDaGVja291dDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXREYXRhQ29sbGVjdG9yKFxuICAgICAgICBvcHRpb25zPzogUGFydGlhbDxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZz4sXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yPiB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5OiBrZXlvZiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9ycyA9IG9wdGlvbnM/LnBheXBhbCA/ICdwYXlwYWwnIDogJ2RlZmF1bHQnO1xuXG4gICAgICAgIGxldCBjYWNoZWQgPSB0aGlzLmRhdGFDb2xsZWN0b3JzW2NhY2hlS2V5XTtcblxuICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb2xsZWN0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRGF0YUNvbGxlY3RvcigpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvckNvbmZpZzogQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3JDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAga291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNhY2hlZCA9IGF3YWl0IGRhdGFDb2xsZWN0b3IuY3JlYXRlKGRhdGFDb2xsZWN0b3JDb25maWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgJiYgZXJyb3IuY29kZSA9PT0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJykge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VEYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3JzW2NhY2hlS2V5XSA9IGNhY2hlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuXG4gICAgZ2V0QnJhaW50cmVlRW52KGlzVGVzdE1vZGUgPSBmYWxzZSk6IEJyYWludHJlZUVudiB7XG4gICAgICAgIHJldHVybiBpc1Rlc3RNb2RlID8gQnJhaW50cmVlRW52LlNhbmRib3ggOiBCcmFpbnRyZWVFbnYuUHJvZHVjdGlvbjtcbiAgICB9XG5cbiAgICBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3M6IEFkZHJlc3MpOiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWNpcGllbnROYW1lOiBgJHthZGRyZXNzLmZpcnN0TmFtZX0gJHthZGRyZXNzLmxhc3ROYW1lfWAsXG4gICAgICAgICAgICBsaW5lMTogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGxpbmUyOiBhZGRyZXNzLmFkZHJlc3MyLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcGhvbmU6IGFkZHJlc3MucGhvbmUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MoZGV0YWlsczogQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICBjb25zdCB7IGVtYWlsLCBwaG9uZSwgc2hpcHBpbmdBZGRyZXNzIH0gPSBkZXRhaWxzO1xuICAgICAgICBjb25zdCByZWNpcGllbnROYW1lID0gc2hpcHBpbmdBZGRyZXNzPy5yZWNpcGllbnROYW1lIHx8ICcnO1xuICAgICAgICBjb25zdCBbZmlyc3ROYW1lLCBsYXN0TmFtZV0gPSByZWNpcGllbnROYW1lLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3ROYW1lIHx8ICcnLFxuICAgICAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIHBob25lX251bWJlcjogcGhvbmUsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMTogc2hpcHBpbmdBZGRyZXNzPy5saW5lMSxcbiAgICAgICAgICAgIGFkZHJlc3NfbGluZV8yOiBzaGlwcGluZ0FkZHJlc3M/LmxpbmUyLFxuICAgICAgICAgICAgY2l0eTogc2hpcHBpbmdBZGRyZXNzPy5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IHNoaXBwaW5nQWRkcmVzcz8uc3RhdGUsXG4gICAgICAgICAgICBjb3VudHJ5X2NvZGU6IHNoaXBwaW5nQWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgICAgICBwb3N0YWxfY29kZTogc2hpcHBpbmdBZGRyZXNzPy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlsczogQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICBjb25zdCB7IGJpbGxpbmdBZGRyZXNzLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGhvbmUsIHNoaXBwaW5nQWRkcmVzcyB9ID0gZGV0YWlscztcblxuICAgICAgICBjb25zdCBhZGRyZXNzID0gYmlsbGluZ0FkZHJlc3MgfHwgc2hpcHBpbmdBZGRyZXNzO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogbGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXI6IHBob25lLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzE6IGFkZHJlc3M/LmxpbmUxLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3M/LmxpbmUyLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcz8uY2l0eSxcbiAgICAgICAgICAgIHN0YXRlOiBhZGRyZXNzPy5zdGF0ZSxcbiAgICAgICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgICAgICBwb3N0YWxfY29kZTogYWRkcmVzcz8ucG9zdGFsQ29kZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRJZD86IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudElkICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRTZXNzaW9uSWQoY2FydElkPzogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgcmlza0NvcnJlbGF0aW9uSWQ6IGNhcnRJZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgfVxuXG4gICAgYXN5bmMgdGVhcmRvd24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9ycy5kZWZhdWx0KTtcbiAgICAgICAgYXdhaXQgdGhpcy50ZWFyZG93bk1vZHVsZSh0aGlzLmRhdGFDb2xsZWN0b3JzLnBheXBhbCk7XG4gICAgICAgIHRoaXMuZGF0YUNvbGxlY3RvcnMgPSB7fTtcblxuICAgICAgICBhd2FpdCB0aGlzLnRlYXJkb3duTW9kdWxlKHRoaXMucGF5cGFsQ2hlY2tvdXQpO1xuICAgICAgICB0aGlzLnBheXBhbENoZWNrb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5fdmVubW9DaGVja291dCk7XG4gICAgICAgIC8vIHRoaXMuX3Zlbm1vQ2hlY2tvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gYXdhaXQgdGhpcy50ZWFyZG93bk1vZHVsZSh0aGlzLl92aXNhQ2hlY2tvdXQpO1xuICAgICAgICAvLyB0aGlzLl92aXNhQ2hlY2tvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0M0RTKCk6IFByb21pc2U8QnJhaW50cmVlVGhyZWVEU2VjdXJlPiB7XG4gICAgICAgIGlmICghdGhpcy50aHJlZURTKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlRFMgPSBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkM0RTKCksXG4gICAgICAgICAgICBdKS50aGVuKChbY2xpZW50LCB0aHJlZURTZWN1cmVdKSA9PiB0aHJlZURTZWN1cmUuY3JlYXRlKHsgY2xpZW50LCB2ZXJzaW9uOiAyIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlRFM7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VmVubW9DaGVja291dChcbiAgICAgICAgdmVubW9Db25maWc/OiBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWcsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0PiB7XG4gICAgICAgIGlmICghdGhpcy52ZW5tb0NoZWNrb3V0KSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgdmVubW9DaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRWZW5tb0NoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIGFsbG93RGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kVXNhZ2U6ICdtdWx0aV91c2UnLFxuICAgICAgICAgICAgICAgIC4uLih2ZW5tb0NvbmZpZyB8fCB7fSksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnZlbm1vQ2hlY2tvdXQgPSBhd2FpdCBuZXcgUHJvbWlzZTxCcmFpbnRyZWVWZW5tb0NoZWNrb3V0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgICAgIHZlbm1vQ2hlY2tvdXQuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICB2ZW5tb0NoZWNrb3V0Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAoZXJyb3I6IEJyYWludHJlZUVycm9yLCBicmFpbnRyZWVWZW5tb0NoZWNrb3V0OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnJhaW50cmVlVmVubW9DaGVja291dC5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFVuc3VwcG9ydGVkQnJvd3NlckVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJyYWludHJlZVZlbm1vQ2hlY2tvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZlbm1vQ2hlY2tvdXQ7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICBCcmFpbnRyZWUgQ3JlZGl0IENhcmQgYW5kIEJyYWludHJlZSBIb3N0ZWQgRm9ybVxuICAgKi9cbiAgICBhc3luYyB2ZXJpZnlDYXJkKFxuICAgICAgICBwYXltZW50OiBQYXltZW50LFxuICAgICAgICBiaWxsaW5nQWRkcmVzczogQWRkcmVzcyxcbiAgICAgICAgYW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTxOb25jZUluc3RydW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdG9rZW5pemF0aW9uUGF5bG9hZCA9IGF3YWl0IHRoaXMudG9rZW5pemVDYXJkKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24odG9rZW5pemF0aW9uUGF5bG9hZCwgYW1vdW50KTtcbiAgICB9XG5cbiAgICBhc3luYyB0b2tlbml6ZUNhcmQocGF5bWVudDogUGF5bWVudCwgYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MpOiBQcm9taXNlPFRva2VuaXphdGlvblBheWxvYWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSB9ID0gcGF5bWVudDtcblxuICAgICAgICBpZiAoIWlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnJvcnMgPSB0aGlzLmdldEVycm9yc1JlcXVpcmVkRmllbGRzKHBheW1lbnREYXRhKTtcblxuICAgICAgICBpZiAoIWlzRW1wdHkoZXJyb3JzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHRoaXMubWFwVG9DcmVkaXRDYXJkKHBheW1lbnREYXRhLCBiaWxsaW5nQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgY3JlZGl0Q2FyZHMgfSA9IGF3YWl0IGNsaWVudC5yZXF1ZXN0KHJlcXVlc3REYXRhKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9uY2U6IGNyZWRpdENhcmRzWzBdLm5vbmNlLFxuICAgICAgICAgICAgYmluOiBjcmVkaXRDYXJkc1swXS5kZXRhaWxzLmJpbixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24oXG4gICAgICAgIHRva2VuaXphdGlvblBheWxvYWQ6IFRva2VuaXphdGlvblBheWxvYWQsXG4gICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4ge1xuICAgICAgICBjb25zdCB0aHJlZURTZWN1cmUgPSBhd2FpdCB0aGlzLmdldDNEUygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByZXNlbnQzRFNDaGFsbGVuZ2UodGhyZWVEU2VjdXJlLCBhbW91bnQsIHRva2VuaXphdGlvblBheWxvYWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGVhcmRvd25Nb2R1bGUobW9kdWxlPzogQnJhaW50cmVlTW9kdWxlKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGUgPyBtb2R1bGUudGVhcmRvd24oKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2xpZW50VG9rZW5PclRocm93KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudFRva2VuO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RXJyb3JzUmVxdWlyZWRGaWVsZHMoXG4gICAgICAgIHBheW1lbnREYXRhOiBDcmVkaXRDYXJkSW5zdHJ1bWVudCxcbiAgICApOiBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMge1xuICAgICAgICBjb25zdCB7IGNjTnVtYmVyLCBjY0V4cGlyeSB9ID0gcGF5bWVudERhdGE7XG4gICAgICAgIGNvbnN0IGVycm9yczogUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzID0ge307XG5cbiAgICAgICAgaWYgKCFjY051bWJlcikge1xuICAgICAgICAgICAgZXJyb3JzLmNjTnVtYmVyID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0NyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBpZiAoIWNjRXhwaXJ5KSB7XG4gICAgICAgICAgICBlcnJvcnMuY2NFeHBpcnkgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXhwaXJhdGlvbiBkYXRlIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBUb0NyZWRpdENhcmQoXG4gICAgICAgIGNyZWRpdENhcmQ6IENyZWRpdENhcmRJbnN0cnVtZW50LFxuICAgICAgICBiaWxsaW5nQWRkcmVzcz86IEFkZHJlc3MsXG4gICAgKTogQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNyZWRpdENhcmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZGhvbGRlck5hbWU6IGNyZWRpdENhcmQuY2NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGNyZWRpdENhcmQuY2NOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGN2djogY3JlZGl0Q2FyZC5jY0N2dixcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGAke2NyZWRpdENhcmQuY2NFeHBpcnkubW9udGh9LyR7Y3JlZGl0Q2FyZC5jY0V4cGlyeS55ZWFyfWAsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M6IGJpbGxpbmdBZGRyZXNzICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlQWxwaGEyOiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBiaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IGJpbGxpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBiaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYmlsbGluZ0FkZHJlc3MuYWRkcmVzczJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2JpbGxpbmdBZGRyZXNzLmFkZHJlc3MxfSAke2JpbGxpbmdBZGRyZXNzLmFkZHJlc3MyfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJpbGxpbmdBZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kcG9pbnQ6ICdwYXltZW50X21ldGhvZHMvY3JlZGl0X2NhcmRzJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlc2VudDNEU0NoYWxsZW5nZShcbiAgICAgICAgdGhyZWVEU2VjdXJlOiBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICAgICB0b2tlbml6YXRpb25QYXlsb2FkOiBUb2tlbml6YXRpb25QYXlsb2FkLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4ge1xuICAgICAgICBjb25zdCB7IG5vbmNlLCBiaW4gfSA9IHRva2VuaXphdGlvblBheWxvYWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRocmVlRFNlY3VyZU9wdGlvbnMgfHwgIW5vbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYWRkRnJhbWUsXG4gICAgICAgICAgICByZW1vdmVGcmFtZSxcbiAgICAgICAgICAgIGNoYWxsZW5nZVJlcXVlc3RlZCA9IHRydWUsXG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24sXG4gICAgICAgIH0gPSB0aGlzLnRocmVlRFNlY3VyZU9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhbmNlbFZlcmlmeUNhcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRocmVlRFNlY3VyZS5jYW5jZWxWZXJpZnlDYXJkKCk7XG5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbi5jYW5jZWwobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvdW5kZWRBbW91bnQgPSBhbW91bnQudG9GaXhlZCgyKTtcblxuICAgICAgICBjb25zdCB2ZXJpZmljYXRpb24gPSBuZXcgQ2FuY2VsbGFibGVQcm9taXNlKFxuICAgICAgICAgICAgdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoe1xuICAgICAgICAgICAgICAgIGFkZEZyYW1lOiAoZXJyb3IsIGlmcmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZyYW1lKGVycm9yLCBpZnJhbWUsIGNhbmNlbFZlcmlmeUNhcmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IE51bWJlcihyb3VuZGVkQW1vdW50KSxcbiAgICAgICAgICAgICAgICBiaW4sXG4gICAgICAgICAgICAgICAgY2hhbGxlbmdlUmVxdWVzdGVkLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUZyYW1lLFxuICAgICAgICAgICAgICAgIG9uTG9va3VwQ29tcGxldGU6IChfZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb2xsZWN0RGV2aWNlRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdmVyaWZpY2F0aW9uLnByb21pc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ3JlZGl0Q2FyZEluc3RydW1lbnQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNDcmVkaXRDYXJkSW5zdHJ1bWVudExpa2UoXG4gICAgaW5zdHJ1bWVudDogdW5rbm93bixcbik6IGluc3RydW1lbnQgaXMgQ3JlZGl0Q2FyZEluc3RydW1lbnQge1xuICAgIGlmICh0eXBlb2YgaW5zdHJ1bWVudCAhPT0gJ29iamVjdCcgfHwgaW5zdHJ1bWVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgIGNvbnN0IGNyZWRpdENhcmRJbnN0cnVtZW50ID0gaW5zdHJ1bWVudCBhcyBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHVua25vd24+PjtcblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBjcmVkaXRDYXJkSW5zdHJ1bWVudC5jY0V4cGlyeSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgY3JlZGl0Q2FyZEluc3RydW1lbnQuY2NFeHBpcnkgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGNyZWRpdENhcmRJbnN0cnVtZW50LmNjTnVtYmVyID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0eXBlb2YgY3JlZGl0Q2FyZEluc3RydW1lbnQuY2NOYW1lID09PSAnc3RyaW5nJ1xuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCcmFpbnRyZWVNb2R1bGVOYW1lIH0gZnJvbSAnLi9icmFpbnRyZWUnO1xuaW1wb3J0IHtcbiAgICBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT04sXG4gICAgQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTixcbn0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcmlzb24nO1xuXG5leHBvcnQgY29uc3QgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSA9IHtcbiAgICBbQlJBSU5UUkVFX1NES19TVEFCTEVfVkVSU0lPTl06IHtcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtMjZCWERObkpJMjNKWVJ5RkJqNHhlNHNWTnJVU1NpU1N1MTFreFZYTk0vdkVQT05tNEx1TDAwdzZaYVRnUWV3dCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtQit2emJad25RdHpXQnRocGtUNFRYS1VpYk82NXR5ZUs3ZUN4U3ZwYmxncHJUZXAyK0lBWEIyQ3h4anJuNzEwTycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbF06XG4gICAgICAgICAgICAnc2hhMzg0LXV5QUdMMS8zK1hKQUhuR29OeTRlQ29YZHpKNGY3SWx6cCs2dzlQTm5FanM2RENDejlXTXlKak1OMWd6Yzc4VSsnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1MSXZPRU1rSVZFd1Z1WUJkVk9RYzFBQzVZYkdHbHd5ZlVoZVMwQUNLMjE4RDJTVHVWWVFsWjRGeUVQb3dBRWZUJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3Rvcl06XG4gICAgICAgICAgICAnc2hhMzg0LTFibzlKRHorS3NjdGhjMDg1Y0NLV3VyOENMd1VvQnBvTnl4c0RpNzkzMm1DbDB6RnEzQTVtditGUUx3OUdIcFYnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50XTpcbiAgICAgICAgICAgICdzaGEzODQteG1IQlZhVSt3NzRWK09lYkQzQWFQT05GeEhVR01mK1FSczhHL0p4VlBYTk5QN01EYTJqTDBJQ1dISWUydFRmSicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1XS0RKbDhtcW9QODJxWnBNR0g2QWJaeG52WG5TVzhJTFY0TTY0Q3lNTGl1Z0dNd3U3THlQODl3akNrSHFzaUJlJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXTpcbiAgICAgICAgICAgICdzaGEzODQtVlFVbHBHSHpzR3ZzNVhlaUdGaXA3RVhSc3ZvSFdFWERWbWdDYWNmYnlpZVpJOW1kQk9xcTNOU295bzI4T0NPQicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LXl4N21BRGZ6VE4wVDQzUTZybEg0OUxJZzFFSjBpVVpnQnAvRWN6WDlMWHNVR2t5U2d4ckQrbldIUVJCa3lmb1QnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tb106XG4gICAgICAgICAgICAnc2hhMzg0LVFYNHJQam9qMVpEaHVHMGFTeUtzNTZsRUtEcVRNVGNqWXhVSFkxU3pPNVZaRHNxSUUyTlRrcW90N0tOU0N5b3YnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdOlxuICAgICAgICAgICAgJ3NoYTM4NC1WdllCQUNmU3UwQ3IvSjMydUtteEc3QVhjTk9KRTFBeklJTDNrYmlreVM3WUtwNWZ6NUlzK056TlAvbHlhdU55JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC05b0dzWk1SWndwR3RERURZYS9kRnQ3NmRFQ3FqMXhBbmk5Z0lLZ2MzS2ZNSWlSblI3M25FZWVVRExpQnp4aEZhJyxcbiAgICB9LFxuICAgIFtCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTl06IHtcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtbytuYlFHY3dOTnhJQmVYZXUzK1htYlNxK0NnOFIzRU4zTjBsNWhYQ2dNTVUyUkdZMHQxejBMcm9TRUlBYmZBTycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtV3JmYldQQlM0bUg4NkdBb3ljUFNnaUg4aFE4S0g3QTY3QzkzSGpodW52L3hoTmsyWXBCbjN3YkZBNEZoZzlVLycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbF06XG4gICAgICAgICAgICAnc2hhMzg0LVZGMzg5bnZ2clJVZ0RzVFhNeFRZT1JEdFZlZ0I5SVFhM0N4ci8vRHlKbkxZbno4L1g4VkN6RXZjazJjK01lZ3QnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC10Wkt4MnJFUWJmbVpwb1BTWTVWUG1KRWhhcTRYNzVkTHZ3SE1zM1ZFOVUrQzhsUHl3K2hXVElMMStHUHZXQ0lIJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3Rvcl06XG4gICAgICAgICAgICAnc2hhMzg0LUU2azN3T3BQN3N5Q0REd2FSRExGMDY5NDJZMDBOa2J3SnZXaTJPUVh3d0t6R3dHNWZkM0U3UkZVdkNDZWNmdk8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50XTpcbiAgICAgICAgICAgICdzaGEzODQtMjU4Rk9OOExaR0cwVzlRYXo0SmlqODNwWkh1MzBZbktqSkE3Z051bExCaDZDY2xrdWNnRit0SERRdVlGUllmVycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC10YUoycC8wK24wVkgzMjhQT0FvQml1RWJMM3RuSFVURTlTNDJoSzFWK1R4czNYK1FZalpPeUtXMzVKZ0hSRmZPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXTpcbiAgICAgICAgICAgICdzaGEzODQtK05TWkg0Wmozc081YmRXdlBLaFU1TjE2UUR4ZXVlVFZUblVWZWxlZUVTa2hMU2F6NE9iMWhoLzVteWVjYzlZbScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LTY2RGlCamdoeGsxT21Cajhha3NOOGdiUStDd29RY3gxdlBmaVhVTjA4ZzFpUVZNK0J3ZXdGMHA3dG9NM2k3U1MnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tb106XG4gICAgICAgICAgICAnc2hhMzg0LUI1VXdZNDJrRTRSb0xvV2JRN1lwcW9zVWxVYWQyL0RsR1dpdzBIaG9aYlNQazMwQ1FBYVNBMTBvaHlMRFRrRFUnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdOlxuICAgICAgICAgICAgJ3NoYTM4NC1BdzlFZXNTYVVlV3hlMzZQcUVIaU95T3lPcThNNkNJYjFndzcveUhOVlBSekd0RlhYY2QyT1E4cVhySWxPajJQJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1yaEJMMWhwWjcxSnFHKzJUc1QwRGloNDdtYmp4OGNqSkNwZVpqazl0dzNkZjFnRk1LZkNUbU15WnVuaHI3SDRZJyxcbiAgICB9LFxuICAgIFtCUkFJTlRSRUVfU0RLX0hPU1RFRF9GSUVMRFNfRklYX1ZFUlNJT05dOiB7XG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LTBXTnhrc0lwUlArZllaaUlkcjEyZzZEQlVRZkxEellDUUpadFIvQzhLa2N3U0doUEhmY0ZwM3RUYUdjTXlGVHEnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LWxXTTFqazRCT3hvRE5WNktvcDd0Vk52UWdJTmxtRVZ6MGMvT3dNK0hOSEszUUM4eHF3ZDU0T3ZydDJRUkRUamgnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdOlxuICAgICAgICAgICAgJ3NoYTM4NC1mWFVtVnhDMkVNWkJEWFo3ZVRIU1RML0xGQnJIZWovTVNYVC92VEJYdnJhNGx6Z0xOR3ZSRUFwK3gwR1lPYnVIJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtcGhhMXhHdUdTa21aSDV4OWFxSHZSYU80eExlYTdybVEvNzlQRmo5enhOenh1RmNPV1pnN2dPUDdGaWJ5Z09FQycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdOlxuICAgICAgICAgICAgJ3NoYTM4NC1RNlBJMkY5ZWVrV2JBeGhyb3libCthRWN2cWhkb3dOL0VRbEd3QlV5Sk96UEZuOTk4MnU5eGw2U1U2WGZHS3pjJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF06XG4gICAgICAgICAgICAnc2hhMzg0LVczUkxRU0tKTDF0UTMrWTdtUDZ0bWthbXRaOGJWNFl3L1h4TDlKajVKdFhIcmFEOGxvTUY4aEFJRzVtMnpLN0YnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtVElUUU1zRldBM2VsRE5HUDJtV3oyb0tCbzRxanQrVGxxem92Y2FQb2VCaUFoL3dQQmk2bmFlNTBBRGRnVTEvaScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZV06XG4gICAgICAgICAgICAnc2hhMzg0LVlpeWNZTjg5WmxML0V2Y2FxNHkxYWpXMW1oZDdKWWZaQkR1T3dIdEluNC9Kbm0yMEdMKy9YQ00rellBd1dEOEQnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0vT2RhVHY5cXJrS3pqT2J0VWU2eXpmRGhIb3pGVy8rdVhsclNsNzM2c09aUkpwakdRRVR2cFlYcU1GRmc2OXh2JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dOlxuICAgICAgICAgICAgJ3NoYTM4NC1kQStvamRXOXZiSlM0SmF2Y1h5T3M5ZDV1WkhKZzVkTnRZdXBvUFNIMnpzWElpWURWUzVhbUxiL3U4cW1RNm96JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzXTpcbiAgICAgICAgICAgICdzaGEzODQtMzFaa1M1OCtpYVdzVzA2ZnRXNTJ6elZaRnA0M1dQZDdwTllSaWRkWXluU05nNk9oN1dHYlNGR29yQVVINlQxeicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lXTpcbiAgICAgICAgICAgICdzaGEzODQtamxicndOdkwzSHZMQVVDdExTbXJuUTJHSDF1ZENVclJTL2JWbVJlQVM1ZnVJVnZjVzhQa28vR2tnODJ0bGd0cicsXG4gICAgfSxcbn07XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkgfSBmcm9tICcuL2JyYWludHJlZS1zZGstc2NyaXB0cy1pbnRlZ3JpdHknO1xuaW1wb3J0IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIGZyb20gJy4vYnJhaW50cmVlLXNkay12ZXJzaW9uLW1hbmFnZXInO1xuaW1wb3J0IGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24gZnJvbSAnLi9pc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uJztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlQ2xpZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMsXG4gICAgQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3IsXG4gICAgQnJhaW50cmVlUGF5cGFsQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yLFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3IsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVmlzYUNoZWNrb3V0U0RLIH0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXI6IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICkge31cblxuICAgIGFzeW5jIGxvYWRDbGllbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUNsaWVudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnQsXG4gICAgICAgICAgICAnY2xpZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZEZhc3RsYW5lKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkZhc3RsYW5lLFxuICAgICAgICAgICAgJ2Zhc3RsYW5lLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFBheXBhbENoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgJ3BheXBhbC1jaGVja291dC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRQYXlwYWwoKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVBheXBhbENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWwsXG4gICAgICAgICAgICAncGF5cGFsLm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZExvY2FsUGF5bWVudCgpOiBQcm9taXNlPEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudCxcbiAgICAgICAgICAgICdsb2NhbC1wYXltZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZERhdGFDb2xsZWN0b3IoKTogUHJvbWlzZTxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3IsXG4gICAgICAgICAgICAnZGF0YS1jb2xsZWN0b3IubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkVXNCYW5rQWNjb3VudCgpOiBQcm9taXNlPEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVVzQmFua0FjY291bnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudCxcbiAgICAgICAgICAgICd1cy1iYW5rLWFjY291bnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkR29vZ2xlUGF5bWVudCgpOiBQcm9taXNlPEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudCxcbiAgICAgICAgICAgICdnb29nbGUtcGF5bWVudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWQzRFMoKTogUHJvbWlzZTxCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmUsXG4gICAgICAgICAgICAndGhyZWUtZC1zZWN1cmUubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2FkVmlzYUNoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0LFxuICAgICAgICAgICAgJ3Zpc2EtY2hlY2tvdXQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2FkVmVubW9DaGVja291dCgpOiBQcm9taXNlPEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuVmVubW8sXG4gICAgICAgICAgICAndmVubW8ubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkSG9zdGVkRmllbGRzKCk6IFByb21pc2U8QnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuSG9zdGVkRmllbGRzLFxuICAgICAgICAgICAgJ2hvc3RlZC1maWVsZHMubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkVmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlPzogYm9vbGVhbik6IFByb21pc2U8VmlzYUNoZWNrb3V0U0RLPiB7XG4gICAgICAgIGlmICh0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IHRlc3RNb2RlXG4gICAgICAgICAgICA/ICdzaGEzODQtMGV1MXMxR3RxelhsTDlEdExnbXd6QzVXV2xFSC9BRFJNMG4zOGNWUWt2dFQrVy9nZXk5NnJjYjFMd3VVT1BEbSdcbiAgICAgICAgICAgIDogJ3NoYTM4NC0xZjFjc3ZQM1pGeGc0ZElMSDFHYVk0TEhsWjBvWDdSazgzcnhtTGx3Ym5JaTRUTTBOWXpYb2V2MVZvRWlWRFM2JztcblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXJcbiAgICAgICAgICAgIC5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgICAgIGAvLyR7XG4gICAgICAgICAgICAgICAgICAgIHRlc3RNb2RlID8gJ3NhbmRib3gtJyA6ICcnXG4gICAgICAgICAgICAgICAgfWFzc2V0cy5zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vY2hlY2tvdXQtd2lkZ2V0L3Jlc291cmNlcy9qcy9pbnRlZ3JhdGlvbi92MS9zZGsuanNgLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVncml0eTogaGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiAnYW5vbnltb3VzJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxUIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnM+KFxuICAgICAgICBicmFpbnRyZWVNb2R1bGVOYW1lOiBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgICAgICBmaWxlTmFtZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8VD4ge1xuICAgICAgICBsZXQgbW9kdWxlID0gdGhpcy5nZXRCcmFpbnRyZWVNb2R1bGUoYnJhaW50cmVlTW9kdWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlU2RrVmVyc2lvbiA9IHRoaXMuYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIuZ2V0U0RLVmVyc2lvbigpO1xuXG4gICAgICAgIGNvbnN0IHNjcmlwdFBhdGggPSBgLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvJHticmFpbnRyZWVTZGtWZXJzaW9ufS9qcy8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgY29uc3QgaW50ZWdyaXR5ID0gaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbihicmFpbnRyZWVTZGtWZXJzaW9uKVxuICAgICAgICAgICAgPyB0aGlzLmdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZShicmFpbnRyZWVNb2R1bGVOYW1lLCBicmFpbnRyZWVTZGtWZXJzaW9uKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcbiAgICAgICAgICAgIHNjcmlwdFBhdGgsXG4gICAgICAgICAgICBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGludGVncml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgbW9kdWxlID0gdGhpcy5nZXRCcmFpbnRyZWVNb2R1bGUoYnJhaW50cmVlTW9kdWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICByZXR1cm4gbW9kdWxlIGFzIFQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCcmFpbnRyZWVNb2R1bGUoXG4gICAgICAgIGJyYWludHJlZU1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgKTogQnJhaW50cmVlTW9kdWxlQ3JlYXRvcnMgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LmJyYWludHJlZT8uW2JyYWludHJlZU1vZHVsZU5hbWVdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SW50ZWdyaXR5VmFsdWVzQnlNb2R1bGVOYW1lKFxuICAgICAgICBtb2R1bGVOYW1lOiBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgICAgICB2ZXJzaW9uOiBrZXlvZiB0eXBlb2YgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSxcbiAgICApOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBpbnRlZ3JpdHkgPSBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZW3ZlcnNpb25dW21vZHVsZU5hbWVdO1xuXG4gICAgICAgIGlmICghaW50ZWdyaXR5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZmlsZU5hbWUgdmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlZ3JpdHk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB9IGZyb20gJy4vYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eSc7XG5cbmZ1bmN0aW9uIGlzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24oXG4gICAgdmVyc2lvbjogc3RyaW5nLFxuKTogdmVyc2lvbiBpcyBrZXlvZiB0eXBlb2YgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB7XG4gICAgcmV0dXJuIHZlcnNpb24gaW4gQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbjtcbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIiwiaW1wb3J0IHsgRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQsXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBmb3JtUG9zdGVyOiBGb3JtUG9zdGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZTogQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXBheXBhbCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWwgfHwge307XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXBheXBhbC5jb250YWluZXJcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgaWYgKCFwYXltZW50TWV0aG9kLmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgY29uZmlnLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudEJ1dHRvblN0eWxlcyB9ID0gaW5pdGlhbGl6YXRpb25EYXRhIHx8IHt9O1xuICAgICAgICBjb25zdCB7IGNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzIH0gPSBwYXltZW50QnV0dG9uU3R5bGVzIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dE9wdGlvbnM6IFBhcnRpYWw8QnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZz4gPSB7XG4gICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgaW50ZW50OiBpbml0aWFsaXphdGlvbkRhdGEuaW50ZW50LFxuICAgICAgICAgICAgaXNDcmVkaXRFbmFibGVkOiBpbml0aWFsaXphdGlvbkRhdGEuaXNDcmVkaXRFbmFibGVkLFxuICAgICAgICAgICAgY29tbWl0OiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwYXlwYWxDaGVja291dFN1Y2Nlc3NDYWxsYmFjayA9IChcbiAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbEJ1dHRvbihcbiAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWwsXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgQm9vbGVhbihjb25maWcudGVzdE1vZGUpLFxuICAgICAgICAgICAgICAgIGNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIGFzeW5jIHNpZ25JbihjcmVkZW50aWFsczogQ3VzdG9tZXJDcmVkZW50aWFscywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduSW5DdXN0b21lcihjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsOiBCcmFpbnRyZWVQYXlwYWxDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICAgICAgYnV0dG9uU3R5bGVzOiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkNsaWNrID0gbm9vcCB9ID0gYnJhaW50cmVlcGF5cGFsO1xuXG4gICAgICAgIGNvbnN0IHsgcGF5cGFsIH0gPSB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3c7XG4gICAgICAgIGNvbnN0IGZ1bmRpbmdTb3VyY2UgPSBwYXlwYWw/LkZVTkRJTkcuUEFZUEFMO1xuXG4gICAgICAgIGlmIChwYXlwYWwgJiYgZnVuZGluZ1NvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgIGVudjogdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0QnJhaW50cmVlRW52KHRlc3RNb2RlKSxcbiAgICAgICAgICAgICAgICBmdW5kaW5nU291cmNlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7IC4uLmJ1dHRvblN0eWxlcywgaGVpZ2h0OiBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFBheW1lbnQoYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsIGJyYWludHJlZXBheXBhbCwgbWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgIG9uQXBwcm92ZTogKGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXplRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWwsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgb25DbGljayxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocGF5cGFsQnV0dG9uUmVuZGVyLmlzRWxpZ2libGUoKSkge1xuICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHN0cmluZyB8IHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKS5vdXRzdGFuZGluZ0JhbGFuY2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPiA9XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGN1c3RvbWVyPy5hZGRyZXNzZXNbMF07XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSA9IGFkZHJlc3NcbiAgICAgICAgICAgICAgICA/IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoYWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LmNyZWF0ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIGZsb3c6ICdjaGVja291dCcsXG4gICAgICAgICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGludGVudDogcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmludGVudCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgeyBjb250YWluZXIsIG9uRXJyb3IgfSA9IGJyYWludHJlZXBheXBhbDtcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgY29udGFpbmVyLCBvbkVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdG9rZW5pemVQYXltZW50KFxuICAgICAgICBhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZCB8IHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0RGF0YUNvbGxlY3Rvcih7XG4gICAgICAgICAgICAgICAgcGF5cGFsOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbml6ZVBheWxvYWQgPSBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC50b2tlbml6ZVBheW1lbnQoYXV0aG9yaXplRGF0YSk7XG4gICAgICAgICAgICBjb25zdCB7IGRldGFpbHMsIG5vbmNlIH0gPSB0b2tlbml6ZVBheWxvYWQ7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhkZXRhaWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MoZGV0YWlscyk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSgnL2NoZWNrb3V0LnBocCcsIHtcbiAgICAgICAgICAgICAgICBwYXltZW50X3R5cGU6ICdwYXlwYWwnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXRfZXh0ZXJuYWxfY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoYmlsbGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KHNoaXBwaW5nQWRkcmVzcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRva2VuaXplUGF5bG9hZDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWw7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IERlZmF1bHRDaGVja291dEJ1dHRvbkhlaWdodCA9IDQwO1xuXG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQ7XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbEN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWN1c3RvbWVyLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlRm9ybVBvc3RlcigpLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVQYXlwYWxDdXN0b21lclN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZXBheXBhbCcgfSxcbl0pO1xuIiwiaW1wb3J0IHsgRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgIFBheXBhbFN0eWxlT3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBEZWZhdWx0Q2hlY2tvdXRCdXR0b25IZWlnaHQsXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1jcmVkaXQtY3VzdG9tZXItaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBicmFpbnRyZWVwYXlwYWxjcmVkaXQsIG1ldGhvZElkIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgb25FcnJvciB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0IHx8IHt9O1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYnJhaW50cmVlcGF5cGFsY3JlZGl0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlcGF5cGFsY3JlZGl0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxjcmVkaXQuY29udGFpbmVyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGxldCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIGlmICghcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChfZSkge1xuICAgICAgICAgICAgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRCdXR0b25TdHlsZXMgfSA9IGluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcbiAgICAgICAgY29uc3QgeyBjaGVja291dFRvcEJ1dHRvblN0eWxlcyB9ID0gcGF5bWVudEJ1dHRvblN0eWxlcyB8fCB7fTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbmN5Q29kZSA9IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRPcHRpb25zOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgIGludGVudDogaW5pdGlhbGl6YXRpb25EYXRhLmludGVudCxcbiAgICAgICAgICAgIGlzQ3JlZGl0RW5hYmxlZDogaW5pdGlhbGl6YXRpb25EYXRhLmlzQ3JlZGl0RW5hYmxlZCxcbiAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2sgPSAoXG4gICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0LFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIEJvb2xlYW4oY29uZmlnLnRlc3RNb2RlKSxcbiAgICAgICAgICAgICAgICB7IC4uLmNoZWNrb3V0VG9wQnV0dG9uU3R5bGVzLCBoZWlnaHQ6IERlZmF1bHRDaGVja291dEJ1dHRvbkhlaWdodCB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIGFzeW5jIHNpZ25JbihjcmVkZW50aWFsczogQ3VzdG9tZXJDcmVkZW50aWFscywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduSW5DdXN0b21lcihjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBvcHRpb25zPy5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrPy4oKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICAgICAgYnV0dG9uU3R5bGVzOiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkNsaWNrID0gbm9vcCB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0O1xuICAgICAgICBjb25zdCB7IHBheXBhbCB9ID0gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93O1xuXG4gICAgICAgIGxldCBoYXNSZW5kZXJlZFNtYXJ0QnV0dG9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHBheXBhbCkge1xuICAgICAgICAgICAgY29uc3QgZnVuZGluZ1NvdXJjZXMgPSBbcGF5cGFsLkZVTkRJTkcuUEFZTEFURVIsIHBheXBhbC5GVU5ESU5HLkNSRURJVF07XG5cbiAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2VzLmZvckVhY2goKGZ1bmRpbmdTb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1JlbmRlcmVkU21hcnRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW52OiB0ZXN0TW9kZSA/ICdzYW5kYm94JyA6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogYnV0dG9uU3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlT3JkZXI6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFBheW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVwYXlwYWxjcmVkaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpemVEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheXBhbEJ1dHRvblJlbmRlci5pc0VsaWdpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlbmRlcmVkU21hcnRCdXR0b24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBheXBhbCB8fCAhaGFzUmVuZGVyZWRTbWFydEJ1dHRvbikge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UucmVtb3ZlRWxlbWVudChjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXR1cFBheW1lbnQoXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWREZWZhdWx0Q2hlY2tvdXQoKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpLm91dHN0YW5kaW5nQmFsYW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXIgPSBzdGF0ZS5nZXRDdXN0b21lcigpO1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZDxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+ID1cbiAgICAgICAgICAgICAgICBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlID0gYWRkcmVzc1xuICAgICAgICAgICAgICAgID8gdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UubWFwVG9CcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZShhZGRyZXNzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQuY3JlYXRlUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgZmxvdzogJ2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBlbmFibGVTaGlwcGluZ0FkZHJlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnRlbnQ6IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5pbnRlbnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBvbkVycm9yIH0gPSBicmFpbnRyZWVwYXlwYWxjcmVkaXQ7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lciwgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgYXV0aG9yaXplRGF0YTogUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBicmFpbnRyZWVwYXlwYWxjcmVkaXQ6IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICBkZXZpY2VfZGF0YTogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KGJpbGxpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShzaGlwcGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0b2tlbml6ZVBheWxvYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgb25FcnJvciB9ID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0O1xuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBjb250YWluZXIsIG9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lcklkOiBzdHJpbmcsXG4gICAgICAgIG9uRXJyb3JDYWxsYmFjaz86IChlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBTdGFuZGFyZEVycm9yKSA9PiB2b2lkLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGJ1dHRvbkNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAob25FcnJvckNhbGxiYWNrICYmIGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1jdXN0b21lci1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgICAgIGdldFNjcmlwdExvYWRlcigpLFxuICAgICAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICAgICApLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVBheXBhbENyZWRpdEN1c3RvbWVyU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJTdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnIH0sXG5dKTtcbiIsImltcG9ydCB7IG9taXRCeSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uLCBGYXN0bGFuZVN0eWxlc1NldHRpbmdzIH0gZnJvbSAnLi4vaW5kZXgnO1xuXG5mdW5jdGlvbiBpc0ludmFsaWRTdHlsZU9wdGlvbihzdHlsZU9wdGlvbjogdW5rbm93bikge1xuICAgIHJldHVybiB0eXBlb2Ygc3R5bGVPcHRpb24gIT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGYXN0bGFuZVN0eWxlcyhcbiAgICBzdHlsZVNldHRpbmdzPzogRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICB1aVN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uLFxuKTogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb24gfCB1bmRlZmluZWQge1xuICAgIGlmICghdWlTdHlsZXMgJiYgIXN0eWxlU2V0dGluZ3MpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW5VcEZhc3RsYW5lU3R5bGVzKG1lcmdlRmFzdGxhbmVTdHlsZXMoc3R5bGVTZXR0aW5ncywgdWlTdHlsZXMpKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VGYXN0bGFuZVN0eWxlcyhcbiAgICBzdHlsZVNldHRpbmdzPzogRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICB1aVN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uLFxuKTogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclByaW1hcnk6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVSb290U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgICAgICAgICB1aVN0eWxlcz8ucm9vdD8uYmFja2dyb3VuZENvbG9yUHJpbWFyeSxcbiAgICAgICAgICAgIGVycm9yQ29sb3I6IHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lUm9vdFNldHRpbmdzRXJyb3JDb2xvciB8fCB1aVN0eWxlcz8ucm9vdD8uZXJyb3JDb2xvcixcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lUm9vdFNldHRpbmdzRm9udEZhbWlseSB8fCB1aVN0eWxlcz8ucm9vdD8uZm9udEZhbWlseSxcbiAgICAgICAgICAgIGZvbnRTaXplQmFzZTpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplIHx8IHVpU3R5bGVzPy5yb290Py5mb250U2l6ZUJhc2UsXG4gICAgICAgICAgICBwYWRkaW5nOiBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVJvb3RTZXR0aW5nc1BhZGRpbmcgfHwgdWlTdHlsZXM/LnJvb3Q/LnBhZGRpbmcsXG4gICAgICAgICAgICBwcmltYXJ5Q29sb3I6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVSb290U2V0dGluZ3NQcmltYXJ5Q29sb3IgfHwgdWlTdHlsZXM/LnJvb3Q/LnByaW1hcnlDb2xvcixcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXMgfHwgdWlTdHlsZXM/LmlucHV0Py5ib3JkZXJSYWRpdXMsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJDb2xvciB8fCB1aVN0eWxlcz8uaW5wdXQ/LmJvcmRlckNvbG9yLFxuICAgICAgICAgICAgZm9jdXNCb3JkZXJDb2xvcjpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUlucHV0U2V0dGluZ3NGb2N1c0JvcmRlckJhc2UgfHxcbiAgICAgICAgICAgICAgICB1aVN0eWxlcz8uaW5wdXQ/LmZvY3VzQm9yZGVyQ29sb3IsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVJbnB1dFNldHRpbmdzQmFja2dyb3VuZENvbG9yIHx8XG4gICAgICAgICAgICAgICAgdWlTdHlsZXM/LmlucHV0Py5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJXaWR0aCB8fCB1aVN0eWxlcz8uaW5wdXQ/LmJvcmRlcldpZHRoLFxuICAgICAgICAgICAgdGV4dENvbG9yQmFzZTpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZUlucHV0U2V0dGluZ3NUZXh0Q29sb3JCYXNlIHx8IHVpU3R5bGVzPy5pbnB1dD8udGV4dENvbG9yQmFzZSxcbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlOiB7XG4gICAgICAgICAgICBjb2xvclByaW1hcnk6XG4gICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yUHJpbWFyeSB8fCB1aVN0eWxlcz8udG9nZ2xlPy5jb2xvclByaW1hcnksXG4gICAgICAgICAgICBjb2xvclNlY29uZGFyeTpcbiAgICAgICAgICAgICAgICBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnkgfHxcbiAgICAgICAgICAgICAgICB1aVN0eWxlcz8udG9nZ2xlPy5jb2xvclNlY29uZGFyeSxcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZVNldHRpbmdzPy5mYXN0bGFuZVRleHRCb2R5U2V0dGluZ3NDb2xvciB8fCB1aVN0eWxlcz8udGV4dD8uYm9keT8uY29sb3IsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lVGV4dEJvZHlTZXR0aW5nc0ZvbnRTaXplIHx8XG4gICAgICAgICAgICAgICAgICAgIHVpU3R5bGVzPy50ZXh0Py5ib2R5Py5mb250U2l6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0NvbG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHVpU3R5bGVzPy50ZXh0Py5jYXB0aW9uPy5jb2xvcixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTpcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVTZXR0aW5ncz8uZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemUgfHxcbiAgICAgICAgICAgICAgICAgICAgdWlTdHlsZXM/LnRleHQ/LmNhcHRpb24/LmZvbnRTaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYnJhbmRpbmc6IHN0eWxlU2V0dGluZ3M/LmZhc3RsYW5lQnJhbmRpbmdTZXR0aW5ncyB8fCB1aVN0eWxlcz8uYnJhbmRpbmcsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY2xlYW5VcEZhc3RsYW5lU3R5bGVzKHN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb24pIHtcbiAgICBjb25zdCBmYXN0bGFuZVN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb24gPSB7fTtcblxuICAgIGNvbnN0IHJvb3QgPSBvbWl0Qnkoc3R5bGVzLnJvb3QsIGlzSW52YWxpZFN0eWxlT3B0aW9uKTtcbiAgICBjb25zdCBpbnB1dCA9IG9taXRCeShzdHlsZXMuaW5wdXQsIGlzSW52YWxpZFN0eWxlT3B0aW9uKTtcbiAgICBjb25zdCB0b2dnbGUgPSBvbWl0Qnkoc3R5bGVzLnRvZ2dsZSwgaXNJbnZhbGlkU3R5bGVPcHRpb24pO1xuICAgIGNvbnN0IHRleHRCb2R5ID0gb21pdEJ5KHN0eWxlcy50ZXh0Py5ib2R5LCBpc0ludmFsaWRTdHlsZU9wdGlvbik7XG4gICAgY29uc3QgdGV4dENhcHRpb24gPSBvbWl0Qnkoc3R5bGVzLnRleHQ/LmNhcHRpb24sIGlzSW52YWxpZFN0eWxlT3B0aW9uKTtcbiAgICBjb25zdCBicmFuZGluZyA9IHN0eWxlcy5icmFuZGluZztcblxuICAgIGlmIChPYmplY3Qua2V5cyhyb290KS5sZW5ndGgpIHtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMucm9vdCA9IHJvb3Q7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKGlucHV0KS5sZW5ndGgpIHtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModG9nZ2xlKS5sZW5ndGgpIHtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMudG9nZ2xlID0gdG9nZ2xlO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0Qm9keSkubGVuZ3RoKSB7XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnRleHQgPSB7fTtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMudGV4dC5ib2R5ID0gdGV4dEJvZHk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRleHRDYXB0aW9uKS5sZW5ndGgpIHtcbiAgICAgICAgZmFzdGxhbmVTdHlsZXMudGV4dCA9IHtcbiAgICAgICAgICAgIC4uLmZhc3RsYW5lU3R5bGVzLnRleHQsXG4gICAgICAgIH07XG4gICAgICAgIGZhc3RsYW5lU3R5bGVzLnRleHQuY2FwdGlvbiA9IHRleHRDYXB0aW9uO1xuICAgIH1cblxuICAgIGlmIChicmFuZGluZykge1xuICAgICAgICBmYXN0bGFuZVN0eWxlcy5icmFuZGluZyA9IGJyYW5kaW5nO1xuICAgIH1cblxuICAgIHJldHVybiBmYXN0bGFuZVN0eWxlcztcbn1cbiIsImltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0ICogZnJvbSAnLi9icmFpbnRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXlwYWwnO1xuZXhwb3J0ICogZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgTW9kdWxlXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgVEluc3RhbmNlLFxuICAgIFRPcHRpb25zID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBURXJyb3IgPSBCcmFpbnRyZWVFcnJvcixcbj4ge1xuICAgIGNyZWF0ZShcbiAgICAgICAgY29uZmlnOiBUT3B0aW9ucyxcbiAgICAgICAgY2FsbGJhY2s/OiAoZXJyb3I6IFRFcnJvciwgaW5zdGFuY2U6IFRJbnN0YW5jZSkgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPFRJbnN0YW5jZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIGF1dGhvcml6YXRpb24/OiBzdHJpbmc7IC8vIEluZm86IGF1dGhvcml6YXRpb24gdXNlcyBjbGllbnRUb2tlbiBhcyBhIHZhbHVlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgV2luZG93XG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50Q3JlYXRvcjtcbiAgICBicmFpbnRyZWVGYXN0bGFuZT86IEJyYWludHJlZUZhc3RsYW5lO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgQ2xpZW50XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVDbGllbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVDbGllbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUNsaWVudCB7XG4gICAgcmVxdWVzdChwYXlsb2FkOiBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50UmVxdWVzdFJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCB7XG4gICAgZGF0YToge1xuICAgICAgICBjcmVkaXRDYXJkOiB7XG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzcz86IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBjdnY/OiBzdHJpbmc7XG4gICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbnVtYmVyOiBzdHJpbmc7XG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGJvb2xlYW47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgZW5kcG9pbnQ6IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICAgICAgY2FyZFR5cGU6IHN0cmluZztcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBzdHJpbmc7XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RGb3VyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RUd286IHN0cmluZztcbiAgICB9O1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGJpbkRhdGE6IHtcbiAgICAgICAgY29tbWVyY2lhbDogc3RyaW5nO1xuICAgICAgICBjb3VudHJ5T2ZJc3N1YW5jZTogc3RyaW5nO1xuICAgICAgICBkZWJpdDogc3RyaW5nO1xuICAgICAgICBkdXJiaW5SZWd1bGF0ZWQ6IHN0cmluZztcbiAgICAgICAgaGVhbHRoY2FyZTogc3RyaW5nO1xuICAgICAgICBpc3N1aW5nQmFuazogc3RyaW5nO1xuICAgICAgICBwYXlyb2xsOiBzdHJpbmc7XG4gICAgICAgIHByZXBhaWQ6IHN0cmluZztcbiAgICAgICAgcHJvZHVjdElkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UmVzcG9uc2Uge1xuICAgIGNyZWRpdENhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWRbXTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIERhdGEgQ29sbGVjdG9yXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGtvdW50PzogYm9vbGVhbjsgLy8gSW5mbzogdGhpcyBwYXJhbSBpcyBuZWVkZWQgZm9yIGZyYXVkIGRldGVjdGlvbiAoc2hvdWxkIGFsd2F5cyBiZSAndHJ1ZScpXG4gICAgcGF5cGFsPzogYm9vbGVhbjsgLy8gVE9ETzogYmFzZWQgb24gYnJhaW50cmVlIGRvY3VtZW50YXRpb24sIHRoaXMgcGFyYW0gaXMgZGVwcmVjYXRlZCwgc28gd2UgZG9udCBuZWVkIGl0IGFueW1vcmVcbiAgICByaXNrQ29ycmVsYXRpb25JZD86IHN0cmluZzsgLy8gSW5mbzogdGhlIG9wdGlvbiBpcyBuZWVkZWQgZm9yIFBheVBhbCBBbmFseXRpY3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBkZXZpY2VEYXRhPzogc3RyaW5nO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbnRlcmZhY2Ugd2hlbiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Ugd2lsbCBiZSByZW1vdmVkXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZURhdGFDb2xsZWN0b3JzIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwYXlwYWw/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgR29vZ2xlIFBheW1lbnRcbiAqXG4gKi9cbnR5cGUgQnJhaW50cmVlR29vZ2xlUGF5bWVudEFkZHJlc3NGb3JtYXQgPSAnRlVMTCcgfCAnTUlOJztcblxuZXhwb3J0IGVudW0gVG90YWxQcmljZVN0YXR1c1R5cGUge1xuICAgIEVTVElNQVRFRCA9ICdFU1RJTUFURUQnLFxuICAgIEZJTkFMID0gJ0ZJTkFMJyxcbiAgICBOT1RfQ1VSUkVOVExZX0tOT1dOID0gJ05PVF9DVVJSRU5UTFlfS05PV04nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdE9wdGlvbnMge1xuICAgIG1lcmNoYW50SW5mbzoge1xuICAgICAgICBhdXRoSnd0Pzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudElkPzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudE5hbWU/OiBzdHJpbmc7XG4gICAgfTtcbiAgICB0cmFuc2FjdGlvbkluZm86IHtcbiAgICAgICAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBjYXJkUmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBCcmFpbnRyZWVHb29nbGVQYXltZW50QWRkcmVzc0Zvcm1hdDtcbiAgICB9O1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3Qge1xuICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogc3RyaW5nW107XG4gICAgYXBpVmVyc2lvbjogbnVtYmVyO1xuICAgIGNhcmRSZXF1aXJlbWVudHM6IHtcbiAgICAgICAgYWxsb3dlZENhcmROZXR3b3Jrczogc3RyaW5nW107XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBzdHJpbmc7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGk6IHtcbiAgICAgICAgZ29vZ2xlVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgICAgICBzdGFydFRpbWVNczogbnVtYmVyO1xuICAgIH07XG4gICAgbWVyY2hhbnRJbmZvOiB7XG4gICAgICAgIG1lcmNoYW50SWQ6IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnROYW1lOiBzdHJpbmc7XG4gICAgICAgIGF1dGhKd3Q/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmFwaVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWVyY2hhbnRJZCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWV0YWRhdGEnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOnNka1ZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICBnYXRld2F5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRva2VuaXphdGlvblR5cGU6IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVHb29nbGVQYXltZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBjcmVhdGVQYXltZW50RGF0YVJlcXVlc3QoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3RPcHRpb25zLFxuICAgICk6IEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXlUaHJlZURTZWN1cmUge1xuICAgIHZlcmlmeUNhcmQob3B0aW9uczogQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBiaW46IHN0cmluZztcbiAgICBzaG93TG9hZGVyPzogYm9vbGVhbjtcbiAgICBvbkxvb2t1cENvbXBsZXRlKGRhdGE6IEJyYWludHJlZVRocmVlRFNlY3VyZVZlcmlmaWNhdGlvbkRhdGEsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgM0QgU2VjdXJlXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmUgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHZlcmlmeUNhcmQoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrPzogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZENhbGxiYWNrLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG4gICAgY2FuY2VsVmVyaWZ5Q2FyZCgpOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xuICAgIG9uPEsgZXh0ZW5kcyBrZXlvZiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcD4oXG4gICAgICAgIGV2ZW50OiBLLFxuICAgICAgICBoYW5kbGVyOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcFtLXSxcbiAgICApOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkQ2FsbGJhY2sgPSAoXG4gICAgdmVyaWZ5RXJyb3I6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRFcnJvcixcbiAgICBwYXlsb2FkOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCxcbikgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcCB7XG4gICAgJ2N1c3RvbWVyLWNhbmNlbGVkJzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgdmVyc2lvbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyIHwgc3RyaW5nO1xuICAgIGNoYWxsZW5nZVJlcXVlc3RlZD86IGJvb2xlYW47XG4gICAgc2hvd0xvYWRlcj86IGJvb2xlYW47XG4gICAgYmluPzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbj86IHtcbiAgICAgICAgYWNzV2luZG93U2l6ZT86ICcwMScgfCAnMDInIHwgJzAzJyB8ICcwNCcgfCAnMDUnO1xuICAgIH07XG4gICAgY29sbGVjdERldmljZURhdGE/OiBib29sZWFuO1xuICAgIGFkZEZyYW1lPyhcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVGcmFtZT8oKTogdm9pZDtcbiAgICBvbkxvb2t1cENvbXBsZXRlPyhkYXRhOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhLCBuZXh0OiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhIHtcbiAgICBsb29rdXA6IHtcbiAgICAgICAgdGhyZWVEU2VjdXJlVmVyc2lvbjogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudE1ldGhvZDogQnJhaW50cmVlVmVyaWZ5UGF5bG9hZDtcbiAgICByZXF1aXJlc1VzZXJBdXRoZW50aWNhdGlvbjogYm9vbGVhbjtcbiAgICB0aHJlZURTZWN1cmVJbmZvOiB7XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlT3JkZXJTdGF0dXMge1xuICAgIENvbXBsZXRlZCA9ICdDT01QTEVURUQnLFxuICAgIFBlbmRpbmcgPSAnUEVORElORycsXG4gICAgRmFpbGVkID0gJ0ZBSUxFRCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlT3JkZXJTdGF0dXNEYXRhIHtcbiAgICBzdGF0dXM6IEJyYWludHJlZU9yZGVyU3RhdHVzO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVVMgQmFuayBBY2NvdW50IChBQ0gpXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlVXNCYW5rQWNjb3VudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudCB7XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50VG9rZW5pemF0aW9uT3B0aW9ucyB7XG4gICAgYmFua0RldGFpbHM6IEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzO1xuICAgIG1hbmRhdGVUZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudERldGFpbHMge1xuICAgIGFjY291bnROdW1iZXI6IHN0cmluZztcbiAgICByb3V0aW5nTnVtYmVyOiBzdHJpbmc7XG4gICAgb3duZXJzaGlwVHlwZTogc3RyaW5nO1xuICAgIGFjY291bnRUeXBlOiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJ1c2luZXNzTmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzczoge1xuICAgICAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgICAgIGV4dGVuZGVkQWRkcmVzczogc3RyaW5nO1xuICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICByZWdpb246IHN0cmluZztcbiAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIH07XG59XG5cbi8vIFRPRE86IG1vdmUgdGhpcyBpbnRlcmZhY2UgaW4gc2VwYXJhdGUgdHlwZXMgZ3JvdXAgaWYgaXQgd2lsbCBiZSB1c2VkIGluIGFub3RoZXIgKG5vdCBBQ0gpIHN0cmF0ZWdpZXNcbi8vIFRoaXMgc2VlbXMgdG8gYmUgYW4gaW50ZXJmYWNlIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBkaWZmZXJlbnQgcGxhY2VzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMge1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBheWVySWQ/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcztcbiAgICBiaWxsaW5nQWRkcmVzcz86IEJyYWludHJlZUFkZHJlc3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQWRkcmVzcyB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMjogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcyBleHRlbmRzIEJyYWludHJlZUFkZHJlc3Mge1xuICAgIHJlY2lwaWVudE5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIG5vbi1pbnN0YW50IHBheW1lbnQgbWV0aG9kc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gTm9uSW5zdGFudExvY2FsUGF5bWVudE1ldGhvZHMge1xuICAgIFRSVVNUTFkgPSAndHJ1c3RseScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50TWV0aG9kUmVkaXJlY3RBY3Rpb24ge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvZmZzaXRlX3JlZGlyZWN0JztcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2Uge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBvcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHk6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEZhc3RsYW5lXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUZhc3RsYW5lLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnIHtcbiAgICBhdXRob3JpemF0aW9uOiBzdHJpbmc7XG4gICAgY2xpZW50OiBCcmFpbnRyZWVDbGllbnQ7XG4gICAgZGV2aWNlRGF0YT86IHN0cmluZztcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZSB7XG4gICAgaWRlbnRpdHk6IEJyYWludHJlZUZhc3RsYW5lSWRlbnRpdHk7XG4gICAgcHJvZmlsZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlO1xuICAgIEZhc3RsYW5lQ2FyZENvbXBvbmVudDogKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zLFxuICAgICkgPT4gUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQ+O1xuICAgIGV2ZW50czogQnJhaW50cmVlRmFzdGxhbmVFdmVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlIHtcbiAgICBzaG93Q2FyZFNlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZT47XG4gICAgc2hvd1NoaXBwaW5nQWRkcmVzc1NlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3NTZWxlY3RvclJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzc1NlbGVjdG9yUmVzcG9uc2Uge1xuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGJvb2xlYW47XG4gICAgc2VsZWN0ZWRBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcyB7XG4gICAgbmFtZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZTtcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICByZWdpb246IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVOdW1lcmljPzogbnVtYmVyO1xuICAgIGNvdW50cnlDb2RlQWxwaGEyOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZSB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZSB7XG4gICAgc2VsZWN0aW9uQ2hhbmdlZDogYm9vbGVhbjtcbiAgICBzZWxlY3RlZENhcmQ6IEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJyYWludHJlZUZhc3RsYW5lOiBCcmFpbnRyZWVGYXN0bGFuZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUlkZW50aXR5IHtcbiAgICBsb29rdXBDdXN0b21lckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVMb29rdXBDdXN0b21lckJ5RW1haWxSZXN1bHQ+O1xuICAgIHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3coXG4gICAgICAgIGN1c3RvbWVySWQ6IHN0cmluZyxcbiAgICAgICAgb3B0aW9ucz86IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbkN1c3RvbWVyUmVzdWx0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUxvb2t1cEN1c3RvbWVyQnlFbWFpbFJlc3VsdCB7XG4gICAgY3VzdG9tZXJDb250ZXh0SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbk9wdGlvbnMge1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHtcbiAgICByb290Pzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5Pzogc3RyaW5nO1xuICAgICAgICBlcnJvckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgICAgICBmb250U2l6ZUJhc2U/OiBzdHJpbmc7XG4gICAgICAgIHBhZGRpbmc/OiBzdHJpbmc7XG4gICAgICAgIHByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICB9O1xuICAgIGlucHV0Pzoge1xuICAgICAgICBib3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb2N1c0JvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlcldpZHRoPzogc3RyaW5nO1xuICAgICAgICB0ZXh0Q29sb3JCYXNlPzogc3RyaW5nO1xuICAgIH07XG4gICAgdG9nZ2xlPzoge1xuICAgICAgICBjb2xvclByaW1hcnk/OiBzdHJpbmc7XG4gICAgICAgIGNvbG9yU2Vjb25kYXJ5Pzogc3RyaW5nO1xuICAgIH07XG4gICAgdGV4dD86IHtcbiAgICAgICAgYm9keT86IHtcbiAgICAgICAgICAgIGNvbG9yPzogc3RyaW5nO1xuICAgICAgICAgICAgZm9udFNpemU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIGNhcHRpb24/OiB7XG4gICAgICAgICAgICBjb2xvcj86IHN0cmluZztcbiAgICAgICAgICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYnJhbmRpbmc/OiBzdHJpbmc7IC8vICdsaWdodCcgfCAnZGFyaydcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIHtcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBGQUlMRUQgPSAnZmFpbGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxsZWQnLFxuICAgIFVOUkVDT0dOSVpFRCA9ICd1bnJlY29nbml6ZWQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25DdXN0b21lclJlc3VsdCB7XG4gICAgYXV0aGVudGljYXRpb25TdGF0ZTogQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIHByb2ZpbGVEYXRhOiBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZURhdGEge1xuICAgIGZhc3RsYW5lQ3VzdG9tZXJBdXRoQXNzZXJ0aW9uVG9rZW46IHN0cmluZztcbiAgICBmYXN0bGFuZUN1c3RvbWVySWQ6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBjYXJkOiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50O1xuICAgIG5hbWU6IEJyYWludHJlZUZhc3RsYW5lTmFtZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZU5hbWUge1xuICAgIGZpcnN0TmFtZTogc3RyaW5nO1xuICAgIGxhc3ROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IG51bWJlcjtcbiAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZFBheW1lbnRTb3VyY2Uge1xuICAgIGJyYW5kOiBzdHJpbmc7XG4gICAgZXhwaXJ5OiBzdHJpbmc7XG4gICAgbGFzdERpZ2l0czogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBiaW5EZXRhaWxzPzoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFNvdXJjZSB7XG4gICAgY2FyZDogQnJhaW50cmVlRmFzdGxhbmVDYXJkUGF5bWVudFNvdXJjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICBpZDogc3RyaW5nOyAvLyBUaGlzIGlzIHRoZSBub25jZSAvIHRva2VuXG4gICAgcGF5bWVudFNvdXJjZTogQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U291cmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudE9wdGlvbnMge1xuICAgIHN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb247XG4gICAgZmllbGRzOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRGaWVsZHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50RmllbGRzIHtcbiAgICBjYXJkaG9sZGVyTmFtZT86IHtcbiAgICAgICAgZW5hYmxlZD86IGJvb2xlYW47XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwaG9uZU51bWJlcj86IHtcbiAgICAgICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYXN0bGFuZVN0eWxlc1NldHRpbmdzIHtcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0Vycm9yQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NGb250RmFtaWx5Pzogc3RyaW5nO1xuICAgIGZhc3RsYW5lUm9vdFNldHRpbmdzUGFkZGluZz86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc1ByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyV2lkdGg/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzRm9jdXNCb3JkZXJCYXNlPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2U/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yUHJpbWFyeT86IHN0cmluZztcbiAgICBmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnk/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVCcmFuZGluZ1NldHRpbmdzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lVG9rZW5pemVPcHRpb25zIHtcbiAgICBuYW1lPzoge1xuICAgICAgICBmdWxsTmFtZTogc3RyaW5nO1xuICAgIH07XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgc2hpcHBpbmdBZGRyZXNzPzogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRXZlbnRzIHtcbiAgICBhcG1TZWxlY3RlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lQXBtU2VsZWN0ZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG4gICAgZW1haWxTdWJtaXR0ZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUVtYWlsRW50ZXJlZEV2ZW50T3B0aW9ucykgPT4gdm9pZDtcbiAgICBvcmRlclBsYWNlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGNvbnRleHRfdHlwZTogJ2NzX2lkJztcbiAgICBjb250ZXh0X2lkOiBzdHJpbmc7IC8vIGNoZWNrb3V0IHNlc3Npb24gaWRcbiAgICBwYWdlX3R5cGU6ICdjaGVja291dF9wYWdlJztcbiAgICBwYWdlX25hbWU6IHN0cmluZzsgLy8gdGl0bGUgb2YgdGhlIGNoZWNrb3V0IGluaXRpYXRpb24gcGFnZVxuICAgIHBhcnRuZXJfbmFtZTogJ2JpZ2MnO1xuICAgIHVzZXJfdHlwZTogJ3N0b3JlX21lbWJlcicgfCAnc3RvcmVfZ3Vlc3QnOyAvLyB0eXBlIG9mIHRoZSB1c2VyIG9uIHRoZSBtZXJjaGFudCBzaXRlXG4gICAgc3RvcmVfaWQ6IHN0cmluZztcbiAgICBtZXJjaGFudF9uYW1lOiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudDogc3RyaW5nOyAvLyBzdHJpbmdpZnkgSlNPTiBvYmplY3QgXCJbeyB0cmVhdG1lbnRfZ3JvdXA6ICd0ZXN0JyB8ICdjb250cm9sJyB9XVwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBcG1TZWxlY3RlZEV2ZW50T3B0aW9uc1xuICAgIGV4dGVuZHMgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGFwbV9zaG93bjogJzAnIHwgJzEnOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiB0aGUgY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9saXN0OiBzdHJpbmc7IC8vIGxpc3Qgb2YgYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9zZWxlY3RlZDogc3RyaW5nOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBtZXRob2Qgc2VsZWN0ZWQgLyBtZXRob2RJZFxuICAgIGFwbV9sb2NhdGlvbjogJ3ByZS1lbWFpbCBzZWN0aW9uJyB8ICdwYXltZW50IHNlY3Rpb24nOyAvLyBwbGFjZW1lbnQgb2YgQVBNLCB3aGV0aGVyIGl0IGJlIGFib3ZlIHRoZSBlbWFpbCBlbnRyeSBvciBpbiB0aGUgcmFkaW8gYnV0dG9uc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRW1haWxFbnRlcmVkRXZlbnRPcHRpb25zXG4gICAgZXh0ZW5kcyBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50Q29tbW9uT3B0aW9ucyB7XG4gICAgdXNlcl9lbWFpbF9zYXZlZDogYm9vbGVhbjsgLy8gc2hvd3Mgd2hldGhlciBjaGVja291dCB3YXMgbG9hZGVkIHdpdGggb3Igd2l0aG91dCBhIHNhdmVkIGVtYWlsXG4gICAgYXBtX3Nob3duOiAnMCcgfCAnMSc7IC8vIGFsdGVybmF0ZSBwYXltZW50IHNob3duIG9uIHRoZSBjaGVja291dCBwYWdlXG4gICAgYXBtX2xpc3Q6IHN0cmluZzsgLy8gbGlzdCBvZiBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiBjaGVja291dCBwYWdlICdhcHBsZXBheSxnb29nbGVwYXkscGF5cGFsJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnNcbiAgICBleHRlbmRzIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBzZWxlY3RlZF9wYXltZW50X21ldGhvZDogc3RyaW5nO1xuICAgIGN1cnJlbmN5X2NvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQge1xuICAgIChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zKTogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50O1xuICAgIGdldFBheW1lbnRUb2tlbihcbiAgICAgICAgb3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50PjtcbiAgICByZW5kZXIoZWxlbWVudDogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheWxvYWQgVmVyaWZpY2F0aW9uXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlcmlmeVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBjYXJkVHlwZTogc3RyaW5nO1xuICAgICAgICBsYXN0Rm91cjogc3RyaW5nO1xuICAgICAgICBsYXN0VHdvOiBzdHJpbmc7XG4gICAgfTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgbGlhYmlsaXR5U2hpZnRlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEVycm9yc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlRXJyb3JUeXBlIHtcbiAgICBDdXN0b21lciA9ICdDVVNUT01FUicsXG4gICAgTWVyY2hhbnQgPSAnTUVSQ0hBTlQnLFxuICAgIE5ldHdvcmsgPSAnTkVUV09SSycsXG4gICAgSW50ZXJuYWwgPSAnSU5URVJOQUwnLFxuICAgIFVua25vd24gPSAnVU5LTk9XTicsXG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVycm9yQ29kZSB7XG4gICAgS291bnROb3RFbmFibGVkID0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvclR5cGU7XG4gICAgY29kZTogc3RyaW5nIHwgQnJhaW50cmVlRXJyb3JDb2RlLktvdW50Tm90RW5hYmxlZDtcbiAgICBkZXRhaWxzPzogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVSZWRpcmVjdEVycm9yIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzcyBleHRlbmRzIEFkZHJlc3Mge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMge1xuICAgIFZpc2EgPSAndmlzYScsXG4gICAgTWFzdGVyY2FyZCA9ICdtYXN0ZXJjYXJkJyxcbiAgICBBbWVyaWNhbkV4cHJlc3MgPSAnYW1lcmljYW4tZXhwcmVzcycsXG4gICAgRGluZXJzQ2x1YiA9ICdkaW5lcnMtY2x1YicsXG4gICAgRGlzY292ZXIgPSAnZGlzY292ZXInLFxuICAgIEpjYiA9ICdqY2InLFxuICAgIFVuaW9uUGF5ID0gJ3VuaW9uLXBheScsXG4gICAgTWFlc3RybyA9ICdtYWVzdHJvJyxcbiAgICBFbG8gPSAnZWxvJyxcbiAgICBNaXIgPSAnbWlyJyxcbiAgICBIaXBlciA9ICdoaXBlcicsXG4gICAgSGlwZXJjYXJkID0gJ2hpcGVyY2FyZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3NTdGF0ZSB7XG4gICAgZGF0YT86IEJpbGxpbmdBZGRyZXNzO1xuICAgIGVycm9yczogQmlsbGluZ0FkZHJlc3NFcnJvcnNTdGF0ZTtcbiAgICBzdGF0dXNlczogQmlsbGluZ0FkZHJlc3NTdGF0dXNlc1N0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdBZGRyZXNzRXJyb3JzU3RhdGUge1xuICAgIGxvYWRFcnJvcj86IEVycm9yO1xuICAgIHVwZGF0ZUVycm9yPzogRXJyb3I7XG4gICAgY29udGludWVBc0d1ZXN0RXJyb3I/OiBFcnJvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzc1N0YXR1c2VzU3RhdGUge1xuICAgIGlzTG9hZGluZz86IGJvb2xlYW47XG4gICAgaXNVcGRhdGluZz86IGJvb2xlYW47XG4gICAgaXNDb250aW51aW5nQXNHdWVzdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgIGRhdGE6IHtcbiAgICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiB7XG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXJkaG9sZGVyTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgY3Z2Pzogc3RyaW5nO1xuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIG51bWJlcjogc3RyaW5nO1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBib29sZWFuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGVuZHBvaW50OiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBIb3N0ZWRJbnN0cnVtZW50LCBOb25jZUluc3RydW1lbnQgfSBmcm9tICcuL3BheW1lbnQnO1xuXG50eXBlIFBheW1lbnRJbnN0cnVtZW50ID0gQ2FyZEluc3RydW1lbnQgfCBBY2NvdW50SW5zdHJ1bWVudCB8IEhvc3RlZEluc3RydW1lbnQgfCBOb25jZUluc3RydW1lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IFBheW1lbnRJbnN0cnVtZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VJbnN0cnVtZW50IHtcbiAgICBiaWdwYXlUb2tlbjogc3RyaW5nO1xuICAgIGRlZmF1bHRJbnN0cnVtZW50OiBib29sZWFuO1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgdHJ1c3RlZFNoaXBwaW5nQWRkcmVzczogYm9vbGVhbjtcbiAgICBtZXRob2Q6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIFVudHJ1c3RlZFNoaXBwaW5nQ2FyZFZlcmlmaWNhdGlvblR5cGUge1xuICAgIENWViA9ICdjdnYnLFxuICAgIFBBTiA9ICdwYW4nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRJbnN0cnVtZW50IGV4dGVuZHMgQmFzZUluc3RydW1lbnQge1xuICAgIGJyYW5kOiBzdHJpbmc7XG4gICAgZXhwaXJ5TW9udGg6IHN0cmluZztcbiAgICBleHBpcnlZZWFyOiBzdHJpbmc7XG4gICAgaWluOiBzdHJpbmc7XG4gICAgbGFzdDQ6IHN0cmluZztcbiAgICB0eXBlOiAnY2FyZCc7XG4gICAgdW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uTW9kZTogVW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uVHlwZTtcbn1cblxuaW50ZXJmYWNlIEJhc2VBY2NvdW50SW5zdHJ1bWVudCBleHRlbmRzIEJhc2VJbnN0cnVtZW50IHtcbiAgICBtZXRob2Q6IHN0cmluZztcbiAgICB0eXBlOiAnYWNjb3VudCcgfCAnYmFuayc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5UGFsSW5zdHJ1bWVudCBleHRlbmRzIEJhc2VBY2NvdW50SW5zdHJ1bWVudCB7XG4gICAgZXh0ZXJuYWxJZDogc3RyaW5nO1xuICAgIG1ldGhvZDogJ3BheXBhbCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNoSW5zdHJ1bWVudCBleHRlbmRzIEJhc2VBY2NvdW50SW5zdHJ1bWVudCB7XG4gICAgaXNzdWVyOiBzdHJpbmc7XG4gICAgYWNjb3VudE51bWJlcjogc3RyaW5nO1xuICAgIHR5cGU6ICdiYW5rJztcbiAgICBtZXRob2Q6ICdhY2gnIHwgJ2VjcCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFua0luc3RydW1lbnQgZXh0ZW5kcyBCYXNlQWNjb3VudEluc3RydW1lbnQge1xuICAgIGFjY291bnROdW1iZXI6IHN0cmluZztcbiAgICBpc3N1ZXI6IHN0cmluZztcbiAgICBpYmFuOiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG4gICAgdHlwZTogJ2JhbmsnO1xufVxuXG5leHBvcnQgdHlwZSBBY2NvdW50SW5zdHJ1bWVudCA9IFBheVBhbEluc3RydW1lbnQgfCBCYW5rSW5zdHJ1bWVudCB8IEFjaEluc3RydW1lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRBY2Nlc3NUb2tlbiB7XG4gICAgdmF1bHRBY2Nlc3NUb2tlbjogc3RyaW5nO1xuICAgIHZhdWx0QWNjZXNzRXhwaXJ5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkNvbnRleHQge1xuICAgIGN1c3RvbWVySWQ6IG51bWJlcjtcbiAgICBzdG9yZUlkOiBzdHJpbmc7XG4gICAgY3VycmVuY3lDb2RlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluc3RydW1lbnRSZXF1ZXN0Q29udGV4dCBleHRlbmRzIFNlc3Npb25Db250ZXh0IHtcbiAgICBhdXRoVG9rZW46IHN0cmluZztcbn1cbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIGdldEZhc3RsYW5lU3R5bGVzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEN1c3RvbWVyQ3JlZGVudGlhbHMsXG4gICAgQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICBDdXN0b21lclN0cmF0ZWd5LFxuICAgIEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFdpdGhCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2JyYWludHJlZS1mYXN0bGFuZS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lVXRpbHMgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kgaW1wbGVtZW50cyBDdXN0b21lclN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIGlzQWNjZWxlcmF0ZWRDaGVja291dEVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlRmFzdGxhbmVVdGlsczogQnJhaW50cmVlRmFzdGxhbmVVdGlscyxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKHtcbiAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgIGJyYWludHJlZWZhc3RsYW5lLFxuICAgIH06IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lckluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IGF3YWl0IHRoaXMuZ2V0VmFsaWRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgeyBpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkLCBpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWQgfSA9XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcblxuICAgICAgICBjb25zdCBwYXlwYWxGYXN0bGFuZVN0eWxlc1NldHRpbmdzID0gaXNGYXN0bGFuZVN0eWxpbmdFbmFibGVkXG4gICAgICAgICAgICA/IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5mYXN0bGFuZVN0eWxlc1xuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5pc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkID0gISFpc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjY2VsZXJhdGVkQ2hlY2tvdXRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFzdGxhbmVTdHlsZXMgPSBnZXRGYXN0bGFuZVN0eWxlcyhcbiAgICAgICAgICAgICAgICAgICAgcGF5cGFsRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlZmFzdGxhbmU/LnN0eWxlcyxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgICAgICAgICAgICAgIGZhc3RsYW5lU3R5bGVzLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIEluZm86IERvIG5vdCB0aHJvdyBhbnl0aGluZyBoZXJlIHRvIGF2b2lkIGJsb2NraW5nIGN1c3RvbWVyIGZyb20gcGFzc2luZyBjaGVja291dCBmbG93XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbkluKGNyZWRlbnRpYWxzOiBDdXN0b21lckNyZWRlbnRpYWxzLCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25JbkN1c3RvbWVyKGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBhc3luYyBzaWduT3V0KG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2lnbk91dEN1c3RvbWVyKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQoXG4gICAgICAgIG9wdGlvbnM/OiBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBjaGVja291dFBheW1lbnRNZXRob2RFeGVjdXRlZCwgY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2tcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQgYW5kIGl0IG11c3QgYmUgYSBmdW5jdGlvbi4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZCAmJiBjdXN0b21lci5pc0d1ZXN0KSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3cgPSBhd2FpdCB0aGlzLnNob3VsZFJ1bkF1dGhlbnRpY2F0aW9uRmxvdygpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2hlY2tvdXRQYXltZW50TWV0aG9kRXhlY3V0ZWQgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgY2hlY2tvdXRQYXltZW50TWV0aG9kRXhlY3V0ZWQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNoZWNrb3V0UGF5bWVudE1ldGhvZEV4ZWN1dGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3cpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMucnVuUGF5UGFsQXV0aGVudGljYXRpb25GbG93T3JUaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgbWV0aG9kIGFmdGVyIEEvQiB0ZXN0aW5nIGZpbmlzaGVkXG4gICAgcHJpdmF0ZSBhc3luYyBzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3coKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHByaW1hcnlNZXRob2RJZCA9ICdicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0JztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW5mbzogd2Ugc2hvdWxkIGxvYWQgcGF5bWVudCBtZXRob2QgZWFjaCB0aW1lIHRvIGRldGVjdCBpZiB0aGUgdXNlclxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGluIGEgdGVzdCBvciBpbiBhIGNvbnRyb2wgZ3JvdXBcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChwcmltYXJ5TWV0aG9kSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihwcmltYXJ5TWV0aG9kSWQpO1xuXG4gICAgICAgICAgICAvLyBJbmZvOiBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZmxvdyBvZiBBL0IgdGVzdGluZyBwdXJwb3Nlc1xuICAgICAgICAgICAgLy8gd2hlbiBzaG91bGRSdW5BY2NlbGVyYXRlZENoZWNrb3V0IGlzIHRydWUsIHRoZSBsb29rdXAgUGF5UGFsIENvbm5lY3QgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQsXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgQWNjZWxlcmF0ZWRDaGVja291dCBzaG91bGQgbm90IGJlIGF2YWlsYWJsZSBmb3IgdGhlIGN1c3RvbWVyXG4gICAgICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LnNob3VsZFJ1bkFjY2VsZXJhdGVkQ2hlY2tvdXQgfHwgZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0VmFsaWRQYXltZW50TWV0aG9kT3JUaHJvdyhcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPj4ge1xuICAgICAgICBsZXQgdmFsaWRQYXltZW50TWV0aG9kSWQgPSBtZXRob2RJZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKHZhbGlkUGF5bWVudE1ldGhvZElkKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICB2YWxpZFBheW1lbnRNZXRob2RJZCA9XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQgPT09ICdicmFpbnRyZWUnID8gJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnIDogJ2JyYWludHJlZSc7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QodmFsaWRQYXltZW50TWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KHZhbGlkUGF5bWVudE1ldGhvZElkKTtcbiAgICB9XG59XG4iLCJpbnRlcmZhY2UgQ29va2llT3B0aW9ucyB7XG4gICAgZXhwaXJlcz86IERhdGU7XG4gICAgcGF0aD86IHN0cmluZztcbiAgICBkb21haW4/OiBzdHJpbmc7XG4gICAgc2VjdXJlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29va2llU3RvcmFnZSB7XG4gICAgc3RhdGljIGdldChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgY29uc3QgY29va2llS2V5ID0gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGAke25hbWV9YCl9PWA7XG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZTtcblxuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0SW5kZXggPSBjb29raWUuaW5kZXhPZihjb29raWVLZXkpO1xuXG4gICAgICAgIGlmIChmaXJzdEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSBjb29raWUuaW5kZXhPZignOycsIGZpcnN0SW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAobGFzdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IGNvb2tpZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoZmlyc3RJbmRleCArIGNvb2tpZUtleS5sZW5ndGgsIGxhc3RJbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zID0geyBzZWN1cmU6IHRydWUgfSkge1xuICAgICAgICBsZXQgY29va2llVGV4dCA9IGAke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG5cbiAgICAgICAgY29uc3QgeyBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoZXhwaXJlcykge1xuICAgICAgICAgICAgY29va2llVGV4dCArPSBgOyBleHBpcmVzPSR7ZXhwaXJlcy50b1VUQ1N0cmluZygpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgLy8gaW5mbzogZGVmYXVsdCBjb29raWUgZXhwaXJhdGlvbiB0aW1lIGFmdGVyIHNldHVwXG4gICAgICAgICAgICBjb25zdCBtaW51dGVzID0gNjA7XG5cbiAgICAgICAgICAgIG5vdy5zZXRUaW1lKG5vdy5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAgKiAxMDAwKTtcblxuICAgICAgICAgICAgY29va2llVGV4dCArPSBgOyBleHBpcmVzPSR7bm93LnRvVVRDU3RyaW5nKCl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBjb29raWVUZXh0ICs9IGA7IHBhdGg9JHtwYXRofWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICBjb29raWVUZXh0ICs9IGA7IGRvbWFpbj0ke2RvbWFpbn1gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSkge1xuICAgICAgICAgICAgY29va2llVGV4dCArPSAnOyBzZWN1cmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llVGV4dDtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlKG5hbWU6IHN0cmluZywgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgQ29va2llU3RvcmFnZS5zZXQobmFtZSwgJycsIHsgZXhwaXJlczogbmV3IERhdGUoMCksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNFcXVhbCwgb21pdCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRmFzdGxhbmUsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25TdGF0ZSxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhLFxuICAgIEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uLFxuICAgIEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnQsXG4gICAgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDYXJkSW5zdHJ1bWVudCxcbiAgICBDdXN0b21lckFkZHJlc3MsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yLFxuICAgIFVudHJ1c3RlZFNoaXBwaW5nQ2FyZFZlcmlmaWNhdGlvblR5cGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgQ29va2llU3RvcmFnZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZUZhc3RsYW5lVXRpbHMge1xuICAgIHByaXZhdGUgYnJhaW50cmVlRmFzdGxhbmU/OiBCcmFpbnRyZWVGYXN0bGFuZTtcbiAgICBwcml2YXRlIG1ldGhvZElkPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBhc3luYyBnZXREZXZpY2VTZXNzaW9uSWQoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgY2FydCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbklkKGNhcnQ/LmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEluaXRpYWxpemF0aW9uIG1ldGhvZFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lT3JUaHJvdyhcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc3R5bGVzPzogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb24sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0KCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZyB9ID1cbiAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWV0aG9kSWQgPSBtZXRob2RJZDtcblxuICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcblxuICAgICAgICB0aGlzLmJyYWludHJlZUZhc3RsYW5lID0gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0QnJhaW50cmVlRmFzdGxhbmUoXG4gICAgICAgICAgICBjYXJ0Py5pZCxcbiAgICAgICAgICAgIGNvbmZpZy50ZXN0TW9kZSxcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coKTogQnJhaW50cmVlRmFzdGxhbmUge1xuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlRmFzdGxhbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlRmFzdGxhbmU7XG4gICAgfVxuXG4gICAgZ2V0QnJhaW50cmVlRmFzdGxhbmVDb21wb25lbnRPclRocm93KCk6IEJyYWludHJlZUZhc3RsYW5lWydGYXN0bGFuZUNhcmRDb21wb25lbnQnXSB7XG4gICAgICAgIGNvbnN0IGJyYWludHJlZUZhc3RsYW5lID0gdGhpcy5nZXRCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3coKTtcblxuICAgICAgICByZXR1cm4gYnJhaW50cmVlRmFzdGxhbmUuRmFzdGxhbmVDYXJkQ29tcG9uZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQXV0aGVudGljYXRpb24gbWV0aG9kc1xuICAgICAqXG4gICAgICogKi9cbiAgICAvLyBSZW1vdmUgdGhpcyBydWxlIGRpc2FibGluZyBhZnRlciBtZXRob2QgcmVmYWN0b3JcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgIGFzeW5jIHJ1blBheVBhbEF1dGhlbnRpY2F0aW9uRmxvd09yVGhyb3coXG4gICAgICAgIGVtYWlsPzogc3RyaW5nLFxuICAgICAgICBzaG91bGRTZXRTaGlwcGluZ09wdGlvbj86IGJvb2xlYW4sXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2RJZCA9IHRoaXMuZ2V0TWV0aG9kSWRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZSA9IHRoaXMuZ2V0QnJhaW50cmVlRmFzdGxhbmVPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCB7IGxvb2t1cEN1c3RvbWVyQnlFbWFpbCwgdHJpZ2dlckF1dGhlbnRpY2F0aW9uRmxvdyB9ID0gYnJhaW50cmVlRmFzdGxhbmUuaWRlbnRpdHk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyID0gc3RhdGUuZ2V0Q3VzdG9tZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaXNGYXN0bGFuZVNoaXBwaW5nT3B0aW9uQXV0b1NlbGVjdEVuYWJsZWQgfSA9XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihtZXRob2RJZClcbiAgICAgICAgICAgICAgICAgICAgLmluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcblxuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJFbWFpbCA9IGVtYWlsIHx8IGN1c3RvbWVyPy5lbWFpbCB8fCBiaWxsaW5nQWRkcmVzcz8uZW1haWwgfHwgJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgY3VzdG9tZXJDb250ZXh0SWQgfSA9IGF3YWl0IGxvb2t1cEN1c3RvbWVyQnlFbWFpbChjdXN0b21lckVtYWlsKTtcblxuICAgICAgICAgICAgaWYgKCFjdXN0b21lckNvbnRleHRJZCkge1xuICAgICAgICAgICAgICAgIC8vIEluZm86IHdlIHNob3VsZCBjbGVhbiB1cCBwcmV2aW91cyBleHBlcmllbmNlIHdpdGggZGVmYXVsdCBkYXRhIGFuZCByZWxhdGVkIGF1dGhlbnRpY2F0aW9uU3RhdGVcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblN0YXRlOiBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uU3RhdGUuVU5SRUNPR05JWkVELFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50czogW10sXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTZXNzaW9uSWRUb0Nvb2tpZXMoY2FydC5pZCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgYXV0aGVudGljYXRpb25TdGF0ZSwgcHJvZmlsZURhdGEgfSA9IGF3YWl0IHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3coXG4gICAgICAgICAgICAgICAgY3VzdG9tZXJDb250ZXh0SWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBwaG9uZU51bWJlciA9IHByb2ZpbGVEYXRhPy5zaGlwcGluZ0FkZHJlc3M/LnBob25lTnVtYmVyIHx8ICcnO1xuXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb25TdGF0ZSA9PT0gQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlLkNBTkNFTEVEKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVBheW1lbnRQcm92aWRlckN1c3RvbWVyKHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25TdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM6IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTZXNzaW9uSWRGcm9tQ29va2llcygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NlcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBQYXlQYWxUb0JjQWRkcmVzcyhbcHJvZmlsZURhdGEuc2hpcHBpbmdBZGRyZXNzXSwgW3Bob25lTnVtYmVyXSkgfHwgW107XG4gICAgICAgICAgICBjb25zdCBwYXlwYWxCaWxsaW5nQWRkcmVzcyA9IHRoaXMuZ2V0UGF5UGFsQmlsbGluZ0FkZHJlc3Nlcyhwcm9maWxlRGF0YSk7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzc2VzID0gcGF5cGFsQmlsbGluZ0FkZHJlc3NcbiAgICAgICAgICAgICAgICA/IHRoaXMubWFwUGF5UGFsVG9CY0FkZHJlc3MoW3BheXBhbEJpbGxpbmdBZGRyZXNzXSwgW3Bob25lTnVtYmVyXSlcbiAgICAgICAgICAgICAgICA6IFtdO1xuICAgICAgICAgICAgY29uc3QgaW5zdHJ1bWVudHMgPSBwcm9maWxlRGF0YS5jYXJkXG4gICAgICAgICAgICAgICAgPyB0aGlzLm1hcFBheVBhbFRvQmNJbnN0cnVtZW50KG1ldGhvZElkLCBbcHJvZmlsZURhdGEuY2FyZF0pXG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IHRoaXMubWVyZ2VTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzZXMoXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzZXMsXG4gICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3NlcyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuc2F2ZVNlc3Npb25JZFRvQ29va2llcyhjYXJ0LmlkKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVBheW1lbnRQcm92aWRlckN1c3RvbWVyKHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblN0YXRlLFxuICAgICAgICAgICAgICAgIGFkZHJlc3NlcyxcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50cyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoYmlsbGluZ0FkZHJlc3Nlcy5sZW5ndGggPiAwICYmIGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyhiaWxsaW5nQWRkcmVzc2VzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJlZmlsbCBiaWxsaW5nIGZvcm0gaWYgb25seSBkaWdpdGFsIGl0ZW1zIGluIGNhcnQgd2l0aCBiaWxsaW5nIGRhdGEgYW5kIGZpcnN0TmFtZSBhbmQgbGFzdE5hbWVcbiAgICAgICAgICAgIC8vIGZyb20gc2hpcHBpbmdBZGRyZXNzZXMgYmVjYXVzZSB0aGVyZSBhcmUgZW1wdHkgaW4gYmlsbGluZ1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgIGNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSB9ID0gYWRkcmVzc2VzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpZ2l0YWxJdGVtQmlsbGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmlsbGluZ0FkZHJlc3Nlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzKGRpZ2l0YWxJdGVtQmlsbGluZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaGlwcGluZ0FkZHJlc3Nlcy5sZW5ndGggPiAwICYmIGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3Moc2hpcHBpbmdBZGRyZXNzZXNbMF0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFNldFNoaXBwaW5nT3B0aW9uICYmIGlzRmFzdGxhbmVTaGlwcGluZ09wdGlvbkF1dG9TZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0U2hpcHBpbmdPcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgZmlndXJlIG91dCB3aGF0IHRvIGRvIGhlcmVcbiAgICAgICAgICAgIC8vIFRPRE86IGJlY2F1c2Ugd2Ugc2hvdWxkIG5vdCB0byBzdG9wIHRoZSBmbG93IGlmIHRoZSBlcnJvciBvY2N1cnMgb24gcGF5cGFsIHNpZGVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2Vzc2lvbiBpZCBtYW5hZ2VtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRTZXNzaW9uSWRGcm9tQ29va2llcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQ29va2llU3RvcmFnZS5nZXQoJ2JjLWZhc3RsYW5lLXNlc3Npb25JZCcpIHx8ICcnO1xuICAgIH1cblxuICAgIHNhdmVTZXNzaW9uSWRUb0Nvb2tpZXMoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgZXhwaXJlcy5zZXREYXRlKGV4cGlyZXMuZ2V0RGF0ZSgpICsgMTQpOyAvLyAyIHdlZWtzIGV4cGlyeVxuXG4gICAgICAgIENvb2tpZVN0b3JhZ2Uuc2V0KCdiYy1mYXN0bGFuZS1zZXNzaW9uSWQnLCBzZXNzaW9uSWQsIHtcbiAgICAgICAgICAgIGV4cGlyZXMsXG4gICAgICAgICAgICBzZWN1cmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbW92ZVNlc3Npb25JZEZyb21Db29raWVzKCk6IHZvaWQge1xuICAgICAgICBDb29raWVTdG9yYWdlLnJlbW92ZSgnYmMtZmFzdGxhbmUtc2Vzc2lvbklkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQYXlQYWwgdG8gQkMgZGF0YSBtYXBwZXJzXG4gICAgICpcbiAgICAgKiAqL1xuICAgIG1hcFBheVBhbFRvQmNJbnN0cnVtZW50KFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBpbnN0cnVtZW50cz86IEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnRbXSxcbiAgICApOiBDYXJkSW5zdHJ1bWVudFtdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFpbnN0cnVtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RydW1lbnRzLm1hcCgoaW5zdHJ1bWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpZCwgcGF5bWVudFNvdXJjZSB9ID0gaW5zdHJ1bWVudDtcbiAgICAgICAgICAgIGNvbnN0IHsgYnJhbmQsIGV4cGlyeSwgbGFzdERpZ2l0cywgYmluRGV0YWlscyB9ID0gcGF5bWVudFNvdXJjZS5jYXJkO1xuXG4gICAgICAgICAgICBjb25zdCBbZXhwaXJ5WWVhciwgZXhwaXJ5TW9udGhdID0gZXhwaXJ5LnNwbGl0KCctJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmlncGF5VG9rZW46IGlkLFxuICAgICAgICAgICAgICAgIGJyYW5kLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRJbnN0cnVtZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBleHBpcnlNb250aCxcbiAgICAgICAgICAgICAgICBleHBpcnlZZWFyLFxuICAgICAgICAgICAgICAgIGlpbjogYmluRGV0YWlscz8uYmluIHx8ICcnLFxuICAgICAgICAgICAgICAgIGxhc3Q0OiBsYXN0RGlnaXRzLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHRydXN0ZWRTaGlwcGluZ0FkZHJlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjYXJkJyxcbiAgICAgICAgICAgICAgICB1bnRydXN0ZWRTaGlwcGluZ0NhcmRWZXJpZmljYXRpb25Nb2RlOiBVbnRydXN0ZWRTaGlwcGluZ0NhcmRWZXJpZmljYXRpb25UeXBlLlBBTixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwUGF5UGFsVG9CY0FkZHJlc3MoXG4gICAgICAgIGFkZHJlc3Nlcz86IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzc1tdLFxuICAgICAgICBwaG9uZXM/OiBzdHJpbmdbXSxcbiAgICApOiBDdXN0b21lckFkZHJlc3NbXSB7XG4gICAgICAgIGlmICghYWRkcmVzc2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3VudHJpZXMgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDb3VudHJpZXMoKSB8fCBbXTtcblxuICAgICAgICBjb25zdCBnZXRDb3VudHJ5TmFtZUJ5Q291bnRyeUNvZGUgPSAoY291bnRyeUNvZGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZENvdW50cnkgPSBjb3VudHJpZXMuZmluZCgoY291bnRyeSkgPT4gY291bnRyeS5jb2RlID09PSBjb3VudHJ5Q29kZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVkQ291bnRyeT8ubmFtZSB8fCAnJztcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYWRkcmVzc2VzLm1hcCgoYWRkcmVzcykgPT4gKHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHlwZTogJ3BheXBhbC1hZGRyZXNzJyxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUgfHwgJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGNvbXBhbnk6IGFkZHJlc3MuY29tcGFueSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiBhZGRyZXNzLnN0cmVldEFkZHJlc3MsXG4gICAgICAgICAgICBhZGRyZXNzMjogYWRkcmVzcy5leHRlbmRlZEFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICBjaXR5OiBhZGRyZXNzLmxvY2FsaXR5LFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBhZGRyZXNzLnJlZ2lvbixcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IGFkZHJlc3MucmVnaW9uLFxuICAgICAgICAgICAgY291bnRyeTogZ2V0Q291bnRyeU5hbWVCeUNvdW50cnlDb2RlKGFkZHJlc3MuY291bnRyeUNvZGVBbHBoYTIpLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGFkZHJlc3MuY291bnRyeUNvZGVBbHBoYTIsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBhZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgICAgICBwaG9uZTogKHBob25lcyAmJiBwaG9uZXNbMF0pIHx8ICcnLFxuICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXSxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogR2V0IFBheVBhbCBiaWxsaW5nIGFkZHJlc3NlcyBmcm9tIHN0b3JlZCBicmFpbnRyZWUgaW5zdHJ1bWVudHMgaW5mb1xuICAgICAqXG4gICAgICogKi9cbiAgICBwcml2YXRlIGdldFBheVBhbEJpbGxpbmdBZGRyZXNzZXMoXG4gICAgICAgIHByb2ZpbGVEYXRhPzogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlRGF0YSxcbiAgICApOiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3MgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCB7IGNhcmQsIG5hbWUgfSA9IHByb2ZpbGVEYXRhIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2FyZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lIH0gPSBjYXJkLnBheW1lbnRTb3VyY2UuY2FyZC5iaWxsaW5nQWRkcmVzcztcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWU6IGdpdmVuX25hbWUsIGxhc3ROYW1lOiBzdXJuYW1lIH0gPSBuYW1lIHx8IHt9O1xuICAgICAgICBjb25zdCB7IHNoaXBwaW5nQWRkcmVzcyB9ID0gcHJvZmlsZURhdGEgfHwge307XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB7XG4gICAgICAgICAgICAuLi5jYXJkLnBheW1lbnRTb3VyY2UuY2FyZC5iaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogZmlyc3ROYW1lIHx8IGdpdmVuX25hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUgfHwgc3VybmFtZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpc0FkZHJlc3NFeGlzdCA9XG4gICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MgJiZcbiAgICAgICAgICAgIGlzRXF1YWwodGhpcy5ub3JtYWxpemVBZGRyZXNzKGFkZHJlc3MpLCB0aGlzLm5vcm1hbGl6ZUFkZHJlc3Moc2hpcHBpbmdBZGRyZXNzKSk7XG5cbiAgICAgICAgcmV0dXJuIGlzQWRkcmVzc0V4aXN0ID8gc2hpcHBpbmdBZGRyZXNzIDogYWRkcmVzcztcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vcm1hbGl6ZUFkZHJlc3MoYWRkcmVzczogQ3VzdG9tZXJBZGRyZXNzIHwgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBvbWl0KGFkZHJlc3MsIFsnaWQnXSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtZXJnZVNoaXBwaW5nQW5kQmlsbGluZ0FkZHJlc3NlcyhcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzZXM6IEN1c3RvbWVyQWRkcmVzc1tdLFxuICAgICAgICBiaWxsaW5nQWRkcmVzc2VzOiBDdXN0b21lckFkZHJlc3NbXSxcbiAgICApOiBDdXN0b21lckFkZHJlc3NbXSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQmlsbGluZ0FkZHJlc3NlcyA9IGJpbGxpbmdBZGRyZXNzZXMuZmlsdGVyKFxuICAgICAgICAgICAgKGJpbGxpbmdBZGRyZXNzOiBDdXN0b21lckFkZHJlc3MpID0+XG4gICAgICAgICAgICAgICAgIXNoaXBwaW5nQWRkcmVzc2VzLnNvbWUoKHNoaXBwaW5nQWRkcmVzczogQ3VzdG9tZXJBZGRyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0VxdWFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3JtYWxpemVBZGRyZXNzKHNoaXBwaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZUFkZHJlc3MoYmlsbGluZ0FkZHJlc3MpLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBbLi4uc2hpcHBpbmdBZGRyZXNzZXMsIC4uLmZpbHRlcmVkQmlsbGluZ0FkZHJlc3Nlc107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBPdGhlclxuICAgICAqXG4gICAgICogKi9cbiAgICBwcml2YXRlIGdldE1ldGhvZElkT3JUaHJvdygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMubWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kSWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXRTaGlwcGluZ09wdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY29uc2lnbm1lbnRzID0gc3RhdGUuZ2V0Q29uc2lnbm1lbnRzKCkgfHwgW107XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyA9IGNvbnNpZ25tZW50c1swXT8uYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zIHx8IFtdO1xuICAgICAgICBjb25zdCByZWNvbW1lbmRlZFNoaXBwaW5nT3B0aW9uID0gYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zLmZpbmQoXG4gICAgICAgICAgICAob3B0aW9uKSA9PiBvcHRpb24uaXNSZWNvbW1lbmRlZCxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAocmVjb21tZW5kZWRTaGlwcGluZ09wdGlvbiB8fCBhdmFpbGFibGVTaGlwcGluZ09wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHJlY29tbWVuZGVkU2hpcHBpbmdPcHRpb24gfHwgYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zWzBdO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2VsZWN0U2hpcHBpbmdPcHRpb24oc2VsZWN0ZWRPcHRpb24uaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lclN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLWN1c3RvbWVyLXN0cmF0ZWd5JztcbmltcG9ydCBCcmFpbnRyZWVGYXN0bGFuZVV0aWxzIGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLXV0aWxzJztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lclN0cmF0ZWd5OiBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgICAgIGdldFNjcmlwdExvYWRlcigpLFxuICAgICAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICAgICApLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG4gICAgY29uc3QgYnJhaW50cmVlRmFzdGxhbmVVdGlscyA9IG5ldyBCcmFpbnRyZWVGYXN0bGFuZVV0aWxzKFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlRmFzdGxhbmVDdXN0b21lclN0cmF0ZWd5KHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsIGJyYWludHJlZUZhc3RsYW5lVXRpbHMpO1xufTtcblxuLy8gSW5mbzogYnJhaW50cmVlIG1ldGhvZCBpZCB3YXMgYWRkZWQgb25seSBmb3IgQS9CIHRlc3RpbmcgcHVycG9zZXMuXG4vLyBUaGUgbWFpbiByZWFzb24gd2h5IHdlIGNhbid0IGdvIGluIG90aGVyIHdheSwgYmVjYXVzZSBicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0XG4vLyBtYXkgYmUgdHVybmVkIG9uIG9ubHkgd2hlbiBCRSBrbm93cyBjdXN0b21lcidzIGVtYWlsIGFkZHJlc3MgKHRvIHVuZGVyc3RhbmQgc2hvdWxkIHdlIHNob3cgdGhlIGZlYXR1cmUgZm9yIHRoZSB1c2VyIG9yIG5vdCkuXG4vLyBTbyB7IGlkOiAnYnJhaW50cmVlJyB9LCBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciBBL0IgdGVzdGluZ1xuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXJTdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0JyB9LFxuICAgIHsgaWQ6ICdicmFpbnRyZWUnIH0sXG5dKTtcbiIsImltcG9ydCB7XG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZUVycm9yLFxuICAgIEJyYWludHJlZUVycm9yQ29kZSxcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICBCcmFpbnRyZWVNb2R1bGUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnQsXG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dCxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi91dGlscy9pcy1icmFpbnRyZWUtZXJyb3InO1xuaW1wb3J0IHsgVmlzYUNoZWNrb3V0U0RLIH0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTZGsge1xuICAgIHByaXZhdGUgYnJhaW50cmVlVmVubW8/OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0O1xuICAgIHByaXZhdGUgYnJhaW50cmVlTG9jYWxQYXltZW50PzogQnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIHByaXZhdGUgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIHByaXZhdGUgY2xpZW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhQ29sbGVjdG9yPzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwcml2YXRlIGdvb2dsZVBheW1lbnQ/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50O1xuICAgIHByaXZhdGUgdGhyZWVEUz86IEJyYWludHJlZVRocmVlRFNlY3VyZTtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dD86IFByb21pc2U8QnJhaW50cmVlVmlzYUNoZWNrb3V0PjtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dFNESz86IFZpc2FDaGVja291dFNESztcbiAgICBwcml2YXRlIHVzQmFua0FjY291bnQ/OiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBicmFpbnRyZWVTY3JpcHRMb2FkZXI6IEJyYWludHJlZVNjcmlwdExvYWRlcikge31cblxuICAgIGluaXRpYWxpemUoY2xpZW50VG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldENsaWVudFRva2VuKGNsaWVudFRva2VuKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9yKTtcblxuICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgQ2xpZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9jbGllbnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q2xpZW50KCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50PiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFRva2VuID0gdGhpcy5nZXRDbGllbnRUb2tlbk9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENyZWF0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkQ2xpZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gYXdhaXQgY2xpZW50Q3JlYXRvci5jcmVhdGUoeyBhdXRob3JpemF0aW9uOiBjbGllbnRUb2tlbiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBEYXRhIGNvbGxlY3RvclxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfZGF0YS1jb2xsZWN0b3IuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coXG4gICAgICAgIG9wdGlvbnM/OiBQYXJ0aWFsPEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnPixcbiAgICApOiBQcm9taXNlPEJyYWludHJlZURhdGFDb2xsZWN0b3I+IHtcbiAgICAgICAgY29uc3QgZW1wdHlEYXRhQ29sbGVjdG9yID0ge1xuICAgICAgICAgICAgZGV2aWNlRGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGVhcmRvd246ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhQ29sbGVjdG9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvciA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWREYXRhQ29sbGVjdG9yKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ29sbGVjdG9yQ29uZmlnOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBrb3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ29sbGVjdG9yID0gYXdhaXQgZGF0YUNvbGxlY3Rvci5jcmVhdGUoZGF0YUNvbGxlY3RvckNvbmZpZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc0JyYWludHJlZUVycm9yKGVycm9yKSAmJiBlcnJvci5jb2RlID09PSBCcmFpbnRyZWVFcnJvckNvZGUuS291bnROb3RFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eURhdGFDb2xsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhQ29sbGVjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIEdvb2dsZSBQYXltZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9nb29nbGUtcGF5bWVudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCcmFpbnRyZWVHb29nbGVQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlR29vZ2xlUGF5bWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuZ29vZ2xlUGF5bWVudCkge1xuICAgICAgICAgICAgY29uc3QgW2NsaWVudCwgYnJhaW50cmVlR29vZ2xlUGF5bWVudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkR29vZ2xlUGF5bWVudCgpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ29vZ2xlUGF5bWVudCA9IGF3YWl0IGJyYWludHJlZUdvb2dsZVBheW1lbnQuY3JlYXRlKHsgY2xpZW50IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ29vZ2xlUGF5bWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSAzRFNcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3RocmVlLWQtc2VjdXJlLmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZVRocmVlRFMoKTogUHJvbWlzZTxCcmFpbnRyZWVUaHJlZURTZWN1cmU+IHtcbiAgICAgICAgaWYgKCF0aGlzLnRocmVlRFMpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjbGllbnQsIHRocmVlRFNlY3VyZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkM0RTKCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgdGhpcy50aHJlZURTID0gYXdhaXQgdGhyZWVEU2VjdXJlLmNyZWF0ZSh7IGNsaWVudCwgdmVyc2lvbjogMiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlRFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgTG9jYWwgUGF5bWVudCBNZXRob2RzXG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9sb2NhbC1wYXltZW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZUxvY2FsUGF5bWVudChcbiAgICAgICAgbWVyY2hhbnRBY2NvdW50SWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUxvY2FsUGF5bWVudCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50KSB7XG4gICAgICAgICAgICBjb25zdCBbY2xpZW50LCBsb2NhbFBheW1lbnRDcmVhdG9yXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRMb2NhbFBheW1lbnQoKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogKGJyYWludHJlZUxvY2FsUGF5bWVudDogQnJhaW50cmVlTG9jYWxQYXltZW50KSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgICByZWplY3Q6IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgbG9jYWxQYXltZW50Q3JlYXRvci5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsaWVudCwgbWVyY2hhbnRBY2NvdW50SWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlTG9jYWxQYXltZW50OiBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJyYWludHJlZUxvY2FsUGF5bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFVzQmFua0FjY291bnRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3VzLWJhbmstYWNjb3VudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc0JhbmtBY2NvdW50KCkge1xuICAgICAgICBpZiAoIXRoaXMudXNCYW5rQWNjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHVzQmFua0FjY291bnQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVXNCYW5rQWNjb3VudCgpO1xuXG4gICAgICAgICAgICB0aGlzLnVzQmFua0FjY291bnQgPSBhd2FpdCB1c0JhbmtBY2NvdW50LmNyZWF0ZSh7IGNsaWVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVzQmFua0FjY291bnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmlzYS1jaGVja291dC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQoKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNhQ2hlY2tvdXQpIHtcbiAgICAgICAgICAgIHRoaXMudmlzYUNoZWNrb3V0ID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dCgpLFxuICAgICAgICAgICAgXSkudGhlbigoW2NsaWVudCwgcGF5cGFsXSkgPT4gcGF5cGFsLmNyZWF0ZSh7IGNsaWVudCB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dCBTREtcbiAgICAgKiB2aXNhIGNoZWNrb3V0IGRvYzogaHR0cHM6Ly9kZXZlbG9wZXIudmlzYS5jb20vY2FwYWJpbGl0aWVzL3Zpc2FfY2hlY2tvdXQvZG9jcy1ob3ctdG9cbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldFZpc2FDaGVja291dFNkayh0ZXN0TW9kZT86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2FDaGVja291dFNESykge1xuICAgICAgICAgICAgdGhpcy52aXNhQ2hlY2tvdXRTREsgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2FDaGVja291dFNESztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBWZW5tbyBDaGVja291dFxuICAgICAqIGJyYWludHJlZSB2ZW5tbyBjaGVja291dCBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmVubW8uaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VmVubW9DaGVja291dE9yVGhyb3coKSB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVWZW5tbykge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmVubW9DaGVja291dCgpO1xuXG4gICAgICAgICAgICBjb25zdCB2ZW5tb0NoZWNrb3V0Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBhbGxvd0Rlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZFVzYWdlOiAnbXVsdGlfdXNlJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB2ZW5tb0NoZWNrb3V0LmNyZWF0ZSh2ZW5tb0NoZWNrb3V0Q29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKGJyYWludHJlZVZlbm1vQ2hlY2tvdXQuaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVZlbm1vID0gYnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkQnJvd3NlckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVWZW5tbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFByaXZhdGUgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXRDbGllbnRUb2tlbihjbGllbnRUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xpZW50VG9rZW4gPSBjbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENsaWVudFRva2VuT3JUaHJvdygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRlYXJkb3duTW9kdWxlKG1vZHVsZT86IEJyYWludHJlZU1vZHVsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbW9kdWxlID8gbW9kdWxlLnRlYXJkb3duKCkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIHRyeSB0byBjYWxsIGEgbWV0aG9kIHRoYXQgaXMgb25seSBhIHN0dWIgYW5kIGhhcyBub3RcbiAqIGJlZW4gZnVsbHkgaW1wbGVtZW50ZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEltcGxlbWVudGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ05vdCBpbXBsZW1lbnRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW1wbGVtZW50ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW1wbGVtZW50ZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlVmlzYUNoZWNrb3V0LFxuICAgIFZpc2FDaGVja291dEFkZHJlc3MsXG4gICAgVmlzYUNoZWNrb3V0UGF5bWVudFN1Y2Nlc3NQYXlsb2FkLFxuICAgIFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgIEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTGVnYWN5QWRkcmVzcyxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEltcGxlbWVudGVkRXJyb3IsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFdpdGhCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lckluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9icmFpbnRyZWUtdmlzYS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBidXR0b25DbGFzc05hbWUgPSAndmlzYS1jaGVja291dC13cmFwcGVyJztcbiAgICBwcml2YXRlIG9uRXJyb3IgPSBub29wO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBmb3JtUG9zdGVyOiBGb3JtUG9zdGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNkazogQnJhaW50cmVlU2RrLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBicmFpbnRyZWV2aXNhY2hlY2tvdXQ6IHZpc2FDaGVja291dE9wdGlvbnMsIG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2aXNhQ2hlY2tvdXRPcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXZpc2FjaGVja291dFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZyB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0b3JlQ29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlVmlzYUNoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0SW5zdGFuY2UgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRWaXNhQ2hlY2tvdXRTZGsoY29uZmlnLnRlc3RNb2RlKTtcblxuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgb25FcnJvciB9ID0gdmlzYUNoZWNrb3V0T3B0aW9ucztcblxuICAgICAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yIHx8IG5vb3A7XG5cbiAgICAgICAgY29uc3QgaW5pdE9wdGlvbnMgPSBicmFpbnRyZWVWaXNhQ2hlY2tvdXQuY3JlYXRlSW5pdE9wdGlvbnMoe1xuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHN0b3JlQ29uZmlnLmN1cnJlbmN5LmNvZGUsXG4gICAgICAgICAgICAgICAgc3VidG90YWw6IFN0cmluZyhjaGVja291dC5zdWJ0b3RhbCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBsb2NhbGU6IHN0b3JlQ29uZmlnLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTaGlwcGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2lnbkluQnV0dG9uID0gdGhpcy5jcmVhdGVTaWduSW5CdXR0b24oY29udGFpbmVyLCB0aGlzLmJ1dHRvbkNsYXNzTmFtZSk7XG5cbiAgICAgICAgYXdhaXQgdmlzYUNoZWNrb3V0SW5zdGFuY2UuaW5pdChpbml0T3B0aW9ucyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0SW5zdGFuY2Uub24oXG4gICAgICAgICAgICAncGF5bWVudC5zdWNjZXNzJyxcbiAgICAgICAgICAgIChwYXltZW50U3VjY2Vzc1BheWxvYWQ6IFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuaXplUGF5bWVudChicmFpbnRyZWVWaXNhQ2hlY2tvdXQsIHBheW1lbnRTdWNjZXNzUGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKSksXG4gICAgICAgICk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0SW5zdGFuY2Uub24oJ3BheW1lbnQuZXJyb3InLCAoXywgZXJyb3IpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKTtcblxuICAgICAgICBzaWduSW5CdXR0b24uc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmRlaW5pdGlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHNpZ25JbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXG4gICAgICAgICAgICAnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgVmlzYUNoZWNrb3V0LCB0aGUgc2hvcHBlciBtdXN0IGNsaWNrIG9uIFwiVmlzYSBDaGVja291dFwiIGJ1dHRvbi4nLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIHNpZ25PdXQob3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduT3V0Q3VzdG9tZXIob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQob3B0aW9ucz86IEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIG9wdGlvbnM/LmNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2s/LigpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgYnJhaW50cmVlVmlzYUNoZWNrb3V0OiBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG4gICAgICAgIHBheW1lbnQ6IFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dC50b2tlbml6ZShwYXltZW50KSxcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCksXG4gICAgICAgIF0pLnRoZW4oKFtwYXlsb2FkLCBkZXZpY2VEYXRhXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmcgPSBzdGF0ZS5nZXRTaGlwcGluZ0FkZHJlc3MoKTtcbiAgICAgICAgICAgIGNvbnN0IGJpbGxpbmcgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzcygpO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3Moc2hpcHBpbmcpLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3MoYmlsbGluZyksXG4gICAgICAgICAgICB9ID0gcGF5bG9hZDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdEZvcm0oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcG9zdEZvcm0oXG4gICAgICAgIHBheW1lbnREYXRhOiBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxuICAgICAgICBkYXRhQ29sbGVjdG9yOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHVzZXJEYXRhLCBiaWxsaW5nQWRkcmVzcywgc2hpcHBpbmdBZGRyZXNzLCBkZXRhaWxzOiBjYXJkSW5mb3JtYXRpb24gfSA9IHBheW1lbnREYXRhO1xuICAgICAgICBjb25zdCB7IHVzZXJFbWFpbCB9ID0gdXNlckRhdGE7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gZGF0YUNvbGxlY3RvcjtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtUG9zdGVyLnBvc3RGb3JtKCcvY2hlY2tvdXQucGhwJywge1xuICAgICAgICAgICAgcGF5bWVudF90eXBlOiBwYXltZW50RGF0YS50eXBlLFxuICAgICAgICAgICAgbm9uY2U6IHBheW1lbnREYXRhLm5vbmNlLFxuICAgICAgICAgICAgcHJvdmlkZXI6ICdicmFpbnRyZWV2aXNhY2hlY2tvdXQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgY2FyZF9pbmZvcm1hdGlvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IGNhcmRJbmZvcm1hdGlvbi5jYXJkVHlwZSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IGNhcmRJbmZvcm1hdGlvbi5sYXN0VHdvLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0QWRkcmVzcyh1c2VyRW1haWwsIGJpbGxpbmdBZGRyZXNzKSksXG4gICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBzaGlwcGluZ0FkZHJlc3MpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBUb1Zpc2FDaGVja291dEFkZHJlc3MoYWRkcmVzcz86IEFkZHJlc3MpOiBWaXNhQ2hlY2tvdXRBZGRyZXNzIHtcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlyc3ROYW1lOiBhZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBhZGRyZXNzLmxhc3ROYW1lLFxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGFkZHJlc3MucGhvbmUsXG4gICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiBhZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICAgICAgZXh0ZW5kZWRBZGRyZXNzOiBhZGRyZXNzLmFkZHJlc3MyLFxuICAgICAgICAgICAgbG9jYWxpdHk6IGFkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgIHJlZ2lvbjogYWRkcmVzcy5zdGF0ZU9yUHJvdmluY2VDb2RlLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGFkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBhZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBZGRyZXNzKGVtYWlsOiBzdHJpbmcsIGFkZHJlc3M6IFZpc2FDaGVja291dEFkZHJlc3MgPSB7fSk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBmaXJzdF9uYW1lOiBhZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lX251bWJlcjogYWRkcmVzcy5waG9uZU51bWJlcixcbiAgICAgICAgICAgIGFkZHJlc3NfbGluZV8xOiBhZGRyZXNzLnN0cmVldEFkZHJlc3MsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcy5leHRlbmRlZEFkZHJlc3MsXG4gICAgICAgICAgICBjaXR5OiBhZGRyZXNzLmxvY2FsaXR5LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3MucmVnaW9uLFxuICAgICAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVNpZ25JbkJ1dHRvbihjb250YWluZXJJZDogc3RyaW5nLCBidXR0b25DbGFzczogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtjb250YWluZXJJZH1gKTtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwcm92aWRlZCBjb250YWluZXIgSUQgaXMgbm90IHZhbGlkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0VmlzYUNoZWNrb3V0QnV0dG9uKGNvbnRhaW5lciwgYnV0dG9uQ2xhc3MpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0VmlzYUNoZWNrb3V0QnV0dG9uKGNvbnRhaW5lcjogRWxlbWVudCwgYnV0dG9uQ2xhc3M6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgYnV0dG9uU291cmNlID1cbiAgICAgICAgICAgICdodHRwczovL3NlY3VyZS5jaGVja291dC52aXNhLmNvbS93YWxsZXQtc2VydmljZXMtd2ViL3hvL2J1dHRvbi5wbmc/YWNjZXB0Q2FuYWRpYW5WaXNhRGViaXQ9ZmFsc2UmY29icmFuZD10cnVlJmhlaWdodD0zNCZ3aWR0aD0xNzgnO1xuICAgICAgICBjb25zdCBidXR0b25UZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBhbHQ9XCJWaXNhIENoZWNrb3V0XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBzcmM9XCIke2J1dHRvblNvdXJjZX1cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YSBjbGFzcz1cInYtbGVhcm4gdi1sZWFybi1kZWZhdWx0XCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgZGlzcGxheTogYmxvY2s7IGZvbnQtc2l6ZTogMTBweDsgY29sb3I6ICMwMDMzNjY7XCIgaHJlZj1cIiNcIiBkYXRhLWxvY2FsZT1cImVuX1VTXCI+VGVsbCBNZSBNb3JlPC9hPmA7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS53aWR0aCA9ICdtYXgtY29udGVudCc7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0QnV0dG9uLmNsYXNzTmFtZSA9IGJ1dHRvbkNsYXNzO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uaW5uZXJIVE1MID0gYnV0dG9uVGVtcGxhdGU7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpc2FDaGVja291dEJ1dHRvbik7XG5cbiAgICAgICAgcmV0dXJuIHZpc2FDaGVja291dEJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBFcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIFZpc2FDaGVja291dEhvc3RXaW5kb3csXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtdmlzYS1jaGVja291dC1jdXN0b21lci1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGhvc3RXaW5kb3c6IFZpc2FDaGVja291dEhvc3RXaW5kb3cgJiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCksIGhvc3RXaW5kb3csIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKSxcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBjcmVhdGVGb3JtUG9zdGVyKCksXG4gICAgICAgIGJyYWludHJlZVNkayxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3ksIFtcbiAgICB7IGlkOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyB9LFxuXSk7XG4iLCJpbXBvcnQge1xuICAgIEZvcm1hdHRlZFBheWxvYWQsXG4gICAgRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuICAgIFZhdWx0ZWRJbnN0cnVtZW50LFxufSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKChpbnN0cnVtZW50IGFzIFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBCb29sZWFuKChpbnN0cnVtZW50IGFzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjTnVtYmVyJykgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NDdnYnKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4ge1xuICAgIGNvbnN0IGZvcm1hdHRlZEluc3RydW1lbnQgPSAoaW5zdHJ1bWVudCBhcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PilcbiAgICAgICAgLmZvcm1hdHRlZFBheWxvYWQ7XG5cbiAgICBpZiAoIWZvcm1hdHRlZEluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQm9vbGVhbihmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiAmJiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbi50b2tlbilcbiAgICApO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9zdGVkSW5zdHJ1bWVudCB9IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UoXG4gICAgaW5zdHJ1bWVudDogdW5rbm93bixcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGluc3RydW1lbnQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGluc3RydW1lbnQgIT09IG51bGwgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKSAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKVxuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIHBheW1lbnQgbWV0aG9kIGV4cGVyaWVuY2VzIHNvbWUga2luZCBvZlxuICogZmFpbHVyZSAoaS5lLjogaXRzIGNsaWVudCBsaWJyYXJ5IHJldHVybnMgYSByZWplY3RlZCBwcm9taXNlKS4gQW5kIHRoZXJlIGlzXG4gKiBubyBvdGhlciBlcnJvciB0eXBlIHRoYXQgaXMgbW9yZSBzcGVjaWZpYyB0aGFuIHRoaXMgb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGhhcyB0aHJvd24gYW4gdW5leHBlY3RlZCBlcnJvci4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kRmFpbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X2ludmFsaWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuICAgIFdpdGhCYW5rQWNjb3VudEluc3RydW1lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1VzQmFua0FjY291bnRJbnN0cnVtZW50TGlrZShcbiAgICBpbnN0cnVtZW50PzogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBXaXRoQmFua0FjY291bnRJbnN0cnVtZW50IHtcbiAgICBpZiAoIWluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgICdhY2NvdW50TnVtYmVyJyBpbiBpbnN0cnVtZW50ICYmXG4gICAgICAgICdyb3V0aW5nTnVtYmVyJyBpbiBpbnN0cnVtZW50ICYmXG4gICAgICAgICdvd25lcnNoaXBUeXBlJyBpbiBpbnN0cnVtZW50ICYmXG4gICAgICAgICdhY2NvdW50VHlwZScgaW4gaW5zdHJ1bWVudFxuICAgICk7XG59XG4iLCJpbXBvcnQge1xuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudCxcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50RGV0YWlscyxcbiAgICBpc0JyYWludHJlZUVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgV2l0aEJhbmtBY2NvdW50SW5zdHJ1bWVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBpc1VzQmFua0FjY291bnRJbnN0cnVtZW50TGlrZSBmcm9tICcuLi9pcy11cy1iYW5rLWFjY291bnQtaW5zdHJ1bWVudC1saWtlJztcblxuaW1wb3J0IHsgV2l0aEJyYWludHJlZUFjaFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYnJhaW50cmVlLWFjaC1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVBY2hQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgdXNCYW5rQWNjb3VudD86IEJyYWludHJlZVVzQmFua0FjY291bnQ7XG4gICAgcHJpdmF0ZSBnZXRNYW5kYXRlVGV4dD86ICgpID0+IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEJyYWludHJlZUFjaFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgYnJhaW50cmVlYWNoIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0TWFuZGF0ZVRleHQgPSBicmFpbnRyZWVhY2g/LmdldE1hbmRhdGVUZXh0O1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbiB8fCAhaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyYWludHJlZVNkay5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51c0JhbmtBY2NvdW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0VXNCYW5rQWNjb3VudCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVCcmFpbnRyZWVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKG9yZGVyUmVxdWVzdDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBvcmRlclJlcXVlc3Q7XG5cbiAgICAgICAgaWYgKCFwYXltZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzU3VibWl0dGluZ1dpdGhWYXVsdGluZ0luc3RydW1lbnQgPSBpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEgfHwge30pO1xuXG4gICAgICAgIGNvbnN0IG5vbmNlID0gaXNTdWJtaXR0aW5nV2l0aFZhdWx0aW5nSW5zdHJ1bWVudFxuICAgICAgICAgICAgPyBhd2FpdCB0aGlzLnRva2VuaXplUGF5bWVudEZvclZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnQpXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMudG9rZW5pemVQYXltZW50KHBheW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IHN1Ym1pdFBheW1lbnRQYXlsb2FkID0gaXNTdWJtaXR0aW5nV2l0aFZhdWx0aW5nSW5zdHJ1bWVudFxuICAgICAgICAgICAgPyBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YUZvclZhdWx0ZWRJbnN0cnVtZW50KG5vbmNlLCBwYXltZW50KVxuICAgICAgICAgICAgOiBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YShub25jZSwgcGF5bWVudCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoc3VibWl0UGF5bWVudFBheWxvYWQpO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmRlaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudCh7IHBheW1lbnREYXRhIH06IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgdXNCYW5rQWNjb3VudCA9IHRoaXMuZ2V0VXNCYW5rQWNjb3VudE9yVGhyb3coKTtcblxuICAgICAgICBpZiAoIWlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYW5kYXRlVGV4dCA9IGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpXG4gICAgICAgICAgICA/ICdUaGUgZGF0YSBhcmUgdXNlZCBmb3Igc3RvcmVkIGluc3RydW1lbnQgdmVyaWZpY2F0aW9uJ1xuICAgICAgICAgICAgOiB0eXBlb2YgdGhpcy5nZXRNYW5kYXRlVGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLmdldE1hbmRhdGVUZXh0KCk7XG5cbiAgICAgICAgaWYgKCFtYW5kYXRlVGV4dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGdldE1hbmRhdGVUZXh0IGlzIG5vdCBwcm92aWRlZCBvciByZXR1cm5lZCB1bmRlZmluZWQgdmFsdWUuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBub25jZSB9ID0gYXdhaXQgdXNCYW5rQWNjb3VudC50b2tlbml6ZSh7XG4gICAgICAgICAgICAgICAgYmFua0RldGFpbHM6IHRoaXMuZ2V0QmFua0RldGFpbHMocGF5bWVudERhdGEpLFxuICAgICAgICAgICAgICAgIG1hbmRhdGVUZXh0LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBub25jZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQnJhaW50cmVlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnRGb3JWYXVsdGVkSW5zdHJ1bWVudChcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHBheW1lbnREYXRhID0ge30gfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBjb25maWcgfSA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoIWNvbmZpZy5pc1ZhdWx0aW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdWYXVsdGluZyBpcyBkaXNhYmxlZCBidXQgYSB2YXVsdGVkIGluc3RydW1lbnQgd2FzIGJlaW5nIHVzZWQgZm9yIHRoaXMgdHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNob3VsZFZlcmlmeVZhdWx0aW5nSW5zdHJ1bWVudCA9IGlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKTtcblxuICAgICAgICByZXR1cm4gc2hvdWxkVmVyaWZ5VmF1bHRpbmdJbnN0cnVtZW50ID8gdGhpcy50b2tlbml6ZVBheW1lbnQocGF5bWVudCkgOiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJlcGFyZVBheW1lbnREYXRhKFxuICAgICAgICBub25jZTogc3RyaW5nIHwgbnVsbCxcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgKTogUHJvbWlzZTxQYXltZW50PiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHBheW1lbnREYXRhID0ge30gfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgaWYgKCFpc1VzQmFua0FjY291bnRJbnN0cnVtZW50TGlrZShwYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50LnBheW1lbnREYXRhJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpO1xuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50LCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LCByb3V0aW5nTnVtYmVyLCBhY2NvdW50TnVtYmVyIH0gPVxuICAgICAgICAgICAgcGF5bWVudERhdGE7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQ6IGRldmljZURhdGEsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplZF9iYW5rX2FjY291bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlcjogcm91dGluZ051bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZF9hY2NvdW50X251bWJlcjogYWNjb3VudE51bWJlci5zdWJzdHIoLTQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IG5vbmNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJlcGFyZVBheW1lbnREYXRhRm9yVmF1bHRlZEluc3RydW1lbnQoXG4gICAgICAgIG5vbmNlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICApOiBQcm9taXNlPFBheW1lbnQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgcGF5bWVudERhdGEgPSB7fSB9ID0gcGF5bWVudDtcblxuICAgICAgICBpZiAoIWlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpIHx8ICFpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHsgaW5zdHJ1bWVudElkLCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IH0gPSBwYXltZW50RGF0YTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZDogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAuLi4obm9uY2UgJiYgeyBub25jZSB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCYW5rRGV0YWlscyhwYXltZW50RGF0YTogV2l0aEJhbmtBY2NvdW50SW5zdHJ1bWVudCk6IEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcblxuICAgICAgICBjb25zdCBvd25lcnNoaXBUeXBlID0gcGF5bWVudERhdGEub3duZXJzaGlwVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBhY2NvdW50VHlwZSA9IHBheW1lbnREYXRhLmFjY291bnRUeXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY291bnROdW1iZXI6IHBheW1lbnREYXRhLmFjY291bnROdW1iZXIsXG4gICAgICAgICAgICByb3V0aW5nTnVtYmVyOiBwYXltZW50RGF0YS5yb3V0aW5nTnVtYmVyLFxuICAgICAgICAgICAgb3duZXJzaGlwVHlwZSxcbiAgICAgICAgICAgIC4uLihvd25lcnNoaXBUeXBlID09PSAncGVyc29uYWwnXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBwYXltZW50RGF0YS5maXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IHBheW1lbnREYXRhLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzTmFtZTogcGF5bWVudERhdGEuYnVzaW5lc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBhY2NvdW50VHlwZSxcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYmlsbGluZ0FkZHJlc3MuYWRkcmVzczEsXG4gICAgICAgICAgICAgICAgZXh0ZW5kZWRBZGRyZXNzOiBiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogYmlsbGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgICAgICByZWdpb246IGJpbGxpbmdBZGRyZXNzLnN0YXRlT3JQcm92aW5jZUNvZGUsXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogYmlsbGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRVc0JhbmtBY2NvdW50T3JUaHJvdygpOiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50IHtcbiAgICAgICAgaWYgKCF0aGlzLnVzQmFua0FjY291bnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy51c0JhbmtBY2NvdW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQnJhaW50cmVlRXJyb3IoZXJyb3I6IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGlmICghaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVCcmFpbnRyZWVTZGsgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZUFjaFBheW1lbnRTdHJhdGVneSBmcm9tICcuL2JyYWludHJlZS1hY2gtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZUFjaFBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxCcmFpbnRyZWVBY2hQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICByZXR1cm4gbmV3IEJyYWludHJlZUFjaFBheW1lbnRTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlQnJhaW50cmVlU2RrKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlQWNoUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ2JyYWludHJlZWFjaCcgfV0pO1xuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQgeyBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgQnJhaW50cmVlU2RrIGZyb20gJy4vYnJhaW50cmVlLXNkayc7XG5pbXBvcnQgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcnNpb24tbWFuYWdlcic7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVNkayA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlU2NyaXB0TG9hZGVyID0gbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgIHdpbmRvdyxcbiAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlU2RrKGJyYWludHJlZVNjcmlwdExvYWRlcik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVCcmFpbnRyZWVTZGs7XG4iLCJpbXBvcnQgeyBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtLFxufSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQgeyBNZXNzYWdlc1N0eWxlT3B0aW9ucywgTWVzc2FnaW5nUGxhY2VtZW50cyB9IGZyb20gJy4vcGF5cGFsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlTWVzc2FnZXMge1xuICAgIHByaXZhdGUgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIHJlbmRlcihtZXRob2RJZDogc3RyaW5nLCBjb250YWluZXJJZDogc3RyaW5nLCBwbGFjZW1lbnQ6IE1lc3NhZ2luZ1BsYWNlbWVudHMpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbWVzc2FnaW5nQ29udGFpbmVyID0gY29udGFpbmVySWQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cucGF5cGFsICYmIG1lc3NhZ2luZ0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHBheXBhbEJOUExDb25maWd1cmF0aW9uID0gW10gfSA9IHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgICAgICBjb25zdCBiYW5uZWRJZCA9IHBsYWNlbWVudCA9PT0gTWVzc2FnaW5nUGxhY2VtZW50cy5QQVlNRU5UID8gJ2NoZWNrb3V0JyA6IHBsYWNlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGJhbm5lckNvbmZpZ3VyYXRpb24gPVxuICAgICAgICAgICAgICAgIHBheXBhbEJOUExDb25maWd1cmF0aW9uICYmXG4gICAgICAgICAgICAgICAgcGF5cGFsQk5QTENvbmZpZ3VyYXRpb24uZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gYmFubmVkSWQpO1xuXG4gICAgICAgICAgICBpZiAoIWJhbm5lckNvbmZpZ3VyYXRpb24gfHwgIWJhbm5lckNvbmZpZ3VyYXRpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBjb2RlIHdoZW4gdGhpcyBkYXRhIGF0dHJpYnV0ZXMgd2lsbCBiZSByZW1vdmVkIGZyb20gYmFubmVyIGRpdiBjb250YWluZXIgaW4gY29udGVudCBzZXJ2aWNlXG4gICAgICAgICAgICBpZiAocGxhY2VtZW50ID09PSBNZXNzYWdpbmdQbGFjZW1lbnRzLkNBUlQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXBwLXN0eWxlLWxvZ28tdHlwZScpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtbG9nby1wb3NpdGlvbicpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtdGV4dC1jb2xvcicpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0NvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcHAtc3R5bGUtdGV4dC1zaXplJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5wYXlwYWxcbiAgICAgICAgICAgICAgICAuTWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGNhcnQuY2FydEFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgYnV5ZXJDb3VudHJ5OiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5nZXRQYXlwYWxNZXNzYWdlc1N0eWxlc0Zyb21CTlBMQ29uZmlnKGJhbm5lckNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlbmRlcihgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBheXBhbE1lc3NhZ2VzU3R5bGVzRnJvbUJOUExDb25maWcoe1xuICAgICAgICBzdHlsZXMsXG4gICAgfTogUGF5UGFsQk5QTENvbmZpZ3VyYXRpb25JdGVtKTogTWVzc2FnZXNTdHlsZU9wdGlvbnMge1xuICAgICAgICBjb25zdCBtZXNzYWdlc1N0eWxlczogTWVzc2FnZXNTdHlsZU9wdGlvbnMgPSB7fTtcblxuICAgICAgICBpZiAoc3R5bGVzLmNvbG9yKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5jb2xvciA9IHN0eWxlcy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZXMubGF5b3V0KSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sYXlvdXQgPSBzdHlsZXMubGF5b3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlc1snbG9nby10eXBlJ10gfHwgc3R5bGVzWydsb2dvLXBvc2l0aW9uJ10pIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzU3R5bGVzLmxvZ28gPSB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlc1snbG9nby10eXBlJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sb2dvLnR5cGUgPSBzdHlsZXNbJ2xvZ28tdHlwZSddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGVzWydsb2dvLXBvc2l0aW9uJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5sb2dvLnBvc2l0aW9uID0gc3R5bGVzWydsb2dvLXBvc2l0aW9uJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVzLnJhdGlvKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy5yYXRpbyA9IHN0eWxlcy5yYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZXNbJ3RleHQtY29sb3InXSB8fCBzdHlsZXNbJ3RleHQtc2l6ZSddKSB7XG4gICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy50ZXh0ID0ge307XG5cbiAgICAgICAgICAgIGlmIChzdHlsZXNbJ3RleHQtY29sb3InXSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzU3R5bGVzLnRleHQuY29sb3IgPSBzdHlsZXNbJ3RleHQtY29sb3InXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlc1sndGV4dC1zaXplJ10pIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1N0eWxlcy50ZXh0LnNpemUgPSArc3R5bGVzWyd0ZXh0LXNpemUnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXNzYWdlc1N0eWxlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgZ2V0T3ZlcmxheVN0eWxlIGZyb20gJy4vb3ZlcmxheS1zdHlsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmxheU9wdGlvbnMge1xuICAgIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uPzogbnVtYmVyO1xuICAgIGhhc0Nsb3NlQnV0dG9uPzogYm9vbGVhbjtcbiAgICBpbm5lckh0bWw/OiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmxheVNob3dPcHRpb25zIHtcbiAgICBvbkNsaWNrPyhldmVudDogTW91c2VFdmVudCk6IHZvaWQ7XG4gICAgb25DbGlja0Nsb3NlPyhldmVudDogTW91c2VFdmVudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudHMge1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIG1haW5FbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBjbG9zZUVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3ZlcmxheSB7XG4gICAgcHJpdmF0ZSBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfbWFpbkVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2Nsb3NlRWxlbWVudD86IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3VucmVnaXN0ZXJDbGljaz86ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3ZlcmxheU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBjbG9zZUVsZW1lbnQsIG1haW5FbGVtZW50IH0gPSB0aGlzLl9jcmVhdGVFbGVtZW50cyhvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5fY2xvc2VFbGVtZW50ID0gY2xvc2VFbGVtZW50O1xuICAgICAgICB0aGlzLl9tYWluRWxlbWVudCA9IG1haW5FbGVtZW50O1xuICAgIH1cblxuICAgIHNob3cob3B0aW9ucz86IE92ZXJsYXlTaG93T3B0aW9ucyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fbWFpbkVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJDbGljayhvcHRpb25zKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21haW5FbGVtZW50KTtcblxuICAgICAgICAvLyBGYWRlIEluXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJykpO1xuICAgIH1cblxuICAgIHJlbW92ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYWluRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdW5yZWdpc3RlckNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLl91bnJlZ2lzdGVyQ2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbW92ZUFmdGVyVHJhbnNpdGlvbigpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUVsZW1lbnRzKG9wdGlvbnM/OiBPdmVybGF5T3B0aW9ucyk6IEVsZW1lbnRzIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC44KScsXG4gICAgICAgICAgICBpZCA9ICdjaGVja291dE92ZXJsYXknLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gNDAwLFxuICAgICAgICAgICAgaGFzQ2xvc2VCdXR0b24gPSBmYWxzZSxcbiAgICAgICAgICAgIGlubmVySHRtbCA9IG51bGwsXG4gICAgICAgIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBsZXQgbWFpbkVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBsZXQgY2xvc2VFbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsYXNzTGF5b3V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjbGFzc0Nsb3NlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjbGFzc092ZXJsYXlUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBlbGVtZW50LmlkID0gaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5uZXJIdG1sKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICBjbGFzc092ZXJsYXlUZXh0ID0gYCR7aWR9LS1vdmVybGF5VGV4dGA7XG4gICAgICAgICAgICBvdmVybGF5VGV4dC5jbGFzc05hbWUgPSBjbGFzc092ZXJsYXlUZXh0O1xuICAgICAgICAgICAgb3ZlcmxheVRleHQuYXBwZW5kQ2hpbGQoaW5uZXJIdG1sKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvdmVybGF5VGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzQ2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIGNsYXNzQ2xvc2UgPSBgJHtpZH0tLWNsb3NlYDtcbiAgICAgICAgICAgIGNsb3NlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY2xvc2VFbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzQ2xvc2U7XG5cbiAgICAgICAgICAgIGNsYXNzTGF5b3V0ID0gYCR7aWR9LS1sYXlvdXRgO1xuICAgICAgICAgICAgbWFpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG1haW5FbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTGF5b3V0O1xuXG4gICAgICAgICAgICBtYWluRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIG1haW5FbGVtZW50LmFwcGVuZENoaWxkKGNsb3NlRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYWluRWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgIGdldE92ZXJsYXlTdHlsZSh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgY2xhc3NMYXlvdXQsXG4gICAgICAgICAgICAgICAgY2xhc3NPdmVybGF5VGV4dCxcbiAgICAgICAgICAgICAgICBjbGFzc0Nsb3NlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHsgZWxlbWVudCwgY2xvc2VFbGVtZW50LCBtYWluRWxlbWVudCB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZEV2ZW50TGlzdGVuZXIoZWxlbWVudD86IEhUTUxFbGVtZW50LCBvbkNsaWNrPzogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhb25DbGljaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3JlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICAgICAgb25DbGljaz86IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgaWYgKCFlbGVtZW50IHx8ICFvbkNsaWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcmVnaXN0ZXJDbGljayhvcHRpb25zPzogT3ZlcmxheVNob3dPcHRpb25zKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl91bnJlZ2lzdGVyQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25DbGljaywgb25DbGlja0Nsb3NlIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyKHRoaXMuX2VsZW1lbnQsIG9uQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9jbG9zZUVsZW1lbnQsIG9uQ2xpY2tDbG9zZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2VsZW1lbnQsIG9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fY2xvc2VFbGVtZW50LCBvbkNsaWNrQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VucmVnaXN0ZXJDbGljayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZW1vdmVBZnRlclRyYW5zaXRpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGhhbmRsZVRyYW5zaXRpb246IChldmVudDogRXZlbnQpID0+IHZvaWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGBldmVudGAgaXMgbm90IGNvcnJlY3RseSB0eXBlZCBpbiB0aGlzIHZlcnNpb24gb2YgVFNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgICAgIGlmICgoZXZlbnQgYXMgVHJhbnNpdGlvbkV2ZW50KS5wcm9wZXJ0eU5hbWUgIT09ICdvcGFjaXR5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX21haW5FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWluRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbik7XG4gICAgfVxufVxuIiwiaW50ZXJmYWNlIE92ZXJsYXlTdHlsZU9wdGlvbnMge1xuICAgIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uPzogbnVtYmVyO1xuICAgIGNsYXNzTGF5b3V0Pzogc3RyaW5nO1xuICAgIGNsYXNzT3ZlcmxheVRleHQ/OiBzdHJpbmc7XG4gICAgY2xhc3NDbG9zZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3ZlcmxheVN0eWxlKG9wdGlvbnM6IE92ZXJsYXlTdHlsZU9wdGlvbnMpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgeyBpZCwgYmFja2dyb3VuZCwgdHJhbnNpdGlvbkR1cmF0aW9uLCBjbGFzc0xheW91dCwgY2xhc3NPdmVybGF5VGV4dCwgY2xhc3NDbG9zZSB9ID1cbiAgICAgICAgb3B0aW9ucztcbiAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGNvbnN0IGFkZENsYXNzTGF5b3V0ID0gY2xhc3NMYXlvdXQgPyBgLCAuJHtjbGFzc0xheW91dH1gIDogJyc7XG5cbiAgICBzdHlsZXMuaWQgPSBgJHtpZH0tLXN0eWxlc2A7XG4gICAgc3R5bGVzLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgIHN0eWxlcy5pbm5lclRleHQgPSBgXG4gICAgICAgICMke2lkfSR7YWRkQ2xhc3NMYXlvdXR9IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NztcbiAgICAgICAgfVxuICAgICAgICAjJHtpZH0ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAke3RyYW5zaXRpb25EdXJhdGlvbn1tcyBlYXNlLW91dDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7YmFja2dyb3VuZH07XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB9XG4gICAgYDtcblxuICAgIGlmIChjbGFzc092ZXJsYXlUZXh0KSB7XG4gICAgICAgIHN0eWxlcy5pbm5lclRleHQgKz0gYFxuICAgICAgICAgICAgICMke2lkfSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAjJHtpZH0gLiR7Y2xhc3NPdmVybGF5VGV4dH0ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMzMHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NDbG9zZSkge1xuICAgICAgICBzdHlsZXMuaW5uZXJUZXh0ICs9IGBcbiAgICAgICAgICAgICMke2lkfSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4ke2NsYXNzTGF5b3V0fSAuJHtjbGFzc0Nsb3NlfSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgICAgIHRvcDogMTZweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAzMTQ3NDgzNjQ3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLiR7Y2xhc3NMYXlvdXR9IC4ke2NsYXNzQ2xvc2V9OjphZnRlciwgLiR7Y2xhc3NMYXlvdXR9IC4ke2NsYXNzQ2xvc2V9OjpiZWZvcmUge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICBsZWZ0OiA4cHg7XG4gICAgICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICAgICAgICAgIHdpZHRoOiAycHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4ke2NsYXNzTGF5b3V0fSAuJHtjbGFzc0Nsb3NlfTo6YWZ0ZXIge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuJHtjbGFzc0xheW91dH0gLiR7Y2xhc3NDbG9zZX06OmJlZm9yZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59XG4iLCJpbXBvcnQge1xuICAgIExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXMsXG4gICAgTG9hZGluZ0luZGljYXRvclN0eWxlcyxcbn0gZnJvbSAnLi9sb2FkaW5nLWluZGljYXRvci1zdHlsZXMnO1xuXG5jb25zdCBERUZBVUxUX1NUWUxFUzogTG9hZGluZ0luZGljYXRvclN0eWxlcyA9IHtcbiAgICBzaXplOiA3MCxcbiAgICBjb2xvcjogJyNkOWQ5ZDknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICd6LWluZGV4JzogJzEwMDAnLFxufTtcblxuY29uc3QgUk9UQVRJT05fQU5JTUFUSU9OID0gJ2VtYmVkZGVkLWNoZWNrb3V0LWxvYWRpbmctaW5kaWNhdG9yLXJvdGF0aW9uJztcblxuaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JPcHRpb25zIHtcbiAgICBzdHlsZXM/OiBMb2FkaW5nSW5kaWNhdG9yU3R5bGVzO1xuICAgIGNvbnRhaW5lclN0eWxlcz86IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdJbmRpY2F0b3Ige1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBzdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JTdHlsZXM7XG4gICAgcHJpdmF0ZSBjb250YWluZXJTdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogTG9hZGluZ0luZGljYXRvck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7IC4uLkRFRkFVTFRfU1RZTEVTLCAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLnN0eWxlcykgfTtcbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZXMgPSB7IC4uLihvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyU3R5bGVzKSB9O1xuXG4gICAgICAgIHRoaXMuZGVmaW5lQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmJ1aWxkQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yID0gdGhpcy5idWlsZEluZGljYXRvcigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcbiAgICB9XG5cbiAgICBzaG93KHBhcmVudElkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBhdHRhY2ggdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGJlY2F1c2UgdGhlIHBhcmVudCBJRCBpcyBub3QgdmFsaWQuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG5cbiAgICBoaWRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMjUwbXMgZWFzZS1vdXQnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgICB0aGlzLnNldFN0eWxlQXR0cmlidXRlKGNvbnRhaW5lciwgdGhpcy5jb250YWluZXJTdHlsZXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEluZGljYXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zdHlsZXMuc2l6ZX1weGA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnN0eWxlcy5zaXplfXB4YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuc3R5bGVzLnNpemV9cHhgO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIDFweCc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJDb2xvciA9IGAke3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcn0gJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMGRlZyknO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudHJhbnNmb3JtU3R5bGUgPSAncHJlc2VydmUtM2QnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gYCR7Uk9UQVRJT05fQU5JTUFUSU9OfSA1MDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC42OSwgMC4zMSwgMC41NiwgMC44MylgO1xuXG4gICAgICAgIHJldHVybiBpbmRpY2F0b3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZShlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0cnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoaywgYXR0cnNba10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlZmluZUFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZGVmaW5lIENTUyBhbmltYXRpb24sIHdlIG5lZWQgdG8gaW5zZXJ0IGEgc3R5bGVzaGVldCBpbnRvIHRoZSBob3N0IGZyYW1lLlxuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdG8gZG8gaXQgb25jZS5cbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFJPVEFUSU9OX0FOSU1BVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgICBzdHlsZS5pZCA9IFJPVEFUSU9OX0FOSU1BVElPTjtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBkb2N1bWVudC5oZWFkPy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoZSAybmQgcGFyYW1ldGVyIGZvciBJRTExLCBldmVuIHRob3VnaCBpdCBpc1xuICAgICAgICAgICAgLy8gMCBieSBkZWZhdWx0IGZvciBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gICAgICAgICAgICBzdHlsZS5zaGVldC5pbnNlcnRSdWxlKFxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzICR7Uk9UQVRJT05fQU5JTUFUSU9OfSB7XG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBMT0FESU5HX0lORElDQVRPUl9TVFlMRVMgPSB7XG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAncmdiYSgwLCAwLCAwLCAwLjQpJyxcbiAgICAnei1pbmRleCc6ICcxMDAwJyxcbn07XG4iLCJpbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVFcnJvcihcbiAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBFcnJvciB8IHVua25vd24sXG4pOiBlcnJvciBpcyBCcmFpbnRyZWVFcnJvciB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAnbmFtZScgaW4gZXJyb3IgJiZcbiAgICAgICAgKGVycm9yIGFzIEJyYWludHJlZUVycm9yKS5uYW1lID09PSAnQnJhaW50cmVlRXJyb3InXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKFxuICAgIGFkZHJlc3M6IEFkZHJlc3MsXG4pOiBCcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVjaXBpZW50TmFtZTogYCR7YWRkcmVzcy5maXJzdE5hbWV9ICR7YWRkcmVzcy5sYXN0TmFtZX1gLFxuICAgICAgICBsaW5lMTogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgbGluZTI6IGFkZHJlc3MuYWRkcmVzczIsXG4gICAgICAgIGNpdHk6IGFkZHJlc3MuY2l0eSxcbiAgICAgICAgc3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICBjb3VudHJ5Q29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgcGhvbmU6IGFkZHJlc3MucGhvbmUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZU1lc3NhZ2VzLFxuICAgIEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgIEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4gICAgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgIE1lc3NhZ2luZ1BsYWNlbWVudHMsXG4gICAgUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICBQYXlwYWxCdXR0b25SZW5kZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgRm9ybWF0dGVkUGF5bG9hZCxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUGF5cGFsSW5zdHJ1bWVudCxcbiAgICBTdGFuZGFyZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLWVycm9yJztcbmltcG9ydCBpc0JyYWludHJlZVBheXBhbFByb3ZpZGVyRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLXBheXBhbC1wcm92aWRlci1lcnJvcic7XG5pbXBvcnQgbWFwVG9CcmFpbnRyZWVTaGlwcGluZ0FkZHJlc3NPdmVycmlkZSBmcm9tICcuLi9tYXAtdG8tYnJhaW50cmVlLXNoaXBwaW5nLWFkZHJlc3Mtb3ZlcnJpZGUnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVBheXBhbFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBXaXRoQnJhaW50cmVlUGF5cGFsUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcbiAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWU/OiBCcmFpbnRyZWVQYXlwYWxQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnM7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ/OiBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQ7XG4gICAgcHJpdmF0ZSBwYXlwYWxCdXR0b25SZW5kZXI/OiBQYXlwYWxCdXR0b25SZW5kZXI7XG4gICAgcHJpdmF0ZSBsb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVNZXNzYWdlczogQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIHByaXZhdGUgbG9hZGluZ0luZGljYXRvcjogTG9hZGluZ0luZGljYXRvcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZTogYnJhaW50cmVlT3B0aW9ucywgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWUgPSBicmFpbnRyZWVPcHRpb25zO1xuXG4gICAgICAgIGlmICghdGhpcy5wYXltZW50TWV0aG9kIHx8ICF0aGlzLnBheW1lbnRNZXRob2Qubm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBheW1lbnRNZXRob2QuY2xpZW50VG9rZW4gJiYgYnJhaW50cmVlT3B0aW9ucz8uYmFubmVyQ29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBheXBhbCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF5cGFsQ2hlY2tvdXRJbnN0YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFBheXBhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoYnJhaW50cmVlT3B0aW9ucz8uYmFubmVyQ29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRQYXlwYWxDaGVja291dEluc3RhbmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFBheXBhbCgpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBjb25zdCB7IG9uRXJyb3IgfSA9IHRoaXMuYnJhaW50cmVlIHx8IHt9O1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YShwYXltZW50LCBvcmRlci51c2VTdG9yZUNyZWRpdCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50RGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Byb3ZpZGVyRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkUGF5cGFsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBheXBhbEJ1dHRvblJlbmRlcj8uY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBheXBhbENoZWNrb3V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChfcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkVycm9yICYmIHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKG5ldyBFcnJvcignSU5TVFJVTUVOVF9ERUNMSU5FRCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlVG9rZW5pemVQYXlsb2FkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMucGF5cGFsQnV0dG9uUmVuZGVyPy5jbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJlcGFyZVBheW1lbnREYXRhKFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICAgICAgdXNlU3RvcmVDcmVkaXQ/OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGdyYW5kVG90YWwgPSBzdGF0ZS5nZXRPdXRzdGFuZGluZ0JhbGFuY2UodXNlU3RvcmVDcmVkaXQpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZygpO1xuXG4gICAgICAgIGlmICghZ3JhbmRUb3RhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZUxhbmd1YWdlIH0sXG4gICAgICAgIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgY29uZmlnOiB7IGlzVmF1bHRpbmdFbmFibGVkIH0sXG4gICAgICAgIH0gPSB0aGlzLnBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHBheW1lbnREYXRhID0ge30gfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmJyYWludHJlZVRva2VuaXplUGF5bG9hZD8ubm9uY2UgfHwgbm9uY2U7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHRoaXMuZm9ybWF0dGVkUGF5bG9hZCh0b2tlbiksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpIHx8IGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICBpZiAoIWlzVmF1bHRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnVmF1bHRpbmcgaXMgZGlzYWJsZWQgYnV0IGEgdmF1bHRlZCBpbnN0cnVtZW50IHdhcyBiZWluZyB1c2VkIGZvciB0aGlzIHRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBheW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB9ID0gcGF5bWVudERhdGE7XG5cbiAgICAgICAgaWYgKHNob3VsZFNhdmVJbnN0cnVtZW50ICYmICFpc1ZhdWx0aW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdWYXVsdGluZyBpcyBkaXNhYmxlZCBidXQgc2hvdWxkU2F2ZUluc3RydW1lbnQgaXMgc2V0IHRvIHRydWUnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHN0YXRlLmdldFNoaXBwaW5nQWRkcmVzcygpO1xuXG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlID0gc2hpcHBpbmdBZGRyZXNzXG4gICAgICAgICAgICA/IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoc2hpcHBpbmdBZGRyZXNzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnBheXBhbCh7XG4gICAgICAgICAgICAgICAgYW1vdW50OiBncmFuZFRvdGFsLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3kuY29kZSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogdGhpcy5wYXltZW50TWV0aG9kLmlkID09PSAnYnJhaW50cmVlcGF5cGFsY3JlZGl0JyxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRTZXNzaW9uSWQoKSxcbiAgICAgICAgXSkudGhlbigoW3sgbm9uY2UsIGRldGFpbHMgfSA9IHt9IGFzIGFueSwgc2Vzc2lvbklkXSkgPT4gKHtcbiAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICBwYXltZW50RGF0YTogdGhpcy5mb3JtYXR0ZWRQYXlsb2FkKFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIGRldGFpbHMgJiYgZGV0YWlscy5lbWFpbCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICksXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdHRlZFBheWxvYWQoXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIGVtYWlsPzogc3RyaW5nLFxuICAgICAgICBzZXNzaW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIHZhdWx0UGF5bWVudEluc3RydW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50PzogYm9vbGVhbixcbiAgICApOiBGb3JtYXR0ZWRQYXlsb2FkPFBheXBhbEluc3RydW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHZhdWx0UGF5bWVudEluc3RydW1lbnQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGRldmljZV9pbmZvOiBzZXNzaW9uSWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBwYXlwYWxfYWNjb3VudDoge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkUGF5cGFsQ2hlY2tvdXRJbnN0YW5jZSgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhLCBpZDogcGF5bWVudE1ldGhvZElkIH0gPSB0aGlzLnBheW1lbnRNZXRob2QgfHwge307XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0T3JUaHJvdygpXG4gICAgICAgICAgICAgICAgLmN1cnJlbmN5LmNvZGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0Q29uZmlnOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBpbml0aWFsaXphdGlvbkRhdGE/LmludGVudCxcbiAgICAgICAgICAgICAgICBpc0NyZWRpdEVuYWJsZWQ6IGluaXRpYWxpemF0aW9uRGF0YT8uaXNDcmVkaXRFbmFibGVkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaXNCcmFpbnRyZWVQYXlwYWxDcmVkaXQgPSBwYXltZW50TWV0aG9kSWQgPT09ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2hvd1BheVBhbENyZWRpdEJhbm5lciA9XG4gICAgICAgICAgICAgICAgaXNCcmFpbnRyZWVQYXlwYWxDcmVkaXQgfHwgIWluaXRpYWxpemF0aW9uRGF0YT8uaXNDcmVkaXRFbmFibGVkO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgICAgICAgICBwYXlwYWxDaGVja291dENvbmZpZyxcbiAgICAgICAgICAgICAgICAoYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2hvd1BheVBhbENyZWRpdEJhbm5lciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZT8uYmFubmVyQ29udGFpbmVySWRcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbE1lc3NhZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZS5iYW5uZXJDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBheVBhbEJ1dHRvbihicmFpbnRyZWVQYXlwYWxDaGVja291dCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxNZXNzYWdlcyhtZXRob2RJZDogc3RyaW5nLCBjb250YWluZXJJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlTWVzc2FnZXMucmVuZGVyKG1ldGhvZElkLCBjb250YWluZXJJZCwgTWVzc2FnaW5nUGxhY2VtZW50cy5QQVlNRU5UKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBheVBhbEJ1dHRvbihicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQpIHtcbiAgICAgICAgY29uc3QgeyBvblBheW1lbnRFcnJvciwgc3VibWl0Rm9ybSwgb25SZW5kZXJCdXR0b24sIGNvbnRhaW5lcklkLCBvbkVycm9yIH0gPVxuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWUgfHwge307XG5cbiAgICAgICAgaWYgKCFjb250YWluZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIgPSBjb250YWluZXJJZC5zcGxpdCgnIycpWzFdO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY29uZmlnOiB7IHRlc3RNb2RlIH0sXG4gICAgICAgIH0gPSB0aGlzLnBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgeyBwYXlwYWwgfSA9IHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdztcbiAgICAgICAgY29uc3QgZnVuZGluZ1NvdXJjZSA9IHBheXBhbD8uRlVORElORy5QQVlQQUw7XG5cbiAgICAgICAgaWYgKHBheXBhbCAmJiBmdW5kaW5nU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnBheXBhbEJ1dHRvblJlbmRlciA9IHBheXBhbC5CdXR0b25zKHtcbiAgICAgICAgICAgICAgICBlbnY6IHRlc3RNb2RlID8gJ3NhbmRib3gnIDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZnVuZGluZ1NvdXJjZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcih0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZU9yZGVyOiAoKSA9PiB0aGlzLnNldHVwUGF5bWVudChicmFpbnRyZWVQYXlwYWxDaGVja291dCwgaWQsIG9uUGF5bWVudEVycm9yKSxcbiAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IGFzeW5jIChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlVG9rZW5pemVQYXlsb2FkID0gYXdhaXQgdGhpcy50b2tlbml6ZVBheW1lbnRPclRocm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXplRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJtaXRGb3JtICYmIHR5cGVvZiBzdWJtaXRGb3JtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChvblJlbmRlckJ1dHRvbiAmJiB0eXBlb2Ygb25SZW5kZXJCdXR0b24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvblJlbmRlckJ1dHRvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXlwYWxCdXR0b25SZW5kZXIuaXNFbGlnaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXlwYWxCdXR0b25SZW5kZXIucmVuZGVyKGAke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkLnNwbGl0KCcjJylbMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXR1cFBheW1lbnQoXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgICAgIG9uUGF5bWVudEVycm9yOiBCcmFpbnRyZWVQYXlwYWxQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnNbJ29uUGF5bWVudEVycm9yJ10sXG4gICAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXIgPSBzdGF0ZS5nZXRDdXN0b21lcigpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY3VycmVuY3kuY29kZTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBzaGlwcGluZ0FkZHJlc3MgfHwgY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgPSBhZGRyZXNzXG4gICAgICAgICAgICAgICAgPyBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC5jcmVhdGVQYXltZW50KHtcbiAgICAgICAgICAgICAgICBmbG93OiAnY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGludGVudDogcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IgJiYgKGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpIHx8IGVycm9yIGluc3RhbmNlb2YgU3RhbmRhcmRFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBvblBheW1lbnRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnRPclRocm93KFxuICAgICAgICBhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhLFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIG9uRXJyb3I/OiAoZXJyb3I6IEJyYWludHJlZUVycm9yIHwgU3RhbmRhcmRFcnJvcikgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LnRva2VuaXplUGF5bWVudChhdXRob3JpemVEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvbkVycm9yICYmIChpc0JyYWludHJlZUVycm9yKGVycm9yKSB8fCBlcnJvciBpbnN0YW5jZW9mIFN0YW5kYXJkRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkUGF5cGFsKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHRoaXMucGF5bWVudE1ldGhvZCB8fCB7fTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0UGF5cGFsKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IEVycm9yIHwgdW5rbm93bik6IG5ldmVyIHtcbiAgICAgICAgaWYgKCFpc0JyYWludHJlZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BBWVBBTF9QT1BVUF9DTE9TRUQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzUHJvdmlkZXJFcnJvcihlcnJvcjogdW5rbm93bik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgY29uc3QgcGF5cGFsUHJvdmlkZXJFcnJvciA9IGVycm9yPy5lcnJvcnM/LmZpbHRlcigoZSkgPT4gZS5wcm92aWRlcl9lcnJvcikgfHwgW107XG5cbiAgICAgICAgICAgIHJldHVybiBwYXlwYWxQcm92aWRlckVycm9yWzBdPy5wcm92aWRlcl9lcnJvcj8uY29kZSA9PT0gJzIwNDYnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRWxlbWVudChlbGVtZW50SWQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRJZCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBMb2FkaW5nIEluZGljYXRvciBtZXRob2RzXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgdG9nZ2xlTG9hZGluZ0luZGljYXRvcihpc0xvYWRpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzTG9hZGluZyAmJiB0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0luZGljYXRvci5zaG93KHRoaXMubG9hZGluZ0luZGljYXRvckNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3IuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBQcm92aWRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGVycm9ycz86IEVycm9yRWxlbWVudFtdO1xuICAgIHN0YXR1cz86IHN0cmluZztcbiAgICB0aHJlZV9kc19yZXN1bHQ/OiB7XG4gICAgICAgIGFjc191cmw6IHVua25vd247XG4gICAgICAgIHBheWVyX2F1dGhfcmVxdWVzdDogdW5rbm93bjtcbiAgICAgICAgbWVyY2hhbnRfZGF0YTogdW5rbm93bjtcbiAgICAgICAgY2FsbGJhY2tfdXJsOiB1bmtub3duO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JFbGVtZW50IHtcbiAgICBjb2RlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHByb3ZpZGVyX2Vycm9yPzoge1xuICAgICAgICBjb2RlOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUHJvdmlkZXJFcnJvciB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2Vycm9ycycgaW4gZXJyb3I7XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IsIE92ZXJsYXkgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IHsgTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTIH0gZnJvbSAnLi4vYnJhaW50cmVlLXBheXBhbC1jb25zdGFudHMnO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXBheXBhbC1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVBheXBhbFBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBvdmVybGF5ID0gbmV3IE92ZXJsYXkoKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSA9IG5ldyBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoXG4gICAgICAgICAgICBnZXRTY3JpcHRMb2FkZXIoKSxcbiAgICAgICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgICAgICBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICAgICAgKSxcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgb3ZlcmxheSxcbiAgICApO1xuICAgIGNvbnN0IGJyYWludHJlZU1lc3NhZ2VzID0gbmV3IEJyYWludHJlZU1lc3NhZ2VzKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVQYXlwYWxQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIG5ldyBMb2FkaW5nSW5kaWNhdG9yKHtcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlczogTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTLFxuICAgICAgICB9KSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZVBheXBhbFBheW1lbnRTdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWwnIH0sXG4gICAgeyBpZDogJ2JyYWludHJlZXBheXBhbGNyZWRpdCcgfSxcbl0pO1xuIiwiZW51bSBDb250ZW50VHlwZSB7XG4gICAgSnNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICBKc29uVjEgPSAnYXBwbGljYXRpb24vdm5kLmJjLnYxK2pzb24nLFxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZW50VHlwZTtcbiIsImV4cG9ydCBjb25zdCBTREtfVkVSU0lPTl9IRUFERVJTID0geyAnWC1DaGVja291dC1TREstVmVyc2lvbic6IExJQlJBUllfVkVSU0lPTiB9O1xuIiwiaW1wb3J0IHsgUmVxdWVzdFNlbmRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCB7IEJyYWludHJlZU9yZGVyU3RhdHVzRGF0YSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ29udGVudFR5cGUsXG4gICAgSU5URVJOQUxfVVNFX09OTFksXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgU0RLX1ZFUlNJT05fSEVBREVSUyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVJlcXVlc3RTZW5kZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcikge31cblxuICAgIGFzeW5jIGdldE9yZGVyU3RhdHVzKFxuICAgICAgICBtZXRob2RJZCA9ICdicmFpbnRyZWVsb2NhbG1ldGhvZHMnLFxuICAgICAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVPcmRlclN0YXR1c0RhdGE+IHtcbiAgICAgICAgY29uc3QgdXJsID0gYC9hcGkvc3RvcmVmcm9udC9pbml0aWFsaXphdGlvbi8ke21ldGhvZElkfWA7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAnWC1BUEktSU5URVJOQUwnOiBJTlRFUk5BTF9VU0VfT05MWSxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBDb250ZW50VHlwZS5Kc29uLFxuICAgICAgICAgICAgLi4uU0RLX1ZFUlNJT05fSEVBREVSUyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnJlcXVlc3RTZW5kZXIuZ2V0PEJyYWludHJlZU9yZGVyU3RhdHVzRGF0YT4odXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5ib2R5O1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBJTlRFUk5BTF9VU0VfT05MWSA9XG4gICAgJ1RoaXMgQVBJIGVuZHBvaW50IGlzIGZvciBpbnRlcm5hbCB1c2Ugb25seSBhbmQgbWF5IGNoYW5nZSBpbiB0aGUgZnV0dXJlJztcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmNvbnN0IERFRkFVTFRfUkVTUE9OU0UgPSB7XG4gICAgYm9keToge30sXG4gICAgaGVhZGVyczoge30sXG4gICAgc3RhdHVzOiAwLFxufTtcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB1bmFibGUgdG8gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4gSXQgd3JhcHNcbiAqIGFueSBzZXJ2ZXIgcmVzcG9uc2UgaW50byBhIEpTIGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdEVycm9yPFRCb2R5ID0gYW55PiBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGJvZHk6IFRCb2R5IHwge307XG4gICAgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgICBlcnJvcnM6IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgIHN0YXR1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlc3BvbnNlPzogUmVzcG9uc2U8VEJvZHkgfCB7fT4sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgIH06IHtcbiAgICAgICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgICAgICAgICBlcnJvcnM/OiBBcnJheTx7IGNvZGU6IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9PjtcbiAgICAgICAgfSA9IHt9LFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGJvZHksIGhlYWRlcnMsIHN0YXR1cyB9ID0gcmVzcG9uc2UgfHwgREVGQVVMVF9SRVNQT05TRTtcblxuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUmVxdWVzdEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlcXVlc3QnO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgUmVxdWVzdEVycm9yIGZyb20gJy4vcmVxdWVzdC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdW5hYmxlIHRvIHN1Y2Nlc3NmdWxseSBzdWJtaXQgYSBzZXJ2ZXIgcmVxdWVzdFxuICogdXNpbmcgYSBwYXltZW50IG1ldGhvZCBiZWNhdXNlIHRoZSBtZXRob2QgaGFzIGludmFsaWQgY29uZmlndXJhdGlvbiBvciBpcyBpblxuICogYW4gaW52YWxpZCBzdGF0ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEludmFsaWRFcnJvcjxUID0gYW55PiBleHRlbmRzIFJlcXVlc3RFcnJvcjxUPiB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2U/OiBSZXNwb25zZTxUPikge1xuICAgICAgICBzdXBlcihyZXNwb25zZSwge1xuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZXJlIGlzIGEgcHJvYmxlbSBwcm9jZXNzaW5nIHlvdXIgcGF5bWVudC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEludmFsaWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgcmVxdWVzdCBmYWlscyB0byBjb21wbGV0ZSB3aXRoaW4gaXRzIHJlcXVpcmVkIHRpbWVmcmFtZVxuICogYmVjYXVzZSBvZiBhIG5ldHdvcmsgaXNzdWUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVvdXRFcnJvcjxUID0gYW55PiBleHRlbmRzIFJlcXVlc3RFcnJvcjxUPiB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2U/OiBSZXNwb25zZTxUPikge1xuICAgICAgICBzdXBlcihyZXNwb25zZSwge1xuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSByZXF1ZXN0IGhhcyB0aW1lZCBvdXQgb3IgYWJvcnRlZC4nLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3RpbWVvdXQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnLFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudE1ldGhvZFJlZGlyZWN0QWN0aW9uLFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkLFxuICAgIEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEsXG4gICAgQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3IsXG4gICAgQnJhaW50cmVlT3JkZXJTYXZlZFJlc3BvbnNlLFxuICAgIEJyYWludHJlZU9yZGVyU3RhdHVzLFxuICAgIEJyYWludHJlZVJlZGlyZWN0RXJyb3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIE5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW5zdHJ1bWVudE1ldGEsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kSW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUmVxdWVzdE9wdGlvbnMsXG4gICAgVGltZW91dEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuXG5pbXBvcnQgQnJhaW50cmVlUmVxdWVzdFNlbmRlciBmcm9tICcuLi9icmFpbnRyZWUtcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBXaXRoQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1sb2NhbC1tZXRob2RzLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuY29uc3QgUE9MTElOR19JTlRFUlZBTCA9IDMwMDA7XG5jb25zdCBNQVhfUE9MTElOR19USU1FID0gMzAwMDAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnJhaW50cmVlbG9jYWxtZXRob2RzPzogQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudEluaXRpYWxpemVPcHRpb25zO1xuICAgIHByaXZhdGUgYnJhaW50cmVlTG9jYWxQYXltZW50PzogQnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIHByaXZhdGUgbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcj86IHN0cmluZztcbiAgICBwcml2YXRlIG9yZGVySWQ/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBnYXRld2F5SWQ/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBpc0xQTXNVcGRhdGVFeHBlcmltZW50RW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcG9sbGluZ1RpbWVyID0gMDtcbiAgICBwcml2YXRlIHN0b3BQb2xsaW5nID0gbm9vcDtcbiAgICBwcml2YXRlIGlzUG9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlUmVxdWVzdFNlbmRlcjogQnJhaW50cmVlUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBsb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLFxuICAgICAgICBwcml2YXRlIHBvbGxpbmdJbnRlcnZhbDogbnVtYmVyID0gUE9MTElOR19JTlRFUlZBTCxcbiAgICAgICAgcHJpdmF0ZSBtYXhQb2xsaW5nSW50ZXJ2YWxUaW1lOiBudW1iZXIgPSBNQVhfUE9MTElOR19USU1FLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZ2F0ZXdheUlkLCBtZXRob2RJZCwgYnJhaW50cmVlbG9jYWxtZXRob2RzIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMuZ2F0ZXdheUlkID0gZ2F0ZXdheUlkO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVsb2NhbG1ldGhvZHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVsb2NhbG1ldGhvZHNcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyYWludHJlZWxvY2FsbWV0aG9kcyA9IGJyYWludHJlZWxvY2FsbWV0aG9kcztcbiAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyID0gYnJhaW50cmVlbG9jYWxtZXRob2RzLmNvbnRhaW5lci5zcGxpdCgnIycpWzFdO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KGdhdGV3YXlJZCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXM7XG5cbiAgICAgICAgdGhpcy5pc1BvbGxpbmdFbmFibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BBWVBBTC01MjU4LmJyYWludHJlZV9sb2NhbF9tZXRob2RzX3BvbGxpbmcnLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaXNMUE1zVXBkYXRlRXhwZXJpbWVudEVuYWJsZWQgPSBpc0V4cGVyaW1lbnRFbmFibGVkKFxuICAgICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgICAnUEFZUEFMLTQ4NTMuYWRkX25ld19wYXltZW50X2Zsb3dfZm9yX2JyYWludHJlZV9scG1zJyxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEgfHwgIWNvbmZpZy5tZXJjaGFudElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc05vbkluc3RhbnRQYXltZW50TWV0aG9kKG1ldGhvZElkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlTG9jYWxQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICBjb25maWcubWVyY2hhbnRJZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gcGF5bG9hZDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCB9ID0gcGF5bWVudDtcblxuICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNOb25JbnN0YW50UGF5bWVudE1ldGhvZChtZXRob2RJZCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVdpdGhOb3RJbnN0YW50TFBNKG1ldGhvZElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVdpdGhJbnN0YW50TFBNKG1ldGhvZElkLCBvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVXaXRoTm90SW5zdGFudExQTShtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBiYXNpY1BheW1lbnREYXRhID0gYXdhaXQgdGhpcy5nZXRMUE1zQmFzaWNQYXltZW50RGF0YSgpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNpY1BheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQnJhaW50cmVlUmVkaXJlY3RFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5yZWRpcmVjdF91cmw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShyZWRpcmVjdFVybCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVXaXRoSW5zdGFudExQTShcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgb3JkZXI6IE9taXQ8T3JkZXJSZXF1ZXN0Qm9keSwgJ3BheW1lbnQnPixcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50Py5zdGFydFBheW1lbnQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnN0YW50TFBNQ29uZmlnKG1ldGhvZElkLCBvcmRlciwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnN0YW50TFBNQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBtZXRob2RJZCwgb3JkZXIsIG9wdGlvbnMpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRMUE1zQmFzaWNQYXltZW50RGF0YSgpOiBQcm9taXNlPFBheW1lbnRJbnN0cnVtZW50TWV0YT4ge1xuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuIHsgZGV2aWNlU2Vzc2lvbklkOiBkZXZpY2VEYXRhIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnN0YW50TFBNQ29uZmlnKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBvcmRlcjogT21pdDxPcmRlclJlcXVlc3RCb2R5LCAncGF5bWVudCc+LFxuICAgICAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICAgKTogQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGJpbGxpbmcgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBjb3VudHJ5Q29kZSB9ID0gYmlsbGluZztcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSwgZW1haWwsIGxpbmVJdGVtcyB9ID0gY2FydDtcbiAgICAgICAgY29uc3QgaXNTaGlwcGluZ1JlcXVpcmVkID0gbGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgZ3JhbmRUb3RhbCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpLm91dHN0YW5kaW5nQmFsYW5jZTtcbiAgICAgICAgY29uc3QgY2hlY2tvdXRVcmwgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5saW5rcy5jaGVja291dExpbms7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBheW1lbnRUeXBlOiBtZXRob2RJZCxcbiAgICAgICAgICAgIGFtb3VudDogZ3JhbmRUb3RhbCxcbiAgICAgICAgICAgIGZhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjaGVja291dFVybCxcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0OiAnQ29tcGxldGUgUGF5bWVudCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeS5jb2RlLFxuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IGlzU2hpcHBpbmdSZXF1aXJlZCxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZ2l2ZW5OYW1lOiBmaXJzdE5hbWUsXG4gICAgICAgICAgICBzdXJuYW1lOiBsYXN0TmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBheW1lbnRTdGFydDogYXN5bmMgKGRhdGE6IEJyYWludHJlZUxQTVBheW1lbnRTdGFydERhdGEsIHN0YXJ0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJJZCA9IGRhdGEucGF5bWVudElkO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2ljUGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLmdldExQTXNCYXNpY1BheW1lbnREYXRhKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2ljUGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBbYCR7bWV0aG9kSWR9X2FjY291bnRgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBkYXRhLnBheW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Ym1pdCBvcmRlciBhbmQgcGF5bWVudCBzaG91bGQgYmUgcGVyZm9ybWVkIHRvIHBhc3Mgb3JkZXJfaWQgdG8gdGhlIGJhY2tlbmRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JyYWludHJlZU9yZGVyU2F2ZWRSZXNwb25zZShlcnJvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5vcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBtZXRob2QgY2FsbCBpbml0aWF0ZXMgdGhlIHBvcHVwXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLmluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRld2F5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnN0YW50TFBNQ2FsbGJhY2soXG4gICAgICAgIHJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCxcbiAgICAgICAgcmVqZWN0OiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgb3JkZXI6IE9taXQ8T3JkZXJSZXF1ZXN0Qm9keSwgJ3BheW1lbnQnPixcbiAgICAgICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zLFxuICAgICkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcblxuICAgICAgICByZXR1cm4gYXN5bmMgKFxuICAgICAgICAgICAgc3RhcnRQYXltZW50RXJyb3I6IEJyYWludHJlZUxQTVN0YXJ0UGF5bWVudEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgcGF5bG9hZERhdGE6IEJyYWludHJlZUxvY2FsUGF5bWVudHNQYXlsb2FkLFxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFydFBheW1lbnRFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydFBheW1lbnRFcnJvci5jb2RlID09PSAnTE9DQUxfUEFZTUVOVF9XSU5ET1dfQ0xPU0VEJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UG9sbGluZ01lY2hhbmlzbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQb2xsaW5nTWVjaGFuaXNtKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJhc2ljUGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLmdldExQTXNCYXNpY1BheW1lbnREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAuLi5iYXNpY1BheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake21ldGhvZElkfV9hY2NvdW50YF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBjYXJ0LmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHBheWxvYWREYXRhLm5vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkID8geyBvcmRlcl9pZDogdGhpcy5vcmRlcklkIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogTG9hZGluZyBJbmRpY2F0b3IgbWV0aG9kc1xuICAgICAqXG4gICAgICogKi9cbiAgICBwcml2YXRlIHRvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoaXNMb2FkaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcgJiYgdGhpcy5sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3Iuc2hvdyh0aGlzLmxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgY29uc3QgeyBvbkVycm9yIH0gPSB0aGlzLmJyYWludHJlZWxvY2FsbWV0aG9kcyB8fCB7fTtcblxuICAgICAgICBpZiAodGhpcy5pc1BvbGxpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UG9sbGluZ01lY2hhbmlzbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICBpZiAob25FcnJvciAmJiB0eXBlb2Ygb25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFV0aWxzXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgaXNOb25JbnN0YW50UGF5bWVudE1ldGhvZChtZXRob2RJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBtZXRob2RJZC50b1VwcGVyQ2FzZSgpIGluIE5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNCcmFpbnRyZWVSZWRpcmVjdEVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQnJhaW50cmVlUmVkaXJlY3RFcnJvciB7XG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnIHx8IGVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGJvZHkgfTogUGFydGlhbDxCcmFpbnRyZWVMb2NhbFBheW1lbnRNZXRob2RSZWRpcmVjdEFjdGlvbj4gPSBlcnJvcjtcblxuICAgICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIWJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ/LmRhdGEucmVkaXJlY3RfdXJsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2UoXG4gICAgICAgIHJlc3BvbnNlOiB1bmtub3duLFxuICAgICk6IHJlc3BvbnNlIGlzIEJyYWludHJlZU9yZGVyU2F2ZWRSZXNwb25zZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdvYmplY3QnIHx8IHJlc3BvbnNlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGJvZHkgfTogUGFydGlhbDxCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2U+ID0gcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZD8uZGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3JkZXJfaWRfc2F2ZWRfc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQb2xsaW5nIG1lY2hhbmlzbVxuICAgICAqXG4gICAgICpcbiAgICAgKiAqL1xuICAgIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBvbGxpbmdNZWNoYW5pc20oXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHJlc29sdmVQcm9taXNlOiAoKSA9PiB2b2lkLFxuICAgICAgICByZWplY3RQcm9taXNlOiAoKSA9PiB2b2lkLFxuICAgICAgICBnYXRld2F5SWQ/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlc29sdmUsIHRoaXMucG9sbGluZ0ludGVydmFsKTtcblxuICAgICAgICAgICAgdGhpcy5zdG9wUG9sbGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxpbmdUaW1lciArPSB0aGlzLnBvbGxpbmdJbnRlcnZhbDtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXJTdGF0dXMgPSBhd2FpdCB0aGlzLmJyYWludHJlZVJlcXVlc3RTZW5kZXIuZ2V0T3JkZXJTdGF0dXMoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZU1ldGFkYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzT3JkZXJQZW5kaW5nID0gb3JkZXJTdGF0dXMuc3RhdHVzID09PSBCcmFpbnRyZWVPcmRlclN0YXR1cy5QZW5kaW5nO1xuICAgICAgICAgICAgY29uc3QgaXNPcmRlckFwcHJvdmVkID0gb3JkZXJTdGF0dXMuc3RhdHVzID09PSBCcmFpbnRyZWVPcmRlclN0YXR1cy5Db21wbGV0ZWQ7XG4gICAgICAgICAgICBjb25zdCBpc1BvbGxpbmdFcnJvciA9IG9yZGVyU3RhdHVzLnN0YXR1cyA9PT0gQnJhaW50cmVlT3JkZXJTdGF0dXMuRmFpbGVkO1xuXG4gICAgICAgICAgICBpZiAoaXNPcmRlckFwcHJvdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVByb21pc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzUG9sbGluZ0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdFByb21pc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc09yZGVyQXBwcm92ZWQgJiZcbiAgICAgICAgICAgICAgICBpc09yZGVyUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgIHRoaXMucG9sbGluZ1RpbWVyIDwgdGhpcy5tYXhQb2xsaW5nSW50ZXJ2YWxUaW1lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplUG9sbGluZ01lY2hhbmlzbShcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICByZWplY3RQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBnYXRld2F5SWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWluaXRpYWxpemVTdHJhdGVneSh7XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgZ2F0ZXdheUlkLFxuICAgICAgICAgICAgICAgIGJyYWludHJlZWxvY2FsbWV0aG9kczogdGhpcy5icmFpbnRyZWVsb2NhbG1ldGhvZHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihuZXcgVGltZW91dEVycm9yKCkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG4gICAgICAgIHRoaXMucG9sbGluZ1RpbWVyID0gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0UG9sbGluZ01lY2hhbmlzbSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kZWluaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZWluaXRpYWxpemVTdHJhdGVneShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWluaXRpYWxpemUoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKG9wdGlvbnMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQgeyBMb2FkaW5nSW5kaWNhdG9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCBCcmFpbnRyZWVSZXF1ZXN0U2VuZGVyIGZyb20gJy4uL2JyYWludHJlZS1yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCBCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtbG9jYWwtbWV0aG9kcy1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZUxvY2FsTWV0aG9kc1BheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTZGsgPSBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgKTtcbiAgICBjb25zdCByZXF1ZXN0U2VuZGVyID0gY3JlYXRlUmVxdWVzdFNlbmRlcigpO1xuICAgIGNvbnN0IGJyYWludHJlZVJlcXVlc3RTZW5kZXIgPSBuZXcgQnJhaW50cmVlUmVxdWVzdFNlbmRlcihyZXF1ZXN0U2VuZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVTZGssXG4gICAgICAgIGJyYWludHJlZVJlcXVlc3RTZW5kZXIsXG4gICAgICAgIG5ldyBMb2FkaW5nSW5kaWNhdG9yKHsgc3R5bGVzOiB7IGJhY2tncm91bmRDb2xvcjogJ2JsYWNrJyB9IH0pLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlTG9jYWxNZXRob2RzUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBnYXRld2F5OiAnYnJhaW50cmVlbG9jYWxtZXRob2RzJyB9LFxuXSk7XG4iLCJpbXBvcnQge1xuICAgIFBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuICAgIFBheVBhbENvbm5lY3RDdXN0b21lcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKFxuICAgIGN1c3RvbWVyPzogUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4pOiBjdXN0b21lciBpcyBQYXlQYWxDb25uZWN0Q3VzdG9tZXIge1xuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgICdhdXRoZW50aWNhdGlvblN0YXRlJyBpbiBjdXN0b21lciB8fCAnYWRkcmVzc2VzJyBpbiBjdXN0b21lciB8fCAnaW5zdHJ1bWVudHMnIGluIGN1c3RvbWVyXG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZEVycm9yLFxuICAgIEJyYWludHJlZTNEU1ZlcmlmeUNhcmRQYXlsb2FkLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcyxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uU3RhdGUsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50LFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudE9wdGlvbnMsXG4gICAgQnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBnZXRGYXN0bGFuZVN0eWxlcyxcbiAgICBpc0JyYWludHJlZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBBZGRyZXNzLFxuICAgIENhcmRJbnN0cnVtZW50LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuXG5pbXBvcnQgeyBXaXRoQnJhaW50cmVlRmFzdGxhbmVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2JyYWludHJlZS1mYXN0bGFuZS1wYXltZW50LWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgQnJhaW50cmVlRmFzdGxhbmVVdGlscyBmcm9tICcuL2JyYWludHJlZS1mYXN0bGFuZS11dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIGJyYWludHJlZUNhcmRDb21wb25lbnQ/OiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBpczNEU0VuYWJsZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgb25FcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUZhc3RsYW5lVXRpbHM6IEJyYWludHJlZUZhc3RsYW5lVXRpbHMsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEZWZhdWx0IG1ldGhvZHNcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgYnJhaW50cmVlZmFzdGxhbmUgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVmYXN0bGFuZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZWZhc3RsYW5lXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVmYXN0bGFuZS5vbkluaXQgfHwgdHlwZW9mIGJyYWludHJlZWZhc3RsYW5lLm9uSW5pdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZWZhc3RsYW5lLm9uSW5pdFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZCBvciBpdCBpcyBub3QgYSBmdW5jdGlvbi4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYnJhaW50cmVlZmFzdGxhbmUub25DaGFuZ2UgfHwgdHlwZW9mIGJyYWludHJlZWZhc3RsYW5lLm9uQ2hhbmdlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlZmFzdGxhbmUub25DaGFuZ2VcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQgb3IgaXQgaXMgbm90IGEgZnVuY3Rpb24uJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdzxCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGE+KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsaXphdGlvbkRhdGEsIGNsaWVudFRva2VuIH0gPSBwYXltZW50TWV0aG9kIHx8IHt9O1xuICAgICAgICBjb25zdCB7IGlzRmFzdGxhbmVTdHlsaW5nRW5hYmxlZCB9ID0gaW5pdGlhbGl6YXRpb25EYXRhIHx8IHt9O1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXM7XG4gICAgICAgIGNvbnN0IGlzVGhyZWVEU0V4cGVyaW1lbnRFbmFibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BST0pFQ1QtNzA4MC5icmFpbnRyZWVfZmFzdGxhbmVfdGhyZWVfZHMnLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaXMzRFNFbmFibGVkID0gcGF5bWVudE1ldGhvZC5jb25maWcuaXMzZHNFbmFibGVkO1xuXG4gICAgICAgIGlmIChjbGllbnRUb2tlbiAmJiBpc1RocmVlRFNFeHBlcmltZW50RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXlwYWxGYXN0bGFuZVN0eWxlU2V0dGluZ3MgPSBpc0Zhc3RsYW5lU3R5bGluZ0VuYWJsZWRcbiAgICAgICAgICAgID8gcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmZhc3RsYW5lU3R5bGVzXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBmYXN0bGFuZVN0eWxlcyA9IGdldEZhc3RsYW5lU3R5bGVzKFxuICAgICAgICAgICAgcGF5cGFsRmFzdGxhbmVTdHlsZVNldHRpbmdzLFxuICAgICAgICAgICAgYnJhaW50cmVlZmFzdGxhbmUuc3R5bGVzLFxuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlRmFzdGxhbmVVdGlscy5pbml0aWFsaXplQnJhaW50cmVlRmFzdGxhbmVPclRocm93KFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBmYXN0bGFuZVN0eWxlcyxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5zaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3coKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLnJ1blBheVBhbEF1dGhlbnRpY2F0aW9uRmxvd09yVGhyb3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZUNhcmRDb21wb25lbnQoKTtcblxuICAgICAgICB0aGlzLm9uRXJyb3IgPSBicmFpbnRyZWVmYXN0bGFuZS5vbkVycm9yO1xuXG4gICAgICAgIGJyYWludHJlZWZhc3RsYW5lLm9uSW5pdCgoY29udGFpbmVyKSA9PiB0aGlzLnJlbmRlckJyYWludHJlZUNhcmRDb21wb25lbnQoY29udGFpbmVyKSk7XG4gICAgICAgIGJyYWludHJlZWZhc3RsYW5lLm9uQ2hhbmdlKCgpID0+IHRoaXMuaGFuZGxlQnJhaW50cmVlU3RvcmVkSW5zdHJ1bWVudENoYW5nZShtZXRob2RJZCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IGF3YWl0IHRoaXMucHJlcGFyZVBheW1lbnRQYXlsb2FkKHBheW1lbnQubWV0aG9kSWQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcblxuICAgICAgICB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMucmVtb3ZlU2Vzc2lvbklkRnJvbUNvb2tpZXMoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmJyYWludHJlZUNhcmRDb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIEZhc3RsYW5lIENvbXBvbmVudCByZW5kZXJpbmcgbWV0aG9kXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVDYXJkQ29tcG9uZW50KCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IHBob25lLCBmaXJzdE5hbWUsIGxhc3ROYW1lIH0gPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBgJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWV9YDtcblxuICAgICAgICBjb25zdCBjYXJkQ29tcG9uZW50T3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0eWxlczoge30sXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBjYXJkaG9sZGVyTmFtZToge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaWxsOiBmdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLihwaG9uZSAmJiB7XG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaWxsOiBwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcGF5cGFsUGF5bWVudENvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMuZ2V0QnJhaW50cmVlRmFzdGxhbmVDb21wb25lbnRPclRocm93KCk7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVDYXJkQ29tcG9uZW50ID0gYXdhaXQgcGF5cGFsUGF5bWVudENvbXBvbmVudChjYXJkQ29tcG9uZW50T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJCcmFpbnRyZWVDYXJkQ29tcG9uZW50KGNvbnRhaW5lcj86IHN0cmluZykge1xuICAgICAgICBjb25zdCBicmFpbnRyZWVDYXJkQ29tcG9uZW50ID0gdGhpcy5nZXRCcmFpbnRyZWVDYXJkQ29tcG9uZW50T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcImNvbnRhaW5lclwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyYWludHJlZUNhcmRDb21wb25lbnQucmVuZGVyKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQYXltZW50IFBheWxvYWQgcHJlcGFyYXRpb24gbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlUGF5bWVudFBheWxvYWQobWV0aG9kSWQ6IHN0cmluZyk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGAke2JpbGxpbmdBZGRyZXNzLmZpcnN0TmFtZX0gJHtiaWxsaW5nQWRkcmVzcy5sYXN0TmFtZX1gO1xuXG4gICAgICAgIGNvbnN0IHBheXBhbEluc3RydW1lbnQgPSB0aGlzLmdldFBheVBhbEluc3RydW1lbnRzKClbMF07XG5cbiAgICAgICAgY29uc3QgZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmdldERldmljZVNlc3Npb25JZCgpO1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXM7XG4gICAgICAgIGNvbnN0IGlzVGhyZWVEU0V4cGVyaW1lbnRFbmFibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BST0pFQ1QtNzA4MC5icmFpbnRyZWVfZmFzdGxhbmVfdGhyZWVfZHMnLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXlwYWxJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0aHJlZURTVG9rZW4gPVxuICAgICAgICAgICAgICAgIHRoaXMuaXMzRFNFbmFibGVkICYmIGlzVGhyZWVEU0V4cGVyaW1lbnRFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy5nZXQzRFMocGF5cGFsSW5zdHJ1bWVudC5iaWdwYXlUb2tlbiwgcGF5cGFsSW5zdHJ1bWVudD8uaWluIHx8ICcnKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheXBhbF9mYXN0bGFuZV90b2tlbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aHJlZURTVG9rZW4gfHwgcGF5cGFsSW5zdHJ1bWVudC5iaWdwYXlUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGdldFBheW1lbnRUb2tlbiB9ID0gdGhpcy5nZXRCcmFpbnRyZWVDYXJkQ29tcG9uZW50T3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRUb2tlbiA9IGF3YWl0IGdldFBheW1lbnRUb2tlbih7XG4gICAgICAgICAgICBuYW1lOiB7IGZ1bGxOYW1lIH0sXG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogdGhpcy5tYXBUb1BheVBhbEFkZHJlc3MoYmlsbGluZ0FkZHJlc3MpLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBiaW5HdWVzdCA9IHBheW1lbnRUb2tlbi5wYXltZW50U291cmNlLmNhcmQ/LmJpbkRldGFpbHM/LmJpbiB8fCAnJztcbiAgICAgICAgY29uc3QgdGhyZWVEU1Rva2VuID1cbiAgICAgICAgICAgIHRoaXMuaXMzRFNFbmFibGVkICYmIGlzVGhyZWVEU0V4cGVyaW1lbnRFbmFibGVkXG4gICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmdldDNEUyhwYXltZW50VG9rZW4uaWQsIGJpbkd1ZXN0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIG5vbmNlOiB0aHJlZURTVG9rZW4gfHwgcGF5bWVudFRva2VuLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAzRFNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGdldDNEUyhub25jZTogc3RyaW5nLCBiaW46IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHRocmVlRFNlY3VyZSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2RrLmdldEJyYWludHJlZVRocmVlRFMoKTtcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBzdGF0ZS5nZXRPcmRlck9yVGhyb3coKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2b2lkIHRocmVlRFNlY3VyZS52ZXJpZnlDYXJkKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBvcmRlcj8ub3JkZXJBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgICAgICBiaW4sXG4gICAgICAgICAgICAgICAgICAgIG9uTG9va3VwQ29tcGxldGU6IChfZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWVEU2VjdXJlLm9uKCdjdXN0b21lci1jYW5jZWxlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeUVycm9yOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRQYXlsb2FkLFxuICAgICAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlFcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5RXJyb3IuY29kZSA9PT0gJ1RIUkVFRFNfVkVSSUZZX0NBUkRfQ0FOQ0VMRURfQllfTUVSQ0hBTlQnXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShwYXlsb2FkLm5vbmNlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBNYXBwZXIgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYXBUb1BheVBhbEFkZHJlc3MoYWRkcmVzcz86IEFkZHJlc3MpOiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3Mge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcz8uYWRkcmVzczEgfHwgJycsXG4gICAgICAgICAgICBsb2NhbGl0eTogYWRkcmVzcz8uY2l0eSB8fCAnJyxcbiAgICAgICAgICAgIHJlZ2lvbjogYWRkcmVzcz8uc3RhdGVPclByb3ZpbmNlQ29kZSB8fCBhZGRyZXNzPy5zdGF0ZU9yUHJvdmluY2UgfHwgJycsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBhZGRyZXNzPy5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IGFkZHJlc3M/LmNvdW50cnlDb2RlIHx8ICcnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogT3RoZXIgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaG91bGRSdW5BdXRoZW50aWNhdGlvbkZsb3coKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyKCk7XG4gICAgICAgIGNvbnN0IGJyYWludHJlZVBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gaXNCcmFpbnRyZWVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgICAgICAgICBwYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICAgICAgKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICBjb25zdCBwYXlwYWxGYXN0bGFuZVNlc3Npb25JZCA9IHRoaXMuYnJhaW50cmVlRmFzdGxhbmVVdGlscy5nZXRTZXNzaW9uSWRGcm9tQ29va2llcygpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFjdXN0b21lci5pc0d1ZXN0IHx8XG4gICAgICAgICAgICBicmFpbnRyZWVQYXltZW50UHJvdmlkZXJDdXN0b21lcj8uYXV0aGVudGljYXRpb25TdGF0ZSA9PT1cbiAgICAgICAgICAgICAgICBCcmFpbnRyZWVGYXN0bGFuZUF1dGhlbnRpY2F0aW9uU3RhdGUuQ0FOQ0VMRURcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIWJyYWludHJlZVBheW1lbnRQcm92aWRlckN1c3RvbWVyPy5hdXRoZW50aWNhdGlvblN0YXRlICYmXG4gICAgICAgICAgICBwYXlwYWxGYXN0bGFuZVNlc3Npb25JZCA9PT0gY2FydC5pZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QnJhaW50cmVlQ2FyZENvbXBvbmVudE9yVGhyb3coKSB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVDYXJkQ29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUNhcmRDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQYXlQYWxJbnN0cnVtZW50cygpOiBDYXJkSW5zdHJ1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBzdGF0ZS5nZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgYnJhaW50cmVlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBpc0JyYWludHJlZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihcbiAgICAgICAgICAgIHBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnRQcm92aWRlckN1c3RvbWVyXG4gICAgICAgICAgICA6IHt9O1xuXG4gICAgICAgIHJldHVybiBicmFpbnRyZWVQYXltZW50UHJvdmlkZXJDdXN0b21lci5pbnN0cnVtZW50cyB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBGYXN0bGFuZSBpbnN0cnVtZW50IGNoYW5nZVxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVCcmFpbnRyZWVTdG9yZWRJbnN0cnVtZW50Q2hhbmdlKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Q2FyZEluc3RydW1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgcGF5cGFsQXhvU2RrID0gdGhpcy5icmFpbnRyZWVGYXN0bGFuZVV0aWxzLmdldEJyYWludHJlZUZhc3RsYW5lT3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uQ2hhbmdlZCwgc2VsZWN0ZWRDYXJkIH0gPSBhd2FpdCBwYXlwYWxBeG9TZGsucHJvZmlsZS5zaG93Q2FyZFNlbGVjdG9yKCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBicmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyID0gaXNCcmFpbnRyZWVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgICAgICAgICAgICAgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgICAgIDoge307XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSW5zdHJ1bWVudHMgPSB0aGlzLmJyYWludHJlZUZhc3RsYW5lVXRpbHMubWFwUGF5UGFsVG9CY0luc3RydW1lbnQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgW3NlbGVjdGVkQ2FyZF0sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnN0cnVtZW50cyAmJiBzZWxlY3RlZEluc3RydW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgICAgICAuLi5icmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyLFxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50czogWy4uLnNlbGVjdGVkSW5zdHJ1bWVudHNdLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkSW5zdHJ1bWVudHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWZhc3RsYW5lLXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IEJyYWludHJlZUZhc3RsYW5lVXRpbHMgZnJvbSAnLi9icmFpbnRyZWUtZmFzdGxhbmUtdXRpbHMnO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVGYXN0bGFuZVBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZUZhc3RsYW5lVXRpbHMgPSBuZXcgQnJhaW50cmVlRmFzdGxhbmVVdGlscyhcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVTY3JpcHRMb2FkZXIgPSBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICBnZXRTY3JpcHRMb2FkZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoYnJhaW50cmVlU2NyaXB0TG9hZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUZhc3RsYW5lVXRpbHMsXG4gICAgICAgIGJyYWludHJlZVNkayxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZWFjY2VsZXJhdGVkY2hlY2tvdXQnIH0sXG5dKTtcbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbiAgICBWaXNhQ2hlY2tvdXRBZGRyZXNzLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTGVnYWN5QWRkcmVzcyxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9icmFpbnRyZWUtdmlzYS1jaGVja291dC1wYXltZW50LW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXZpc2FjaGVja291dDogdmlzYUNoZWNrb3V0T3B0aW9ucywgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCF2aXNhQ2hlY2tvdXRPcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVldmlzYWNoZWNrb3V0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZyB9ID0gdGhpcy5wYXltZW50TWV0aG9kIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgb25FcnJvciA9IG5vb3AsIG9uUGF5bWVudFNlbGVjdCA9IG5vb3AgfSA9IHZpc2FDaGVja291dE9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlVmlzYUNoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0U2RrID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0VmlzYUNoZWNrb3V0U2RrKGNvbmZpZz8udGVzdE1vZGUpO1xuXG4gICAgICAgIGNvbnN0IGluaXRPcHRpb25zID0gYnJhaW50cmVlVmlzYUNoZWNrb3V0LmNyZWF0ZUluaXRPcHRpb25zKHtcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBzdG9yZUNvbmZpZy5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZzoge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0U2hpcHBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHN0b3JlQ29uZmlnLmN1cnJlbmN5LmNvZGUsXG4gICAgICAgICAgICAgICAgc3VidG90YWw6IFN0cmluZyhjaGVja291dC5zdWJ0b3RhbCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCB2aXNhQ2hlY2tvdXRTZGsuaW5pdChpbml0T3B0aW9ucyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0U2RrLm9uKFxuICAgICAgICAgICAgJ3BheW1lbnQuc3VjY2VzcycsXG4gICAgICAgICAgICAocGF5bWVudFN1Y2Nlc3NQYXlsb2FkOiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpID0+XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZVBheW1lbnQoYnJhaW50cmVlVmlzYUNoZWNrb3V0LCBwYXltZW50U3VjY2Vzc1BheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBvblBheW1lbnRTZWxlY3QoKSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gb25FcnJvcihlcnJvcikpLFxuICAgICAgICApO1xuICAgICAgICB2aXNhQ2hlY2tvdXRTZGsub24oJ3BheW1lbnQuZXJyb3InLCAoXywgZXJyb3IpID0+IG9uRXJyb3IoZXJyb3IpKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gcGF5bG9hZDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGF5bWVudE1ldGhvZD8uaW5pdGlhbGl6YXRpb25EYXRhPy5ub25jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBub25jZSB9ID0gdGhpcy5wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7IG5vbmNlIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5kZWluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRva2VuaXplUGF5bWVudChcbiAgICAgICAgYnJhaW50cmVlVmlzYUNoZWNrb3V0OiBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG4gICAgICAgIHBheW1lbnQ6IFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dC50b2tlbml6ZShwYXltZW50KSxcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCksXG4gICAgICAgIF0pLnRoZW4oKFtwYXlsb2FkLCBkZXZpY2VEYXRhXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmcgPSBzdGF0ZS5nZXRTaGlwcGluZ0FkZHJlc3MoKTtcbiAgICAgICAgICAgIGNvbnN0IGJpbGxpbmcgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzcygpO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3Moc2hpcHBpbmcpLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzID0gdGhpcy5tYXBUb1Zpc2FDaGVja291dEFkZHJlc3MoYmlsbGluZyksXG4gICAgICAgICAgICB9ID0gcGF5bG9hZDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdEZvcm0oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGV2aWNlRGF0YSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwVG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogVmlzYUNoZWNrb3V0QWRkcmVzcyB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBhZGRyZXNzLnBob25lLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGV4dGVuZGVkQWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICByZWdpb246IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcG9zdEZvcm0oXG4gICAgICAgIHBheW1lbnREYXRhOiBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxuICAgICAgICBkYXRhQ29sbGVjdG9yOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IHVzZXJEYXRhLCBiaWxsaW5nQWRkcmVzcywgc2hpcHBpbmdBZGRyZXNzLCBkZXRhaWxzOiBjYXJkSW5mb3JtYXRpb24gfSA9IHBheW1lbnREYXRhO1xuICAgICAgICBjb25zdCB7IHVzZXJFbWFpbCB9ID0gdXNlckRhdGE7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gZGF0YUNvbGxlY3RvcjtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtUG9zdGVyLnBvc3RGb3JtKCcvY2hlY2tvdXQucGhwJywge1xuICAgICAgICAgICAgcGF5bWVudF90eXBlOiBwYXltZW50RGF0YS50eXBlLFxuICAgICAgICAgICAgbm9uY2U6IHBheW1lbnREYXRhLm5vbmNlLFxuICAgICAgICAgICAgcHJvdmlkZXI6ICdicmFpbnRyZWV2aXNhY2hlY2tvdXQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgY2FyZF9pbmZvcm1hdGlvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IGNhcmRJbmZvcm1hdGlvbi5jYXJkVHlwZSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IGNhcmRJbmZvcm1hdGlvbi5sYXN0VHdvLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0QWRkcmVzcyh1c2VyRW1haWwsIGJpbGxpbmdBZGRyZXNzKSksXG4gICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBzaGlwcGluZ0FkZHJlc3MpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBZGRyZXNzKGVtYWlsOiBzdHJpbmcsIGFkZHJlc3M6IFZpc2FDaGVja291dEFkZHJlc3MgPSB7fSk6IFBhcnRpYWw8TGVnYWN5QWRkcmVzcz4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBmaXJzdF9uYW1lOiBhZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lX251bWJlcjogYWRkcmVzcy5waG9uZU51bWJlcixcbiAgICAgICAgICAgIGFkZHJlc3NfbGluZV8xOiBhZGRyZXNzLnN0cmVldEFkZHJlc3MsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcy5leHRlbmRlZEFkZHJlc3MsXG4gICAgICAgICAgICBjaXR5OiBhZGRyZXNzLmxvY2FsaXR5LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3MucmVnaW9uLFxuICAgICAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duKTogbmV2ZXIge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQnJhaW50cmVlRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIFZpc2FDaGVja291dEhvc3RXaW5kb3csXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGhvc3RXaW5kb3c6IFZpc2FDaGVja291dEhvc3RXaW5kb3cgJiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCksIGhvc3RXaW5kb3csIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKSxcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlU2RrLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2JyYWludHJlZXZpc2FjaGVja291dCcgfSxcbl0pO1xuIiwiaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgIEJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBQYXlwYWxJbnN0cnVtZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IGlzRXhwZXJpbWVudEVuYWJsZWQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3V0aWxpdHknO1xuaW1wb3J0IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5SW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoQnJhaW50cmVlVmVubW9Jbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9icmFpbnRyZWUtdmVubW8tcGF5bWVudC1zdHJhdGVneS1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBicmFpbnRyZWVWZW5tb0NoZWNrb3V0PzogQnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICBwcml2YXRlIHZlbm1vT3B0aW9ucz86IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5SW5pdGlhbGl6ZU9wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZTogQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVWZW5tb0luaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy52ZW5tb09wdGlvbnMgPSBvcHRpb25zLmJyYWludHJlZXZlbm1vO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplQnJhaW50cmVlVmVubW8ocGF5bWVudE1ldGhvZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBhd2FpdCB0aGlzLnByZXBhcmVQYXltZW50RGF0YShwYXltZW50KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlcik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50RGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRlYXJkb3duKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGlmICghaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQQVlQQUxfUE9QVVBfQ0xPU0VEJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQnJhaW50cmVlVmVubW8ocGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgaXNCcmFpbnRyZWVWZW5tb1dlYkZhbGxiYWNrU3VwcG9ydCA9IGlzRXhwZXJpbWVudEVuYWJsZWQoXG4gICAgICAgICAgICBmZWF0dXJlcyxcbiAgICAgICAgICAgICdQQVlQQUwtNTQwNi5icmFpbnRyZWVfdmVubW9fd2ViX2ZhbGxiYWNrX3N1cHBvcnQnLFxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplKGNsaWVudFRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlVmVubW9DaGVja291dCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFZlbm1vQ2hlY2tvdXQoe1xuICAgICAgICAgICAgICAgIC4uLih0aGlzLnZlbm1vT3B0aW9ucz8uYWxsb3dEZXNrdG9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB7IGFsbG93RGVza3RvcDogdGhpcy52ZW5tb09wdGlvbnMuYWxsb3dEZXNrdG9wIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGlzQnJhaW50cmVlVmVubW9XZWJGYWxsYmFja1N1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZVdlYkZhbGxCYWNrOiBpc0JyYWludHJlZVZlbm1vV2ViRmFsbGJhY2tTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlUGF5bWVudERhdGEocGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHkpOiBQcm9taXNlPFBheW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBub25jZSB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cocGF5bWVudC5tZXRob2RJZCk7XG5cbiAgICAgICAgaWYgKG5vbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5wYXltZW50LCBwYXltZW50RGF0YTogdGhpcy5mb3JtYXR0ZWRQYXlsb2FkKG5vbmNlKSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuaXplUmVzdWx0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVWZW5tb1Rva2VuaXplKCk7XG4gICAgICAgIGNvbnN0IHNlc3Npb25JZCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFNlc3Npb25JZCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHRoaXMuZm9ybWF0dGVkUGF5bG9hZChcbiAgICAgICAgICAgICAgICB0b2tlbml6ZVJlc3VsdC5ub25jZSxcbiAgICAgICAgICAgICAgICB0b2tlbml6ZVJlc3VsdC5kZXRhaWxzLmVtYWlsLFxuICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXR0ZWRQYXlsb2FkKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBlbWFpbD86IHN0cmluZyxcbiAgICAgICAgc2Vzc2lvbklkPzogc3RyaW5nLFxuICAgICk6IEZvcm1hdHRlZFBheWxvYWQ8UGF5cGFsSW5zdHJ1bWVudD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogbnVsbCxcbiAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogbnVsbCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfaW5mbzogc2Vzc2lvbklkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgcGF5cGFsX2FjY291bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYnJhaW50cmVlVmVubW9Ub2tlbml6ZSgpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVWZW5tb0NoZWNrb3V0Py50b2tlbml6ZShcbiAgICAgICAgICAgICAgICAoZXJyb3I6IEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkLCBwYXlsb2FkOiBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1wYXltZW50LXN0cmF0ZWd5JztcbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBzY3JpcHRMb2FkZXIgPSBnZXRTY3JpcHRMb2FkZXIoKTtcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTY3JpcHRMb2FkZXIgPSBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICBzY3JpcHRMb2FkZXIsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgYnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVZlbm1vUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVWZW5tb1BheW1lbnRTdHJhdGVneSwgW3sgaWQ6ICdicmFpbnRyZWV2ZW5tbycgfV0pO1xuIiwiaW1wb3J0IHsgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgaXNCcmFpbnRyZWVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIsXG4gICAgaXNCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm9uY2VJbnN0cnVtZW50LFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRNZXRhLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZUhvc3RlZEZvcm0gZnJvbSAnLi4vYnJhaW50cmVlLWhvc3RlZC1mb3JtL2JyYWludHJlZS1ob3N0ZWQtZm9ybSc7XG5pbXBvcnQgaXNCcmFpbnRyZWVFcnJvciBmcm9tICcuLi9pcy1icmFpbnRyZWUtZXJyb3InO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgV2l0aEJyYWludHJlZUNyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vYnJhaW50cmVlLWNyZWRpdC1jYXJkLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBpczNkc0VuYWJsZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgZGV2aWNlU2Vzc2lvbklkPzogc3RyaW5nO1xuICAgIHByaXZhdGUgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7XG4gICAgcHJpdmF0ZSB0aHJlZURTZWN1cmU/OiBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zO1xuICAgIHByaXZhdGUgb25QYXltZW50RXJyb3I/OiBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zWydvblBheW1lbnRFcnJvciddO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0ZWRGb3JtOiBCcmFpbnRyZWVIb3N0ZWRGb3JtLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBnYXRld2F5SWQsIGJyYWludHJlZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4gfSA9IHRoaXMucGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRocmVlRFNlY3VyZSA9IGJyYWludHJlZT8udGhyZWVEU2VjdXJlO1xuICAgICAgICB0aGlzLm9uUGF5bWVudEVycm9yID0gYnJhaW50cmVlPy5vblBheW1lbnRFcnJvcjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbiwgdGhpcy50aHJlZURTZWN1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZCwgZ2F0ZXdheUlkKSAmJiBicmFpbnRyZWU/LmZvcm0pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0uaW5pdGlhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlLmZvcm0sXG4gICAgICAgICAgICAgICAgICAgIGJyYWludHJlZS51bnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzSG9zdGVkRm9ybUluaXRpYWxpemVkID0gdGhpcy5icmFpbnRyZWVIb3N0ZWRGb3JtLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pczNkc0VuYWJsZWQgPSB0aGlzLnBheW1lbnRNZXRob2QuY29uZmlnLmlzM2RzRW5hYmxlZDtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbklkKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lKCkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVCcmFpbnRyZWVGYXN0bGFuZU9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIG1ldGhvZElkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS52YWxpZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBvcmRlckFtb3VudCA9IHN0YXRlLmdldE9yZGVyT3JUaHJvdygpLm9yZGVyQW1vdW50O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHRoaXMuaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMucHJlcGFyZUhvc3RlZFBheW1lbnREYXRhKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzLCBvcmRlckFtb3VudClcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMucHJlcGFyZVBheW1lbnREYXRhKHBheW1lbnQsIGJpbGxpbmdBZGRyZXNzLCBvcmRlckFtb3VudCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlcnJvciwgcGF5bWVudCwgb3JkZXJBbW91bnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5pc0hvc3RlZEZvcm1Jbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRlYXJkb3duKCksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0uZGVpbml0aWFsaXplKCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duLCBtZXRob2RJZD86IHN0cmluZyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKGlzQnJhaW50cmVlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBjb25zdCBpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCA9ICEhKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuaXNQYXltZW50TWV0aG9kSW5pdGlhbGl6ZWQoeyBtZXRob2RJZCB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCAmJlxuICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICdIT1NURURfRklFTERTX0lOVkFMSURfRklFTERfU0VMRUNUT1InXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlLnN0YXJ0c1dpdGgoJ1RIUkVFRFNfJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGF5bWVudEVycm9yPy4obmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcignVEhSRUVEU19WRVJJRklDQVRJT05fRkFJTEVEJykpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByZXBhcmVQYXltZW50RGF0YShcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzOiBBZGRyZXNzLFxuICAgICAgICBvcmRlckFtb3VudDogbnVtYmVyLFxuICAgICk6IFByb21pc2U8UGF5bWVudEluc3RydW1lbnQgJiBQYXltZW50SW5zdHJ1bWVudE1ldGE+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSB9ID0gcGF5bWVudDtcbiAgICAgICAgY29uc3QgY29tbW9uUGF5bWVudERhdGEgPSB7IGRldmljZVNlc3Npb25JZDogdGhpcy5kZXZpY2VTZXNzaW9uSWQgfTtcblxuICAgICAgICBpZiAodGhpcy5pc1N1Ym1pdHRpbmdXaXRoU3RvcmVkQ2FyZChwYXltZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSB0aGlzLnNob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24ocGF5bWVudClcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2FyZChcbiAgICAgICAgICAgICAgICAgIHBheW1lbnQsXG4gICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgIG9yZGVyQW1vdW50LFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnRva2VuaXplQ2FyZChwYXltZW50LCBiaWxsaW5nQWRkcmVzcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNvbW1vblBheW1lbnREYXRhLFxuICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcmVwYXJlSG9zdGVkUGF5bWVudERhdGEoXG4gICAgICAgIHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgICAgICBiaWxsaW5nQWRkcmVzczogQWRkcmVzcyxcbiAgICAgICAgb3JkZXJBbW91bnQ6IG51bWJlcixcbiAgICApOiBQcm9taXNlPFBheW1lbnRJbnN0cnVtZW50ICYgUGF5bWVudEluc3RydW1lbnRNZXRhPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudERhdGEgfSA9IHBheW1lbnQ7XG4gICAgICAgIGNvbnN0IGNvbW1vblBheW1lbnREYXRhID0geyBkZXZpY2VTZXNzaW9uSWQ6IHRoaXMuZGV2aWNlU2Vzc2lvbklkIH07XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQocGF5bWVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9uY2UgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS50b2tlbml6ZUZvclN0b3JlZENhcmRWZXJpZmljYXRpb24oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSB0aGlzLnNob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24ocGF5bWVudClcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy52ZXJpZnlDYXJkV2l0aEhvc3RlZEZvcm0oYmlsbGluZ0FkZHJlc3MsIG9yZGVyQW1vdW50KVxuICAgICAgICAgICAgOiBhd2FpdCB0aGlzLmJyYWludHJlZUhvc3RlZEZvcm0udG9rZW5pemUoYmlsbGluZ0FkZHJlc3MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZUFkZGl0aW9uYWxBY3Rpb25QYXltZW50RGF0YShcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIG5vbmNlOiBzdHJpbmcsXG4gICAgKTogUGF5bWVudEluc3RydW1lbnQgJiBQYXltZW50SW5zdHJ1bWVudE1ldGEge1xuICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhIH0gPSBwYXltZW50O1xuICAgICAgICBjb25zdCBjb21tb25QYXltZW50RGF0YSA9IHsgZGV2aWNlU2Vzc2lvbklkOiB0aGlzLmRldmljZVNlc3Npb25JZCwgbm9uY2UgfTtcblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHBheW1lbnQpICYmXG4gICAgICAgICAgICAoc2hvdWxkU2F2ZUluc3RydW1lbnQgfHwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgIC4uLmNvbW1vblBheW1lbnREYXRhLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybShcbiAgICAgICAgYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MsXG4gICAgICAgIG9yZGVyQW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTxOb25jZUluc3RydW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdG9rZW5pemF0aW9uUGF5bG9hZCA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSG9zdGVkRm9ybS50b2tlbml6ZShiaWxsaW5nQWRkcmVzcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmNoYWxsZW5nZTNEU1ZlcmlmaWNhdGlvbihcbiAgICAgICAgICAgIHRva2VuaXphdGlvblBheWxvYWQsXG4gICAgICAgICAgICBvcmRlckFtb3VudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIG9yZGVyQW1vdW50OiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICFzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7IGNvZGU6ICd0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZCcgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBwYXllcl9hdXRoX3JlcXVlc3Q6IHN0b3JlZENyZWRpdENhcmROb25jZSB9ID1cbiAgICAgICAgICAgICAgICAoaXNCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yKGVycm9yKSAmJiBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdCkgfHwge307XG4gICAgICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhIH0gPSBwYXltZW50O1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgaWYgKCFwYXltZW50RGF0YSB8fCAhaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsnaW5zdHJ1bWVudElkJ10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnN0cnVtZW50ID0gc3RhdGUuZ2V0Q2FyZEluc3RydW1lbnRPclRocm93KHBheW1lbnREYXRhLmluc3RydW1lbnRJZCk7XG4gICAgICAgICAgICBjb25zdCB7IG5vbmNlIH0gPSBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5jaGFsbGVuZ2UzRFNWZXJpZmljYXRpb24oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub25jZTogc3RvcmVkQ3JlZGl0Q2FyZE5vbmNlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBiaW46IGluc3RydW1lbnQuaWluLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJBbW91bnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQYXltZW50RGF0YSA9IHRoaXMucHJlcGFyZUFkZGl0aW9uYWxBY3Rpb25QYXltZW50RGF0YShwYXltZW50LCBub25jZSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiBuZXdQYXltZW50RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZD86IHN0cmluZywgZ2F0ZXdheUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5jb25maWcuaXNIb3N0ZWRGb3JtRW5hYmxlZCA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIShwYXltZW50LnBheW1lbnREYXRhICYmIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvdWxkUGVyZm9ybTNEU1ZlcmlmaWNhdGlvbihwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISEodGhpcy5pczNkc0VuYWJsZWQgJiYgIXRoaXMuaXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQocGF5bWVudCkpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgIHByaXZhdGUgc2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBicmFpbnRyZWVDdXN0b21lciA9IGlzQnJhaW50cmVlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKHBheW1lbnRQcm92aWRlckN1c3RvbWVyKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3QgaXNGYXN0bGFuZUVuYWJsZWQ6IGJvb2xlYW4gPVxuICAgICAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kPy5pbml0aWFsaXphdGlvbkRhdGEuaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZDtcblxuICAgICAgICByZXR1cm4gaXNGYXN0bGFuZUVuYWJsZWQgJiYgIWJyYWludHJlZUN1c3RvbWVyPy5hdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlbW92ZSB3aGVuIEJUIEFYTyBBL0IgdGVzdGluZyBpcyBmaW5pc2hlZFxuICAgIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lT3JUaHJvdyhtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbiwgdGhpcy50aHJlZURTZWN1cmUpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldEJyYWludHJlZUZhc3RsYW5lKGNhcnQuaWQsIGNvbmZpZy50ZXN0TW9kZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5bWVudDNEU1JlcXVlc3RFcnJvcnMge1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXltZW50UmVxdWVzdDNEU0Vycm9yIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYm9keToge1xuICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgICAgdGhyZWVfZHNfcmVzdWx0OiB7XG4gICAgICAgICAgICBwYXllcl9hdXRoX3JlcXVlc3Q6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgZXJyb3JzOiBCcmFpbnRyZWVQYXltZW50M0RTUmVxdWVzdEVycm9yc1tdO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcihcbiAgICBlcnJvcjogdW5rbm93bixcbik6IGVycm9yIGlzIEJyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3Ige1xuICAgIGlmICh0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnIHx8IGVycm9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zICovXG4gICAgcmV0dXJuIChcbiAgICAgICAgJ25hbWUnIGluIGVycm9yICYmXG4gICAgICAgICdib2R5JyBpbiBlcnJvciAmJlxuICAgICAgICAnc3RhdHVzJyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keSAmJlxuICAgICAgICAndGhyZWVfZHNfcmVzdWx0JyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keSAmJlxuICAgICAgICAncGF5ZXJfYXV0aF9yZXF1ZXN0JyBpbiAoZXJyb3IgYXMgQnJhaW50cmVlUGF5bWVudFJlcXVlc3QzRFNFcnJvcikuYm9keS50aHJlZV9kc19yZXN1bHQgJiZcbiAgICAgICAgJ2Vycm9ycycgaW4gKGVycm9yIGFzIEJyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3IpLmJvZHlcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgQnJhaW50cmVlRm9ybUZpZWxkc01hcCwgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB9IGZyb20gJy4uL2luZGV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhaW50cmVlRm9ybUZpZWxkc01hcChcbiAgICBmaWVsZHM6IEJyYWludHJlZUZvcm1GaWVsZHNNYXAgfCBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwLFxuKTogZmllbGRzIGlzIEJyYWludHJlZUZvcm1GaWVsZHNNYXAge1xuICAgIHJldHVybiAnY2FyZE51bWJlcicgaW4gZmllbGRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKFxuICAgIGZpZWxkczogQnJhaW50cmVlRm9ybUZpZWxkc01hcCB8IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXAsXG4pOiBmaWVsZHMgaXMgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHMpLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAoKGZpZWxkcyBhcyBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKS5jYXJkQ29kZVZlcmlmaWNhdGlvbiB8fFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgKGZpZWxkcyBhcyBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwKS5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uKVxuICAgICk7XG59XG4iLCJpbXBvcnQgaXNCcmFpbnRyZWVFcnJvciBmcm9tICcuL2lzLWJyYWludHJlZS1lcnJvcic7XG5pbXBvcnQgeyBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IgfSBmcm9tICcuLi90eXBlcyc7XG5cbmZ1bmN0aW9uIGlzVmFsaWRJbnZhbGlkRmllbGRLZXlzKGludmFsaWRGaWVsZEtleXM6IHVua25vd24pOiBpbnZhbGlkRmllbGRLZXlzIGlzIHN0cmluZ1tdIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBBcnJheS5pc0FycmF5KGludmFsaWRGaWVsZEtleXMpICYmIGludmFsaWRGaWVsZEtleXMuZXZlcnkoKGtleSkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpXG4gICAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IoXG4gICAgZXJyb3I6IHVua25vd24sXG4pOiBlcnJvciBpcyBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3Ige1xuICAgIGlmICghaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGV0YWlscyB9ID0gZXJyb3I7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBkZXRhaWxzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKHR5cGVvZiBkZXRhaWxzID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGV0YWlscyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICAgICAgKGRldGFpbHMgYXMgeyBpbnZhbGlkRmllbGRLZXlzPzogdW5rbm93biB9KS5pbnZhbGlkRmllbGRLZXlzID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgIGlzVmFsaWRJbnZhbGlkRmllbGRLZXlzKGRldGFpbHMpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IERpY3Rpb25hcnksIGlzRW1wdHksIGlzTmlsLCBvbWl0QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhLFxuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cyxcbiAgICBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRzTWFwLFxuICAgIEJyYWludHJlZUZvcm1GaWVsZFN0eWxlcyxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXAsXG4gICAgQnJhaW50cmVlRm9ybUZpZWxkVHlwZSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSxcbiAgICBCcmFpbnRyZWVGb3JtT3B0aW9ucyxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IsXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXAsXG4gICAgaXNCcmFpbnRyZWVGb3JtRmllbGRzTWFwLFxuICAgIGlzQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yLFxuICAgIGlzQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kLFxuICAgIFRva2VuaXphdGlvblBheWxvYWQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmVudW0gQnJhaW50cmVlSG9zdGVkRm9ybVR5cGUge1xuICAgIENyZWRpdENhcmQsXG4gICAgU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlSG9zdGVkRm9ybSB7XG4gICAgcHJpdmF0ZSBjYXJkRmllbGRzPzogQnJhaW50cmVlSG9zdGVkRmllbGRzO1xuICAgIHByaXZhdGUgZm9ybU9wdGlvbnM/OiBCcmFpbnRyZWVGb3JtT3B0aW9ucztcbiAgICBwcml2YXRlIHR5cGU/OiBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZTtcbiAgICBwcml2YXRlIGNsaWVudD86IFByb21pc2U8QnJhaW50cmVlQ2xpZW50PjtcbiAgICBwcml2YXRlIGNsaWVudFRva2VuPzogc3RyaW5nO1xuICAgIHByaXZhdGUgaXNJbml0aWFsaXplZEhvc3RlZEZvcm0gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNjcmlwdExvYWRlcjogQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyOiBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGb3JtT3B0aW9ucyxcbiAgICAgICAgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzPzogc3RyaW5nW10sXG4gICAgICAgIGNsaWVudFRva2VuPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgIHRoaXMuZm9ybU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnR5cGUgPSBpc0JyYWludHJlZUZvcm1GaWVsZHNNYXAob3B0aW9ucy5maWVsZHMpXG4gICAgICAgICAgICA/IEJyYWludHJlZUhvc3RlZEZvcm1UeXBlLkNyZWRpdENhcmRcbiAgICAgICAgICAgIDogQnJhaW50cmVlSG9zdGVkRm9ybVR5cGUuU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbjtcblxuICAgICAgICBjb25zdCBmaWVsZHMgPSB0aGlzLm1hcEZpZWxkT3B0aW9ucyhvcHRpb25zLmZpZWxkcywgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzKTtcblxuICAgICAgICBpZiAoaXNFbXB0eShmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWRIb3N0ZWRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FyZEZpZWxkcyA9IGF3YWl0IHRoaXMuY3JlYXRlSG9zdGVkRmllbGRzKHtcbiAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgIHN0eWxlczogb3B0aW9ucy5zdHlsZXMgJiYgdGhpcy5tYXBTdHlsZU9wdGlvbnMob3B0aW9ucy5zdHlsZXMpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNhcmRGaWVsZHM/Lm9uKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignY2FyZFR5cGVDaGFuZ2UnLCB0aGlzLmhhbmRsZUNhcmRUeXBlQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbigndmFsaWRpdHlDaGFuZ2UnLCB0aGlzLmhhbmRsZVZhbGlkaXR5Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5jYXJkRmllbGRzPy5vbignaW5wdXRTdWJtaXRSZXF1ZXN0JywgdGhpcy5oYW5kbGVJbnB1dFN1Ym1pdFJlcXVlc3QpO1xuXG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZEhvc3RlZEZvcm0gPSB0cnVlO1xuICAgIH1cblxuICAgIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuaXNJbml0aWFsaXplZEhvc3RlZEZvcm07XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkSG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkSG9zdGVkRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYXJkRmllbGRzPy50ZWFyZG93bigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jYXJkRmllbGRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhcmRGaWVsZHMuZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZEZvcm0oc3RhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVZhbGlkaXR5Q2hhbmdlKHN0YXRlKTtcblxuICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy5tYXBWYWxpZGF0aW9uRXJyb3JzKHN0YXRlLmZpZWxkcyk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50SW52YWxpZEZvcm1FcnJvcihlcnJvcnMgYXMgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHRva2VuaXplKGJpbGxpbmdBZGRyZXNzOiBBZGRyZXNzKTogUHJvbWlzZTxUb2tlbml6YXRpb25QYXlsb2FkPiB7XG4gICAgICAgIGlmICghdGhpcy5jYXJkRmllbGRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCB0aGlzLmNhcmRGaWVsZHMudG9rZW5pemUoXG4gICAgICAgICAgICAgICAgb21pdEJ5KFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogYmlsbGluZ0FkZHJlc3MgJiYgdGhpcy5tYXBCaWxsaW5nQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vblZhbGlkYXRlPy4oeyBpc1ZhbGlkOiB0cnVlLCBlcnJvcnM6IHt9IH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5vbmNlOiBwYXlsb2FkLm5vbmNlLFxuICAgICAgICAgICAgICAgIGJpbjogcGF5bG9hZC5kZXRhaWxzPy5iaW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMubWFwVG9rZW5pemVFcnJvcihlcnJvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU9wdGlvbnM/Lm9uVmFsaWRhdGU/Lih7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50SW52YWxpZEZvcm1FcnJvcihlcnJvcnMgYXMgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdG9rZW5pemVGb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uKCk6IFByb21pc2U8VG9rZW5pemF0aW9uUGF5bG9hZD4ge1xuICAgICAgICBpZiAoIXRoaXMuY2FyZEZpZWxkcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgdGhpcy5jYXJkRmllbGRzLnRva2VuaXplKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybU9wdGlvbnM/Lm9uVmFsaWRhdGU/Lih7IGlzVmFsaWQ6IHRydWUsIGVycm9yczoge30gfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbm9uY2U6IHBheWxvYWQubm9uY2UsXG4gICAgICAgICAgICAgICAgYmluOiBwYXlsb2FkLmRldGFpbHM/LmJpbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy5tYXBUb2tlbml6ZUVycm9yKGVycm9yLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25WYWxpZGF0ZT8uKHsgaXNWYWxpZDogZmFsc2UsIGVycm9ycyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yKGVycm9ycyBhcyBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVIb3N0ZWRGaWVsZHMoXG4gICAgICAgIG9wdGlvbnM6IFBpY2s8QnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZywgJ2ZpZWxkcycgfCAnc3R5bGVzJz4sXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHM+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgY29uc3QgaG9zdGVkRmllbGRzID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZEhvc3RlZEZpZWxkcygpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZGtWZXJzaW9uID0gdGhpcy5icmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlci5nZXRTREtWZXJzaW9uKCk7XG4gICAgICAgIGNvbnN0IGhvc3RlZEZpZWxkc09wdGlvbnMgPVxuICAgICAgICAgICAgY3VycmVudFNka1ZlcnNpb24gPT09IEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTlxuICAgICAgICAgICAgICAgID8geyAuLi5vcHRpb25zLCBwcmV2ZW50Q3Vyc29ySnVtcHM6IHRydWUgfVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucztcblxuICAgICAgICByZXR1cm4gaG9zdGVkRmllbGRzLmNyZWF0ZSh7IC4uLmhvc3RlZEZpZWxkc09wdGlvbnMsIGNsaWVudCB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDbGllbnQoKTogUHJvbWlzZTxCcmFpbnRyZWVDbGllbnQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudC5jcmVhdGUoeyBhdXRob3JpemF0aW9uOiB0aGlzLmNsaWVudFRva2VuIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwQmlsbGluZ0FkZHJlc3MoYmlsbGluZ0FkZHJlc3M6IEFkZHJlc3MpOiBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50cnlOYW1lOiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5LFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYmlsbGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IGJpbGxpbmdBZGRyZXNzLmFkZHJlc3MyXG4gICAgICAgICAgICAgICAgPyBgJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMX0gJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMn1gXG4gICAgICAgICAgICAgICAgOiBiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcEZpZWxkT3B0aW9ucyhcbiAgICAgICAgZmllbGRzOiBCcmFpbnRyZWVGb3JtRmllbGRzTWFwIHwgQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkc01hcCxcbiAgICAgICAgdW5zdXBwb3J0ZWRDYXJkQnJhbmRzPzogc3RyaW5nW10sXG4gICAgKTogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1snZmllbGRzJ10ge1xuICAgICAgICBpZiAoaXNCcmFpbnRyZWVGb3JtRmllbGRzTWFwKGZpZWxkcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZENhcmRCcmFuZHM6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+ID0ge307XG5cbiAgICAgICAgICAgIHVuc3VwcG9ydGVkQ2FyZEJyYW5kcz8uZm9yRWFjaCgoY2FyZEJyYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kKGNhcmRCcmFuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkQ2FyZEJyYW5kc1tjYXJkQnJhbmRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvbWl0QnkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkTnVtYmVyLmNvbnRhaW5lcklkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmllbGRzLmNhcmROdW1iZXIucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZE51bWJlci5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oT2JqZWN0LmtleXMoc3VwcG9ydGVkQ2FyZEJyYW5kcykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBzdXBwb3J0ZWRDYXJkQnJhbmRzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkRXhwaXJ5LmNvbnRhaW5lcklkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmllbGRzLmNhcmRFeHBpcnkucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZEV4cGlyeS5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGN2djogZmllbGRzLmNhcmRDb2RlICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYCMke2ZpZWxkcy5jYXJkQ29kZS5jb250YWluZXJJZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkQ29kZS5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsTGFiZWw6IGZpZWxkcy5jYXJkQ29kZS5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGAjJHtmaWVsZHMuY2FyZE5hbWUuY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZHMuY2FyZE5hbWUucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExhYmVsOiBmaWVsZHMuY2FyZE5hbWUuYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNOaWwsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9taXRCeShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBudW1iZXI6IGZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uICYmIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBgIyR7ZmllbGRzLmNhcmROdW1iZXJWZXJpZmljYXRpb24uY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3Z2OiBmaWVsZHMuY2FyZENvZGVWZXJpZmljYXRpb24gJiYge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGAjJHtmaWVsZHMuY2FyZENvZGVWZXJpZmljYXRpb24uY29udGFpbmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkcy5jYXJkQ29kZVZlcmlmaWNhdGlvbi5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwU3R5bGVPcHRpb25zKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXNNYXAsXG4gICAgKTogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1snc3R5bGVzJ10ge1xuICAgICAgICBjb25zdCBtYXBTdHlsZXMgPSAoc3R5bGVzOiBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXMgPSB7fSkgPT5cbiAgICAgICAgICAgIG9taXRCeShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICdmb250LWZhbWlseSc6IHN0eWxlcy5mb250RmFtaWx5LFxuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogc3R5bGVzLmZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAnZm9udC13ZWlnaHQnOiBzdHlsZXMuZm9udFdlaWdodCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzTmlsLFxuICAgICAgICAgICAgKSBhcyBEaWN0aW9uYXJ5PHN0cmluZz47XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0OiBtYXBTdHlsZXMob3B0aW9ucy5kZWZhdWx0KSxcbiAgICAgICAgICAgICcuaW52YWxpZCc6IG1hcFN0eWxlcyhvcHRpb25zLmVycm9yKSxcbiAgICAgICAgICAgICc6Zm9jdXMnOiBtYXBTdHlsZXMob3B0aW9ucy5mb2N1cyksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBGaWVsZFR5cGUodHlwZTogc3RyaW5nKTogQnJhaW50cmVlRm9ybUZpZWxkVHlwZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZS5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIDogQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyO1xuXG4gICAgICAgICAgICBjYXNlICdleHBpcmF0aW9uRGF0ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeTtcblxuICAgICAgICAgICAgY2FzZSAnY3Z2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBCcmFpbnRyZWVIb3N0ZWRGb3JtVHlwZS5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICA6IEJyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGU7XG5cbiAgICAgICAgICAgIGNhc2UgJ2NhcmRob2xkZXJOYW1lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZmllbGQgdHlwZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBFcnJvcnMoZmllbGRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZVsnZmllbGRzJ10pOiBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YSB7XG4gICAgICAgIGNvbnN0IGVycm9yczogQnJhaW50cmVlRm9ybUVycm9yc0RhdGEgPSB7fTtcblxuICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdGhpcy5pc1ZhbGlkUGFyYW0oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlzVmFsaWQsIGlzRW1wdHksIGlzUG90ZW50aWFsbHlWYWxpZCB9ID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUG90ZW50aWFsbHlWYWxpZCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwVmFsaWRhdGlvbkVycm9ycyhcbiAgICAgICAgZmllbGRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZVsnZmllbGRzJ10sXG4gICAgKTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFdmVudERhdGFbJ2Vycm9ycyddIHtcbiAgICAgICAgcmV0dXJuIChPYmplY3Qua2V5cyhmaWVsZHMpIGFzIEFycmF5PGtleW9mIEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlWydmaWVsZHMnXT4pLnJlZHVjZShcbiAgICAgICAgICAgIChyZXN1bHQsIGZpZWxkS2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBbdGhpcy5tYXBGaWVsZFR5cGUoZmllbGRLZXkpXTogZmllbGRzW2ZpZWxkS2V5XT8uaXNWYWxpZFxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IFt0aGlzLmNyZWF0ZUludmFsaWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZShmaWVsZEtleSkpXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAge30sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBUb2tlbml6ZUVycm9yKFxuICAgICAgICBlcnJvcjogQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yLFxuICAgICAgICBpc1N0b3JlZENhcmQgPSBmYWxzZSxcbiAgICApOiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YVsnZXJyb3JzJ10gfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0hPU1RFRF9GSUVMRFNfRklFTERTX0VNUFRZJykge1xuICAgICAgICAgICAgY29uc3QgY3Z2ID0gW3RoaXMuY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZSgnY3Z2JykpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3RvcmVkQ2FyZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFt0aGlzLm1hcEZpZWxkVHlwZSgnY3Z2JyldOiBjdnYgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5tYXBGaWVsZFR5cGUoJ2N2dicpXTogY3Z2LFxuICAgICAgICAgICAgICAgIFt0aGlzLm1hcEZpZWxkVHlwZSgnZXhwaXJhdGlvbkRhdGUnKV06IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1aXJlZEVycm9yKHRoaXMubWFwRmllbGRUeXBlKCdleHBpcmF0aW9uRGF0ZScpKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFt0aGlzLm1hcEZpZWxkVHlwZSgnbnVtYmVyJyldOiBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLm1hcEZpZWxkVHlwZSgnbnVtYmVyJykpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW3RoaXMubWFwRmllbGRUeXBlKCdjYXJkaG9sZGVyTmFtZScpXTogW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVpcmVkRXJyb3IodGhpcy5tYXBGaWVsZFR5cGUoJ2NhcmRob2xkZXJOYW1lJykpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVycm9yLmRldGFpbHM/LmludmFsaWRGaWVsZEtleXM/LnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLm1hcEZpZWxkVHlwZShrZXkpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBbdHlwZV06IFt0aGlzLmNyZWF0ZUludmFsaWRFcnJvcih0eXBlKV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXF1aXJlZEVycm9yKFxuICAgICAgICBmaWVsZFR5cGU6IEJyYWludHJlZUZvcm1GaWVsZFR5cGUsXG4gICAgKTogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGEge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHtcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXTogJ0NWViBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl06ICdDVlYgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06ICdDcmVkaXQgY2FyZCBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlclZlcmlmaWNhdGlvbl06ICdDcmVkaXQgY2FyZCBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeV06ICdFeHBpcmF0aW9uIGRhdGUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdOiAnRnVsbCBuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRUeXBlLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZXNbZmllbGRUeXBlXSA/PyAnRmllbGQgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUludmFsaWRFcnJvcihcbiAgICAgICAgZmllbGRUeXBlOiBCcmFpbnRyZWVGb3JtRmllbGRUeXBlLFxuICAgICk6IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhIHtcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlXToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGNhcmQgY29kZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9jb2RlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl06IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBjYXJkIGNvZGUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfY29kZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE51bWJlcl06IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBjYXJkIG51bWJlcicsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9udW1iZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY2FyZCBudW1iZXInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfbnVtYmVyJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkRXhwaXJ5XToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGNhcmQgZXhwaXJ5JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX2V4cGlyeScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZE5hbWVdOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY2FyZCBuYW1lJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX25hbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRUeXBlLFxuICAgICAgICAgICAgbWVzc2FnZTogZm9ybUZpZWxkc1tmaWVsZFR5cGVdPy5tZXNzYWdlID8/ICdJbnZhbGlkIGZpZWxkJyxcbiAgICAgICAgICAgIHR5cGU6IGZvcm1GaWVsZHNbZmllbGRUeXBlXT8udHlwZSA/PyAnaW52YWxpZCcsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCbHVyID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkJsdXI/Lih7XG4gICAgICAgICAgICBmaWVsZFR5cGU6IHRoaXMubWFwRmllbGRUeXBlKGV2ZW50LmVtaXR0ZWRCeSksXG4gICAgICAgICAgICBlcnJvcnM6IHRoaXMubWFwRXJyb3JzKGV2ZW50LmZpZWxkcyksXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGhhbmRsZUZvY3VzID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkZvY3VzPy4oe1xuICAgICAgICAgICAgZmllbGRUeXBlOiB0aGlzLm1hcEZpZWxkVHlwZShldmVudC5lbWl0dGVkQnkpLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVDYXJkVHlwZUNoYW5nZSA9IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPVxuICAgICAgICAgICAgZXZlbnQuY2FyZHMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyBldmVudC5jYXJkc1swXS50eXBlLnJlcGxhY2UoL15tYXN0ZXItY2FyZCQvLCAnbWFzdGVyY2FyZCcpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25DYXJkVHlwZUNoYW5nZT8uKHsgY2FyZFR5cGUgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgaGFuZGxlSW5wdXRTdWJtaXRSZXF1ZXN0ID0gKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZvcm1PcHRpb25zPy5vbkVudGVyPy4oe1xuICAgICAgICAgICAgZmllbGRUeXBlOiB0aGlzLm1hcEZpZWxkVHlwZShldmVudC5lbWl0dGVkQnkpLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVWYWxpZGl0eUNoYW5nZSA9IChldmVudDogQnJhaW50cmVlSG9zdGVkRmllbGRzU3RhdGUpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5mb3JtT3B0aW9ucz8ub25WYWxpZGF0ZT8uKHtcbiAgICAgICAgICAgIGlzVmFsaWQ6IHRoaXMuaXNWYWxpZEZvcm0oZXZlbnQpLFxuICAgICAgICAgICAgZXJyb3JzOiB0aGlzLm1hcFZhbGlkYXRpb25FcnJvcnMoZXZlbnQuZmllbGRzKSxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgaXNWYWxpZEZvcm0oZXZlbnQ6IEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudC5maWVsZHMpIGFzIEFycmF5PGtleW9mIEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlWydmaWVsZHMnXT5cbiAgICAgICAgKS5ldmVyeSgoa2V5KSA9PiBldmVudC5maWVsZHNba2V5XT8uaXNWYWxpZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1ZhbGlkUGFyYW0oa2V5OiBzdHJpbmcpOiBrZXkgaXMgQnJhaW50cmVlRm9ybUVycm9yRGF0YUtleXMge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ251bWJlcicsXG4gICAgICAgICAgICAnY3Z2JyxcbiAgICAgICAgICAgICdleHBpcmF0aW9uRGF0ZScsXG4gICAgICAgICAgICAncG9zdGFsQ29kZScsXG4gICAgICAgICAgICAnY2FyZGhvbGRlck5hbWUnLFxuICAgICAgICAgICAgJ2NhcmRUeXBlJyxcbiAgICAgICAgXS5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBpc0JyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZCA9IChcbiAgICBjYXJkQnJhbmQ6IHN0cmluZyxcbik6IGNhcmRCcmFuZCBpcyBCcmFpbnRyZWVTdXBwb3J0ZWRDYXJkQnJhbmRzID0+IHtcbiAgICBjb25zdCBzdXBwb3J0ZWRDYXJkQnJhbmRzID0gT2JqZWN0LnZhbHVlcyhCcmFpbnRyZWVTdXBwb3J0ZWRDYXJkQnJhbmRzKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICByZXR1cm4gc3VwcG9ydGVkQ2FyZEJyYW5kcy5pbmNsdWRlcyhjYXJkQnJhbmQgYXMgQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc0JyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZDtcbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLWNyZWRpdC1jYXJkLXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IEJyYWludHJlZUhvc3RlZEZvcm0gZnJvbSAnLi4vYnJhaW50cmVlLWhvc3RlZC1mb3JtL2JyYWludHJlZS1ob3N0ZWQtZm9ybSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZUNyZWRpdENhcmRQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgY29uc3QgYnJhaW50cmVlU2NyaXB0TG9hZGVyID0gbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICk7XG5cbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBicmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZUhvc3RlZEZvcm0gPSBuZXcgQnJhaW50cmVlSG9zdGVkRm9ybShcbiAgICAgICAgYnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgICAgICBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGJyYWludHJlZUhvc3RlZEZvcm0sXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ2JyYWludHJlZScgfV0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBzaG9wcGVyIHRyaWVzIHRvIHNpZ24gaW4gYXMgYSBndWVzdCBidXRcbiAqIHRoZXkgYXJlIGFscmVhZHkgc2lnbmVkIGluIGFzIGEgcmVnaXN0ZXJlZCBjdXN0b21lci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZCBkdXJpbmcgYnV5IG5vdyBjYXJ0IGNyZWF0aW9uIHByb2Nlc3MuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnQnV5Tm93Q2FydENyZWF0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnV5X25vd19jYXJ0X2NyZWF0aW9uX2Vycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpc05pbCwgb21pdEJ5IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgUGF5cGFsU3R5bGVPcHRpb25zIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRWYWxpZEJ1dHRvblN0eWxlKHN0eWxlPzogUGF5cGFsU3R5bGVPcHRpb25zKTogUGF5cGFsU3R5bGVPcHRpb25zIHtcbiAgICBjb25zdCB7IGNvbG9yLCBmdW5kaW5naWNvbnMsIGhlaWdodCA9IDQwLCBsYXlvdXQsIHNoYXBlLCBzaXplLCB0YWdsaW5lIH0gPSBzdHlsZSB8fCB7fTtcblxuICAgIGNvbnN0IHZhbGlkU3R5bGVzID0ge1xuICAgICAgICBjb2xvcixcbiAgICAgICAgZnVuZGluZ2ljb25zLFxuICAgICAgICBoZWlnaHQ6IGdldFZhbGlkSGVpZ2h0KGhlaWdodCksXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgc2hhcGU6IHNoYXBlIHx8ICdyZWN0JyxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgdGFnbGluZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9taXRCeSh2YWxpZFN0eWxlcywgaXNOaWwpO1xufVxuXG5mdW5jdGlvbiBnZXRWYWxpZEhlaWdodChoZWlnaHQ6IG51bWJlciB8IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gMjU7XG4gICAgY29uc3QgZGVmYXVsdEhlaWdodCA9IDQwO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IDU1O1xuXG4gICAgY29uc3QgY3VycmVudEhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgaWYgKCFjdXJyZW50SGVpZ2h0IHx8IE51bWJlci5pc05hTihjdXJyZW50SGVpZ2h0KSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm4gbWF4SGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50SGVpZ2h0IDwgbWluSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBtaW5IZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIZWlnaHQ7XG59XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBQYXlwYWxBdXRob3JpemVEYXRhLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yLFxuICAgIEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSxcbiAgICBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgU3RhbmRhcmRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBnZXRWYWxpZEJ1dHRvblN0eWxlIGZyb20gJy4uL2dldC12YWxpZC1idXR0b24tc3R5bGUnO1xuaW1wb3J0IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgZnJvbSAnLi4vbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtYnV0dG9uLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVBheXBhbEJ1dHRvblN0cmF0ZWd5IGltcGxlbWVudHMgQ2hlY2tvdXRCdXR0b25TdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBidXlOb3dDYXJ0SWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZm9ybVBvc3RlcjogRm9ybVBvc3RlcixcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2U6IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IENoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQnJhaW50cmVlUGF5cGFsQnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgYnJhaW50cmVlcGF5cGFsLCBjb250YWluZXJJZCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250YWluZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgbGV0IGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuXG4gICAgICAgIGlmIChicmFpbnRyZWVwYXlwYWwuYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghYnJhaW50cmVlcGF5cGFsLmN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVlcGF5cGFsY3JlZGl0LmN1cnJlbmN5Q29kZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZSA9IGJyYWludHJlZXBheXBhbC5jdXJyZW5jeUNvZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZERlZmF1bHRDaGVja291dCgpO1xuXG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBjb25maWcsIGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0T3B0aW9uczogUGFydGlhbDxCcmFpbnRyZWVQYXlwYWxTZGtDcmVhdG9yQ29uZmlnPiA9IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICBpbnRlbnQ6IGluaXRpYWxpemF0aW9uRGF0YS5pbnRlbnQsXG4gICAgICAgICAgICBpc0NyZWRpdEVuYWJsZWQ6IGluaXRpYWxpemF0aW9uRGF0YS5pc0NyZWRpdEVuYWJsZWQsXG4gICAgICAgICAgICBjb21taXQ6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0U3VjY2Vzc0NhbGxiYWNrID0gKFxuICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGF5UGFsQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbCxcbiAgICAgICAgICAgICAgICBjb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAhIWNvbmZpZy50ZXN0TW9kZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBheXBhbENoZWNrb3V0RXJyb3JDYWxsYmFjayA9IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBjb250YWluZXJJZCwgYnJhaW50cmVlcGF5cGFsLm9uRXJyb3IpO1xuXG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemUoY2xpZW50VG9rZW4pO1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5nZXRQYXlwYWxDaGVja291dChcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0T3B0aW9ucyxcbiAgICAgICAgICAgIHBheXBhbENoZWNrb3V0U3VjY2Vzc0NhbGxiYWNrLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UudGVhcmRvd24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBheVBhbEJ1dHRvbihcbiAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ6IEJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICBicmFpbnRyZWVwYXlwYWw6IEJyYWludHJlZVBheXBhbEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBjb250YWluZXJJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0ZXN0TW9kZTogYm9vbGVhbixcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBzdHlsZSwgc2hvdWxkUHJvY2Vzc1BheW1lbnQsIG9uQXV0aG9yaXplRXJyb3IsIG9uRWxpZ2liaWxpdHlGYWlsdXJlIH0gPVxuICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsO1xuICAgICAgICBjb25zdCB7IHBheXBhbCB9ID0gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93O1xuXG4gICAgICAgIGlmIChwYXlwYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheXBhbEJ1dHRvblJlbmRlciA9IHBheXBhbC5CdXR0b25zKHtcbiAgICAgICAgICAgICAgICBlbnY6IHRlc3RNb2RlID8gJ3NhbmRib3gnIDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2U6IHBheXBhbC5GVU5ESU5HLlBBWVBBTCxcbiAgICAgICAgICAgICAgICBzdHlsZTogZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSksXG4gICAgICAgICAgICAgICAgY3JlYXRlT3JkZXI6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBQYXltZW50KGJyYWludHJlZVBheXBhbENoZWNrb3V0LCBicmFpbnRyZWVwYXlwYWwsIG1ldGhvZElkKSxcbiAgICAgICAgICAgICAgICBvbkFwcHJvdmU6IChhdXRob3JpemVEYXRhOiBQYXlwYWxBdXRob3JpemVEYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRva2VuaXplUGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkF1dGhvcml6ZUVycm9yLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwYXlwYWxCdXR0b25SZW5kZXIuaXNFbGlnaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgcGF5cGFsQnV0dG9uUmVuZGVyLnJlbmRlcihgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uRWxpZ2liaWxpdHlGYWlsdXJlICYmIHR5cGVvZiBvbkVsaWdpYmlsaXR5RmFpbHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbDogQnJhaW50cmVlUGF5cGFsQnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgb25QYXltZW50RXJyb3IsIHNoaXBwaW5nQWRkcmVzcywgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgfSA9IGJyYWludHJlZXBheXBhbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYnV5Tm93Q2FydCA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zPy5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmNyZWF0ZUJ1eU5vd0NhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSgpLFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYnV5Tm93Q2FydElkID0gYnV5Tm93Q2FydD8uaWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4gPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gYnV5Tm93Q2FydCA/IGJ1eU5vd0NhcnQuY2FydEFtb3VudCA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY2FydEFtb3VudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5Q29kZSA9IGJ1eU5vd0NhcnRcbiAgICAgICAgICAgICAgICA/IGJyYWludHJlZXBheXBhbC5jdXJyZW5jeUNvZGVcbiAgICAgICAgICAgICAgICA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZTtcblxuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHNoaXBwaW5nQWRkcmVzcyB8fCBjdXN0b21lcj8uYWRkcmVzc2VzWzBdO1xuXG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSA9IGFkZHJlc3NcbiAgICAgICAgICAgICAgICA/IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUoYWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyYWludHJlZVBheXBhbENoZWNrb3V0LmNyZWF0ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIGZsb3c6ICdjaGVja291dCcsXG4gICAgICAgICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NPdmVycmlkZSxcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICBvZmZlckNyZWRpdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnQoXG4gICAgICAgIGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBvbkVycm9yPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBzaG91bGRQcm9jZXNzUGF5bWVudCA/ICdwcm9jZXNzX3BheW1lbnQnIDogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgZGV2aWNlX2RhdGE6IGRldmljZURhdGEsXG4gICAgICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5idXlOb3dDYXJ0SWQgJiYgeyBjYXJ0X2lkOiB0aGlzLmJ1eU5vd0NhcnRJZCB9KSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUJ1eU5vd0NhcnQoYnV5Tm93Q2FyZFJlcXVlc3RCb2R5PzogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZCkge1xuICAgICAgICBpZiAoIWJ1eU5vd0NhcmRSZXF1ZXN0Qm9keSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dDYXJkUmVxdWVzdEJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWJ1dHRvbi1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJyYWludHJlZVBheXBhbEJ1dHRvblN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVQYXlwYWxCdXR0b25TdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKFxuICAgICAgICAgICAgZ2V0U2NyaXB0TG9hZGVyKCksXG4gICAgICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgICAgICksXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3ksIFt7IGlkOiAnYnJhaW50cmVlcGF5cGFsJyB9XSk7XG4iLCJpbXBvcnQgeyBGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVFcnJvcixcbiAgICBCcmFpbnRyZWVIb3N0V2luZG93LFxuICAgIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgQnJhaW50cmVlTWVzc2FnZXMsXG4gICAgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyxcbiAgICBCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQsXG4gICAgaXNCcmFpbnRyZWVFcnJvcixcbiAgICBNZXNzYWdpbmdQbGFjZW1lbnRzLFxuICAgIFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgUGF5cGFsQnV0dG9uU3R5bGVMYWJlbE9wdGlvbixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvcixcbiAgICBCdXlOb3dDYXJ0UmVxdWVzdEJvZHksXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFN0YW5kYXJkRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNFeHBlcmltZW50RW5hYmxlZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCBnZXRWYWxpZEJ1dHRvblN0eWxlIGZyb20gJy4uL2dldC12YWxpZC1idXR0b24tc3R5bGUnO1xuaW1wb3J0IG1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgZnJvbSAnLi4vbWFwLXRvLWJyYWludHJlZS1zaGlwcGluZy1hZGRyZXNzLW92ZXJyaWRlJztcblxuaW1wb3J0IEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JyYWludHJlZS1wYXlwYWwtY3JlZGl0LWJ1dHRvbi1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneSBpbXBsZW1lbnRzIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgYnV5Tm93Q2FydElkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlOiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlTWVzc2FnZXM6IEJyYWludHJlZU1lc3NhZ2VzLFxuICAgICAgICBwcml2YXRlIGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBicmFpbnRyZWVwYXlwYWxjcmVkaXQsIGNvbnRhaW5lcklkLCBtZXRob2RJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuY29udGFpbmVySWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJyYWludHJlZXBheXBhbGNyZWRpdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXBheXBhbGNyZWRpdFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBsZXQgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKGJyYWludHJlZXBheXBhbGNyZWRpdC5idXlOb3dJbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFicmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVuY3lDb2RlID0gYnJhaW50cmVlcGF5cGFsY3JlZGl0LmN1cnJlbmN5Q29kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5LmNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8QnJhaW50cmVlSW5pdGlhbGl6YXRpb25EYXRhPihtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGNvbmZpZywgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRPcHRpb25zOiBQYXJ0aWFsPEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWc+ID0ge1xuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgIGludGVudDogaW5pdGlhbGl6YXRpb25EYXRhLmludGVudCxcbiAgICAgICAgICAgIGlzQ3JlZGl0RW5hYmxlZDogaW5pdGlhbGl6YXRpb25EYXRhLmlzQ3JlZGl0RW5hYmxlZCxcbiAgICAgICAgICAgIGNvbW1pdDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGJhbm5lciByZW5kZXJpbmcgaW1wbGVtZW50YXRpb24gaW4gdGhpcyBmaWxlIHdoZW4gUEFZUEFMLTU2NjMuaGlkZV9icmFpbnRyZWVfY2FyZF9iYW5uZXJfaW1wbGVtZW50YXRpb25faW5fY2hlY2tvdXRfc2RrIHdpbGwgYmUgcm9sbGVkIG91dCB0byAxMDAlXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gc3RhdGUuZ2V0U3RvcmVDb25maWcoKT8uY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgaXNCYW5uZXJJbXBsZW1lbnRhdGlvbkRpc2FibGVkID0gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgICAgJ1BBWVBBTC01NjYzLmhpZGVfYnJhaW50cmVlX2NhcmRfYmFubmVyX2ltcGxlbWVudGF0aW9uX2luX2NoZWNrb3V0X3NkaycsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2sgPSAoXG4gICAgICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc0Jhbm5lckltcGxlbWVudGF0aW9uRGlzYWJsZWQgJiYgYnJhaW50cmVlcGF5cGFsY3JlZGl0Lm1lc3NhZ2luZ0NvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxNZXNzYWdlcyhtZXRob2RJZCwgYnJhaW50cmVlcGF5cGFsY3JlZGl0Lm1lc3NhZ2luZ0NvbnRhaW5lcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0LFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgICEhY29uZmlnLnRlc3RNb2RlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF5cGFsQ2hlY2tvdXRFcnJvckNhbGxiYWNrID0gKGVycm9yOiBCcmFpbnRyZWVFcnJvcikgPT5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRhaW5lcklkLCBicmFpbnRyZWVwYXlwYWxjcmVkaXQub25FcnJvcik7XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldFBheXBhbENoZWNrb3V0KFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICAgICAgcGF5cGFsQ2hlY2tvdXRTdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBwYXlwYWxDaGVja291dEVycm9yQ2FsbGJhY2ssXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS50ZWFyZG93bigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyUGF5UGFsTWVzc2FnZXMobWV0aG9kSWQ6IHN0cmluZywgbWVzc2FnaW5nQ29udGFpbmVySWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyYWludHJlZU1lc3NhZ2VzLnJlbmRlcihtZXRob2RJZCwgbWVzc2FnaW5nQ29udGFpbmVySWQsIE1lc3NhZ2luZ1BsYWNlbWVudHMuQ0FSVCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXlQYWxCdXR0b24oXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgYnJhaW50cmVlcGF5cGFsY3JlZGl0OiBCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgY29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgdGVzdE1vZGU6IGJvb2xlYW4sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgc3R5bGUsIHNob3VsZFByb2Nlc3NQYXltZW50LCBvbkF1dGhvcml6ZUVycm9yLCBvbkVsaWdpYmlsaXR5RmFpbHVyZSB9ID1cbiAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdDtcbiAgICAgICAgY29uc3QgeyBwYXlwYWwgfSA9IHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdztcblxuICAgICAgICBsZXQgaGFzUmVuZGVyZWRTbWFydEJ1dHRvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXlwYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmRpbmdTb3VyY2VzID0gW3BheXBhbC5GVU5ESU5HLlBBWUxBVEVSLCBwYXlwYWwuRlVORElORy5DUkVESVRdO1xuXG4gICAgICAgICAgICBmdW5kaW5nU291cmNlcy5mb3JFYWNoKChmdW5kaW5nU291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uU3R5bGUgPVxuICAgICAgICAgICAgICAgICAgICBmdW5kaW5nU291cmNlID09PSBwYXlwYWwuRlVORElORy5DUkVESVRcbiAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFBheXBhbEJ1dHRvblN0eWxlTGFiZWxPcHRpb24uQ1JFRElULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VmFsaWRCdXR0b25TdHlsZShzdHlsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc1JlbmRlcmVkU21hcnRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5cGFsQnV0dG9uUmVuZGVyID0gcGF5cGFsLkJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW52OiB0ZXN0TW9kZSA/ICdzYW5kYm94JyA6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRpbmdTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogYnV0dG9uU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwUGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQXBwcm92ZTogKGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZVBheW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXV0aG9yaXplRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheXBhbEJ1dHRvblJlbmRlci5pc0VsaWdpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheXBhbEJ1dHRvblJlbmRlci5yZW5kZXIoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVuZGVyZWRTbWFydEJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlwYWwuRlVORElORy5DUkVESVQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb25FbGlnaWJpbGl0eUZhaWx1cmUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY29uZGl0aW9uIGlzIHJlbGF0ZWQgdG8gcGF5cGFsLkZVTkRJTkcuQ1JFRElUIGJlY2F1c2Ugd2hlbiBwYXlwYWwuRlVORElORy5QQVlMQVRFUiBpcyBub3QgZWxpZ2libGUgdGhlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ1JFRElUIGJ1dHRvbiBzaG91bGQgYmUgY29uZmlndXJlZCBhbmQgdHJpZ2dlcmVkIHRvIHJlbmRlciB3aXRoIGVsaWdpYmlsaXR5IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaWYgaXQgaXMgbm90IGVsaWdpYmxlLCB0aGVuIG9uRWxpZ2liaWxpdHlGYWlsdXJlIGNhbGxiYWNrIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRWxpZ2liaWxpdHlGYWlsdXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5cGFsIHx8ICFoYXNSZW5kZXJlZFNtYXJ0QnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUludGVncmF0aW9uU2VydmljZS5yZW1vdmVFbGVtZW50KGNvbnRhaW5lcklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBQYXltZW50KFxuICAgICAgICBicmFpbnRyZWVQYXlwYWxDaGVja291dDogQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgIGJyYWludHJlZXBheXBhbGNyZWRpdDogQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgb25QYXltZW50RXJyb3IsIHNoaXBwaW5nQWRkcmVzcywgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgfSA9IGJyYWludHJlZXBheXBhbGNyZWRpdDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYnV5Tm93Q2FydCA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zPy5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLmNyZWF0ZUJ1eU5vd0NhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1eU5vd0luaXRpYWxpemVPcHRpb25zLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSgpLFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYnV5Tm93Q2FydElkID0gYnV5Tm93Q2FydD8uaWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHN0YXRlLmdldEN1c3RvbWVyKCk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kPEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YT4gPVxuICAgICAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gYnV5Tm93Q2FydCA/IGJ1eU5vd0NhcnQuY2FydEFtb3VudCA6IHN0YXRlLmdldENhcnRPclRocm93KCkuY2FydEFtb3VudDsgLy8gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlXG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSBidXlOb3dDYXJ0XG4gICAgICAgICAgICAgICAgPyBicmFpbnRyZWVwYXlwYWxjcmVkaXQuY3VycmVuY3lDb2RlXG4gICAgICAgICAgICAgICAgOiBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5LmNvZGU7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBzaGlwcGluZ0FkZHJlc3MgfHwgY3VzdG9tZXI/LmFkZHJlc3Nlc1swXTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUgPSBhZGRyZXNzXG4gICAgICAgICAgICAgICAgPyBtYXBUb0JyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBicmFpbnRyZWVQYXlwYWxDaGVja291dC5jcmVhdGVQYXltZW50KHtcbiAgICAgICAgICAgICAgICBmbG93OiAnY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NFZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgb2ZmZXJDcmVkaXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaW50ZW50OiBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uaW50ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAob25QYXltZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB0b2tlbml6ZVBheW1lbnQoXG4gICAgICAgIGF1dGhvcml6ZURhdGE6IFBheXBhbEF1dGhvcml6ZURhdGEsXG4gICAgICAgIGJyYWludHJlZVBheXBhbENoZWNrb3V0OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dCxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkUHJvY2Vzc1BheW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBvbkVycm9yPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVUb2tlbml6ZVBheWxvYWQgfCB2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLmdldERhdGFDb2xsZWN0b3Ioe1xuICAgICAgICAgICAgICAgIHBheXBhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVQYXlsb2FkID0gYXdhaXQgYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQudG9rZW5pemVQYXltZW50KGF1dGhvcml6ZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgeyBkZXRhaWxzLCBub25jZSB9ID0gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MoZGV0YWlscyk7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKGRldGFpbHMpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBzaG91bGRQcm9jZXNzUGF5bWVudCA/ICdwcm9jZXNzX3BheW1lbnQnIDogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgZGV2aWNlX2RhdGE6IGRldmljZURhdGEsXG4gICAgICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmdBZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5idXlOb3dDYXJ0SWQgJiYgeyBjYXJ0X2lkOiB0aGlzLmJ1eU5vd0NhcnRJZCB9KSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5pemVQYXlsb2FkO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgZXJyb3IgaW5zdGFuY2VvZiBTdGFuZGFyZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUJ1eU5vd0NhcnQoYnV5Tm93Q2FyZFJlcXVlc3RCb2R5PzogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZCkge1xuICAgICAgICBpZiAoIWJ1eU5vd0NhcmRSZXF1ZXN0Qm9keSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dDYXJkUmVxdWVzdEJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgYnV0dG9uQ29udGFpbmVySWQ6IHN0cmluZyxcbiAgICAgICAgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBCcmFpbnRyZWVFcnJvciB8IFN0YW5kYXJkRXJyb3IpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUVsZW1lbnQoYnV0dG9uQ29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yQ2FsbGJhY2sgJiYgaXNCcmFpbnRyZWVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIEJyYWludHJlZU1lc3NhZ2VzLFxuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9icmFpbnRyZWUtcGF5cGFsLWNyZWRpdC1idXR0b24tc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneTogQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3Rvcnk8XG4gICAgQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIGNvbnN0IGJyYWludHJlZUhvc3RXaW5kb3c6IEJyYWludHJlZUhvc3RXaW5kb3cgPSB3aW5kb3c7XG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG4gICAgY29uc3QgYnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlID0gbmV3IEJyYWludHJlZUludGVncmF0aW9uU2VydmljZShcbiAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihcbiAgICAgICAgICAgIGdldFNjcmlwdExvYWRlcigpLFxuICAgICAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgICAgIGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgICAgICApLFxuICAgICAgICBicmFpbnRyZWVIb3N0V2luZG93LFxuICAgICk7XG4gICAgY29uc3QgYnJhaW50cmVlTWVzc2FnZXMgPSBuZXcgQnJhaW50cmVlTWVzc2FnZXMocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbiAgICByZXR1cm4gbmV3IEJyYWludHJlZVBheXBhbENyZWRpdEJ1dHRvblN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBjcmVhdGVGb3JtUG9zdGVyKCksXG4gICAgICAgIGJyYWludHJlZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgYnJhaW50cmVlTWVzc2FnZXMsXG4gICAgICAgIGJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVQYXlwYWxDcmVkaXRCdXR0b25TdHJhdGVneSwgW1xuICAgIHsgaWQ6ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnIH0sXG5dKTtcbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dCxcbiAgICBWaXNhQ2hlY2tvdXRBZGRyZXNzLFxuICAgIFZpc2FDaGVja291dFBheW1lbnRTdWNjZXNzUGF5bG9hZCxcbiAgICBWaXNhQ2hlY2tvdXRUb2tlbml6ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIExlZ2FjeUFkZHJlc3MsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3kgaW1wbGVtZW50cyBDaGVja291dEJ1dHRvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShvcHRpb25zOiBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVySWQsIG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEsIGNvbmZpZyB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIWluaXRpYWxpemF0aW9uRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgY29uc3QgYnJhaW50cmVlVmlzYUNoZWNrb3V0ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgY29kZSB9LFxuICAgICAgICAgICAgY2FydEFtb3VudCxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgdmlzYUNoZWNrb3V0SW5zdGFuY2UgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRWaXNhQ2hlY2tvdXRTZGsoY29uZmlnLnRlc3RNb2RlKTtcblxuICAgICAgICBjb25zdCBpbml0T3B0aW9ucyA9IGJyYWludHJlZVZpc2FDaGVja291dC5jcmVhdGVJbml0T3B0aW9ucyh7XG4gICAgICAgICAgICBwYXltZW50UmVxdWVzdDoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBzdWJ0b3RhbDogU3RyaW5nKGNhcnRBbW91bnQpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdFNoaXBwaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVNpZ25JbkJ1dHRvbihjb250YWluZXJJZCk7XG5cbiAgICAgICAgYXdhaXQgdmlzYUNoZWNrb3V0SW5zdGFuY2UuaW5pdChpbml0T3B0aW9ucyk7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0SW5zdGFuY2Uub24oJ3BheW1lbnQuc3VjY2VzcycsIGFzeW5jIChwYXltZW50KSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRTdWNjZXNzKGJyYWludHJlZVZpc2FDaGVja291dCwgcGF5bWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcGF5bWVudFN1Y2Nlc3MoXG4gICAgICAgIGJyYWludHJlZVZpc2FDaGVja291dDogQnJhaW50cmVlVmlzYUNoZWNrb3V0LFxuICAgICAgICBwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBicmFpbnRyZWVWaXNhQ2hlY2tvdXQudG9rZW5pemUocGF5bWVudCksXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpLFxuICAgICAgICBdKS50aGVuKChbcGF5bG9hZCwgZGV2aWNlRGF0YV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMudG9WaXNhQ2hlY2tvdXRBZGRyZXNzKHNoaXBwaW5nKSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyA9IHRoaXMudG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGJpbGxpbmcpLFxuICAgICAgICAgICAgfSA9IHBheWxvYWQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RGb3JtKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRldmljZURhdGEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvc3RGb3JtKFxuICAgICAgICBwYXltZW50RGF0YTogVmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZCxcbiAgICAgICAgZGF0YUNvbGxlY3RvcjogQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyB1c2VyRGF0YSwgYmlsbGluZ0FkZHJlc3MsIHNoaXBwaW5nQWRkcmVzcywgZGV0YWlsczogY2FyZEluZm9ybWF0aW9uIH0gPSBwYXltZW50RGF0YTtcbiAgICAgICAgY29uc3QgeyB1c2VyRW1haWwgfSA9IHVzZXJEYXRhO1xuICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGRhdGFDb2xsZWN0b3I7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSgnL2NoZWNrb3V0LnBocCcsIHtcbiAgICAgICAgICAgIHBheW1lbnRfdHlwZTogcGF5bWVudERhdGEudHlwZSxcbiAgICAgICAgICAgIG5vbmNlOiBwYXltZW50RGF0YS5ub25jZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyxcbiAgICAgICAgICAgIGFjdGlvbjogJ3NldF9leHRlcm5hbF9jaGVja291dCcsXG4gICAgICAgICAgICBkZXZpY2VfZGF0YTogZGV2aWNlRGF0YSxcbiAgICAgICAgICAgIGNhcmRfaW5mb3JtYXRpb246IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjYXJkSW5mb3JtYXRpb24uY2FyZFR5cGUsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBjYXJkSW5mb3JtYXRpb24ubGFzdFR3byxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEFkZHJlc3ModXNlckVtYWlsLCBiaWxsaW5nQWRkcmVzcykpLFxuICAgICAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRBZGRyZXNzKHVzZXJFbWFpbCwgc2hpcHBpbmdBZGRyZXNzKSksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG9WaXNhQ2hlY2tvdXRBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogVmlzYUNoZWNrb3V0QWRkcmVzcyB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBhZGRyZXNzLnBob25lLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMSxcbiAgICAgICAgICAgIGV4dGVuZGVkQWRkcmVzczogYWRkcmVzcy5hZGRyZXNzMixcbiAgICAgICAgICAgIGxvY2FsaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICByZWdpb246IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlQ29kZSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QWRkcmVzcyhlbWFpbDogc3RyaW5nLCBhZGRyZXNzOiBWaXNhQ2hlY2tvdXRBZGRyZXNzID0ge30pOiBQYXJ0aWFsPExlZ2FjeUFkZHJlc3M+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0X25hbWU6IGFkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXI6IGFkZHJlc3MucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmVfMTogYWRkcmVzcy5zdHJlZXRBZGRyZXNzLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5sb2NhbGl0eSxcbiAgICAgICAgICAgIHN0YXRlOiBhZGRyZXNzLnJlZ2lvbixcbiAgICAgICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBhZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaWduSW5CdXR0b24oY29udGFpbmVySWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y29udGFpbmVySWR9YCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmVlZCBhIGNvbnRhaW5lciB0byBwbGFjZSB0aGUgYnV0dG9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRWaXNhQ2hlY2tvdXRCdXR0b24oY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydFZpc2FDaGVja291dEJ1dHRvbihjb250YWluZXI6IEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGJ1dHRvblNvdXJjZSA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vd2FsbGV0LXNlcnZpY2VzLXdlYi94by9idXR0b24ucG5nP2FjY2VwdENhbmFkaWFuVmlzYURlYml0PWZhbHNlJmNvYnJhbmQ9dHJ1ZSZoZWlnaHQ9MzQmd2lkdGg9MTc4JztcbiAgICAgICAgY29uc3QgYnV0dG9uVGVtcGxhdGUgPSBgXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgYWx0PVwiVmlzYSBDaGVja291dFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgc3JjPVwiJHtidXR0b25Tb3VyY2V9XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJ2LWxlYXJuIHYtbGVhcm4tZGVmYXVsdFwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEwcHg7IGNvbG9yOiAjMDAzMzY2O1wiIGhyZWY9XCIjXCIgZGF0YS1sb2NhbGU9XCJlbl9VU1wiPlRlbGwgTWUgTW9yZTwvYT5gO1xuXG4gICAgICAgIGNvbnN0IHZpc2FDaGVja291dEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIHZpc2FDaGVja291dEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgICAgICB2aXNhQ2hlY2tvdXRCdXR0b24uc3R5bGUuYWxpZ25JdGVtcyA9ICdmbGV4LWVuZCc7XG5cbiAgICAgICAgdmlzYUNoZWNrb3V0QnV0dG9uLmlubmVySFRNTCA9IGJ1dHRvblRlbXBsYXRlO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aXNhQ2hlY2tvdXRCdXR0b24pO1xuXG4gICAgICAgIHJldHVybiB2aXNhQ2hlY2tvdXRCdXR0b247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5pbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICBCcmFpbnRyZWVTY3JpcHRMb2FkZXIsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyLFxuICAgIFZpc2FDaGVja291dEhvc3RXaW5kb3csXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEJyYWludHJlZVZpc2FDaGVja291dEJ1dHRvblN0cmF0ZWd5IGZyb20gJy4vYnJhaW50cmVlLXZpc2EtY2hlY2tvdXQtYnV0dG9uLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJyYWludHJlZVZpc2FDaGVja291dEJ1dHRvblN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBob3N0V2luZG93OiBWaXNhQ2hlY2tvdXRIb3N0V2luZG93ICYgQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcbiAgICBjb25zdCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciA9IG5ldyBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcihwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBicmFpbnRyZWVTZGsgPSBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICBuZXcgQnJhaW50cmVlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpLCBob3N0V2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIGNyZWF0ZUZvcm1Qb3N0ZXIoKSxcbiAgICAgICAgYnJhaW50cmVlU2RrLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQnJhaW50cmVlVmlzYUNoZWNrb3V0QnV0dG9uU3RyYXRlZ3ksIFtcbiAgICB7IGlkOiAnYnJhaW50cmVldmlzYWNoZWNrb3V0JyB9LFxuXSk7XG4iLCJpbXBvcnQgeyBMZWdhY3lBZGRyZXNzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuKTogUGFydGlhbDxMZWdhY3lBZGRyZXNzPiB7XG4gICAgY29uc3QgeyBiaWxsaW5nQWRkcmVzcywgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lLCBzaGlwcGluZ0FkZHJlc3MgfSA9IGRldGFpbHM7XG5cbiAgICBjb25zdCBhZGRyZXNzID0gYmlsbGluZ0FkZHJlc3MgfHwgc2hpcHBpbmdBZGRyZXNzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSxcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZSxcbiAgICAgICAgYWRkcmVzc19saW5lXzE6IGFkZHJlc3M/LmxpbmUxLFxuICAgICAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcz8ubGluZTIsXG4gICAgICAgIGNpdHk6IGFkZHJlc3M/LmNpdHksXG4gICAgICAgIHN0YXRlOiBhZGRyZXNzPy5zdGF0ZSxcbiAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzPy5jb3VudHJ5Q29kZSxcbiAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3M/LnBvc3RhbENvZGUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IExlZ2FjeUFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcyhcbiAgICBkZXRhaWxzOiBCcmFpbnRyZWVUb2tlbml6YXRpb25EZXRhaWxzLFxuKTogUGFydGlhbDxMZWdhY3lBZGRyZXNzPiB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGhvbmUsIHNoaXBwaW5nQWRkcmVzcyB9ID0gZGV0YWlscztcblxuICAgIGNvbnN0IHJlY2lwaWVudE5hbWUgPSBzaGlwcGluZ0FkZHJlc3M/LnJlY2lwaWVudE5hbWUgfHwgJyc7XG4gICAgY29uc3QgW2ZpcnN0TmFtZSwgbGFzdE5hbWVdID0gcmVjaXBpZW50TmFtZS5zcGxpdCgnICcpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWU6IGZpcnN0TmFtZSB8fCAnJyxcbiAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSB8fCAnJyxcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZSxcbiAgICAgICAgYWRkcmVzc19saW5lXzE6IHNoaXBwaW5nQWRkcmVzcz8ubGluZTEsXG4gICAgICAgIGFkZHJlc3NfbGluZV8yOiBzaGlwcGluZ0FkZHJlc3M/LmxpbmUyLFxuICAgICAgICBjaXR5OiBzaGlwcGluZ0FkZHJlc3M/LmNpdHksXG4gICAgICAgIHN0YXRlOiBzaGlwcGluZ0FkZHJlc3M/LnN0YXRlLFxuICAgICAgICBjb3VudHJ5X2NvZGU6IHNoaXBwaW5nQWRkcmVzcz8uY291bnRyeUNvZGUsXG4gICAgICAgIHBvc3RhbF9jb2RlOiBzaGlwcGluZ0FkZHJlc3M/LnBvc3RhbENvZGUsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlU2RrLFxuICAgIEJyYWludHJlZVRva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIG1hcFRvTGVnYWN5QmlsbGluZ0FkZHJlc3MsXG4gICAgbWFwVG9MZWdhY3lTaGlwcGluZ0FkZHJlc3MsXG4gICAgUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbixcbiAgICBQYXlwYWxTdHlsZU9wdGlvbnMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IsXG4gICAgQnV5Tm93Q2FydFJlcXVlc3RCb2R5LFxuICAgIENhcnQsXG4gICAgQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyxcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi4vaXMtYnJhaW50cmVlLWVycm9yJztcbmltcG9ydCB7IGlzVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IgfSBmcm9tICcuLi9pc1Vuc3VwcG9ydGVkQnJvd3NlckVycm9yJztcblxuaW1wb3J0IHsgV2l0aEJyYWludHJlZVZlbm1vSW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5jb25zdCBnZXRWZW5tb0J1dHRvblN0eWxlID0gKHN0eWxlczogUGF5cGFsU3R5bGVPcHRpb25zKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gICAgY29uc3QgeyBjb2xvciwgaGVpZ2h0IH0gPSBzdHlsZXM7XG5cbiAgICBjb25zdCBjb2xvclBhcnNlciA9IChjOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGMgPT09IFBheXBhbEJ1dHRvblN0eWxlQ29sb3JPcHRpb24uV0hJVEUpIHtcbiAgICAgICAgICAgIHJldHVybiAnI0ZGRkZGRic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyMzRDk1Q0UnO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yUGFyc2VyKGNvbG9yIHx8ICcnKSxcbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnNTAlIDUwJScsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiAnODBweCBhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiL2FwcC9hc3NldHMvaW1nL3BheW1lbnQtcHJvdmlkZXJzL3Zlbm1vLWxvZ28tJHtcbiAgICAgICAgICAgIGNvbG9yID09PSBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLldISVRFXG4gICAgICAgICAgICAgICAgPyBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLkJMVUVcbiAgICAgICAgICAgICAgICA6IFBheXBhbEJ1dHRvblN0eWxlQ29sb3JPcHRpb24uV0hJVEVcbiAgICAgICAgfS5zdmdcIilgLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIHRyYW5zaXRpb246ICcwLjJzIGVhc2UnLFxuICAgICAgICBtaW5IZWlnaHQ6IGAke2hlaWdodCB8fCA0MH1weGAsXG4gICAgICAgIG1pbldpZHRoOiAnMTUwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYm9yZGVyOiBjb2xvciA9PT0gUGF5cGFsQnV0dG9uU3R5bGVDb2xvck9wdGlvbi5XSElURSA/ICcxcHggc29saWQgYmxhY2snIDogJ25vbmUnLFxuICAgIH07XG59O1xuXG5jb25zdCB2ZW5tb0J1dHRvblN0eWxlSG92ZXIgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzBhN2ZjMicsXG59O1xuXG5pbnRlcmZhY2UgQnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMge1xuICAgIGdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keT8oKTogQnV5Tm93Q2FydFJlcXVlc3RCb2R5IHwgdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneSBpbXBsZW1lbnRzIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgb25FcnJvciA9IG5vb3A7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCcmFpbnRyZWVWZW5tb0luaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IGJyYWludHJlZXZlbm1vLCBjb250YWluZXJJZCwgbWV0aG9kSWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhIH06IFBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRCdXR0b25TdHlsZXMgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcbiAgICAgICAgY29uc3QgeyBjYXJ0QnV0dG9uU3R5bGVzIH0gPSBwYXltZW50QnV0dG9uU3R5bGVzIHx8IHt9O1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBicmFpbnRyZWV2ZW5tbz8uc3R5bGUgfHwgY2FydEJ1dHRvblN0eWxlcztcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuIHx8ICFpbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkRGVmYXVsdENoZWNrb3V0KCk7XG5cbiAgICAgICAgdGhpcy5vbkVycm9yID0gYnJhaW50cmVldmVubW8/Lm9uRXJyb3IgfHwgdGhpcy5oYW5kbGVFcnJvcjtcbiAgICAgICAgdGhpcy5icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5nZXRWZW5tb0NoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclZlbm1vQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJyYWludHJlZVZlbm1vQ2hlY2tvdXQsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgYnJhaW50cmVldmVubW8/LmJ1eU5vd0luaXRpYWxpemVPcHRpb25zLFxuICAgICAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNCcmFpbnRyZWVFcnJvcihlcnJvcikgfHwgaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxpemF0aW9uVmVubW9FcnJvcihlcnJvciwgY29udGFpbmVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmJyYWludHJlZVNkay5kZWluaXRpYWxpemUoKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogQnJhaW50cmVlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlQnV5Tm93Q2FydChcbiAgICAgICAgYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/OiBCdXlOb3dJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPENhcnQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBidXlOb3dJbml0aWFsaXplT3B0aW9ucz8uZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBjYXJ0UmVxdWVzdEJvZHkgPSBidXlOb3dJbml0aWFsaXplT3B0aW9ucz8uZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5KCk7XG5cbiAgICAgICAgICAgIGlmICghY2FydFJlcXVlc3RCb2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1eU5vd0NhcnQgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChcbiAgICAgICAgICAgICAgICAgICAgY2FydFJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYnV5Tm93Q2FydDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlSW5pdGlhbGl6YXRpb25WZW5tb0Vycm9yKFxuICAgICAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbiAgICAgICAgY29udGFpbmVySWQ6IHN0cmluZyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW1vdmVWZW5tb0NvbnRhaW5lcihjb250YWluZXJJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWZW5tb0NvbnRhaW5lcihjb250YWluZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAoYnV0dG9uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBidXR0b25Db250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclZlbm1vQnV0dG9uKFxuICAgICAgICBicmFpbnRyZWVWZW5tb0NoZWNrb3V0OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgICAgICBjb250YWluZXJJZDogc3RyaW5nLFxuICAgICAgICBidXlOb3dJbml0aWFsaXplT3B0aW9ucz86IEJ1eU5vd0luaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBidXR0b25TdHlsZXM/OiBQYXlwYWxTdHlsZU9wdGlvbnMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZlbm1vQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuICAgICAgICBjb25zdCB7IGNvbG9yIH0gPSBidXR0b25TdHlsZXMgfHwge307XG5cbiAgICAgICAgaWYgKCF2ZW5tb0J1dHRvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gY3JlYXRlIHdhbGxldCBidXR0b24gd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2ZW5tb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVmVubW8nKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih2ZW5tb0J1dHRvbi5zdHlsZSwgZ2V0VmVubW9CdXR0b25TdHlsZShidXR0b25TdHlsZXMgfHwge30pKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1pc3VzZWQtcHJvbWlzZXNcbiAgICAgICAgdmVubW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2ZW5tb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgY29uc3QgYnV5Qm93Q2FydCA9IGF3YWl0IHRoaXMuY3JlYXRlQnV5Tm93Q2FydChidXlOb3dJbml0aWFsaXplT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChicmFpbnRyZWVWZW5tb0NoZWNrb3V0LnRva2VuaXplKSB7XG4gICAgICAgICAgICAgICAgYnJhaW50cmVlVmVubW9DaGVja291dC50b2tlbml6ZShcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IEJyYWludHJlZUVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbm1vQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQb3N0Rm9ybShwYXlsb2FkLCBidXlCb3dDYXJ0Py5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNvbG9yID09PSBQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uLkJMVUUpIHtcbiAgICAgICAgICAgIHZlbm1vQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmVubW9CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmVubW9CdXR0b25TdHlsZUhvdmVyLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2ZW5tb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZlbm1vQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGdldFZlbm1vQnV0dG9uU3R5bGUoXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0eWxlcyB8fCB7fSxcbiAgICAgICAgICAgICAgICApLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVQb3N0Rm9ybShcbiAgICAgICAgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkLFxuICAgICAgICBidXlOb3dDYXJ0SWQ/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgeyBub25jZSwgZGV0YWlscyB9ID0gcGF5bG9hZDtcblxuICAgICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0oJy9jaGVja291dC5waHAnLCB7XG4gICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnYnJhaW50cmVldmVubW8nLFxuICAgICAgICAgICAgcGF5bWVudF90eXBlOiAncGF5cGFsJyxcbiAgICAgICAgICAgIGRldmljZV9kYXRhOiBkZXZpY2VEYXRhLFxuICAgICAgICAgICAgYWN0aW9uOiAnc2V0X2V4dGVybmFsX2NoZWNrb3V0JyxcbiAgICAgICAgICAgIGJpbGxpbmdfYWRkcmVzczogSlNPTi5zdHJpbmdpZnkobWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhkZXRhaWxzKSksXG4gICAgICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShtYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcyhkZXRhaWxzKSksXG4gICAgICAgICAgICAuLi4oYnV5Tm93Q2FydElkICYmIHsgY2FydF9pZDogYnV5Tm93Q2FydElkIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFVuc3VwcG9ydGVkQnJvd3NlckVycm9yIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcjtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlU2NyaXB0TG9hZGVyLFxuICAgIEJyYWludHJlZVNkayxcbiAgICBCcmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneSBmcm9tICcuL2JyYWludHJlZS12ZW5tby1idXR0b24tc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5OiBDaGVja291dEJ1dHRvblN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBicmFpbnRyZWVIb3N0V2luZG93OiBCcmFpbnRyZWVIb3N0V2luZG93ID0gd2luZG93O1xuICAgIGNvbnN0IHNjcmlwdExvYWRlciA9IGdldFNjcmlwdExvYWRlcigpO1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIGNvbnN0IGJyYWludHJlZVNjcmlwdExvYWRlciA9IG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoXG4gICAgICAgIHNjcmlwdExvYWRlcixcbiAgICAgICAgYnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNkayA9IG5ldyBCcmFpbnRyZWVTZGsoYnJhaW50cmVlU2NyaXB0TG9hZGVyKTtcblxuICAgIHJldHVybiBuZXcgQnJhaW50cmVlVmVubW9CdXR0b25TdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgY3JlYXRlRm9ybVBvc3RlcigpLFxuICAgICAgICBicmFpbnRyZWVTZGssXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5LCBbeyBpZDogJ2JyYWludHJlZXZlbm1vJyB9XSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImlzRXhwZXJpbWVudEVuYWJsZWQiLCJmZWF0dXJlcyIsImV4cGVyaW1lbnROYW1lIiwiZmFsbGJhY2tWYWx1ZSIsImQiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04iLCJCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OIiwiQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJicmFpbnRyZWVXaW5kb3ciLCJ3aW5kb3ciLCJnZXRTREtWZXJzaW9uIiwic3RvcmVDb25maWciLCJ0aGlzIiwiZ2V0U3RhdGUiLCJnZXRTdG9yZUNvbmZpZyIsImNoZWNrb3V0U2V0dGluZ3MiLCJnZXRQcmVsb2FkZWRTREtWZXJzaW9uIiwiYnJhaW50cmVlIiwicHJlbG9hZGVkVmVyc2lvbiIsImZpbmQiLCJ2YWx1ZXMiLCJtb2R1bGUiLCJWRVJTSU9OIiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJQYXltZW50SW52YWxpZEZvcm1FcnJvciIsImRldGFpbHMiLCJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJzdWJ0eXBlIiwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZCIsIlBheW1lbnROb3RJbml0aWFsaXplZCIsIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQiLCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkIiwiZ2V0RXJyb3JNZXNzYWdlIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiQ2FuY2VsbGFibGVQcm9taXNlIiwicHJvbWlzZSIsImNhbmNlbGxhYmxlIiwiUHJvbWlzZSIsIl8iLCJyZWplY3QiLCJjYW5jZWwiLCJyYWNlIiwicGF5cGFsU2RrUHJvbWlzZSIsIlBBWVBBTF9DT01QT05FTlRTIiwiUGF5cGFsQnV0dG9uU3R5bGVMYXlvdXRPcHRpb24iLCJQYXlwYWxCdXR0b25TdHlsZVNpemVPcHRpb24iLCJQYXlwYWxCdXR0b25TdHlsZUNvbG9yT3B0aW9uIiwiUGF5cGFsQnV0dG9uU3R5bGVMYWJlbE9wdGlvbiIsIlBheXBhbEJ1dHRvblN0eWxlU2hhcGVPcHRpb24iLCJNZXNzYWdpbmdQbGFjZW1lbnRzIiwiQnJhaW50cmVlRW52IiwiQnJhaW50cmVlTW9kdWxlTmFtZSIsIkJyYWludHJlZUZvcm1GaWVsZFR5cGUiLCJpc0JyYWludHJlZUVycm9yIiwiZXJyb3IiLCJCb29sZWFuIiwiQnJhaW50cmVlSW50ZWdyYXRpb25TZXJ2aWNlIiwiYnJhaW50cmVlU2NyaXB0TG9hZGVyIiwiYnJhaW50cmVlSG9zdFdpbmRvdyIsIm92ZXJsYXkiLCJkYXRhQ29sbGVjdG9ycyIsImluaXRpYWxpemUiLCJjbGllbnRUb2tlbiIsInRocmVlRFNlY3VyZU9wdGlvbnMiLCJnZXRCcmFpbnRyZWVGYXN0bGFuZSIsImNhcmRJZCIsImlzVGVzdE1vZGVFbmFibGVkIiwic3R5bGVzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImJyYWludHJlZUZhc3RsYW5lIiwiZ2V0Q2xpZW50VG9rZW5PclRocm93IiwiY2xpZW50IiwiZ2V0Q2xpZW50IiwiZGV2aWNlRGF0YSIsImdldFNlc3Npb25JZCIsImJyYWludHJlZUZhc3RsYW5lQ3JlYXRvciIsImxvYWRGYXN0bGFuZSIsImRlZmF1bHRTdHlsZXMiLCJyb290IiwiYmFja2dyb3VuZENvbG9yUHJpbWFyeSIsImNyZWF0ZSIsImF1dGhvcml6YXRpb24iLCJjbGllbnRDcmVhdG9yIiwibG9hZENsaWVudCIsImdldFBheXBhbCIsImJyYWludHJlZVBheXBhbCIsImFsbCIsImxvYWRQYXlwYWwiLCJ0aGVuIiwicGF5cGFsIiwic2hvdWxkU2F2ZUluc3RydW1lbnQiLCJjb25maWciLCJuZXdXaW5kb3dGbG93Iiwic3VwcG9ydHNQb3B1cHMiLCJzaG93Iiwib25DbGljayIsImZvY3VzV2luZG93IiwidG9rZW5pemUiLCJlbmFibGVTaGlwcGluZ0FkZHJlc3MiLCJmbG93IiwidXNlcmFjdGlvbiIsInJlc3BvbnNlIiwicmVtb3ZlIiwiY2F0Y2giLCJnZXRQYXlwYWxDaGVja291dCIsIm9uU3VjY2VzcyIsIm9uRXJyb3IiLCJwYXlwYWxDaGVja291dCIsImxvYWRQYXlwYWxDaGVja291dCIsInBheXBhbENoZWNrb3V0Q29uZmlnIiwiYnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQiLCJwYXlwYWxTZGtMb2FkQ29uZmlnIiwiY3VycmVuY3kiLCJpc0NyZWRpdEVuYWJsZWQiLCJjb21wb25lbnRzIiwidG9TdHJpbmciLCJpbnRlbnQiLCJjb21taXQiLCJyZXNvbHZlIiwibG9hZFBheVBhbFNESyIsImVyciIsImxvYWRQYXlQYWxTREtPbmNlIiwiZ2V0RGF0YUNvbGxlY3RvciIsIm9wdGlvbnMiLCJjYWNoZUtleSIsImNhY2hlZCIsImRhdGFDb2xsZWN0b3IiLCJsb2FkRGF0YUNvbGxlY3RvciIsImRhdGFDb2xsZWN0b3JDb25maWciLCJrb3VudCIsImNvZGUiLCJ1bmRlZmluZWQiLCJ0ZWFyZG93biIsImdldEJyYWludHJlZUVudiIsImlzVGVzdE1vZGUiLCJTYW5kYm94IiwiUHJvZHVjdGlvbiIsIm1hcFRvQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUiLCJhZGRyZXNzIiwicmVjaXBpZW50TmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwibGluZTEiLCJhZGRyZXNzMSIsImxpbmUyIiwiYWRkcmVzczIiLCJjaXR5Iiwic3RhdGUiLCJzdGF0ZU9yUHJvdmluY2VDb2RlIiwicG9zdGFsQ29kZSIsImNvdW50cnlDb2RlIiwicGhvbmUiLCJtYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcyIsImVtYWlsIiwic2hpcHBpbmdBZGRyZXNzIiwic3BsaXQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwicGhvbmVfbnVtYmVyIiwiYWRkcmVzc19saW5lXzEiLCJhZGRyZXNzX2xpbmVfMiIsImNvdW50cnlfY29kZSIsInBvc3RhbF9jb2RlIiwibWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyIsImJpbGxpbmdBZGRyZXNzIiwicmVtb3ZlRWxlbWVudCIsImVsZW1lbnRJZCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FydElkIiwicmlza0NvcnJlbGF0aW9uSWQiLCJ0ZWFyZG93bk1vZHVsZSIsImRlZmF1bHQiLCJnZXQzRFMiLCJ0aHJlZURTIiwibG9hZDNEUyIsInRocmVlRFNlY3VyZSIsInZlcnNpb24iLCJnZXRWZW5tb0NoZWNrb3V0IiwidmVubW9Db25maWciLCJ2ZW5tb0NoZWNrb3V0IiwibG9hZFZlbm1vQ2hlY2tvdXQiLCJ2ZW5tb0NoZWNrb3V0Q29uZmlnIiwiYWxsb3dEZXNrdG9wIiwicGF5bWVudE1ldGhvZFVzYWdlIiwiYnJhaW50cmVlVmVubW9DaGVja291dCIsImlzQnJvd3NlclN1cHBvcnRlZCIsInZlcmlmeUNhcmQiLCJwYXltZW50IiwiYW1vdW50IiwidG9rZW5pemF0aW9uUGF5bG9hZCIsInRva2VuaXplQ2FyZCIsImNoYWxsZW5nZTNEU1ZlcmlmaWNhdGlvbiIsInBheW1lbnREYXRhIiwiaW5zdHJ1bWVudCIsImNyZWRpdENhcmRJbnN0cnVtZW50IiwiY2NFeHBpcnkiLCJjY051bWJlciIsImNjTmFtZSIsImlzQ3JlZGl0Q2FyZEluc3RydW1lbnRMaWtlIiwiZXJyb3JzIiwiZ2V0RXJyb3JzUmVxdWlyZWRGaWVsZHMiLCJpc0VtcHR5IiwicmVxdWVzdERhdGEiLCJtYXBUb0NyZWRpdENhcmQiLCJjcmVkaXRDYXJkcyIsInJlcXVlc3QiLCJub25jZSIsImJpbiIsInByZXNlbnQzRFNDaGFsbGVuZ2UiLCJjcmVkaXRDYXJkIiwiZGF0YSIsImNhcmRob2xkZXJOYW1lIiwibnVtYmVyIiwiY3Z2IiwiY2NDdnYiLCJleHBpcmF0aW9uRGF0ZSIsIm1vbnRoIiwieWVhciIsInZhbGlkYXRlIiwiY291bnRyeUNvZGVBbHBoYTIiLCJsb2NhbGl0eSIsImNvdW50cnlOYW1lIiwiY291bnRyeSIsInN0cmVldEFkZHJlc3MiLCJlbmRwb2ludCIsIm1ldGhvZCIsImFkZEZyYW1lIiwicmVtb3ZlRnJhbWUiLCJjaGFsbGVuZ2VSZXF1ZXN0ZWQiLCJhZGRpdGlvbmFsSW5mb3JtYXRpb24iLCJjYW5jZWxWZXJpZnlDYXJkIiwidmVyaWZpY2F0aW9uIiwicm91bmRlZEFtb3VudCIsInRvRml4ZWQiLCJpZnJhbWUiLCJOdW1iZXIiLCJvbkxvb2t1cENvbXBsZXRlIiwiX2RhdGEiLCJuZXh0IiwiY29sbGVjdERldmljZURhdGEiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIkJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkiLCJDbGllbnQiLCJQYXlwYWxDaGVja291dCIsIlBheXBhbCIsIkxvY2FsUGF5bWVudCIsIkRhdGFDb2xsZWN0b3IiLCJVc0JhbmtBY2NvdW50IiwiR29vZ2xlUGF5bWVudCIsIlRocmVlRFNlY3VyZSIsIlZpc2FDaGVja291dCIsIlZlbm1vIiwiSG9zdGVkRmllbGRzIiwiRmFzdGxhbmUiLCJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIkJyYWludHJlZVNjcmlwdExvYWRlciIsInNjcmlwdExvYWRlciIsImJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIiwibG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3ciLCJsb2FkTG9jYWxQYXltZW50IiwibG9hZFVzQmFua0FjY291bnQiLCJsb2FkR29vZ2xlUGF5bWVudCIsImxvYWRWaXNhQ2hlY2tvdXQiLCJsb2FkSG9zdGVkRmllbGRzIiwibG9hZFZpc2FDaGVja291dFNkayIsInRlc3RNb2RlIiwiViIsImhhc2giLCJsb2FkU2NyaXB0IiwiYXN5bmMiLCJhdHRyaWJ1dGVzIiwiaW50ZWdyaXR5IiwiY3Jvc3NvcmlnaW4iLCJicmFpbnRyZWVNb2R1bGVOYW1lIiwiZmlsZU5hbWUiLCJnZXRCcmFpbnRyZWVNb2R1bGUiLCJicmFpbnRyZWVTZGtWZXJzaW9uIiwic2NyaXB0UGF0aCIsImdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZSIsIm1vZHVsZU5hbWUiLCJ0b1Jlc29sdmFibGVNb2R1bGUiLCJyZXNvbHZlSWRzIiwiYXNzaWduIiwiTWlzc2luZ0RhdGFFcnJvciIsIk1pc3NpbmdCaWxsaW5nQWRkcmVzcyIsIk1pc3NpbmdDYXJ0IiwiTWlzc2luZ0NvbnNpZ25tZW50cyIsIk1pc3NpbmdDaGVja291dCIsIk1pc3NpbmdDdXN0b21lciIsIk1pc3NpbmdDaGVja291dENvbmZpZyIsIk1pc3NpbmdPcmRlckNvbmZpZyIsIk1pc3NpbmdPcmRlciIsIk1pc3NpbmdPcmRlcklkIiwiTWlzc2luZ1BheW1lbnQiLCJNaXNzaW5nUGF5bWVudFRva2VuIiwiTWlzc2luZ1BheW1lbnRNZXRob2QiLCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzIiwiQnJhaW50cmVlUGF5cGFsQ3VzdG9tZXJTdHJhdGVneSIsImZvcm1Qb3N0ZXIiLCJicmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2UiLCJicmFpbnRyZWVwYXlwYWwiLCJtZXRob2RJZCIsImNvbnRhaW5lciIsInBheW1lbnRNZXRob2QiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsIl9lIiwibG9hZFBheW1lbnRNZXRob2QiLCJpbml0aWFsaXphdGlvbkRhdGEiLCJwYXltZW50QnV0dG9uU3R5bGVzIiwiY2hlY2tvdXRUb3BCdXR0b25TdHlsZXMiLCJwYXlwYWxDaGVja291dE9wdGlvbnMiLCJnZXRDYXJ0T3JUaHJvdyIsInJlbmRlclBheVBhbEJ1dHRvbiIsImhhbmRsZUVycm9yIiwiZGVpbml0aWFsaXplIiwic2lnbkluIiwiY3JlZGVudGlhbHMiLCJzaWduSW5DdXN0b21lciIsInNpZ25PdXQiLCJzaWduT3V0Q3VzdG9tZXIiLCJleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0IiwiY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayIsImJ1dHRvblN0eWxlcyIsIm5vb3AiLCJmdW5kaW5nU291cmNlIiwiRlVORElORyIsIlBBWVBBTCIsInBheXBhbEJ1dHRvblJlbmRlciIsIkJ1dHRvbnMiLCJlbnYiLCJzdHlsZSIsImhlaWdodCIsImNyZWF0ZU9yZGVyIiwic2V0dXBQYXltZW50Iiwib25BcHByb3ZlIiwiYXV0aG9yaXplRGF0YSIsInRva2VuaXplUGF5bWVudCIsImlzRWxpZ2libGUiLCJyZW5kZXIiLCJsb2FkRGVmYXVsdENoZWNrb3V0IiwiZ2V0Q2hlY2tvdXRPclRocm93Iiwib3V0c3RhbmRpbmdCYWxhbmNlIiwiY3VzdG9tZXIiLCJnZXRDdXN0b21lciIsImFkZHJlc3NlcyIsInNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIiwiY3JlYXRlUGF5bWVudCIsInNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlIiwib2ZmZXJDcmVkaXQiLCJ0b2tlbml6ZVBheWxvYWQiLCJwb3N0Rm9ybSIsInBheW1lbnRfdHlwZSIsInByb3ZpZGVyIiwiYWN0aW9uIiwiZGV2aWNlX2RhdGEiLCJiaWxsaW5nX2FkZHJlc3MiLCJKU09OIiwic3RyaW5naWZ5Iiwic2hpcHBpbmdfYWRkcmVzcyIsImJ1dHRvbkNvbnRhaW5lcklkIiwib25FcnJvckNhbGxiYWNrIiwiZ2V0U2NyaXB0TG9hZGVyIiwiY3JlYXRlRm9ybVBvc3RlciIsImlkIiwiQnJhaW50cmVlUGF5cGFsQ3JlZGl0Q3VzdG9tZXJTdHJhdGVneSIsImJyYWludHJlZXBheXBhbGNyZWRpdCIsImhhc1JlbmRlcmVkU21hcnRCdXR0b24iLCJQQVlMQVRFUiIsIkNSRURJVCIsImZvckVhY2giLCJpc0ludmFsaWRTdHlsZU9wdGlvbiIsInN0eWxlT3B0aW9uIiwiZ2V0RmFzdGxhbmVTdHlsZXMiLCJzdHlsZVNldHRpbmdzIiwidWlTdHlsZXMiLCJmYXN0bGFuZVN0eWxlcyIsIm9taXRCeSIsImlucHV0IiwidG9nZ2xlIiwidGV4dEJvZHkiLCJ0ZXh0IiwiYm9keSIsInRleHRDYXB0aW9uIiwiY2FwdGlvbiIsImJyYW5kaW5nIiwia2V5cyIsImxlbmd0aCIsImNsZWFuVXBGYXN0bGFuZVN0eWxlcyIsImZhc3RsYW5lUm9vdFNldHRpbmdzQmFja2dyb3VuZENvbG9yIiwiZXJyb3JDb2xvciIsImZhc3RsYW5lUm9vdFNldHRpbmdzRXJyb3JDb2xvciIsImZvbnRGYW1pbHkiLCJmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRGYW1pbHkiLCJmb250U2l6ZUJhc2UiLCJmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplIiwicGFkZGluZyIsImZhc3RsYW5lUm9vdFNldHRpbmdzUGFkZGluZyIsInByaW1hcnlDb2xvciIsImZhc3RsYW5lUm9vdFNldHRpbmdzUHJpbWFyeUNvbG9yIiwiYm9yZGVyUmFkaXVzIiwiZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyUmFkaXVzIiwiYm9yZGVyQ29sb3IiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJDb2xvciIsImZvY3VzQm9yZGVyQ29sb3IiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NGb2N1c0JvcmRlckJhc2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmYXN0bGFuZUlucHV0U2V0dGluZ3NCYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJXaWR0aCIsImZhc3RsYW5lSW5wdXRTZXR0aW5nc0JvcmRlcldpZHRoIiwidGV4dENvbG9yQmFzZSIsImZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2UiLCJjb2xvclByaW1hcnkiLCJmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JQcmltYXJ5IiwiY29sb3JTZWNvbmRhcnkiLCJmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnkiLCJjb2xvciIsImZhc3RsYW5lVGV4dEJvZHlTZXR0aW5nc0NvbG9yIiwiZm9udFNpemUiLCJmYXN0bGFuZVRleHRCb2R5U2V0dGluZ3NGb250U2l6ZSIsImZhc3RsYW5lVGV4dENhcHRpb25TZXR0aW5nc0NvbG9yIiwiZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemUiLCJmYXN0bGFuZUJyYW5kaW5nU2V0dGluZ3MiLCJtZXJnZUZhc3RsYW5lU3R5bGVzIiwiVG90YWxQcmljZVN0YXR1c1R5cGUiLCJCcmFpbnRyZWVPcmRlclN0YXR1cyIsIk5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzIiwiQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIiwiQnJhaW50cmVlRXJyb3JUeXBlIiwiQnJhaW50cmVlRXJyb3JDb2RlIiwiQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyIsIlVudHJ1c3RlZFNoaXBwaW5nQ2FyZFZlcmlmaWNhdGlvblR5cGUiLCJCcmFpbnRyZWVGYXN0bGFuZUN1c3RvbWVyU3RyYXRlZ3kiLCJicmFpbnRyZWVGYXN0bGFuZVV0aWxzIiwiaXNBY2NlbGVyYXRlZENoZWNrb3V0RW5hYmxlZCIsImJyYWludHJlZWZhc3RsYW5lIiwiZ2V0VmFsaWRQYXltZW50TWV0aG9kT3JUaHJvdyIsImlzRmFzdGxhbmVTdHlsaW5nRW5hYmxlZCIsInBheXBhbEZhc3RsYW5lU3R5bGVzU2V0dGluZ3MiLCJpbml0aWFsaXplQnJhaW50cmVlRmFzdGxhbmVPclRocm93IiwiY2hlY2tvdXRQYXltZW50TWV0aG9kRXhlY3V0ZWQiLCJnZXRDdXN0b21lck9yVGhyb3ciLCJpc0d1ZXN0Iiwic2hvdWxkUnVuQXV0aGVudGljYXRpb25GbG93IiwicnVuUGF5UGFsQXV0aGVudGljYXRpb25GbG93T3JUaHJvdyIsInByaW1hcnlNZXRob2RJZCIsInNob3VsZFJ1bkFjY2VsZXJhdGVkQ2hlY2tvdXQiLCJ2YWxpZFBheW1lbnRNZXRob2RJZCIsIkNvb2tpZVN0b3JhZ2UiLCJjb29raWVLZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJ2YWx1ZSIsImZpcnN0SW5kZXgiLCJpbmRleE9mIiwibGFzdEluZGV4IiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3Vic3RyaW5nIiwic2V0Iiwic2VjdXJlIiwiY29va2llVGV4dCIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwidG9VVENTdHJpbmciLCJub3ciLCJEYXRlIiwibWludXRlcyIsInNldFRpbWUiLCJnZXRUaW1lIiwiQnJhaW50cmVlRmFzdGxhbmVVdGlscyIsImdldERldmljZVNlc3Npb25JZCIsImNhcnQiLCJnZXRDYXJ0IiwiZ2V0QnJhaW50cmVlRmFzdGxhbmVPclRocm93IiwiZ2V0QnJhaW50cmVlRmFzdGxhbmVDb21wb25lbnRPclRocm93IiwiRmFzdGxhbmVDYXJkQ29tcG9uZW50Iiwic2hvdWxkU2V0U2hpcHBpbmdPcHRpb24iLCJnZXRNZXRob2RJZE9yVGhyb3ciLCJsb29rdXBDdXN0b21lckJ5RW1haWwiLCJ0cmlnZ2VyQXV0aGVudGljYXRpb25GbG93IiwiaWRlbnRpdHkiLCJnZXRCaWxsaW5nQWRkcmVzcyIsImlzRmFzdGxhbmVTaGlwcGluZ09wdGlvbkF1dG9TZWxlY3RFbmFibGVkIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyQ29udGV4dElkIiwidXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJhdXRoZW50aWNhdGlvblN0YXRlIiwiVU5SRUNPR05JWkVEIiwiaW5zdHJ1bWVudHMiLCJzYXZlU2Vzc2lvbklkVG9Db29raWVzIiwicHJvZmlsZURhdGEiLCJwaG9uZU51bWJlciIsIkNBTkNFTEVEIiwicmVtb3ZlU2Vzc2lvbklkRnJvbUNvb2tpZXMiLCJzaGlwcGluZ0FkZHJlc3NlcyIsIm1hcFBheVBhbFRvQmNBZGRyZXNzIiwicGF5cGFsQmlsbGluZ0FkZHJlc3MiLCJnZXRQYXlQYWxCaWxsaW5nQWRkcmVzc2VzIiwiYmlsbGluZ0FkZHJlc3NlcyIsImNhcmQiLCJtYXBQYXlQYWxUb0JjSW5zdHJ1bWVudCIsIm1lcmdlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzc2VzIiwibGluZUl0ZW1zIiwicGh5c2ljYWxJdGVtcyIsInVwZGF0ZUJpbGxpbmdBZGRyZXNzIiwiZGlnaXRhbEl0ZW1zIiwiZGlnaXRhbEl0ZW1CaWxsaW5nIiwidXBkYXRlU2hpcHBpbmdBZGRyZXNzIiwic2V0U2hpcHBpbmdPcHRpb24iLCJnZXRTZXNzaW9uSWRGcm9tQ29va2llcyIsInNlc3Npb25JZCIsInNldERhdGUiLCJnZXREYXRlIiwibWFwIiwicGF5bWVudFNvdXJjZSIsImJyYW5kIiwiZXhwaXJ5IiwibGFzdERpZ2l0cyIsImJpbkRldGFpbHMiLCJleHBpcnlZZWFyIiwiZXhwaXJ5TW9udGgiLCJiaWdwYXlUb2tlbiIsImRlZmF1bHRJbnN0cnVtZW50IiwiaWluIiwibGFzdDQiLCJ0cnVzdGVkU2hpcHBpbmdBZGRyZXNzIiwidW50cnVzdGVkU2hpcHBpbmdDYXJkVmVyaWZpY2F0aW9uTW9kZSIsIlBBTiIsInBob25lcyIsImNvdW50cmllcyIsImdldENvdW50cmllcyIsImdldENvdW50cnlOYW1lQnlDb3VudHJ5Q29kZSIsIm1hdGNoZWRDb3VudHJ5IiwiY29tcGFueSIsImV4dGVuZGVkQWRkcmVzcyIsInN0YXRlT3JQcm92aW5jZSIsInJlZ2lvbiIsImN1c3RvbUZpZWxkcyIsImdpdmVuX25hbWUiLCJzdXJuYW1lIiwiaXNFcXVhbCIsIm5vcm1hbGl6ZUFkZHJlc3MiLCJvbWl0IiwiZmlsdGVyZWRCaWxsaW5nQWRkcmVzc2VzIiwiZmlsdGVyIiwic29tZSIsImNvbnNpZ25tZW50cyIsImdldENvbnNpZ25tZW50cyIsImF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsInJlY29tbWVuZGVkU2hpcHBpbmdPcHRpb24iLCJvcHRpb24iLCJpc1JlY29tbWVuZGVkIiwic2VsZWN0ZWRPcHRpb24iLCJzZWxlY3RTaGlwcGluZ09wdGlvbiIsIkJyYWludHJlZVNkayIsInNldENsaWVudFRva2VuIiwiZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3ciLCJlbXB0eURhdGFDb2xsZWN0b3IiLCJLb3VudE5vdEVuYWJsZWQiLCJnZXRCcmFpbnRyZWVHb29nbGVQYXltZW50IiwiZ29vZ2xlUGF5bWVudCIsImJyYWludHJlZUdvb2dsZVBheW1lbnQiLCJnZXRCcmFpbnRyZWVUaHJlZURTIiwiZ2V0QnJhaW50cmVlTG9jYWxQYXltZW50IiwibWVyY2hhbnRBY2NvdW50SWQiLCJicmFpbnRyZWVMb2NhbFBheW1lbnQiLCJsb2NhbFBheW1lbnRDcmVhdG9yIiwiZ2V0VXNCYW5rQWNjb3VudCIsInVzQmFua0FjY291bnQiLCJnZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXQiLCJnZXRWaXNhQ2hlY2tvdXRTZGsiLCJ2aXNhQ2hlY2tvdXRTREsiLCJnZXRWZW5tb0NoZWNrb3V0T3JUaHJvdyIsImJyYWludHJlZVZlbm1vIiwiTm90SW1wbGVtZW50ZWRFcnJvciIsIkJyYWludHJlZVZpc2FDaGVja291dEN1c3RvbWVyU3RyYXRlZ3kiLCJicmFpbnRyZWVTZGsiLCJidXR0b25DbGFzc05hbWUiLCJicmFpbnRyZWV2aXNhY2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXRPcHRpb25zIiwiY2hlY2tvdXQiLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJicmFpbnRyZWVWaXNhQ2hlY2tvdXQiLCJ2aXNhQ2hlY2tvdXRJbnN0YW5jZSIsImluaXRPcHRpb25zIiwiY3JlYXRlSW5pdE9wdGlvbnMiLCJwYXltZW50UmVxdWVzdCIsImN1cnJlbmN5Q29kZSIsInN1YnRvdGFsIiwiU3RyaW5nIiwic2V0dGluZ3MiLCJsb2NhbGUiLCJzdG9yZVByb2ZpbGUiLCJzdG9yZUxhbmd1YWdlIiwic2hpcHBpbmciLCJjb2xsZWN0U2hpcHBpbmciLCJzaWduSW5CdXR0b24iLCJjcmVhdGVTaWduSW5CdXR0b24iLCJpbml0Iiwib24iLCJwYXltZW50U3VjY2Vzc1BheWxvYWQiLCJsb2FkQ2hlY2tvdXQiLCJ2aXNpYmlsaXR5IiwicGF5bG9hZCIsImdldFNoaXBwaW5nQWRkcmVzcyIsImJpbGxpbmciLCJtYXBUb1Zpc2FDaGVja291dEFkZHJlc3MiLCJ1c2VyRGF0YSIsImNhcmRJbmZvcm1hdGlvbiIsInVzZXJFbWFpbCIsImNhcmRfaW5mb3JtYXRpb24iLCJjYXJkVHlwZSIsImxhc3RUd28iLCJnZXRBZGRyZXNzIiwiY29udGFpbmVySWQiLCJidXR0b25DbGFzcyIsInF1ZXJ5U2VsZWN0b3IiLCJpbnNlcnRWaXNhQ2hlY2tvdXRCdXR0b24iLCJ2aXNhQ2hlY2tvdXRCdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJ3aWR0aCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiaG9zdFdpbmRvdyIsImlzVmF1bHRlZEluc3RydW1lbnQiLCJpbnN0cnVtZW50SWQiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJpc0hvc3RlZEluc3RydW1lbnRMaWtlIiwic2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCIsIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvciIsImlzVXNCYW5rQWNjb3VudEluc3RydW1lbnRMaWtlIiwiQnJhaW50cmVlQWNoUGF5bWVudFN0cmF0ZWd5IiwiYnJhaW50cmVlYWNoIiwiZ2V0TWFuZGF0ZVRleHQiLCJoYW5kbGVCcmFpbnRyZWVFcnJvciIsImV4ZWN1dGUiLCJvcmRlclJlcXVlc3QiLCJvcmRlciIsImlzU3VibWl0dGluZ1dpdGhWYXVsdGluZ0luc3RydW1lbnQiLCJ0b2tlbml6ZVBheW1lbnRGb3JWYXVsdGVkSW5zdHJ1bWVudCIsInN1Ym1pdFBheW1lbnRQYXlsb2FkIiwicHJlcGFyZVBheW1lbnREYXRhRm9yVmF1bHRlZEluc3RydW1lbnQiLCJwcmVwYXJlUGF5bWVudERhdGEiLCJzdWJtaXRPcmRlciIsInN1Ym1pdFBheW1lbnQiLCJmaW5hbGl6ZSIsImdldFVzQmFua0FjY291bnRPclRocm93IiwibWFuZGF0ZVRleHQiLCJiYW5rRGV0YWlscyIsImdldEJhbmtEZXRhaWxzIiwiaXNWYXVsdGluZ0VuYWJsZWQiLCJyb3V0aW5nTnVtYmVyIiwiYWNjb3VudE51bWJlciIsImRldmljZVNlc3Npb25JZCIsImZvcm1hdHRlZFBheWxvYWQiLCJ0b2tlbml6ZWRfYmFua19hY2NvdW50IiwiaXNzdWVyIiwibWFza2VkX2FjY291bnRfbnVtYmVyIiwic3Vic3RyIiwidG9rZW4iLCJnZXRCaWxsaW5nQWRkcmVzc09yVGhyb3ciLCJvd25lcnNoaXBUeXBlIiwidG9Mb3dlckNhc2UiLCJhY2NvdW50VHlwZSIsImJ1c2luZXNzTmFtZSIsIkJyYWludHJlZU1lc3NhZ2VzIiwicGxhY2VtZW50IiwibWVzc2FnaW5nQ29udGFpbmVyIiwicGF5cGFsQk5QTENvbmZpZ3VyYXRpb24iLCJiYW5uZWRJZCIsIlBBWU1FTlQiLCJiYW5uZXJDb25maWd1cmF0aW9uIiwic3RhdHVzIiwiQ0FSVCIsInJlbW92ZUF0dHJpYnV0ZSIsIk1lc3NhZ2VzIiwiY2FydEFtb3VudCIsImJ1eWVyQ291bnRyeSIsImdldFBheXBhbE1lc3NhZ2VzU3R5bGVzRnJvbUJOUExDb25maWciLCJtZXNzYWdlc1N0eWxlcyIsImxheW91dCIsImxvZ28iLCJwb3NpdGlvbiIsInJhdGlvIiwic2l6ZSIsIk92ZXJsYXkiLCJjbG9zZUVsZW1lbnQiLCJtYWluRWxlbWVudCIsIl9jcmVhdGVFbGVtZW50cyIsIl9lbGVtZW50IiwiX2Nsb3NlRWxlbWVudCIsIl9tYWluRWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJfcmVnaXN0ZXJDbGljayIsInNldFRpbWVvdXQiLCJvcGFjaXR5IiwiX3VucmVnaXN0ZXJDbGljayIsIl9yZW1vdmVBZnRlclRyYW5zaXRpb24iLCJiYWNrZ3JvdW5kIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiaGFzQ2xvc2VCdXR0b24iLCJpbm5lckh0bWwiLCJjbGFzc0xheW91dCIsImNsYXNzQ2xvc2UiLCJjbGFzc092ZXJsYXlUZXh0Iiwib3ZlcmxheVRleHQiLCJhZGRDbGFzc0xheW91dCIsImlubmVyVGV4dCIsImdldE92ZXJsYXlTdHlsZSIsIl9hZGRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9yZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uQ2xpY2tDbG9zZSIsImhhbmRsZVRyYW5zaXRpb24iLCJldmVudCIsInByb3BlcnR5TmFtZSIsIkRFRkFVTFRfU1RZTEVTIiwiUk9UQVRJT05fQU5JTUFUSU9OIiwiTG9hZGluZ0luZGljYXRvciIsImNvbnRhaW5lclN0eWxlcyIsImRlZmluZUFuaW1hdGlvbiIsImJ1aWxkQ29udGFpbmVyIiwiaW5kaWNhdG9yIiwiYnVpbGRJbmRpY2F0b3IiLCJwYXJlbnRJZCIsInBhcmVudCIsImhpZGUiLCJoYW5kbGVUcmFuc2l0aW9uRW5kIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwidG9wIiwidHJhbnNpdGlvbiIsInNldFN0eWxlQXR0cmlidXRlIiwiYm9yZGVyIiwibWFyZ2luIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtU3R5bGUiLCJhbmltYXRpb24iLCJhdHRycyIsImsiLCJzZXRQcm9wZXJ0eSIsImhlYWQiLCJzaGVldCIsIkNTU1N0eWxlU2hlZXQiLCJpbnNlcnRSdWxlIiwiTE9BRElOR19JTkRJQ0FUT1JfU1RZTEVTIiwiQnJhaW50cmVlUGF5cGFsUGF5bWVudFN0cmF0ZWd5IiwiYnJhaW50cmVlTWVzc2FnZXMiLCJsb2FkaW5nSW5kaWNhdG9yIiwiYnJhaW50cmVlT3B0aW9ucyIsImJhbm5lckNvbnRhaW5lcklkIiwibG9hZFBheXBhbENoZWNrb3V0SW5zdGFuY2UiLCJ1c2VTdG9yZUNyZWRpdCIsImlzUHJvdmlkZXJFcnJvciIsImNsb3NlIiwiX3Jlc29sdmUiLCJicmFpbnRyZWVUb2tlbml6ZVBheWxvYWQiLCJncmFuZFRvdGFsIiwiZ2V0T3V0c3RhbmRpbmdCYWxhbmNlIiwiZ2V0UGF5bWVudE1ldGhvZCIsInZhdWx0UGF5bWVudEluc3RydW1lbnQiLCJ2YXVsdF9wYXltZW50X2luc3RydW1lbnQiLCJzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudCIsImRldmljZV9pbmZvIiwicGF5cGFsX2FjY291bnQiLCJwYXltZW50TWV0aG9kSWQiLCJzaG91bGRTaG93UGF5UGFsQ3JlZGl0QmFubmVyIiwicmVuZGVyUGF5UGFsTWVzc2FnZXMiLCJvblBheW1lbnRFcnJvciIsInN1Ym1pdEZvcm0iLCJvblJlbmRlckJ1dHRvbiIsImxvYWRpbmdJbmRpY2F0b3JDb250YWluZXIiLCJ0b2dnbGVMb2FkaW5nSW5kaWNhdG9yIiwidG9rZW5pemVQYXltZW50T3JUaHJvdyIsIm9uQ2FuY2VsIiwiaXNCcmFpbnRyZWVQYXlwYWxQcm92aWRlckVycm9yIiwiZSIsInByb3ZpZGVyX2Vycm9yIiwiaXNMb2FkaW5nIiwiQ29udGVudFR5cGUiLCJTREtfVkVSU0lPTl9IRUFERVJTIiwiQnJhaW50cmVlUmVxdWVzdFNlbmRlciIsInJlcXVlc3RTZW5kZXIiLCJnZXRPcmRlclN0YXR1cyIsInVybCIsImhlYWRlcnMiLCJKc29uIiwiREVGQVVMVF9SRVNQT05TRSIsIlJlcXVlc3RFcnJvciIsIlBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IiLCJUaW1lb3V0RXJyb3IiLCJCcmFpbnRyZWVMb2NhbE1ldGhvZHNQYXltZW50U3RyYXRlZ3kiLCJicmFpbnRyZWVSZXF1ZXN0U2VuZGVyIiwicG9sbGluZ0ludGVydmFsIiwibWF4UG9sbGluZ0ludGVydmFsVGltZSIsImlzTFBNc1VwZGF0ZUV4cGVyaW1lbnRFbmFibGVkIiwicG9sbGluZ1RpbWVyIiwic3RvcFBvbGxpbmciLCJpc1BvbGxpbmdFbmFibGVkIiwiZ2F0ZXdheUlkIiwiYnJhaW50cmVlbG9jYWxtZXRob2RzIiwibWVyY2hhbnRJZCIsImlzTm9uSW5zdGFudFBheW1lbnRNZXRob2QiLCJleGVjdXRlV2l0aE5vdEluc3RhbnRMUE0iLCJleGVjdXRlV2l0aEluc3RhbnRMUE0iLCJiYXNpY1BheW1lbnREYXRhIiwiZ2V0TFBNc0Jhc2ljUGF5bWVudERhdGEiLCJpc0JyYWludHJlZVJlZGlyZWN0RXJyb3IiLCJyZWRpcmVjdFVybCIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwicmVkaXJlY3RfdXJsIiwibG9jYXRpb24iLCJyZXBsYWNlIiwic3RhcnRQYXltZW50IiwiZ2V0SW5zdGFudExQTUNvbmZpZyIsImdldEluc3RhbnRMUE1DYWxsYmFjayIsImlzU2hpcHBpbmdSZXF1aXJlZCIsImNoZWNrb3V0VXJsIiwibGlua3MiLCJjaGVja291dExpbmsiLCJwYXltZW50VHlwZSIsImZhbGxiYWNrIiwiYnV0dG9uVGV4dCIsInNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkIiwiZ2l2ZW5OYW1lIiwib25QYXltZW50U3RhcnQiLCJzdGFydCIsIm9yZGVySWQiLCJwYXltZW50SWQiLCJvcmRlcl9pZCIsImlzQnJhaW50cmVlT3JkZXJTYXZlZFJlc3BvbnNlIiwib3JkZXJfaWRfc2F2ZWRfc3VjY2Vzc2Z1bGx5IiwiaW5pdGlhbGl6ZVBvbGxpbmdNZWNoYW5pc20iLCJzdGFydFBheW1lbnRFcnJvciIsInBheWxvYWREYXRhIiwicmVzZXRQb2xsaW5nTWVjaGFuaXNtIiwidG9VcHBlckNhc2UiLCJyZXNvbHZlUHJvbWlzZSIsInJlamVjdFByb21pc2UiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwib3JkZXJTdGF0dXMiLCJwYXJhbXMiLCJ1c2VNZXRhZGF0YSIsImlzT3JkZXJQZW5kaW5nIiwiUGVuZGluZyIsImlzT3JkZXJBcHByb3ZlZCIsIkNvbXBsZXRlZCIsImlzUG9sbGluZ0Vycm9yIiwiRmFpbGVkIiwiZGVpbml0aWFsaXplUG9sbGluZ01lY2hhbmlzbSIsInJlaW5pdGlhbGl6ZVN0cmF0ZWd5IiwiY3JlYXRlUmVxdWVzdFNlbmRlciIsImdhdGV3YXkiLCJpc0JyYWludHJlZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lciIsIkJyYWludHJlZUZhc3RsYW5lUGF5bWVudFN0cmF0ZWd5Iiwib25Jbml0Iiwib25DaGFuZ2UiLCJpc1RocmVlRFNFeHBlcmltZW50RW5hYmxlZCIsImlzM0RTRW5hYmxlZCIsImlzM2RzRW5hYmxlZCIsImluaXRpYWxpemVDYXJkQ29tcG9uZW50IiwicmVuZGVyQnJhaW50cmVlQ2FyZENvbXBvbmVudCIsImhhbmRsZUJyYWludHJlZVN0b3JlZEluc3RydW1lbnRDaGFuZ2UiLCJwYXltZW50UGF5bG9hZCIsInByZXBhcmVQYXltZW50UGF5bG9hZCIsImJyYWludHJlZUNhcmRDb21wb25lbnQiLCJmdWxsTmFtZSIsImNhcmRDb21wb25lbnRPcHRpb25zIiwiZmllbGRzIiwicHJlZmlsbCIsImVuYWJsZWQiLCJwYXlwYWxQYXltZW50Q29tcG9uZW50IiwiZ2V0QnJhaW50cmVlQ2FyZENvbXBvbmVudE9yVGhyb3ciLCJwYXlwYWxJbnN0cnVtZW50IiwiZ2V0UGF5UGFsSW5zdHJ1bWVudHMiLCJ0aHJlZURTVG9rZW4iLCJwYXlwYWxfZmFzdGxhbmVfdG9rZW4iLCJnZXRQYXltZW50VG9rZW4iLCJwYXltZW50VG9rZW4iLCJtYXBUb1BheVBhbEFkZHJlc3MiLCJiaW5HdWVzdCIsImdldE9yZGVyT3JUaHJvdyIsIm9yZGVyQW1vdW50IiwidmVyaWZ5RXJyb3IiLCJwYXltZW50UHJvdmlkZXJDdXN0b21lciIsImdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyIiwiYnJhaW50cmVlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJwYXlwYWxGYXN0bGFuZVNlc3Npb25JZCIsImdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdyIsInBheXBhbEF4b1NkayIsInNlbGVjdGlvbkNoYW5nZWQiLCJzZWxlY3RlZENhcmQiLCJwcm9maWxlIiwic2hvd0NhcmRTZWxlY3RvciIsImJyYWludHJlZUZhc3RsYW5lQ3VzdG9tZXIiLCJzZWxlY3RlZEluc3RydW1lbnRzIiwiQnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFN0cmF0ZWd5Iiwib25QYXltZW50U2VsZWN0IiwidmlzYUNoZWNrb3V0U2RrIiwiQnJhaW50cmVlVmVubW9QYXltZW50U3RyYXRlZ3kiLCJ2ZW5tb09wdGlvbnMiLCJicmFpbnRyZWV2ZW5tbyIsImluaXRpYWxpemVCcmFpbnRyZWVWZW5tbyIsImlzQnJhaW50cmVlVmVubW9XZWJGYWxsYmFja1N1cHBvcnQiLCJtb2JpbGVXZWJGYWxsQmFjayIsInRva2VuaXplUmVzdWx0IiwiYnJhaW50cmVlVmVubW9Ub2tlbml6ZSIsIkJyYWludHJlZUNyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kiLCJicmFpbnRyZWVIb3N0ZWRGb3JtIiwiaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQiLCJmb3JtIiwidW5zdXBwb3J0ZWRDYXJkQnJhbmRzIiwiaXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQiLCJpc0luaXRpYWxpemVkIiwic2hvdWxkSW5pdGlhbGl6ZUJyYWludHJlZUZhc3RsYW5lIiwicHJlcGFyZUhvc3RlZFBheW1lbnREYXRhIiwicHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24iLCJpc1BheW1lbnRNZXRob2RJbml0aWFsaXplZCIsInN0YXJ0c1dpdGgiLCJjb21tb25QYXltZW50RGF0YSIsImlzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkIiwic2hvdWxkUGVyZm9ybTNEU1ZlcmlmaWNhdGlvbiIsInRva2VuaXplRm9yU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbiIsInZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybSIsInByZXBhcmVBZGRpdGlvbmFsQWN0aW9uUGF5bWVudERhdGEiLCJwYXllcl9hdXRoX3JlcXVlc3QiLCJzdG9yZWRDcmVkaXRDYXJkTm9uY2UiLCJ0aHJlZV9kc19yZXN1bHQiLCJpc0JyYWludHJlZVBheW1lbnRSZXF1ZXN0M0RTRXJyb3IiLCJnZXRDYXJkSW5zdHJ1bWVudE9yVGhyb3ciLCJuZXdQYXltZW50RGF0YSIsImlzSG9zdGVkRm9ybUVuYWJsZWQiLCJicmFpbnRyZWVDdXN0b21lciIsImlzQnJhaW50cmVlRm9ybUZpZWxkc01hcCIsImlzQnJhaW50cmVlSG9zdGVkRm9ybUVycm9yIiwiaW52YWxpZEZpZWxkS2V5cyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiQnJhaW50cmVlSG9zdGVkRm9ybVR5cGUiLCJCcmFpbnRyZWVIb3N0ZWRGb3JtIiwiaXNJbml0aWFsaXplZEhvc3RlZEZvcm0iLCJoYW5kbGVCbHVyIiwiZm9ybU9wdGlvbnMiLCJvbkJsdXIiLCJmaWVsZFR5cGUiLCJtYXBGaWVsZFR5cGUiLCJlbWl0dGVkQnkiLCJtYXBFcnJvcnMiLCJoYW5kbGVGb2N1cyIsIm9uRm9jdXMiLCJoYW5kbGVDYXJkVHlwZUNoYW5nZSIsImNhcmRzIiwib25DYXJkVHlwZUNoYW5nZSIsImhhbmRsZUlucHV0U3VibWl0UmVxdWVzdCIsIm9uRW50ZXIiLCJoYW5kbGVWYWxpZGl0eUNoYW5nZSIsIm9uVmFsaWRhdGUiLCJpc1ZhbGlkIiwiaXNWYWxpZEZvcm0iLCJtYXBWYWxpZGF0aW9uRXJyb3JzIiwiQ3JlZGl0Q2FyZCIsIlN0b3JlZENhcmRWZXJpZmljYXRpb24iLCJtYXBGaWVsZE9wdGlvbnMiLCJjYXJkRmllbGRzIiwiY3JlYXRlSG9zdGVkRmllbGRzIiwibWFwU3R5bGVPcHRpb25zIiwibWFwQmlsbGluZ0FkZHJlc3MiLCJpc05pbCIsIm1hcFRva2VuaXplRXJyb3IiLCJob3N0ZWRGaWVsZHMiLCJob3N0ZWRGaWVsZHNPcHRpb25zIiwicHJldmVudEN1cnNvckp1bXBzIiwic3VwcG9ydGVkQ2FyZEJyYW5kcyIsImNhcmRCcmFuZCIsImluY2x1ZGVzIiwiY2FyZE51bWJlciIsInBsYWNlaG9sZGVyIiwiaW50ZXJuYWxMYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImNhcmRFeHBpcnkiLCJjYXJkQ29kZSIsImNhcmROYW1lIiwiY2FyZE51bWJlclZlcmlmaWNhdGlvbiIsImNhcmRDb2RlVmVyaWZpY2F0aW9uIiwibWFwU3R5bGVzIiwiZm9udFdlaWdodCIsImZvY3VzIiwiQ2FyZE51bWJlclZlcmlmaWNhdGlvbiIsIkNhcmROdW1iZXIiLCJDYXJkRXhwaXJ5IiwiQ2FyZENvZGVWZXJpZmljYXRpb24iLCJDYXJkQ29kZSIsIkNhcmROYW1lIiwiZW50cmllcyIsImlzVmFsaWRQYXJhbSIsImlzUG90ZW50aWFsbHlWYWxpZCIsInJlZHVjZSIsInJlc3VsdCIsImZpZWxkS2V5IiwiY3JlYXRlSW52YWxpZEVycm9yIiwiaXNTdG9yZWRDYXJkIiwiY3JlYXRlUmVxdWlyZWRFcnJvciIsImZvcm1GaWVsZHMiLCJCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvciIsImdldFZhbGlkQnV0dG9uU3R5bGUiLCJmdW5kaW5naWNvbnMiLCJzaGFwZSIsInRhZ2xpbmUiLCJ2YWxpZFN0eWxlcyIsImdldFZhbGlkSGVpZ2h0IiwiY3VycmVudEhlaWdodCIsImlzTmFOIiwiQnJhaW50cmVlUGF5cGFsQnV0dG9uU3RyYXRlZ3kiLCJidXlOb3dJbml0aWFsaXplT3B0aW9ucyIsInNob3VsZFByb2Nlc3NQYXltZW50Iiwib25BdXRob3JpemVFcnJvciIsIm9uRWxpZ2liaWxpdHlGYWlsdXJlIiwiYnV5Tm93Q2FydCIsImdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSIsImNyZWF0ZUJ1eU5vd0NhcnQiLCJidXlOb3dDYXJ0SWQiLCJjYXJ0X2lkIiwiYnV5Tm93Q2FyZFJlcXVlc3RCb2R5IiwiQnJhaW50cmVlUGF5cGFsQ3JlZGl0QnV0dG9uU3RyYXRlZ3kiLCJpc0Jhbm5lckltcGxlbWVudGF0aW9uRGlzYWJsZWQiLCJtZXNzYWdpbmdDb250YWluZXJJZCIsImJ1dHRvblN0eWxlIiwibGFiZWwiLCJCcmFpbnRyZWVWaXNhQ2hlY2tvdXRCdXR0b25TdHJhdGVneSIsInBheW1lbnRTdWNjZXNzIiwidG9WaXNhQ2hlY2tvdXRBZGRyZXNzIiwiYWxpZ25JdGVtcyIsImdldFZlbm1vQnV0dG9uU3R5bGUiLCJjIiwiV0hJVEUiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRJbWFnZSIsIkJMVUUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiY3Vyc29yIiwibWluSGVpZ2h0IiwibWluV2lkdGgiLCJCcmFpbnRyZWVWZW5tb0J1dHRvblN0cmF0ZWd5IiwiY2FydEJ1dHRvblN0eWxlcyIsInJlbmRlclZlbm1vQnV0dG9uIiwiaXNVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciIsImhhbmRsZUluaXRpYWxpemF0aW9uVmVubW9FcnJvciIsImNhcnRSZXF1ZXN0Qm9keSIsInJlbW92ZVZlbm1vQ29udGFpbmVyIiwiYnV0dG9uQ29udGFpbmVyIiwidmVubW9CdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJidXlCb3dDYXJ0IiwiaGFuZGxlUG9zdEZvcm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/braintree.js\n\n}");

/***/ })

}]);