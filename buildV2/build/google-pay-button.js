/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["google-pay-button"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/google-pay.js":
/*!**************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/google-pay.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGooglePayAdyenV2ButtonStrategy: () => (/* binding */ Ee),\n/* harmony export */   createGooglePayAdyenV2CustomerStrategy: () => (/* binding */ nn),\n/* harmony export */   createGooglePayAdyenV2PaymentStrategy: () => (/* binding */ Tt),\n/* harmony export */   createGooglePayAdyenV3ButtonStrategy: () => (/* binding */ De),\n/* harmony export */   createGooglePayAdyenV3CustomerStrategy: () => (/* binding */ on),\n/* harmony export */   createGooglePayAdyenV3PaymentStrategy: () => (/* binding */ Nt),\n/* harmony export */   createGooglePayAuthorizeDotNetButtonStrategy: () => (/* binding */ Re),\n/* harmony export */   createGooglePayAuthorizeDotNetCustomerStrategy: () => (/* binding */ an),\n/* harmony export */   createGooglePayAuthorizeNetPaymentStrategy: () => (/* binding */ Rt),\n/* harmony export */   createGooglePayBigCommercePaymentsButtonStrategy: () => (/* binding */ Me),\n/* harmony export */   createGooglePayBigCommercePaymentsCustomerStrategy: () => (/* binding */ pn),\n/* harmony export */   createGooglePayBigCommercePaymentsPaymentStrategy: () => (/* binding */ Xt),\n/* harmony export */   createGooglePayBnzCustomerStrategy: () => (/* binding */ cn),\n/* harmony export */   createGooglePayBraintreeButtonStrategy: () => (/* binding */ Pe),\n/* harmony export */   createGooglePayBraintreeCustomerStrategy: () => (/* binding */ yn),\n/* harmony export */   createGooglePayBraintreePaymentStrategy: () => (/* binding */ Lt),\n/* harmony export */   createGooglePayCheckoutComButtonStrategy: () => (/* binding */ Fe),\n/* harmony export */   createGooglePayCheckoutComCustomerStrategy: () => (/* binding */ rn),\n/* harmony export */   createGooglePayCheckoutComPaymentStrategy: () => (/* binding */ zt),\n/* harmony export */   createGooglePayCybersourceButtonStrategy: () => (/* binding */ Ve),\n/* harmony export */   createGooglePayCybersourceCustomerStrategy: () => (/* binding */ sn),\n/* harmony export */   createGooglePayCybersourcePaymentStrategy: () => (/* binding */ Gt),\n/* harmony export */   createGooglePayOrbitalButtonStrategy: () => (/* binding */ He),\n/* harmony export */   createGooglePayOrbitalCustomerStrategy: () => (/* binding */ dn),\n/* harmony export */   createGooglePayOrbitalPaymentStrategy: () => (/* binding */ xt),\n/* harmony export */   createGooglePayPPCPPaymentStrategy: () => (/* binding */ Wt),\n/* harmony export */   createGooglePayPayPalCommerceButtonStrategy: () => (/* binding */ Ie),\n/* harmony export */   createGooglePayPayPalCommerceCustomerStrategy: () => (/* binding */ gn),\n/* harmony export */   createGooglePayStripeButtonStrategy: () => (/* binding */ ut),\n/* harmony export */   createGooglePayStripeCustomerStrategy: () => (/* binding */ ln),\n/* harmony export */   createGooglePayStripePaymentStrategy: () => (/* binding */ Bt),\n/* harmony export */   createGooglePayStripeUpeCustomerStrategy: () => (/* binding */ un),\n/* harmony export */   createGooglePayTdOnlineMartButtonStrategy: () => (/* binding */ ft),\n/* harmony export */   createGooglePayTdOnlineMartCustomerStrategy: () => (/* binding */ mn),\n/* harmony export */   createGooglePayTdOnlineMartPaymentStrategy: () => (/* binding */ Qt),\n/* harmony export */   createGooglePayWorldpayAccessButtonStrategy: () => (/* binding */ yt),\n/* harmony export */   createGooglePayWorldpayAccessCustomerStrategy: () => (/* binding */ hn),\n/* harmony export */   createGooglePayWorldpayAccessPaymentStrategy: () => (/* binding */ jt)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\nvar l={};function u(e,t,n=!0){var i;return null!==(i=e[t])&&void 0!==i?i:n}l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const h=\"3.128.0\",y=\"3.123.2\",g=\"3.106.0\";class p{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(u(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?h:u(t,\"PAYPAL-5636.update_braintree_sdk_version\")?y:g)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const t=(0,lodash__WEBPACK_IMPORTED_MODULE_3__.find)(Object.values(e),e=>!!e.VERSION);return null==t?void 0:t.VERSION}}}class m extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class f extends m{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}var w,P,v,_,C,b,S,I;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(w||(w={}));class O extends m{constructor(e){super(function(e){switch(e){case w.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case w.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case w.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case w.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(P||(P={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(v||(v={})),function(e){e.TRUSTLY=\"trustly\"}(_||(_={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(C||(C={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(b||(b={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(S||(S={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(I||(I={}));var k,A,T,M=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class E{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return M(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return M(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return M(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),n=yield this.braintreeScriptLoader.loadDataCollector(),i=Object.assign({client:t,kount:!0},e);this.dataCollector=yield n.create(i)}catch(e){if(function(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}(e)&&e.code===S.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return M(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return M(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return M(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,n]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((i,o)=>{n.create({client:t,merchantAccountId:e},(e,t)=>{e&&o(e),i(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return M(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return M(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return M(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),n={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},i=yield t.create(n);if(!i.isBrowserSupported())throw new f;this.braintreeVenmo=i}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new O(w.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}class D extends m{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}!function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(k||(k={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(A||(A={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(T||(T={}));const N={[g]:{[A.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[A.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[A.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[A.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[A.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[A.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[A.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[A.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[A.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[A.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[A.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[A.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[y]:{[A.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[A.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[A.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[A.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[A.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[A.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[A.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[A.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[A.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[A.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[A.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[A.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[h]:{[A.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[A.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[A.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[A.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[A.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[A.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[A.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[A.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[A.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[A.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[A.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[A.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var R,z,G=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class x{constructor(e,t,n){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=n}loadClient(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.Client,\"client.min.js\")})}loadFastlane(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.GooglePayment,\"google-payment.min.js\")})}load3DS(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(A.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(A.Venmo,\"venmo.min.js\")}loadHostedFields(){return G(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(A.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return G(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new D;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return G(this,void 0,void 0,function*(){let n=this.getBraintreeModule(e);if(n)return n;const i=this.braintreeSDKVersionManager.getSDKVersion(),o=`//js.braintreegateway.com/web/${i}/js/${t}`,a=i in N?this.getIntegrityValuesByModuleName(e,i):void 0;if(yield this.scriptLoader.loadScript(o,a?{async:!0,attributes:{integrity:a,crossorigin:\"anonymous\"}}:void 0),n=this.getBraintreeModule(e),!n)throw new D;return n})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const n=N[t][e];if(!n)throw new Error(\"Unexpected fileName value\");return n}}function B(e,t){return Object.assign(e,{resolveIds:t})}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(R||(R={}));class j extends m{constructor(e){super(function(e){switch(e){case R.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case R.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case R.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case R.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case R.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case R.MissingCheckoutConfig:case R.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case R.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case R.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case R.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case R.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case R.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case R.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class L extends m{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class F{constructor(e){const t=new Promise((e,t)=>{this.cancel=t});this.promise=Promise.race([e,t])}}!function(e){e.ADYEN_V2=\"googlepayadyenv2\",e.ADYEN_V3=\"googlepayadyenv3\",e.AUTHORIZE_NET=\"googlepayauthorizenet\",e.BNZ=\"googlepaybnz\",e.BRAINTREE=\"googlepaybraintree\",e.PAYPAL_COMMERCE=\"googlepaypaypalcommerce\",e.BIGCOMMERCE_PAYMENTS=\"googlepay_bigcommerce_payments\",e.CHECKOUT_COM=\"googlepaycheckoutcom\",e.CYBERSOURCE_V2=\"googlepaycybersourcev2\",e.ORBITAL=\"googlepayorbital\",e.STRIPE=\"googlepaystripe\",e.STRIPE_UPE=\"googlepaystripeupe\",e.STRIPE_OCS=\"googlepaystripeocs\",e.WORLDPAY_ACCESS=\"googlepayworldpayaccess\",e.TD_ONLINE_MART=\"googlepaytdonlinemart\"}(z||(z={}));function U(e,t,n){if(\"function\"!=typeof n.value)return n;let i=n.value;return{get(){const e=i.bind(this);return Object.defineProperty(this,t,Object.assign(Object.assign({},n),{value:e})),e},set(e){i=e}}}class V{constructor(e){if(!e)throw new Error(\"Currency settings missing\");const{decimalPlaces:t,symbolLocation:n,symbol:i,thousandsSeparator:o,decimalSeparator:a}=e;if(\"string\"!=typeof n||\"string\"!=typeof i||\"string\"!=typeof o||\"string\"!=typeof a||\"string\"!=typeof t)throw new L(\"Invalid currency settings provided\");this._decimalPlaces=parseInt(t,10),this._symbolLocation=n,this._symbol=i,this._thousandsSeparator=o,this._decimalSeparator=a}format(e){if(\"number\"!=typeof e)throw new L(\"Invalid amount provided\");const t=this._formatNumber(e),n=this._formatCurrency(t);return e<0?`-${n}`:n}_formatNumber(e){const t=Math.abs(e),[n,i=\"\"]=this._toFixed(t,this._decimalPlaces).split(\".\"),o=n.replace(/\\B(?=(\\d{3})+(?!\\d))/g,this._thousandsSeparator);return this._decimalPlaces<1?o:[o,i].join(this._decimalSeparator)}_formatCurrency(e){return\"left\"===this._symbolLocation.toLowerCase()?`${this._symbol}${e}`:`${e}${this._symbol}`}_toFixed(e,t){return(+`${Math.round(+`${e}e${t}`)}e${-t}`).toFixed(t)}}let q=class{constructor(e){this._storeConfig=e,this._customerFormatter=new V(this._storeConfig.shopperCurrency),this._storeFormatter=new V(this._storeConfig.currency)}toCustomerCurrency(e){const t=this._storeConfig.shopperCurrency.exchangeRate;return this._customerFormatter.format(e*t)}toStoreCurrency(e){return this._storeFormatter.format(e)}};q=function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t,n){return t&&n?U(0,t,n):function(e){const t=class extends e{};return Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&\"constructor\"!==n&&Object.defineProperty(t.prototype,n,U(e.prototype,n,i))}),t}(e)}],q);const H=q;function W(e,t){if(null==e)throw t?t():new Error(\"An unexpected error has occurred.\");return e}var Y,J,K,Z,X,Q,$,ee,te;function ne(e){return e in Q}!function(e){e.AUTHORIZE=\"authorize\",e.CAPTURE=\"capture\"}(Y||(Y={})),function(e){e.paypal=\"paypal\",e.checkout=\"checkout\",e.buynow=\"buynow\",e.pay=\"pay\",e.installment=\"installment\"}(J||(J={})),function(e){e.gold=\"gold\",e.blue=\"blue\",e.silver=\"silver\",e.black=\"black\",e.white=\"white\"}(K||(K={})),function(e){e.pill=\"pill\",e.rect=\"rect\"}(Z||(Z={})),function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(X||(X={})),function(e){e.AMEX=\"AMEX\",e.DISCOVER=\"DISCOVER\",e.INTERAC=\"INTERAC\",e.JCB=\"JCB\",e.MC=\"MASTERCARD\",e.VISA=\"VISA\"}(Q||(Q={})),function(e){e.OFFER=\"OFFER\",e.PAYMENT_AUTHORIZATION=\"PAYMENT_AUTHORIZATION\",e.SHIPPING_ADDRESS=\"SHIPPING_ADDRESS\",e.SHIPPING_OPTION=\"SHIPPING_OPTION\"}($||($={})),function(e){e.OFFER_INVALID=\"OFFER_INVALID\",e.PAYMENT_DATA_INVALID=\"PAYMENT_DATA_INVALID\",e.SHIPPING_ADDRESS_INVALID=\"SHIPPING_ADDRESS_INVALID\",e.SHIPPING_ADDRESS_UNSERVICEABLE=\"SHIPPING_ADDRESS_UNSERVICEABLE\",e.SHIPPING_OPTION_INVALID=\"SHIPPING_OPTION_INVALID\",e.OTHER_ERROR=\"OTHER_ERROR\"}(ee||(ee={})),function(e){e.INITIALIZE=\"INITIALIZE\",e.SHIPPING_OPTION=\"SHIPPING_OPTION\",e.SHIPPING_ADDRESS=\"SHIPPING_ADDRESS\",e.OFFER=\"OFFER\"}(te||(te={}));var ie=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class oe{constructor(e,t){this._gatewayIdentifier=e,this._paymentIntegrationService=t,this._isBuyNowFlow=!1,this._shouldRequestShipping=!0}mapToShippingAddressRequestBody({shippingAddress:e}){if(!e)return;const{company:t=\"\",phone:n=\"\"}=this._paymentIntegrationService.getState().getShippingAddress()||{};return this._mapToAddressRequestBody(e,t,n)}mapToBillingAddressRequestBody(e){const{billingAddress:t}=e.paymentMethodData.info;if(!t)return;const{company:n=\"\",phone:i=\"\",email:o,customFields:a=[]}=this._paymentIntegrationService.getState().getBillingAddress()||{};return Object.assign(Object.assign({},this._mapToAddressRequestBody(t,n,i,a)),{email:o||e.email})}mapToExternalCheckoutData(e){var t;const{paymentMethodData:{tokenizationData:{token:n},info:{cardNetwork:i,cardDetails:o}}}=e;if(!n)throw new j(R.MissingPaymentToken);return Promise.resolve(Object.assign({nonce:n,card_information:{type:i,number:o}},this._isBuyNowFlow&&{cart_id:null===(t=this._paymentIntegrationService.getState().getCart())||void 0===t?void 0:t.id}))}getRequiredData(){var e;return ie(this,void 0,void 0,function*(){const t={emailRequired:!0};if(!this._isShippingAddressRequired())return t;const n=yield this._paymentIntegrationService.loadShippingCountries(),i=null===(e=n.getShippingCountries())||void 0===e?void 0:e.map(e=>e.code);return Object.assign(Object.assign({},t),{shippingAddressRequired:!0,shippingAddressParameters:Object.assign({phoneNumberRequired:!0},i&&{allowedCountryCodes:i}),shippingOptionRequired:!0})})}getCallbackIntents(){return this._isShippingAddressRequired()?[$.OFFER,$.SHIPPING_ADDRESS,$.SHIPPING_OPTION]:[$.OFFER]}getCallbackTriggers(){return{availableTriggers:[te.INITIALIZE,te.SHIPPING_ADDRESS,te.SHIPPING_OPTION,te.OFFER],initializationTrigger:[te.INITIALIZE],addressChangeTriggers:[te.INITIALIZE,te.SHIPPING_ADDRESS],shippingOptionsChangeTriggers:[te.SHIPPING_OPTION],offerChangeTriggers:[te.OFFER]}}getNonce(e){var t;const n=null===(t=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e).initializationData)||void 0===t?void 0:t.nonce;if(!n)throw new j(R.MissingPaymentToken);return Promise.resolve(n)}extraPaymentData(){return Promise.resolve(void 0)}getMerchantInfo(){const{googleMerchantName:e,googleMerchantId:t,platformToken:n}=this.getGooglePayInitializationData();return{merchantName:e,merchantId:t,authJwt:n}}getTransactionInfo(){let e;if(this._isBuyNowFlow)e=this._getCurrencyCodeOrThrow();else{const{getCartOrThrow:t}=this._paymentIntegrationService.getState();e=t().currency.code}const t=this.getGooglePayInitializationData().storeCountry;return Object.assign(Object.assign({},t&&{countryCode:t}),{currencyCode:e,totalPriceStatus:X.ESTIMATED,totalPrice:\"0\"})}getPaymentGatewayParameters(){const e=this.getGooglePayInitializationData().gatewayMerchantId;if(!e)throw new L(\"Unable to proceed, gatewayMerchantId is missing.\");return{gateway:this._gatewayIdentifier,gatewayMerchantId:e}}getCardParameters(){return{allowedAuthMethods:[\"PAN_ONLY\",\"CRYPTOGRAM_3DS\"],allowedCardNetworks:this.getPaymentMethod().supportedCards.filter(ne).map(e=>Q[e]),billingAddressRequired:!0,billingAddressParameters:{format:\"FULL\",phoneNumberRequired:!0}}}initialize(e,t,n){return this._getPaymentMethodFn=e,this._isBuyNowFlow=Boolean(t),this._currencyCode=n,this._isBuyNowFlow&&this._getCurrencyCodeOrThrow(),Promise.resolve()}handleShippingAddressChange(e){var t,n,i,o;return ie(this,void 0,void 0,function*(){e&&(e.name=e.name||\"\",e.address1=e.address1||\"\");const a=this.mapToShippingAddressRequestBody({shippingAddress:e});a&&(yield this._paymentIntegrationService.updateShippingAddress(a));const r=this._paymentIntegrationService.getState(),s=r.getConsignments();if(!(null==s?void 0:s[0]))return;const c=s[0],d=r.getStoreConfigOrThrow();this._currencyService||(this._currencyService=new H(d));const l=(c.availableShippingOptions||[]).map(this._getGooglePayShippingOption.bind(this)),u=null===(t=c.availableShippingOptions)||void 0===t?void 0:t.find(e=>e.isRecommended);if(l.length){const e=(null===(n=c.selectedShippingOption)||void 0===n?void 0:n.id)||(null==u?void 0:u.id)||(null===(i=l[0])||void 0===i?void 0:i.id);return!(null===(o=c.selectedShippingOption)||void 0===o?void 0:o.id)&&l[0]&&(yield this.handleShippingOptionChange((null==u?void 0:u.id)||l[0].id)),{defaultSelectedOptionId:e,shippingOptions:l}}})}handleShippingOptionChange(e){return ie(this,void 0,void 0,function*(){if(\"shipping_option_unselected\"!==e)return this._paymentIntegrationService.selectShippingOption(e)})}getTotalPrice(){const{getCheckoutOrThrow:e,getCartOrThrow:t}=this._paymentIntegrationService.getState(),{decimalPlaces:n}=t().currency;return (0,lodash__WEBPACK_IMPORTED_MODULE_3__.round)(e().outstandingBalance,n).toFixed(n)}handleCoupons(e){return ie(this,void 0,void 0,function*(){const{redemptionCodes:t=[]}=e,{offers:n}=this.getAppliedCoupons();let i;return yield t.reduce((e,t)=>ie(this,void 0,void 0,function*(){if(yield e,n.some(({redemptionCode:e})=>e===t))return;const o=yield this.applyCoupon(t);o&&(i=o)}),Promise.resolve()),yield n.reduce((e,n)=>ie(this,void 0,void 0,function*(){yield e,t.includes(n.redemptionCode)||(yield this._paymentIntegrationService.removeCoupon(n.redemptionCode))}),Promise.resolve()),{newOfferInfo:this.getAppliedCoupons(),error:i}})}getAppliedCoupons(){const e=this._paymentIntegrationService.getState(),{coupons:t}=e.getCheckout()||{};return{offers:(t||[]).map(e=>{const{displayName:t,code:n}=e;return{redemptionCode:n,description:t}})}}applyCoupon(e){return ie(this,void 0,void 0,function*(){let t;try{yield this._paymentIntegrationService.applyCoupon(e)}catch(e){return e instanceof Error&&(t={reason:ee.OFFER_INVALID,message:e.message,intent:te.OFFER}),t}})}setShouldRequestShipping(e){this._shouldRequestShipping=e}getGooglePayInitializationData(){return W(this.getPaymentMethod().initializationData,()=>new L(\"Missing initialization data.\"))}getPaymentMethod(){return W(this._getPaymentMethodFn,()=>new O(w.PaymentNotInitialized))()}getGatewayIdentifier(){return this._gatewayIdentifier}setGatewayIdentifier(e){this._gatewayIdentifier=e||this.getGatewayIdentifier()}_isShippingAddressRequired(){const{getCartOrThrow:e,getStoreConfigOrThrow:t,getShippingAddress:n}=this._paymentIntegrationService.getState(),i=t();let o;return o=u(i.checkoutSettings.features,\"PI-4290.google_pay_require_shipping_address\")?this._shouldRequestShipping:void 0===n(),o&&(a=e(),r=i,!!a&&(!!a.lineItems.physicalItems.some(e=>e.isShippingRequired)||!(!r||!a.lineItems.customItems)&&a.lineItems.customItems.length>0));// removed by dead control flow\n var a, r; }_mapToAddressRequestBody(e,t,n,i){const{name:o,address1:a,address2:r,address3:s,locality:c,administrativeArea:d,countryCode:l,postalCode:u,phoneNumber:h}=e,[y,g]=this._getFirstAndLastName(o);return{firstName:y,lastName:g,company:t,address1:a,address2:`${r} ${s}`.trim(),city:c||d,stateOrProvince:d,stateOrProvinceCode:d,countryCode:l,postalCode:u,phone:h||n,customFields:i||[]}}_getFirstAndLastName(e){const t=e.split(\" \");return 1===t.length?[e,\"\"]:[t.slice(0,-1).join(\" \"),t[t.length-1]]}_getCurrencyCodeOrThrow(){return W(this._currencyCode,()=>new L('Unable to initialize payment because \"options.currencyCode\" argument is not provided.'))}_getGooglePayShippingOption({id:e,cost:t,description:n,additionalDescription:i}){var o;const a=null===(o=this._currencyService)||void 0===o?void 0:o.toCustomerCurrency(t);return this._paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings.features[\"PI-3540.googlepay_new_shipping_options_description\"]?{id:e,label:`${a||t} ${n}`,description:i}:{id:e,label:n,description:a||t}}}var ae=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class re extends oe{constructor(e,t){super(\"braintree\",e),this._braintreeSdk=t,this._methodId=z.BRAINTREE,this._service=e}initialize(e,t,n){const i=Object.create(null,{initialize:{get:()=>super.initialize},getPaymentMethod:{get:()=>super.getPaymentMethod}});return ae(this,void 0,void 0,function*(){yield i.initialize.call(this,e,t,n);let o=i.getPaymentMethod.call(this);if(o.clientToken||(o=(yield this._service.loadPaymentMethod(this._methodId)).getPaymentMethodOrThrow(this._methodId)),!o.clientToken||!o.initializationData)throw new j(R.MissingPaymentMethod);return this._braintreeSdk.initialize(o.clientToken),this._braintreeGooglePayment=yield this._braintreeSdk.getBraintreeGooglePayment(),Promise.resolve()})}getNonce(e){const t=Object.create(null,{getNonce:{get:()=>super.getNonce},getPaymentMethod:{get:()=>super.getPaymentMethod}});var n;return ae(this,void 0,void 0,function*(){const i=yield t.getNonce.call(this,e),{clientToken:o,initializationData:a}=t.getPaymentMethod.call(this);if(!o||!a||!(null===(n=a.card_information)||void 0===n?void 0:n.bin))throw new j(R.MissingPaymentMethod);const{isThreeDSecureEnabled:r,card_information:{bin:s,isNetworkTokenized:c}}=a;if(r&&!c){const e=yield this._braintreeSdk.getBraintreeThreeDS(),{orderAmount:t}=this._service.getState().getOrderOrThrow();return(yield this._braintreePresent3DSChallenge(e,t,i,s)).nonce}return i})}extraPaymentData(){return ae(this,void 0,void 0,function*(){return{deviceSessionId:yield this._getBraintreeDeviceData()}})}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return ae(this,void 0,void 0,function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);let i;try{i=JSON.parse(n.nonce)}catch(e){throw new L(\"Unable to parse response from Google Pay.\")}return function(e){if(!function(e){return\"object\"==typeof e&&null!==e&&\"androidPayCards\"in e}(e))throw new j(R.MissingPaymentToken)}(i),n.nonce=i.androidPayCards[0].nonce,n.card_information.bin=i.androidPayCards[0].details.bin,n.card_information.isNetworkTokenized=i.androidPayCards[0].details.isNetworkTokenized,n})}getCardParameters(){return super.getCardParameters()}getPaymentGatewayParameters(){const e=Object.create(null,{getMerchantInfo:{get:()=>super.getMerchantInfo},getTransactionInfo:{get:()=>super.getTransactionInfo},getRequiredData:{get:()=>super.getRequiredData}});return ae(this,void 0,void 0,function*(){return this.getBraintreeGooglePayment().createPaymentDataRequest(Object.assign({merchantInfo:e.getMerchantInfo.call(this),transactionInfo:e.getTransactionInfo.call(this),cardRequirements:{billingAddressRequired:!0,billingAddressFormat:\"FULL\"}},yield e.getRequiredData.call(this))).paymentMethodTokenizationParameters.parameters})}getBraintreeGooglePayment(){if(!this._braintreeGooglePayment)throw new j(R.MissingPaymentMethod);return this._braintreeGooglePayment}_getBraintreeDeviceData(){return ae(this,void 0,void 0,function*(){const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e})}_braintreePresent3DSChallenge(e,t,n,i){return new F(e.verifyCard({amount:t,bin:i,nonce:n,onLookupComplete:(e,t)=>{t()}})).promise}}class se extends m{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class ce extends m{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}class de extends m{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}function le(e){return\"object\"==typeof e&&null!==e&&\"statusCode\"in e}function ue(e){return Object.values(z).includes(e)}var he=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class ye{constructor(e,t){this._paymentIntegrationService=e,this._googlePayPaymentProcessor=t}initialize(e){var t,n;return he(this,void 0,void 0,function*(){if(!e.methodId||!ue(e.methodId))throw new L('Unable to proceed because \"methodId\" is not a valid key.');if(this._methodId=e.methodId,!e.containerId)throw new L('Unable to proceed because \"containerId\" is not a valid key.');const i=e[this._getMethodOrThrow()];if(!i)throw new L(\"Unable to proceed without valid options.\");const{buyNowInitializeOptions:o,currencyCode:a,buttonColor:r,buttonType:s,onError:c}=i;let d,l=this._paymentIntegrationService.getState();try{d=l.getPaymentMethodOrThrow(this._getMethodOrThrow())}catch(e){l=yield this._paymentIntegrationService.loadPaymentMethod(this._getMethodOrThrow()),d=l.getPaymentMethodOrThrow(this._getMethodOrThrow())}if(this._countryCode=null===(t=d.initializationData)||void 0===t?void 0:t.storeCountry,o){if(!a)throw new L('Unable to initialize payment because \"options.currencyCode\" argument is not provided.');this._currencyCode=a,this._buyNowInitializeOptions=o,yield this._googlePayPaymentProcessor.initialize(()=>d,this._getGooglePayClientOptions(),!!o,a)}else yield this._paymentIntegrationService.loadDefaultCheckout(),yield this._googlePayPaymentProcessor.initialize(()=>d,this._getGooglePayClientOptions());this._paymentButton=null!==(n=this._paymentButton)&&void 0!==n?n:this._googlePayPaymentProcessor.addPaymentButton(e.containerId,{buttonColor:null!=r?r:\"default\",buttonType:null!=s?s:\"plain\",onClick:this._handleClick(c)})})}deinitialize(){var e;return null===(e=this._paymentButton)||void 0===e||e.remove(),this._paymentButton=void 0,this._methodId=void 0,Promise.resolve()}_handleClick(e){return t=>he(this,void 0,void 0,function*(){t.preventDefault();try{this._buyNowInitializeOptions?yield this._createBuyNowCartOrThrow(this._buyNowInitializeOptions):yield this._paymentIntegrationService.loadDefaultCheckout(),yield this._googlePayPaymentProcessor.initializeWidget(),yield this._interactWithPaymentSheet()}catch(t){let n=t;if(le(t)){if(\"CANCELED\"===t.statusCode)throw new se;n=new ce(JSON.stringify(t))}throw null==e||e(new ce(\"An error occurred while requesting your Google Pay payment details.\")),n}})}_interactWithPaymentSheet(){var e;return he(this,void 0,void 0,function*(){const t=yield this._googlePayPaymentProcessor.showPaymentSheet(),n=this._googlePayPaymentProcessor.mapToBillingAddressRequestBody(t),i=this._googlePayPaymentProcessor.mapToShippingAddressRequestBody(t),o=\"/embedded-checkout\"===window.location.pathname?this._paymentIntegrationService.getState().getStoreConfigOrThrow().links.siteLink:void 0;n&&(yield this._paymentIntegrationService.updateBillingAddress(n)),i&&!(null===(e=this._buyNowCart)||void 0===e?void 0:e.lineItems.digitalItems.length)&&(yield this._paymentIntegrationService.updateShippingAddress(i)),yield this._googlePayPaymentProcessor.setExternalCheckoutForm(this._getMethodOrThrow(),t,o)})}_getGooglePayClientOptions(){return{paymentDataCallbacks:{onPaymentDataChanged:({callbackTrigger:e,shippingAddress:t,shippingOptionData:n,offerData:i})=>he(this,void 0,void 0,function*(){const{availableTriggers:o,addressChangeTriggers:a,shippingOptionsChangeTriggers:r,offerChangeTriggers:s}=this._googlePayPaymentProcessor.getCallbackTriggers();if(!o.includes(e))return;const c=a.includes(e)?yield this._googlePayPaymentProcessor.handleShippingAddressChange(t):void 0;r.includes(e)&&(yield this._googlePayPaymentProcessor.handleShippingOptionChange(n.id));const{newOfferInfo:d,error:l}=s.includes(e)?yield this._googlePayPaymentProcessor.handleCoupons(i):{},u=l;return this._buyNowInitializeOptions?this._getBuyNowTransactionInfo(c,d,u):this._getTransactionInfo(c,d,u)})}}}_createBuyNowCartOrThrow(e){return he(this,void 0,void 0,function*(){if(\"function\"==typeof(null==e?void 0:e.getBuyNowCartRequestBody)){const t=e.getBuyNowCartRequestBody();try{this._buyNowCart=yield this._paymentIntegrationService.createBuyNowCart(t),yield this._paymentIntegrationService.loadCheckout(this._buyNowCart.id)}catch(e){if(\"string\"==typeof e)throw new de(e);throw e}}})}_getBuyNowTransactionInfo(e,t,n){if(!this._buyNowCart)return;const{cartAmount:i}=this._buyNowCart,o=this._googlePayPaymentProcessor.getTotalPrice();return Object.assign(Object.assign(Object.assign({newTransactionInfo:Object.assign(Object.assign({},this._countryCode&&{countryCode:this._countryCode}),{currencyCode:this._getCurrencyCodeOrThrow(),totalPrice:o||String(i),totalPriceStatus:X.FINAL})},e&&{newShippingOptionParameters:e}),t&&{newOfferInfo:t}),n&&{error:n})}_getTransactionInfo(e,t,n){return he(this,void 0,void 0,function*(){yield this._paymentIntegrationService.loadCheckout();const i=this._googlePayPaymentProcessor.getTotalPrice(),{code:o}=this._paymentIntegrationService.getState().getCartOrThrow().currency;return Object.assign(Object.assign(Object.assign({newTransactionInfo:Object.assign(Object.assign({},this._countryCode&&{countryCode:this._countryCode}),{currencyCode:o,totalPriceStatus:X.FINAL,totalPrice:i})},e&&{newShippingOptionParameters:e}),t&&{newOfferInfo:t}),n&&{error:n})})}_getMethodOrThrow(){return W(this._methodId,()=>new O(w.PaymentNotInitialized))}_getCurrencyCodeOrThrow(){return W(this._currencyCode,()=>new L('Unable to initialize payment because \"options.currencyCode\" argument is not provided.'))}}const ge={\"X-Checkout-SDK-Version\":\"1.867.0\"};var pe=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class me{constructor(e,t,n,i){this._scriptLoader=e,this._gateway=t,this._requestSender=n,this._formPoster=i,this._baseRequest={apiVersion:2,apiVersionMinor:0}}initialize(e,t,n,i){return pe(this,void 0,void 0,function*(){this._paymentsClient=yield this._scriptLoader.getGooglePaymentsClient(e().config.testMode,t),yield this._gateway.initialize(e,n,i),this._buildButtonPayloads()})}initializeWidget(){return pe(this,void 0,void 0,function*(){yield this._buildWidgetPayloads(),yield this._determineReadinessToPay(),this._prefetchGooglePaymentData()})}getNonce(e){return this._gateway.getNonce(e)}extraPaymentData(){return pe(this,void 0,void 0,function*(){return this._gateway.extraPaymentData()})}addPaymentButton(e,t){const n=document.querySelector(`#${e}`);if(!n)return;const i=this._getPaymentsClient().createButton(Object.assign(Object.assign({},t),{allowedPaymentMethods:[this._getBaseCardPaymentMethod()]}));return n.appendChild(i)}showPaymentSheet(){return pe(this,void 0,void 0,function*(){const e=this._getPaymentDataRequest();return this._getPaymentsClient().loadPaymentData(e)})}setExternalCheckoutXhr(e,t){return pe(this,void 0,void 0,function*(){return this._setExternalCheckout(e,t)})}setExternalCheckoutForm(e,t,n){return pe(this,void 0,void 0,function*(){return this._setExternalCheckout(e,t,!0,n)})}mapToBillingAddressRequestBody(e){return this._gateway.mapToBillingAddressRequestBody(e)}mapToShippingAddressRequestBody(e){return this._gateway.mapToShippingAddressRequestBody(e)}processAdditionalAction(e,t){return\"processAdditionalAction\"in this._gateway?this._gateway.processAdditionalAction(e,t):Promise.reject(e)}signOut(e){return pe(this,void 0,void 0,function*(){yield this._requestSender.get(`/remote-checkout/${e}/signout`)})}getCallbackTriggers(){return this._gateway.getCallbackTriggers()}setShouldRequestShipping(e){return this._gateway.setShouldRequestShipping(e)}handleShippingAddressChange(e){return pe(this,void 0,void 0,function*(){return this._gateway.handleShippingAddressChange(e)})}handleShippingOptionChange(e){return pe(this,void 0,void 0,function*(){yield this._gateway.handleShippingOptionChange(e)})}handleCoupons(e){return pe(this,void 0,void 0,function*(){return this._gateway.handleCoupons(e)})}getTotalPrice(){return this._gateway.getTotalPrice()}_setExternalCheckout(e,t,n=!1,i){return pe(this,void 0,void 0,function*(){const o=\"/checkout.php\",a=Object.assign({action:\"set_external_checkout\",provider:e},yield this._gateway.mapToExternalCheckoutData(t));if(n)return new Promise(e=>{this._formPoster.postForm(i?`${i}/checkout`:o,Object.assign(Object.assign({},a),{card_information:JSON.stringify(a.card_information)}),e)});yield this._requestSender.post(o,{headers:Object.assign({Accept:\"text/html\",\"Content-Type\":\"application/x-www-form-urlencoded\"},ge),body:a})})}_prefetchGooglePaymentData(){const e=this._getPaymentDataRequest();e.transactionInfo=this._gateway.getTransactionInfo(),this._getPaymentsClient().prefetchPaymentData(e)}_determineReadinessToPay(){return pe(this,void 0,void 0,function*(){try{const{result:e}=yield this._getPaymentsClient().isReadyToPay(this._getIsReadyToPayRequest());if(!1===e)throw new ce(\"Google Pay is not supported by the current device and browser, please try another payment method.\")}catch(e){if(e instanceof ce)throw e;throw new ce}})}_buildButtonPayloads(){this._baseCardPaymentMethod={type:\"CARD\",parameters:this._gateway.getCardParameters()}}_buildWidgetPayloads(){return pe(this,void 0,void 0,function*(){const e=this._getBaseCardPaymentMethod();this._cardPaymentMethod=Object.assign(Object.assign({},e),{tokenizationSpecification:{type:\"PAYMENT_GATEWAY\",parameters:yield this._gateway.getPaymentGatewayParameters()}}),this._paymentDataRequest=Object.assign(Object.assign(Object.assign(Object.assign({},this._baseRequest),{allowedPaymentMethods:[this._cardPaymentMethod],transactionInfo:this._gateway.getTransactionInfo(),merchantInfo:this._gateway.getMerchantInfo()}),yield this._gateway.getRequiredData()),{callbackIntents:this._gateway.getCallbackIntents(),offerInfo:this._gateway.getAppliedCoupons()}),this._isReadyToPayRequest=Object.assign(Object.assign({},this._baseRequest),{allowedPaymentMethods:[e]})})}_getBaseCardPaymentMethod(){return this._getOrThrow(this._baseCardPaymentMethod)}_getPaymentDataRequest(){return this._getOrThrow(this._paymentDataRequest)}_getIsReadyToPayRequest(){return this._getOrThrow(this._isReadyToPayRequest)}_getPaymentsClient(){return this._getOrThrow(this._paymentsClient)}_getOrThrow(e){return W(e,()=>new O(w.PaymentNotInitialized))}}class fe{constructor(e){this._scriptLoader=e,this._window=window}getGooglePaymentsClient(e=!1,t){return n=this,i=void 0,a=function*(){if(yield this._scriptLoader.loadScript(\"https://pay.google.com/gp/p/js/pay.js\"),!this._window.google)throw new D;return void 0===this._paymentsClient&&(this._paymentsClient=new this._window.google.payments.api.PaymentsClient(Object.assign({environment:e?\"TEST\":\"PRODUCTION\"},null!=t?t:{}))),this._paymentsClient},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(r,s)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, o, a; }}function we(){return new fe((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())}const Pe=B(i=>{const o=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),a=window,r=new p(i),s=new E(new x((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)(),a,r));return new ye(i,new me(we(),new re(i,s),o,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaybraintree\"}]);var ve=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class _e{constructor(e){this.scriptLoader=e,this.window=window}getPayPalFastlaneSdk(e,t,n){return ve(this,void 0,void 0,function*(){if(!this.window.paypalFastlaneSdk){const i=this.getPayPalFastlaneSdkConfiguration(e,t,n);if(yield this.loadPayPalSdk(i),!this.window.paypalFastlaneSdk)throw new D}return this.window.paypalFastlaneSdk})}getPayPalGooglePaySdk(e,t,n,i){return ve(this,void 0,void 0,function*(){if(!this.window.paypalGooglePay||i){const i=this.getPayPalGooglePaySdkScriptConfigOrThrow(e,t,n);yield this.loadPayPalSdk(i)}if(!this.window.paypalGooglePay)throw new D;return this.window.paypalGooglePay})}getPayPalApmsSdk(e,t){return ve(this,void 0,void 0,function*(){if(!this.window.paypalApms){const n=this.getPayPalApmSdkConfiguration(e,t);if(yield this.loadPayPalSdk(n),!this.window.paypalApms)throw new D}return this.window.paypalApms})}getPayPalMessages(e,t){return ve(this,void 0,void 0,function*(){if(!this.window.paypalMessages){const n=this.getPayPalSdkMessagesConfiguration(e,t);yield this.loadPayPalSdk(n)}if(!this.window.paypalMessages)throw new D;return this.window.paypalMessages})}loadPayPalSdk({options:e,attributes:t}){return ve(this,void 0,void 0,function*(){const n=this.transformConfig(e),i=this.transformConfig(t),o=`https://www.paypal.com/sdk/js?${new URLSearchParams(n).toString()}`;yield this.scriptLoader.loadScript(o,{async:!0,attributes:i})})}getPayPalFastlaneSdkConfiguration(e,t,n){const{clientToken:i,initializationData:o}=e;if(!o||!o.clientId)throw new j(R.MissingPaymentMethod);const{intent:a,clientId:r,merchantId:s,attributionId:c}=o;return{options:{\"client-id\":r,\"merchant-id\":s,commit:!0,components:[\"fastlane\",\"buttons\",\"payment-fields\",\"hosted-fields\",\"three-domain-secure\"],currency:t,intent:a},attributes:{\"data-client-metadata-id\":n.replace(/-/g,\"\"),\"data-namespace\":\"paypalFastlaneSdk\",\"data-partner-attribution-id\":c,\"data-sdk-client-token\":i}}}getPayPalGooglePaySdkScriptConfigOrThrow(e,t,n=!0){const{clientToken:i,initializationData:o}=e;if(!o||!o.clientId)throw new j(R.MissingPaymentMethod);const{intent:a,clientId:r,merchantId:s,buyerCountry:c,attributionId:d,isHostedCheckoutEnabled:l,isDeveloperModeApplicable:u}=o,h=l||n;return{options:Object.assign({\"client-id\":r,\"merchant-id\":s,commit:h,components:[\"googlepay\"],currency:t,intent:a},u&&{\"buyer-country\":c}),attributes:{\"data-partner-attribution-id\":d,\"data-client-token\":i,\"data-namespace\":\"paypalGooglePay\"}}}getPayPalApmSdkConfiguration(e,t){const{initializationData:n}=e;if(!n||!n.clientId)throw new j(R.MissingPaymentMethod);const{intent:i,clientId:o,merchantId:a,buyerCountry:r,attributionId:s,isDeveloperModeApplicable:c,availableAlternativePaymentMethods:d=[],enabledAlternativePaymentMethods:l=[]}=n,u=l,h=d.filter(e=>!l.includes(e));return{options:Object.assign({\"client-id\":o,\"merchant-id\":a,\"enable-funding\":u.length>0?u:void 0,\"disable-funding\":h.length>0?h:void 0,commit:!0,components:[\"buttons\",\"payment-fields\"],currency:t,intent:i},c&&{\"buyer-country\":r}),attributes:{\"data-partner-attribution-id\":s,\"data-namespace\":\"paypalApms\"}}}getPayPalSdkMessagesConfiguration(e,t){const{initializationData:n}=e;if(!n||!n.clientId)throw new j(R.MissingPaymentMethod);const{clientId:i,merchantId:o,attributionId:a,isDeveloperModeApplicable:r,buyerCountry:s}=n;return{options:Object.assign({\"client-id\":i,\"merchant-id\":o,components:[\"messages\"],currency:t},r&&{\"buyer-country\":s}),attributes:{\"data-namespace\":\"paypalMessages\",\"data-partner-attribution-id\":a}}}transformConfig(e){let t={};return Object.keys(e).forEach(n=>{const i=e[n];null==i||\"\"===i||Array.isArray(i)&&0===i.length||(t=Object.assign(Object.assign({},t),{[n]:Array.isArray(i)?i.join(\",\"):i}))}),t}}function Ce(e){if(!function(e){return!!e.initializationData&&\"attributionId\"in e.initializationData&&\"isVenmoEnabled\"in e.initializationData&&\"isGooglePayEnabled\"in e.initializationData&&\"isPayPalCreditAvailable\"in e.initializationData}(e))throw new j(R.MissingPaymentMethod)}var be=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Se extends oe{constructor(e,t){super(\"paypalsb\",e),this.payPalCommerceSdk=t,this.service=e}initialize(e,t,n){const i=Object.create(null,{initialize:{get:()=>super.initialize},getPaymentMethod:{get:()=>super.getPaymentMethod}});var o,a,r,s,c;return be(this,void 0,void 0,function*(){const d=null!==(a=null===(o=this.service.getState().getStoreConfig())||void 0===o?void 0:o.currency.code)&&void 0!==a?a:n;if(!d)throw new j(R.MissingPaymentMethod);yield i.initialize.call(this,e,t,d);const l=i.getPaymentMethod.call(this);if(!l.initializationData)throw new j(R.MissingPaymentMethod);Ce(l);const u=yield this.payPalCommerceSdk.getPayPalGooglePaySdk(l,d);this.googlepayConfig=yield u.Googlepay().config();const{allowedPaymentMethods:h}=this.googlepayConfig;this.setGatewayIdentifier(null===(c=null===(s=null===(r=h[0])||void 0===r?void 0:r.tokenizationSpecification)||void 0===s?void 0:s.parameters)||void 0===c?void 0:c.gateway)})}getPaymentGatewayParameters(){if(this.googlepayConfig){const{allowedPaymentMethods:e}=this.googlepayConfig,{gatewayMerchantId:t}=e[0].tokenizationSpecification.parameters;return{gateway:this.getGatewayIdentifier(),gatewayMerchantId:t}}return{gateway:this.getGatewayIdentifier()}}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return be(this,void 0,void 0,function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n})}}const Ie=B(i=>new ye(i,new me(we(),new Se(i,new _e((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaypaypalcommerce\"}]);var Oe=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class ke{constructor(e){this.scriptLoader=e,this.window=window}getPayPalFastlaneSdk(e,t,n){return Oe(this,void 0,void 0,function*(){if(!this.window.paypalFastlaneSdk){const i=this.getPayPalFastlaneSdkConfiguration(e,t,n);if(yield this.loadPayPalSdk(i),!this.window.paypalFastlaneSdk)throw new D}return this.window.paypalFastlaneSdk})}getPayPalGooglePaySdk(e,t,n,i){return Oe(this,void 0,void 0,function*(){if(!this.window.paypalGooglePay||i){const i=this.getPayPalGooglePaySdkScriptConfigOrThrow(e,t,n);yield this.loadPayPalSdk(i)}if(!this.window.paypalGooglePay)throw new D;return this.window.paypalGooglePay})}getPayPalApmsSdk(e,t){return Oe(this,void 0,void 0,function*(){if(!this.window.paypalApms){const n=this.getPayPalApmSdkConfiguration(e,t);if(yield this.loadPayPalSdk(n),!this.window.paypalApms)throw new D}return this.window.paypalApms})}getPayPalMessages(e,t){return Oe(this,void 0,void 0,function*(){if(!this.window.paypalMessages){const n=this.getPayPalSdkMessagesConfiguration(e,t);yield this.loadPayPalSdk(n)}if(!this.window.paypalMessages)throw new D;return this.window.paypalMessages})}loadPayPalSdk({options:e,attributes:t}){return Oe(this,void 0,void 0,function*(){const n=this.transformConfig(e),i=this.transformConfig(t),o=`https://www.paypal.com/sdk/js?${new URLSearchParams(n).toString()}`;yield this.scriptLoader.loadScript(o,{async:!0,attributes:i})})}getPayPalFastlaneSdkConfiguration(e,t,n){const{clientToken:i,initializationData:o}=e;if(!o||!o.clientId)throw new j(R.MissingPaymentMethod);const{intent:a,clientId:r,merchantId:s,attributionId:c}=o;return{options:{\"client-id\":r,\"merchant-id\":s,commit:!0,components:[\"fastlane\",\"three-domain-secure\"],currency:t,intent:a},attributes:{\"data-client-metadata-id\":n.replace(/-/g,\"\"),\"data-namespace\":\"paypalFastlaneSdk\",\"data-partner-attribution-id\":c,\"data-sdk-client-token\":i}}}getPayPalGooglePaySdkScriptConfigOrThrow(e,t,n=!0){const{clientToken:i,initializationData:o}=e;if(!o||!o.clientId)throw new j(R.MissingPaymentMethod);const{intent:a,clientId:r,merchantId:s,buyerCountry:c,attributionId:d,isHostedCheckoutEnabled:l,isDeveloperModeApplicable:u}=o,h=l||n;return{options:Object.assign({\"client-id\":r,\"merchant-id\":s,commit:h,components:[\"googlepay\"],currency:t,intent:a},u&&{\"buyer-country\":c}),attributes:{\"data-partner-attribution-id\":d,\"data-client-token\":i,\"data-namespace\":\"paypalGooglePay\"}}}getPayPalApmSdkConfiguration(e,t){const{initializationData:n}=e;if(!n||!n.clientId)throw new j(R.MissingPaymentMethod);const{intent:i,clientId:o,merchantId:a,buyerCountry:r,attributionId:s,isDeveloperModeApplicable:c,availableAlternativePaymentMethods:d=[],enabledAlternativePaymentMethods:l=[]}=n,u=this.filterFundingOptions(l),h=this.filterFundingOptions(d.filter(e=>!l.includes(e)));return{options:Object.assign({\"client-id\":o,\"merchant-id\":a,\"enable-funding\":u.length>0?u:void 0,\"disable-funding\":h.length>0?h:void 0,commit:!0,components:[\"buttons\",\"payment-fields\"],currency:t,intent:i},c&&{\"buyer-country\":r}),attributes:{\"data-partner-attribution-id\":s,\"data-namespace\":\"paypalApms\"}}}getPayPalSdkMessagesConfiguration(e,t){const{initializationData:n}=e;if(!n||!n.clientId)throw new j(R.MissingPaymentMethod);const{clientId:i,merchantId:o,attributionId:a,isDeveloperModeApplicable:r,buyerCountry:s}=n;return{options:Object.assign({\"client-id\":i,\"merchant-id\":o,components:[\"messages\"],currency:t},r&&{\"buyer-country\":s}),attributes:{\"data-namespace\":\"paypalMessages\",\"data-partner-attribution-id\":a}}}filterFundingOptions(e){const t=[\"klarna\",\"afterpay\"];return e?e.filter(e=>!t.includes(e)):[]}transformConfig(e){let t={};return Object.keys(e).forEach(n=>{const i=e[n];null==i||\"\"===i||Array.isArray(i)&&0===i.length||(t=Object.assign(Object.assign({},t),{[n]:Array.isArray(i)?i.join(\",\"):i}))}),t}}var Ae=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Te extends oe{constructor(e,t){super(\"googlepay_bigcommerce_payments\",e),this.payPalSdkHelper=t,this.service=e}initialize(e,t,n){const i=Object.create(null,{initialize:{get:()=>super.initialize},getPaymentMethod:{get:()=>super.getPaymentMethod}});var o,a,r,s,c;return Ae(this,void 0,void 0,function*(){const d=null!==(a=null===(o=this.service.getState().getStoreConfig())||void 0===o?void 0:o.currency.code)&&void 0!==a?a:n;if(!d)throw new j(R.MissingPaymentMethod);yield i.initialize.call(this,e,t,d);const l=i.getPaymentMethod.call(this);if(!l.initializationData)throw new j(R.MissingPaymentMethod);Ce(l);const u=yield this.payPalSdkHelper.getPayPalGooglePaySdk(l,d);this.googlepayConfig=yield u.Googlepay().config();const{allowedPaymentMethods:h}=this.googlepayConfig;this.setGatewayIdentifier(null===(c=null===(s=null===(r=h[0])||void 0===r?void 0:r.tokenizationSpecification)||void 0===s?void 0:s.parameters)||void 0===c?void 0:c.gateway)})}getPaymentGatewayParameters(){if(this.googlepayConfig){const{allowedPaymentMethods:e}=this.googlepayConfig,{gatewayMerchantId:t}=e[0].tokenizationSpecification.parameters;return{gateway:this.getGatewayIdentifier(),gatewayMerchantId:t}}return{gateway:this.getGatewayIdentifier()}}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return Ae(this,void 0,void 0,function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n})}}const Me=B(i=>new ye(i,new me(we(),new Te(i,new ke((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepay_bigcommerce_payments\"}]),Ee=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new ye(n,new me(we(),new oe(\"adyen\",n),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepayadyenv2\"}]),De=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new ye(n,new me(we(),new oe(\"adyen\",n),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepayadyenv3\"}]);class Ne extends oe{constructor(e){super(\"authorizenet\",e)}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return n=this,i=void 0,a=function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(r,s)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, o, a; }getPaymentGatewayParameters(){const e=this.getGooglePayInitializationData();return function(e){if(!function(e){return\"paymentGatewayId\"in e}(e))throw new j(R.MissingPaymentMethod)}(e),{gateway:this.getGatewayIdentifier(),gatewayMerchantId:e.paymentGatewayId}}}const Re=B(n=>new ye(n,new me(we(),new Ne(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayauthorizenet\"}]),ze=e=>\"object\"==typeof e&&null!==e&&\"body\"in e;var Ge;!function(e){e.Json=\"application/json\",e.JsonV1=\"application/vnd.bc.v1+json\"}(Ge||(Ge={}));const xe=Ge;function Be(e){if(!function(e){return\"checkoutcomkey\"in e}(e))throw new j(R.MissingPaymentMethod)}var je=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Le extends oe{constructor(e,t){super(\"checkoutltd\",e),this._requestSender=t}processAdditionalAction(e){return new Promise((t,n)=>{if(ze(e)&&function(e){var t;if(\"object\"!=typeof e||null===e)return!1;const n=e;return\"string\"==typeof(null===(t=n.three_ds_result)||void 0===t?void 0:t.acs_url)&&\"string\"==typeof n.three_ds_result.code}(e.body)&&\"three_d_secure_required\"===e.body.three_ds_result.code)return window.location.assign(e.body.three_ds_result.acs_url);n(e)})}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return je(this,void 0,void 0,function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);let i;try{i=JSON.parse(n.nonce)}catch(e){throw new L(\"Unable to parse response from Google Pay.\")}return function(e){if(!function(e){return\"object\"==typeof e&&null!==e&&\"protocolVersion\"in e&&\"signature\"in e&&\"signedMessage\"in e}(e))throw new j(R.MissingPaymentToken)}(i),n.nonce=yield this._tokenize(i),n})}getPaymentGatewayParameters(){const e=this.getGooglePayInitializationData();return Be(e),{gateway:this.getGatewayIdentifier(),gatewayMerchantId:e.checkoutcomkey}}_tokenize(e){return je(this,void 0,void 0,function*(){const t=this.getPaymentMethod().config.testMode?\"https://api.sandbox.checkout.com/tokens\":\"https://api.checkout.com/tokens\",n=this.getGooglePayInitializationData();Be(n);const{body:i}=yield this._requestSender.post(t,{credentials:!1,body:{type:\"googlepay\",token_data:e},headers:{Authorization:n.checkoutcomkey,\"Content-Type\":xe.Json,\"X-XSRF-TOKEN\":null}});return i.token})}}const Fe=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new ye(n,new me(we(),new Le(n,i),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaycheckoutcom\"}]);class Ue extends oe{constructor(e){super(\"cybersource\",e)}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return n=this,i=void 0,a=function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(r,s)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, o, a; }}const Ve=B(n=>new ye(n,new me(we(),new Ue(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaycybersourcev2\"},{id:\"googlepaybnz\"}]);class qe extends oe{constructor(e){super(\"chase\",e)}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return n=this,i=void 0,a=function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(r,s)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, o, a; }}const He=B(n=>new ye(n,new me(we(),new qe(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayorbital\"}]);var We,Ye,Je,Ke,Ze,Xe,Qe,$e,et,tt;!function(e){e.SHIPPING=\"shipping\",e.BILLING=\"billing\"}(We||(We={})),function(e){e.SPLIT=\"split\",e.FULL=\"full\",e.ORGANIZATION=\"organization\"}(Ye||(Ye={})),function(e){e.SUCCESS=\"success\",e.ERROR=\"error\"}(Je||(Je={})),function(e){e.CreditCard=\"card\",e.Link=\"link\",e.EPS=\"eps\",e.GRABPAY=\"grabpay\",e.BANCONTACT=\"bancontact\",e.IDEAL=\"ideal\",e.ALIPAY=\"alipay\",e.KLARNA=\"klarna\",e.OCS=\"optimized_checkout\"}(Ke||(Ke={})),function(e){e.NEVER=\"never\",e.AUTO=\"auto\",e.ALWAYS=\"always\",e.PAYMENT=\"payment\",e.IF_REQUIRED=\"if_required\"}(Ze||(Ze={})),function(e){e.V3=\"v3\",e.ACACIA=\"acacia\",e.BASIL=\"basil\",e.CLOVER=\"clover\"}(Xe||(Xe={})),function(e){e.PAYMENT=\"payment\",e.AUTHENTICATION=\"linkAuthentication\",e.SHIPPING=\"address\",e.EXPRESS_CHECKOUT=\"expressCheckout\"}(Qe||(Qe={})),function(e){e.REQUIRES_PAYMENT_METHOD=\"requires_payment_method\",e.REQUIRES_CONFIRMATION=\"requires_confirmation\",e.REQUIRES_ACTION=\"requires_action\",e.PROCESSING=\"processing\",e.SUCCEEDED=\"succeeded\",e.CANCELED=\"canceled\"}($e||($e={})),function(e){e.CLICK=\"click\",e.CHANGE=\"change\",e.READY=\"ready\",e.SHIPPING_ADDRESS_CHANGE=\"shippingaddresschange\",e.SHIPPING_RATE_CHANGE=\"shippingratechange\",e.CONFIRM=\"confirm\",e.CANCEL=\"cancel\",e.LOADER_START=\"loaderstart\"}(et||(et={})),function(e){e.ON_SESSION=\"on_session\",e.OFF_SESSION=\"off_session\"}(tt||(tt={}));var nt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class it{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}getStripeClient(e,t,n,i,o){return nt(this,void 0,void 0,function*(){if(this.stripeWindow.bcStripeClient)return this.stripeWindow.bcStripeClient;const a=yield this.load(n),{stripePublishableKey:r,stripeConnectedAccount:s}=e,c=a(r,Object.assign(Object.assign(Object.assign(Object.assign({},s?{stripeAccount:s}:{}),t?{locale:t}:{}),i?{betas:i}:{}),o?{apiVersion:o}:{}));return Object.assign(this.stripeWindow,{bcStripeClient:c}),c})}getElements(e,t){return nt(this,void 0,void 0,function*(){let n=this.stripeWindow.bcStripeElements;return n?yield this.updateStripeElements(t):(n=e.elements(t),Object.assign(this.stripeWindow,{bcStripeElements:n})),n})}updateStripeElements(e){return nt(this,void 0,void 0,function*(){const t=this.stripeWindow.bcStripeElements;t&&(t.update(e),yield t.fetchUpdates())})}getCheckoutSession(e,t){return nt(this,void 0,void 0,function*(){let n=this.stripeWindow.bcStripeCheckoutSession;return n||(n=yield e.initCheckout(t),Object.assign(this.stripeWindow,{bcStripeCheckoutSession:n})),n})}load(e){return nt(this,void 0,void 0,function*(){if(!this.stripeWindow.Stripe&&(yield this.scriptLoader.loadScript(this.getScriptUrl(e)),!this.stripeWindow.Stripe))throw new D;return this.stripeWindow.Stripe})}getScriptUrl(e){return e&&e!==Xe.V3?`https://js.stripe.com/${e}/stripe.js`:\"https://js.stripe.com/v3/\"}}class ot extends L{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}const at={body:{},headers:{},status:0};class rt extends m{constructor(e,{message:t,errors:n}={}){const{body:i,headers:o,status:a}=e||at;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=i,this.headers=o,this.status=a,this.errors=n||[]}}const st=[\"payment_element_beta_2\",\"alipay_pm_beta_1\",\"link_default_integration_beta_1\",\"shipping_address_element_beta_1\",\"address_element_beta_1\"];function ct(e){if(!function(e){return\"stripeConnectedAccount\"in e&&\"stripePublishableKey\"in e&&\"stripeVersion\"in e}(e))throw new j(R.MissingPaymentMethod)}var dt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class lt extends oe{constructor(e,t){super(\"stripe\",e),this.paymentIntegrationService=e,this.scriptLoader=t}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return dt(this,void 0,void 0,function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);let i;try{i=JSON.parse(n.nonce)}catch(e){throw new L(\"Unable to parse response from Google Pay.\")}return function(e){if(!function(e){return\"object\"==typeof e&&null!==e&&\"id\"in e}(e))throw new j(R.MissingPaymentToken)}(i),n.nonce=i.id,n})}getPaymentGatewayParameters(){const e=this.getGooglePayInitializationData();ct(e);const{stripeVersion:t,stripePublishableKey:n,stripeConnectedAccount:i}=e;return{gateway:this.getGatewayIdentifier(),\"stripe:version\":t,\"stripe:publishableKey\":`${n}/${i}`}}processAdditionalAction(e,t){var n;return dt(this,void 0,void 0,function*(){if(!t)throw new ot([\"payment\"]);if(!ze(e)||(\"object\"!=typeof(i=e.body)||null===i||!(\"three_ds_result\"in i)||!(\"errors\"in i)))throw e;var i;if((0,lodash__WEBPACK_IMPORTED_MODULE_3__.some)(e.body.errors,{code:\"three_d_secure_required\"})){const i=this.getGooglePayInitializationData();ct(i),this.stripeUPEClient=yield this.loadStripeJs(i,t);const o=e.body.three_ds_result.token;let a,r=!1;try{a=yield this.stripeUPEClient.confirmCardPayment(o)}catch(e){try{a=yield this.stripeUPEClient.retrievePaymentIntent(o)}catch(e){r=!0}}if(null==a?void 0:a.error){if(this._throwDisplayableStripeError(a.error),this._isCancellationError(a.error))throw new se;throw new ce}if(!(null==a?void 0:a.paymentIntent)&&!r)throw new rt;return this.paymentIntegrationService.submitPayment({methodId:t,paymentData:{nonce:(null===(n=null==a?void 0:a.paymentIntent)||void 0===n?void 0:n.id)||o}})}throw e})}loadStripeJs(e,t){return dt(this,void 0,void 0,function*(){if(this.stripeUPEClient)return this.stripeUPEClient;const n=this.paymentIntegrationService.getState().getCartLocale();return\"googlepaystripeocs\"===t&&e.useNewStripeJsVersion?this.scriptLoader.getStripeClient(e,n,Xe.CLOVER):this.scriptLoader.getStripeClient(e,n,Xe.V3,st,\"2020-03-02;alipay_beta=v1;link_beta=v1\")})}_isCancellationError(e){var t,n;return e&&-1!==(null===(n=null===(t=e.payment_intent.last_payment_error)||void 0===t?void 0:t.message)||void 0===n?void 0:n.indexOf(\"canceled\"))}_throwDisplayableStripeError(e){if((0,lodash__WEBPACK_IMPORTED_MODULE_3__.includes)([\"card_error\",\"invalid_request_error\",\"validation_error\"],e.type))throw new Error(e.message)}}const ut=B(i=>new ye(i,new me(we(),new lt(i,new it((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaystripe\"},{id:\"googlepaystripeupe\"},{id:\"googlepaystripeocs\"}]);class ht extends oe{constructor(e){super(\"worldpay\",e)}mapToExternalCheckoutData(e){const t=Object.create(null,{mapToExternalCheckoutData:{get:()=>super.mapToExternalCheckoutData}});return n=this,i=void 0,a=function*(){const n=yield t.mapToExternalCheckoutData.call(this,e);return n.nonce=btoa(n.nonce),n},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(r,s)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, o, a; }}const yt=B(n=>new ye(n,new me(we(),new ht(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayworldpayaccess\"}]);function gt(){const{navigator:e}=window;let t;return t=e.language?e.language:e.userLanguage,{color_depth:window.screen.colorDepth||24,java_enabled:\"function\"==typeof e.javaEnabled&&e.javaEnabled(),language:t,screen_height:window.screen.height,screen_width:window.screen.width,time_zone_offset:(new Date).getTimezoneOffset().toString()}}var pt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class mt extends oe{constructor(e,t){super(\"worldlinena\",e),this.formPoster=t}extraPaymentData(){return pt(this,void 0,void 0,function*(){return Promise.resolve({browser_info:gt()})})}processAdditionalAction(e){return pt(this,void 0,void 0,function*(){if(!function(e){return ze(e)&&(t=e.body,(0,lodash__WEBPACK_IMPORTED_MODULE_3__.isObject)(t)&&\"object\"==typeof t&&\"errors\"in t&&\"three_ds_result\"in t&&(0,lodash__WEBPACK_IMPORTED_MODULE_3__.isArray)(t.errors)&&(0,lodash__WEBPACK_IMPORTED_MODULE_3__.some)(t.errors,{code:\"three_d_secure_required\"}));// removed by dead control flow\n var t; }(e))throw e;const{three_ds_result:t}=e.body,{acs_url:n,payer_auth_request:i,merchant_data:o}=t||{};if(!n||!i||!o)throw new ot([\"formUrl\",\"threeDSSessionData\",\"creq\"]);return new Promise(e=>{this.formPoster.postForm(n,{threeDSSessionData:i,creq:o},e,\"_top\")})})}}const ft=B(n=>new ye(n,new me(we(),new mt(n,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaytdonlinemart\"}]);class wt{constructor(e,t,n=window){this._scriptLoader=e,this._stylesheetLoader=t,this._window=n}load(e){var t,n,i,o,a,r;return i=this,o=void 0,r=function*(){if(yield Promise.all([this._stylesheetLoader.loadStylesheet(`https://checkoutshopper-${null!==(t=e.environment)&&void 0!==t?t:\"\"}.adyen.com/checkoutshopper/sdk/3.10.1/adyen.css`,{prepend:!1,attributes:{integrity:\"sha384-8ofgICZZ/k5cC5N7xegqFZOA73H9RQ7H13439JfAZW8Gj3qjuKL2isaTD3GMIhDE\",crossorigin:\"anonymous\"}}),this._scriptLoader.loadScript(`https://checkoutshopper-${null!==(n=e.environment)&&void 0!==n?n:\"\"}.adyen.com/checkoutshopper/sdk/3.10.1/adyen.js`,{async:!0,attributes:{integrity:\"sha384-wG2z9zSQo61EIvyXmiFCo+zB3y0ZB4hsrXVcANmpP8HLthjoQJQPBh7tZKJSV8jA\",crossorigin:\"anonymous\"}})]),!this._window.AdyenCheckout)throw new D;return new this._window.AdyenCheckout(e)},new((a=void 0)||(a=Promise))(function(e,t){function n(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a(function(e){e(i)})).then(n,s)}c((r=r.apply(i,o||[])).next())})}}function Pt(e){return\"object\"==typeof e&&null!==e&&\"errors\"in e&&Array.isArray(e.errors)&&\"code\"in e.errors[0]&&\"string\"==typeof e.errors[0].code&&\"provider_data\"in e&&\"object\"==typeof e.provider_data}var vt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class _t extends oe{constructor(e,t){super(\"adyen\",e),this._scriptLoader=t,this._service=e}initialize(e,t,n){const i=Object.create(null,{initialize:{get:()=>super.initialize},getPaymentMethod:{get:()=>super.getPaymentMethod}});return vt(this,void 0,void 0,function*(){yield i.initialize.call(this,e,t,n);const o=i.getPaymentMethod.call(this),a=this._service.getState().getStoreConfig();if(!a)throw new j(R.MissingCheckoutConfig);return this._adyenClient=yield this._scriptLoader.load({environment:o.config.testMode?\"test\":\"live\",locale:a.storeProfile.storeLanguage}),Promise.resolve()})}getNonce(e){const t=Object.create(null,{getNonce:{get:()=>super.getNonce},getPaymentMethod:{get:()=>super.getPaymentMethod}});return vt(this,void 0,void 0,function*(){const n=yield t.getNonce.call(this,e),i=t.getPaymentMethod.call(this);return JSON.stringify({type:i.method,googlePayToken:n,browser_info:gt()})})}processAdditionalAction(e){return vt(this,void 0,void 0,function*(){if(!ze(e)||!Pt(e.body))throw e;const t=yield this._handleAction(e.body.provider_data);try{return yield this._service.submitPayment(t)}catch(e){return this.processAdditionalAction(e)}})}_handleAction(e){return new Promise((t,n)=>{const i=JSON.parse(e.action);this._getAdyenClient().createFromAction(i,{onAdditionalDetails:e=>{const n={methodId:i.paymentMethodType,paymentData:{nonce:JSON.stringify(e.data)}};t(n)},size:\"05\",onError:e=>n(e)}).mount(\"body\"),n(new se)})}_getAdyenClient(){if(!this._adyenClient)throw new O(w.PaymentNotInitialized);return this._adyenClient}}class Ct extends m{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}const bt={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},St={position:\"fixed\",\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"},It=\"embedded-checkout-loading-indicator-rotation\";class Ot{constructor(e){this.styles=Object.assign(Object.assign({},bt),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${It} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(n=>{e.style.setProperty(n,t[n])})}defineAnimation(){var e;if(document.getElementById(It))return;const t=document.createElement(\"style\");t.id=It,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${It} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}var kt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class At{constructor(e,t){this._paymentIntegrationService=e,this._googlePayPaymentProcessor=t,this._isDeinitializationBlocked=!1,this._loadingIndicator=new Ot({containerStyles:St})}initialize(e){var t;return kt(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId)||!ue(e.methodId))throw new L('Unable to proceed because \"methodId\" is not a valid key.');this._methodId=e.methodId;const n=e[this._getMethodId()];if(!(null==n?void 0:n.walletButton))throw new L(\"Unable to proceed without valid options.\");const{walletButton:i,loadingContainerId:o}=n,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(n,[\"walletButton\",\"loadingContainerId\"]);this._loadingIndicatorContainer=o,yield this._paymentIntegrationService.loadPaymentMethod(this._getMethodId());const r=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(this._getMethodId());yield this._googlePayPaymentProcessor.initialize(()=>r,this._getGooglePayClientOptions(null===(t=r.initializationData)||void 0===t?void 0:t.storeCountry)),this._addPaymentButton(i,a)})}execute({payment:e}){return kt(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new ot([\"payment\"]);yield this._paymentIntegrationService.submitOrder();const t=yield this._googlePayPaymentProcessor.getNonce(e.methodId),n=yield this._googlePayPaymentProcessor.extraPaymentData();try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e),{paymentData:Object.assign({nonce:t},n)}))}catch(t){yield this._googlePayPaymentProcessor.processAdditionalAction(t,e.methodId)}})}finalize(){return Promise.reject(new Ct)}deinitialize(){var e;return this._isDeinitializationBlocked||(this._clickListener&&(null===(e=this._paymentButton)||void 0===e||e.removeEventListener(\"click\",this._clickListener)),this._paymentButton=void 0,this._clickListener=void 0,this._methodId=void 0),Promise.resolve()}_addPaymentButton(e,t){if(this._paymentButton)return;const n=document.getElementById(e);if(!n)throw new L(\"Unable to proceed without a walletButton.\");this._paymentButton=n,this._clickListener=this._handleClick(t),this._paymentButton.addEventListener(\"click\",this._clickListener)}_handleClick({onPaymentSelect:e,onError:t}){return n=>kt(this,void 0,void 0,function*(){n.preventDefault();try{this._googlePayPaymentProcessor.setShouldRequestShipping(!1),yield this._googlePayPaymentProcessor.initializeWidget(),yield this._interactWithPaymentSheet()}catch(e){let n=e;if(this._toggleLoadingIndicator(!1),le(e)){if(\"CANCELED\"===e.statusCode)throw new se;n=new ce(JSON.stringify(e))}throw null==t||t(new ce(\"An error occurred while requesting your Google Pay payment details.\")),n}finally{this._toggleBlockDeinitialization(!1)}null==e||e()})}_interactWithPaymentSheet(){return kt(this,void 0,void 0,function*(){const e=yield this._googlePayPaymentProcessor.showPaymentSheet();this._toggleBlockDeinitialization(!0),this._toggleLoadingIndicator(!0);const t=this._googlePayPaymentProcessor.mapToBillingAddressRequestBody(e);t&&(yield this._paymentIntegrationService.updateBillingAddress(t)),yield this._googlePayPaymentProcessor.setExternalCheckoutXhr(this._getMethodId(),e),yield this._paymentIntegrationService.loadCheckout(),yield this._paymentIntegrationService.loadPaymentMethod(this._getMethodId()),this._toggleLoadingIndicator(!1),this._toggleBlockDeinitialization(!1)})}_getMethodId(){return W(this._methodId,()=>new O(w.PaymentNotInitialized))}_getIsSignedInOrThrow(){return kt(this,void 0,void 0,function*(){try{return!!(yield this._googlePayPaymentProcessor.getNonce(this._getMethodId()))}catch(e){if(e instanceof j&&e.subtype===R.MissingPaymentToken)return!1;throw e}})}_handleOfferTrigger(e){return kt(this,void 0,void 0,function*(){let t=!1,n=\"Sign in to Google Pay first to apply or remove promo codes.\";try{t=yield this._getIsSignedInOrThrow()}catch(e){e instanceof j&&(n=e.message)}if(t){const{newOfferInfo:t,error:n}=yield this._googlePayPaymentProcessor.handleCoupons(e);return{newOfferInfo:t,error:n}}return{error:{reason:ee.OFFER_INVALID,message:n,intent:te.OFFER}}})}_getGooglePayClientOptions(e){return{paymentDataCallbacks:{onPaymentDataChanged:({callbackTrigger:t,offerData:n})=>kt(this,void 0,void 0,function*(){if(t!==te.INITIALIZE&&t!==te.OFFER)return;const{offerChangeTriggers:i}=this._googlePayPaymentProcessor.getCallbackTriggers(),{newOfferInfo:o,error:a}=i.includes(t)?yield this._handleOfferTrigger(n):{},r=a;yield this._paymentIntegrationService.loadCheckout();const{getCheckoutOrThrow:s,getCartOrThrow:d}=this._paymentIntegrationService.getState(),{code:l,decimalPlaces:u}=d().currency,h=(0,lodash__WEBPACK_IMPORTED_MODULE_3__.round)(s().outstandingBalance,u).toFixed(u);return Object.assign(Object.assign({newTransactionInfo:Object.assign(Object.assign({},e&&{countryCode:e}),{currencyCode:l,totalPriceStatus:X.FINAL,totalPrice:h})},o&&{newOfferInfo:o}),r&&{error:r})})}}}_toggleBlockDeinitialization(e){this._isDeinitializationBlocked=e}_toggleLoadingIndicator(e){e&&this._loadingIndicatorContainer?this._loadingIndicator.show(this._loadingIndicatorContainer):this._loadingIndicator.hide()}}const Tt=B(o=>new At(o,new me(we(),new _t(o,new wt((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)(),(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getStylesheetLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayadyenv2\"}]);class Mt{constructor(e,t,n=window){this._scriptLoader=e,this._stylesheetLoader=t,this._window=n}load(e){var t,n,i,o,a,r;return i=this,o=void 0,r=function*(){if(yield Promise.all([this._stylesheetLoader.loadStylesheet(`https://checkoutshopper-${null!==(t=e.environment)&&void 0!==t?t:\"\"}.adyen.com/checkoutshopper/sdk/5.71.1/adyen.css`,{prepend:!1,attributes:{integrity:\"sha384-5MvB4RnzvviA3VBT4KYABZ4HXNZG5LRqREEgd41xt/pf/QvKmsj2O9GuNuywRXx9\",crossorigin:\"anonymous\"}}),this._scriptLoader.loadScript(`https://checkoutshopper-${null!==(n=e.environment)&&void 0!==n?n:\"\"}.adyen.com/checkoutshopper/sdk/5.71.1/adyen.js`,{async:!0,attributes:{integrity:\"sha384-yvY2yFNR4WqIjPqP9MzjI+gJimmaJnAvj4rLHKvgJbgFD5fMuf8zIJrFJOW8Lhhf\",crossorigin:\"anonymous\"}})]),!this._window.AdyenCheckout)throw new D;return yield this._window.AdyenCheckout(e)},new((a=void 0)||(a=Promise))(function(e,t){function n(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a(function(e){e(i)})).then(n,s)}c((r=r.apply(i,o||[])).next())})}}var Et=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Dt extends oe{constructor(e,t){super(\"adyen\",e),this._scriptLoader=t,this._service=e}initialize(e,t,n){const i=Object.create(null,{initialize:{get:()=>super.initialize},getPaymentMethod:{get:()=>super.getPaymentMethod}});return Et(this,void 0,void 0,function*(){yield i.initialize.call(this,e,t,n);const o=i.getPaymentMethod.call(this),a=this._service.getState().getStoreConfig();if(!a)throw new j(R.MissingCheckoutConfig);return this._adyenClient=yield this._scriptLoader.load({environment:o.config.testMode?\"test\":\"live\",locale:a.storeProfile.storeLanguage}),Promise.resolve()})}processAdditionalAction(e){return Et(this,void 0,void 0,function*(){if(!ze(e)||!Pt(e.body))throw e;const t=yield this._handleAction(e.body.provider_data);try{return yield this._service.submitPayment(t)}catch(e){return this.processAdditionalAction(e)}})}getNonce(e){const t=Object.create(null,{getNonce:{get:()=>super.getNonce},getPaymentMethod:{get:()=>super.getPaymentMethod}});return Et(this,void 0,void 0,function*(){const n=yield t.getNonce.call(this,e),i=t.getPaymentMethod.call(this);return JSON.stringify({type:i.method,googlePayToken:n,browser_info:gt()})})}_handleAction(e){return new Promise((t,n)=>{const i=JSON.parse(e.action);this._getAdyenClient().createFromAction(i,{onAdditionalDetails:e=>{const n={methodId:i.paymentMethodType,paymentData:{nonce:JSON.stringify(e.data)}};t(n)},size:\"05\",onError:e=>n(e)}).mount(\"body\"),n(new se)})}_getAdyenClient(){if(!this._adyenClient)throw new O(w.PaymentNotInitialized);return this._adyenClient}}const Nt=B(o=>new At(o,new me(we(),new Dt(o,new Mt((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)(),(0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getStylesheetLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayadyenv3\"}]),Rt=B(n=>new At(n,new me(we(),new Ne(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayauthorizenet\"}]),zt=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new At(n,new me(we(),new Le(n,i),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaycheckoutcom\"}]),Gt=B(n=>new At(n,new me(we(),new Ue(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaycybersourcev2\"},{id:\"googlepaybnz\"}]),xt=B(n=>new At(n,new me(we(),new qe(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayorbital\"}]),Bt=B(i=>new At(i,new me(we(),new lt(i,new it((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaystripe\"},{id:\"googlepaystripeupe\"},{id:\"googlepaystripeocs\"}]),jt=B(n=>new At(n,new me(we(),new ht(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayworldpayaccess\"}]),Lt=B(i=>{const o=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),a=window,r=new p(i),s=new E(new x((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)(),a,r));return new At(i,new me(we(),new re(i,s),o,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaybraintree\"}]),Ft=\"This API endpoint is for internal use only and may change in the future\";var Ut,Vt;!function(e){e.Approved=\"APPROVED\",e.PayerActionRequired=\"PAYER_ACTION_REQUIRED\"}(Ut||(Ut={})),function(e){e.AUTHORIZE=\"authorize\",e.CAPTURE=\"capture\"}(Vt||(Vt={}));var qt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Ht extends At{constructor(e,t,n,i){super(e,t),this._payPalCommerceSdk=n,this._requestSender=i}execute({payment:e}){return qt(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new ot([\"payment\"]);const t=this._paymentIntegrationService.getState(),n=t.getCartOrThrow().id,{initializationData:i}=t.getPaymentMethodOrThrow(this._getMethodId()),{orderId:o}=yield this.getOrderId(n),{card_information:a}=i||{},r=yield this._googlePayPaymentProcessor.getNonce(e.methodId),s={tokenizationData:{type:\"PAYMENT_GATEWAY\",token:atob(r)},info:{cardNetwork:(null==a?void 0:a.type)||\"\",cardDetails:(null==a?void 0:a.number)||\"\"},type:\"CARD\"};yield this.confirmOrder(o,s),yield this._paymentIntegrationService.submitOrder();try{const t={formattedPayload:{method_id:e.methodId,paypal_account:{order_id:o}}};yield this._paymentIntegrationService.submitPayment({methodId:e.methodId,paymentData:t})}catch(e){yield this._googlePayPaymentProcessor.processAdditionalAction(e)}})}confirmOrder(e,t){return qt(this,void 0,void 0,function*(){const n=this._paymentIntegrationService.getState(),i=n.getPaymentMethodOrThrow(this._getMethodId());if(!i.initializationData)throw new j(R.MissingPaymentMethod);const o=n.getCartOrThrow().currency.code,a=yield this._payPalCommerceSdk.getPayPalGooglePaySdk(i,o,!0),{status:r}=yield a.Googlepay().confirmOrder({orderId:e,paymentMethodData:t});if(r===Ut.PayerActionRequired)return yield a.Googlepay().initiatePayerAction({orderId:e}),Promise.resolve();if(r!==Ut.Approved)throw new L(\"Payment is not approved.\");return Promise.resolve()})}getOrderId(e){return qt(this,void 0,void 0,function*(){const t={cartId:e,shouldSaveInstrument:!1},{body:n}=yield this._requestSender.post(\"/api/storefront/payments/googlepaypaypalcommercecheckout\",{headers:Object.assign({\"X-API-INTERNAL\":Ft,\"Content-Type\":xe.Json},ge),body:t});return n})}}const Wt=B(i=>{const o=new _e((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)());return new Ht(i,new me(we(),new Se(i,o),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),o,(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)())},[{id:\"googlepaypaypalcommerce\"}]);var Yt,Jt;!function(e){e.Approved=\"APPROVED\",e.PayerActionRequired=\"PAYER_ACTION_REQUIRED\"}(Yt||(Yt={})),function(e){e.AUTHORIZE=\"authorize\",e.CAPTURE=\"capture\"}(Jt||(Jt={}));var Kt=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class Zt extends At{constructor(e,t,n,i){super(e,t),this._payPalSdkHelper=n,this._requestSender=i}execute({payment:e}){return Kt(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new ot([\"payment\"]);const t=this._paymentIntegrationService.getState(),n=t.getCartOrThrow().id,{initializationData:i}=t.getPaymentMethodOrThrow(this._getMethodId()),{orderId:o}=yield this.getOrderId(n),{card_information:a}=i||{},r=yield this._googlePayPaymentProcessor.getNonce(e.methodId),s={tokenizationData:{type:\"PAYMENT_GATEWAY\",token:atob(r)},info:{cardNetwork:(null==a?void 0:a.type)||\"\",cardDetails:(null==a?void 0:a.number)||\"\"},type:\"CARD\"};yield this.confirmOrder(o,s),yield this._paymentIntegrationService.submitOrder();try{const t={formattedPayload:{method_id:e.methodId,paypal_account:{order_id:o}}};yield this._paymentIntegrationService.submitPayment({methodId:e.methodId,paymentData:t})}catch(e){yield this._googlePayPaymentProcessor.processAdditionalAction(e)}})}confirmOrder(e,t){return Kt(this,void 0,void 0,function*(){const n=this._paymentIntegrationService.getState(),i=n.getPaymentMethodOrThrow(this._getMethodId());if(!i.initializationData)throw new j(R.MissingPaymentMethod);const o=n.getCartOrThrow().currency.code,a=yield this._payPalSdkHelper.getPayPalGooglePaySdk(i,o,!0),{status:r}=yield a.Googlepay().confirmOrder({orderId:e,paymentMethodData:t});if(r===Yt.PayerActionRequired)return yield a.Googlepay().initiatePayerAction({orderId:e}),Promise.resolve();if(r!==Yt.Approved)throw new L(\"Payment is not approved.\");return Promise.resolve()})}getOrderId(e){return Kt(this,void 0,void 0,function*(){const t={cartId:e,shouldSaveInstrument:!1},{body:n}=yield this._requestSender.post(\"/api/storefront/payments/googlepay_bigcommerce_paymentscheckout\",{headers:Object.assign({\"X-API-INTERNAL\":Ft,\"Content-Type\":xe.Json},ge),body:t});return n})}}const Xt=B(i=>{const o=new ke((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)());return new Zt(i,new me(we(),new Te(i,o),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),o,(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)())},[{id:\"googlepay_bigcommerce_payments\"}]),Qt=B(n=>new At(n,new me(we(),new mt(n,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaytdonlinemart\"}]);class $t extends m{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}var en=function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((i=i.apply(e,t||[])).next())})};class tn{constructor(e,t){this._paymentIntegrationService=e,this._googlePayPaymentProcessor=t}initialize(e){var t;return en(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId)||!ue(e.methodId))throw new L('Unable to proceed because \"methodId\" is not a valid key.');this._methodId=e.methodId;const n=e[this._getMethodId()];if(!n)throw new L(\"Unable to proceed without valid options.\");let i,o=this._paymentIntegrationService.getState();try{i=o.getPaymentMethodOrThrow(this._getMethodId())}catch(e){o=yield this._paymentIntegrationService.loadPaymentMethod(this._getMethodId()),i=o.getPaymentMethodOrThrow(this._getMethodId())}try{yield this._googlePayPaymentProcessor.initialize(()=>i,this._getGooglePayClientOptions(null===(t=i.initializationData)||void 0===t?void 0:t.storeCountry))}catch(e){return}this._addPaymentButton(n)})}signIn(){return Promise.reject(new $t('In order to sign in via Google Pay, the shopper must click on \"Google Pay\" button.'))}signOut(){var e;return en(this,void 0,void 0,function*(){const t=null===(e=this._paymentIntegrationService.getState().getPaymentId())||void 0===e?void 0:e.providerId;t&&(yield this._googlePayPaymentProcessor.signOut(t))})}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}deinitialize(){var e;return null===(e=this._paymentButton)||void 0===e||e.remove(),this._paymentButton=void 0,this._methodId=void 0,Promise.resolve()}_getGooglePayClientOptions(e){return{paymentDataCallbacks:{onPaymentDataChanged:({callbackTrigger:t,shippingAddress:n,shippingOptionData:i,offerData:o})=>en(this,void 0,void 0,function*(){const{availableTriggers:a,addressChangeTriggers:r,shippingOptionsChangeTriggers:s,offerChangeTriggers:c}=this._googlePayPaymentProcessor.getCallbackTriggers();if(!a.includes(t))return;const d=r.includes(t)?yield this._googlePayPaymentProcessor.handleShippingAddressChange(n):void 0;s.includes(t)&&(yield this._googlePayPaymentProcessor.handleShippingOptionChange(i.id));const{newOfferInfo:l,error:u}=c.includes(t)?yield this._googlePayPaymentProcessor.handleCoupons(o):{},h=u;yield this._paymentIntegrationService.loadCheckout();const y=this._googlePayPaymentProcessor.getTotalPrice(),{code:g}=this._paymentIntegrationService.getState().getCartOrThrow().currency;return Object.assign(Object.assign(Object.assign({newTransactionInfo:Object.assign(Object.assign({},e&&{countryCode:e}),{currencyCode:g,totalPriceStatus:X.FINAL,totalPrice:y})},d&&{newShippingOptionParameters:d}),l&&{newOfferInfo:l}),h&&{error:h})})}}}_addPaymentButton({container:e,buttonColor:t,buttonType:n,onClick:i,onError:o}){var a;this._paymentButton=null!==(a=this._paymentButton)&&void 0!==a?a:this._googlePayPaymentProcessor.addPaymentButton(e,{buttonColor:null!=t?t:\"default\",buttonType:null!=n?n:\"plain\",onClick:this._handleClick(o,i)})}_handleClick(e,t){return n=>en(this,void 0,void 0,function*(){n.preventDefault(),t&&\"function\"==typeof t&&t();try{yield this._googlePayPaymentProcessor.initializeWidget(),yield this._interactWithPaymentSheet()}catch(t){let n=t;if(le(t)){if(\"CANCELED\"===t.statusCode)throw new se;n=new ce(JSON.stringify(t))}throw null==e||e(new ce(\"An error occurred while requesting your Google Pay payment details.\")),n}})}_interactWithPaymentSheet(){return en(this,void 0,void 0,function*(){const e=yield this._googlePayPaymentProcessor.showPaymentSheet(),t=this._googlePayPaymentProcessor.mapToBillingAddressRequestBody(e),n=this._googlePayPaymentProcessor.mapToShippingAddressRequestBody(e),i=\"/embedded-checkout\"===window.location.pathname?this._paymentIntegrationService.getState().getStoreConfigOrThrow().links.siteLink:void 0;t&&(yield this._paymentIntegrationService.updateBillingAddress(t)),n&&(yield this._paymentIntegrationService.updateShippingAddress(n)),yield this._googlePayPaymentProcessor.setExternalCheckoutForm(this._getMethodId(),e,i)})}_getMethodId(){return W(this._methodId,()=>new O(w.PaymentNotInitialized))}}const nn=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new tn(n,new me(we(),new oe(\"adyen\",n),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepayadyenv2\"}]),on=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new tn(n,new me(we(),new oe(\"adyen\",n),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepayadyenv3\"}]),an=B(n=>new tn(n,new me(we(),new Ne(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayauthorizenet\"}]),rn=B(n=>{const i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)();return new tn(n,new me(we(),new Le(n,i),i,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaycheckoutcom\"}]),sn=B(n=>new tn(n,new me(we(),new Ue(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaycybersourcev2\"}]),cn=B(n=>new tn(n,new me(we(),new Ue(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaybnz\"}]),dn=B(n=>new tn(n,new me(we(),new qe(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayorbital\"}]),ln=B(i=>new tn(i,new me(we(),new lt(i,new it((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaystripe\"},{id:\"googlepaystripeocs\"}]),un=B(i=>new tn(i,new me(we(),new lt(i,new it((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaystripeupe\"}]),hn=B(n=>new tn(n,new me(we(),new ht(n),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepayworldpayaccess\"}]),yn=B(i=>{const o=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),a=window,r=new p(i),s=new E(new x((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)(),a,r));return new tn(i,new me(we(),new re(i,s),o,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()))},[{id:\"googlepaybraintree\"}]),gn=B(i=>new tn(i,new me(we(),new Se(i,new _e((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaypaypalcommerce\"}]),pn=B(i=>new tn(i,new me(we(),new Te(i,new ke((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_2__.getScriptLoader)())),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepay_bigcommerce_payments\"}]),mn=B(n=>new tn(n,new me(we(),new mt(n,(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_1__.createRequestSender)(),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)())),[{id:\"googlepaytdonlinemart\"}]);\n//# sourceMappingURL=google-pay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9nb29nbGUtcGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ1QsU0FBUyxxQkFBcUIsTUFBTSx1Q0FBdUMsWUFBWSwrREFBK0QsdUJBQXVCLEVBQUUsc0RBQXNELDBDQUEwQyxRQUFRLGVBQWUsNkRBQTZELGdCQUFnQixzSEFBc0gscUpBQXFKLHlCQUF5Qix1Q0FBdUMsTUFBTSxRQUFRLDRDQUFDLGtDQUFrQyxrQ0FBa0Msc0JBQXNCLGVBQWUsTUFBTSx1VEFBdVQsa0JBQWtCLGVBQWUsMkdBQTJHLG9CQUFvQixhQUFhLHlTQUF5UyxTQUFTLEdBQUcsa0JBQWtCLGVBQWUsa0JBQWtCLFVBQVUsd0hBQXdILHNIQUFzSCx3SEFBd0gsNkhBQTZILDRGQUE0RixpRkFBaUYsYUFBYSxvRkFBb0YsU0FBUyxlQUFlLDhEQUE4RCxTQUFTLGVBQWUsb0JBQW9CLFNBQVMsZUFBZSwrRkFBK0YsU0FBUyxlQUFlLDBHQUEwRyxTQUFTLGVBQWUscURBQXFELFNBQVMsZUFBZSxxUEFBcVAsU0FBUyxHQUFHLDhCQUE4Qix5Q0FBeUMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRyxRQUFRLGVBQWUsNkJBQTZCLGNBQWMsdUJBQXVCLGVBQWUsd0NBQXdDLHdFQUF3RSxFQUFFLFlBQVksd0NBQXdDLGlCQUFpQixxRkFBcUYsNEJBQTRCLGdCQUFnQixFQUFFLG1CQUFtQixFQUFFLDJCQUEyQix3Q0FBd0MsU0FBUyxrREFBa0QsMkJBQTJCLHVHQUF1RyxrQkFBa0IsSUFBSSxxQ0FBcUMsU0FBUyxlQUFlLHNGQUFzRix5Q0FBeUMsUUFBUSwwQkFBMEIsRUFBRSw0QkFBNEIsd0NBQXdDLHdCQUF3QixnR0FBZ0csbUNBQW1DLFNBQVMs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LFFBQVEsZ0ZBQUMscUNBQXFDLDJFQUFDLFNBQVMsMENBQTBDLDBFQUFDLEtBQUssR0FBRyx3QkFBd0IsZ0RBQWdELDJFQUFDLEtBQUssZ0ZBQUMsR0FBRywwRUFBQyxPQUFPLDZCQUE2QixnREFBZ0QsMkVBQUMsS0FBSyxnRkFBQyxHQUFHLDBFQUFDLE9BQU8sb0NBQW9DLHlDQUF5QywwRUFBQyxJQUFJLGdGQUFDLEdBQUcsMEVBQUMsT0FBTywyQkFBMkIsR0FBc3hEO0FBQ3Y4K0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi9jaGVja291dC1zZGstanMvZGlzdC9lc20vaW50ZWdyYXRpb25zL2dvb2dsZS1wYXkuanM/YTY5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7Y3JlYXRlRm9ybVBvc3RlciBhcyBlfWZyb21cIkBiaWdjb21tZXJjZS9mb3JtLXBvc3RlclwiO2ltcG9ydHtjcmVhdGVSZXF1ZXN0U2VuZGVyIGFzIHR9ZnJvbVwiQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyXCI7aW1wb3J0e2dldFNjcmlwdExvYWRlciBhcyBuLGdldFN0eWxlc2hlZXRMb2FkZXIgYXMgaX1mcm9tXCJAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlclwiO2ltcG9ydHtmaW5kIGFzIG8saW5jbHVkZXMgYXMgYSxpc0FycmF5IGFzIHIsaXNPYmplY3QgYXMgcyxyb3VuZCBhcyBjLHNvbWUgYXMgZH1mcm9tXCJsb2Rhc2hcIjt2YXIgbD17fTtmdW5jdGlvbiB1KGUsdCxuPSEwKXt2YXIgaTtyZXR1cm4gbnVsbCE9PShpPWVbdF0pJiZ2b2lkIDAhPT1pP2k6bn1sLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClsLm8odCxuKSYmIWwubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGwubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7Y29uc3QgaD1cIjMuMTI4LjBcIix5PVwiMy4xMjMuMlwiLGc9XCIzLjEwNi4wXCI7Y2xhc3MgcHtjb25zdHJ1Y3RvcihlKXt0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9ZSx0aGlzLmJyYWludHJlZVdpbmRvdz13aW5kb3d9Z2V0U0RLVmVyc2lvbigpe2NvbnN0IGU9dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0U3RvcmVDb25maWcoKSx0PShudWxsPT1lP3ZvaWQgMDplLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXMpfHx7fTtyZXR1cm4gdGhpcy5nZXRQcmVsb2FkZWRTREtWZXJzaW9uKCl8fCh1KHQsXCJQQVlQQUwtNTgwOS5icmFpbnRyZWVfaG9zdGVkX2ZpZWxkc19maXhfdmVyc2lvblwiKT9oOnUodCxcIlBBWVBBTC01NjM2LnVwZGF0ZV9icmFpbnRyZWVfc2RrX3ZlcnNpb25cIik/eTpnKX1nZXRQcmVsb2FkZWRTREtWZXJzaW9uKCl7Y29uc3QgZT10aGlzLmJyYWludHJlZVdpbmRvdy5icmFpbnRyZWU7aWYoZSl7Y29uc3QgdD1vKE9iamVjdC52YWx1ZXMoZSksZT0+ISFlLlZFUlNJT04pO3JldHVybiBudWxsPT10P3ZvaWQgMDp0LlZFUlNJT059fX1jbGFzcyBtIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZXx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIiksdGhpcy5uYW1lPVwiU3RhbmRhcmRFcnJvclwiLHRoaXMudHlwZT1cInN0YW5kYXJkXCIsdD1uZXcudGFyZ2V0LnByb3RvdHlwZSxPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdCk6dGhpcy5fX3Byb3RvX189dCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLG5ldy50YXJnZXQpOnRoaXMuc3RhY2s9bmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2t9fWNsYXNzIGYgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiVW5zdXBwb3J0ZWQgYnJvd3NlciBlcnJvclwiKSx0aGlzLm5hbWU9XCJVbnN1cHBvcnRlZEJyb3dzZXJFcnJvclwiLHRoaXMudHlwZT1cInVuc3VwcG9ydGVkX2Jyb3dzZXJcIn19dmFyIHcsUCx2LF8sQyxiLFMsSTshZnVuY3Rpb24oZSl7ZVtlLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQ9MF09XCJDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkXCIsZVtlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ9MV09XCJDdXN0b21lck5vdEluaXRpYWxpemVkXCIsZVtlLlBheW1lbnROb3RJbml0aWFsaXplZD0yXT1cIlBheW1lbnROb3RJbml0aWFsaXplZFwiLGVbZS5TaGlwcGluZ05vdEluaXRpYWxpemVkPTNdPVwiU2hpcHBpbmdOb3RJbml0aWFsaXplZFwiLGVbZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkPTRdPVwiU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZFwifSh3fHwodz17fSkpO2NsYXNzIE8gZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIHcuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugdy5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugdy5TaGlwcGluZ05vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSB3LlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2RlZmF1bHQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwifX0oZSkpLHRoaXMuc3VidHlwZT1lLHRoaXMubmFtZT1cIk5vdEluaXRpYWxpemVkRXJyb3JcIix0aGlzLnR5cGU9XCJub3RfaW5pdGlhbGl6ZWRcIn19IWZ1bmN0aW9uKGUpe2UuRVNUSU1BVEVEPVwiRVNUSU1BVEVEXCIsZS5GSU5BTD1cIkZJTkFMXCIsZS5OT1RfQ1VSUkVOVExZX0tOT1dOPVwiTk9UX0NVUlJFTlRMWV9LTk9XTlwifShQfHwoUD17fSkpLGZ1bmN0aW9uKGUpe2UuQ29tcGxldGVkPVwiQ09NUExFVEVEXCIsZS5QZW5kaW5nPVwiUEVORElOR1wiLGUuRmFpbGVkPVwiRkFJTEVEXCJ9KHZ8fCh2PXt9KSksZnVuY3Rpb24oZSl7ZS5UUlVTVExZPVwidHJ1c3RseVwifShffHwoXz17fSkpLGZ1bmN0aW9uKGUpe2UuU1VDQ0VFREVEPVwic3VjY2VlZGVkXCIsZS5GQUlMRUQ9XCJmYWlsZWRcIixlLkNBTkNFTEVEPVwiY2FuY2VsbGVkXCIsZS5VTlJFQ09HTklaRUQ9XCJ1bnJlY29nbml6ZWRcIn0oQ3x8KEM9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbWVyPVwiQ1VTVE9NRVJcIixlLk1lcmNoYW50PVwiTUVSQ0hBTlRcIixlLk5ldHdvcms9XCJORVRXT1JLXCIsZS5JbnRlcm5hbD1cIklOVEVSTkFMXCIsZS5Vbmtub3duPVwiVU5LTk9XTlwifShifHwoYj17fSkpLGZ1bmN0aW9uKGUpe2UuS291bnROb3RFbmFibGVkPVwiREFUQV9DT0xMRUNUT1JfS09VTlRfTk9UX0VOQUJMRURcIn0oU3x8KFM9e30pKSxmdW5jdGlvbihlKXtlLlZpc2E9XCJ2aXNhXCIsZS5NYXN0ZXJjYXJkPVwibWFzdGVyY2FyZFwiLGUuQW1lcmljYW5FeHByZXNzPVwiYW1lcmljYW4tZXhwcmVzc1wiLGUuRGluZXJzQ2x1Yj1cImRpbmVycy1jbHViXCIsZS5EaXNjb3Zlcj1cImRpc2NvdmVyXCIsZS5KY2I9XCJqY2JcIixlLlVuaW9uUGF5PVwidW5pb24tcGF5XCIsZS5NYWVzdHJvPVwibWFlc3Ryb1wiLGUuRWxvPVwiZWxvXCIsZS5NaXI9XCJtaXJcIixlLkhpcGVyPVwiaGlwZXJcIixlLkhpcGVyY2FyZD1cImhpcGVyY2FyZFwifShJfHwoST17fSkpO3ZhciBrLEEsVCxNPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIEV7Y29uc3RydWN0b3IoZSl7dGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXI9ZX1pbml0aWFsaXplKGUpe3RoaXMuc2V0Q2xpZW50VG9rZW4oZSl9ZGVpbml0aWFsaXplKCl7cmV0dXJuIE0odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9yKSx0aGlzLmRhdGFDb2xsZWN0b3I9dm9pZCAwfSl9Z2V0Q2xpZW50KCl7cmV0dXJuIE0odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLmNsaWVudCl7Y29uc3QgZT10aGlzLmdldENsaWVudFRva2VuT3JUaHJvdygpLHQ9eWllbGQgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZENsaWVudCgpO3RoaXMuY2xpZW50PXlpZWxkIHQuY3JlYXRlKHthdXRob3JpemF0aW9uOmV9KX1yZXR1cm4gdGhpcy5jbGllbnR9KX1nZXREYXRhQ29sbGVjdG9yT3JUaHJvdyhlKXtyZXR1cm4gTSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgdD17ZGV2aWNlRGF0YTp2b2lkIDAsdGVhcmRvd246KCk9PlByb21pc2UucmVzb2x2ZSgpfTtpZighdGhpcy5kYXRhQ29sbGVjdG9yKXRyeXtjb25zdCB0PXlpZWxkIHRoaXMuZ2V0Q2xpZW50KCksbj15aWVsZCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkRGF0YUNvbGxlY3RvcigpLGk9T2JqZWN0LmFzc2lnbih7Y2xpZW50OnQsa291bnQ6ITB9LGUpO3RoaXMuZGF0YUNvbGxlY3Rvcj15aWVsZCBuLmNyZWF0ZShpKX1jYXRjaChlKXtpZihmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJihcInR5cGVcImluIGV8fFwibWVzc2FnZVwiaW4gZXx8XCJjb2RlXCJpbiBlKSl9KGUpJiZlLmNvZGU9PT1TLktvdW50Tm90RW5hYmxlZClyZXR1cm4gdDt0aHJvdyBlfXJldHVybiB0aGlzLmRhdGFDb2xsZWN0b3J9KX1nZXRCcmFpbnRyZWVHb29nbGVQYXltZW50KCl7cmV0dXJuIE0odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLmdvb2dsZVBheW1lbnQpe2NvbnN0W2UsdF09eWllbGQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0Q2xpZW50KCksdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZEdvb2dsZVBheW1lbnQoKV0pO3RoaXMuZ29vZ2xlUGF5bWVudD15aWVsZCB0LmNyZWF0ZSh7Y2xpZW50OmV9KX1yZXR1cm4gdGhpcy5nb29nbGVQYXltZW50fSl9Z2V0QnJhaW50cmVlVGhyZWVEUygpe3JldHVybiBNKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighdGhpcy50aHJlZURTKXtjb25zdFtlLHRdPXlpZWxkIFByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWQzRFMoKV0pO3RoaXMudGhyZWVEUz15aWVsZCB0LmNyZWF0ZSh7Y2xpZW50OmUsdmVyc2lvbjoyfSl9cmV0dXJuIHRoaXMudGhyZWVEU30pfWdldEJyYWludHJlZUxvY2FsUGF5bWVudChlKXtyZXR1cm4gTSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50KXtjb25zdFt0LG5dPXlpZWxkIFByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRMb2NhbFBheW1lbnQoKV0pO3RoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50PXlpZWxkIG5ldyBQcm9taXNlKChpLG8pPT57bi5jcmVhdGUoe2NsaWVudDp0LG1lcmNoYW50QWNjb3VudElkOmV9LChlLHQpPT57ZSYmbyhlKSxpKHQpfSl9KX1yZXR1cm4gdGhpcy5icmFpbnRyZWVMb2NhbFBheW1lbnR9KX1nZXRVc0JhbmtBY2NvdW50KCl7cmV0dXJuIE0odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLnVzQmFua0FjY291bnQpe2NvbnN0IGU9eWllbGQgdGhpcy5nZXRDbGllbnQoKSx0PXlpZWxkIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRVc0JhbmtBY2NvdW50KCk7dGhpcy51c0JhbmtBY2NvdW50PXlpZWxkIHQuY3JlYXRlKHtjbGllbnQ6ZX0pfXJldHVybiB0aGlzLnVzQmFua0FjY291bnR9KX1nZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQoKXtyZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXR8fCh0aGlzLnZpc2FDaGVja291dD1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0KCldKS50aGVuKChbZSx0XSk9PnQuY3JlYXRlKHtjbGllbnQ6ZX0pKSksdGhpcy52aXNhQ2hlY2tvdXR9Z2V0VmlzYUNoZWNrb3V0U2RrKGUpe3JldHVybiBNKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXRTREt8fCh0aGlzLnZpc2FDaGVja291dFNESz15aWVsZCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0U2RrKGUpKSx0aGlzLnZpc2FDaGVja291dFNES30pfWdldFZlbm1vQ2hlY2tvdXRPclRocm93KCl7cmV0dXJuIE0odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLmJyYWludHJlZVZlbm1vKXtjb25zdCBlPXlpZWxkIHRoaXMuZ2V0Q2xpZW50KCksdD15aWVsZCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmVubW9DaGVja291dCgpLG49e2NsaWVudDplLGFsbG93RGVza3RvcDohMCxwYXltZW50TWV0aG9kVXNhZ2U6XCJtdWx0aV91c2VcIn0saT15aWVsZCB0LmNyZWF0ZShuKTtpZighaS5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSl0aHJvdyBuZXcgZjt0aGlzLmJyYWludHJlZVZlbm1vPWl9cmV0dXJuIHRoaXMuYnJhaW50cmVlVmVubW99KX1zZXRDbGllbnRUb2tlbihlKXt0aGlzLmNsaWVudFRva2VuPWV9Z2V0Q2xpZW50VG9rZW5PclRocm93KCl7aWYoIXRoaXMuY2xpZW50VG9rZW4pdGhyb3cgbmV3IE8ody5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLmNsaWVudFRva2VufXRlYXJkb3duTW9kdWxlKGUpe3JldHVybiBlP2UudGVhcmRvd24oKTpQcm9taXNlLnJlc29sdmUoKX19Y2xhc3MgRCBleHRlbmRzIG17Y29uc3RydWN0b3IoZSl7c3VwZXIoZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC5cIiksdGhpcy5uYW1lPVwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3JcIix0aGlzLnR5cGU9XCJwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGVcIn19IWZ1bmN0aW9uKGUpe2UuU2FuZGJveD1cInNhbmRib3hcIixlLlByb2R1Y3Rpb249XCJwcm9kdWN0aW9uXCJ9KGt8fChrPXt9KSksZnVuY3Rpb24oZSl7ZS5DbGllbnQ9XCJjbGllbnRcIixlLkRhdGFDb2xsZWN0b3I9XCJkYXRhQ29sbGVjdG9yXCIsZS5GYXN0bGFuZT1cImZhc3RsYW5lXCIsZS5Hb29nbGVQYXltZW50PVwiZ29vZ2xlUGF5bWVudFwiLGUuSG9zdGVkRmllbGRzPVwiaG9zdGVkRmllbGRzXCIsZS5Mb2NhbFBheW1lbnQ9XCJsb2NhbFBheW1lbnRcIixlLlBheXBhbD1cInBheXBhbFwiLGUuUGF5cGFsQ2hlY2tvdXQ9XCJwYXlwYWxDaGVja291dFwiLGUuVGhyZWVEU2VjdXJlPVwidGhyZWVEU2VjdXJlXCIsZS5Vc0JhbmtBY2NvdW50PVwidXNCYW5rQWNjb3VudFwiLGUuVmVubW89XCJ2ZW5tb1wiLGUuVmlzYUNoZWNrb3V0PVwidmlzYUNoZWNrb3V0XCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oZSl7ZS5DYXJkQ29kZT1cImNhcmRDb2RlXCIsZS5DYXJkQ29kZVZlcmlmaWNhdGlvbj1cImNhcmRDb2RlVmVyaWZpY2F0aW9uXCIsZS5DYXJkRXhwaXJ5PVwiY2FyZEV4cGlyeVwiLGUuQ2FyZE5hbWU9XCJjYXJkTmFtZVwiLGUuQ2FyZE51bWJlcj1cImNhcmROdW1iZXJcIixlLkNhcmROdW1iZXJWZXJpZmljYXRpb249XCJjYXJkTnVtYmVyVmVyaWZpY2F0aW9uXCJ9KFR8fChUPXt9KSk7Y29uc3QgTj17W2ddOntbQS5DbGllbnRdOlwic2hhMzg0LTI2QlhETm5KSTIzSllSeUZCajR4ZTRzVk5yVVNTaVNTdTExa3hWWE5NL3ZFUE9ObTRMdUwwMHc2WmFUZ1Fld3RcIixbQS5QYXlwYWxDaGVja291dF06XCJzaGEzODQtQit2emJad25RdHpXQnRocGtUNFRYS1VpYk82NXR5ZUs3ZUN4U3ZwYmxncHJUZXAyK0lBWEIyQ3h4anJuNzEwT1wiLFtBLlBheXBhbF06XCJzaGEzODQtdXlBR0wxLzMrWEpBSG5Hb055NGVDb1hkeko0ZjdJbHpwKzZ3OVBObkVqczZEQ0N6OVdNeUpqTU4xZ3pjNzhVK1wiLFtBLkxvY2FsUGF5bWVudF06XCJzaGEzODQtTEl2T0VNa0lWRXdWdVlCZFZPUWMxQUM1WWJHR2x3eWZVaGVTMEFDSzIxOEQyU1R1VllRbFo0RnlFUG93QUVmVFwiLFtBLkRhdGFDb2xsZWN0b3JdOlwic2hhMzg0LTFibzlKRHorS3NjdGhjMDg1Y0NLV3VyOENMd1VvQnBvTnl4c0RpNzkzMm1DbDB6RnEzQTVtditGUUx3OUdIcFZcIixbQS5Vc0JhbmtBY2NvdW50XTpcInNoYTM4NC14bUhCVmFVK3c3NFYrT2ViRDNBYVBPTkZ4SFVHTWYrUVJzOEcvSnhWUFhOTlA3TURhMmpMMElDV0hJZTJ0VGZKXCIsW0EuR29vZ2xlUGF5bWVudF06XCJzaGEzODQtV0tESmw4bXFvUDgycVpwTUdINkFiWnhudlhuU1c4SUxWNE02NEN5TUxpdWdHTXd1N0x5UDg5d2pDa0hxc2lCZVwiLFtBLlRocmVlRFNlY3VyZV06XCJzaGEzODQtVlFVbHBHSHpzR3ZzNVhlaUdGaXA3RVhSc3ZvSFdFWERWbWdDYWNmYnlpZVpJOW1kQk9xcTNOU295bzI4T0NPQlwiLFtBLlZpc2FDaGVja291dF06XCJzaGEzODQteXg3bUFEZnpUTjBUNDNRNnJsSDQ5TElnMUVKMGlVWmdCcC9FY3pYOUxYc1VHa3lTZ3hyRCtuV0hRUkJreWZvVFwiLFtBLlZlbm1vXTpcInNoYTM4NC1RWDRyUGpvajFaRGh1RzBhU3lLczU2bEVLRHFUTVRjall4VUhZMVN6TzVWWkRzcUlFMk5Ua3FvdDdLTlNDeW92XCIsW0EuSG9zdGVkRmllbGRzXTpcInNoYTM4NC1WdllCQUNmU3UwQ3IvSjMydUtteEc3QVhjTk9KRTFBeklJTDNrYmlreVM3WUtwNWZ6NUlzK056TlAvbHlhdU55XCIsW0EuRmFzdGxhbmVdOlwic2hhMzg0LTlvR3NaTVJad3BHdERFRFlhL2RGdDc2ZEVDcWoxeEFuaTlnSUtnYzNLZk1JaVJuUjczbkVlZVVETGlCenhoRmFcIn0sW3ldOntbQS5DbGllbnRdOlwic2hhMzg0LW8rbmJRR2N3Tk54SUJlWGV1MytYbWJTcStDZzhSM0VOM04wbDVoWENnTU1VMlJHWTB0MXowTHJvU0VJQWJmQU9cIixbQS5QYXlwYWxDaGVja291dF06XCJzaGEzODQtV3JmYldQQlM0bUg4NkdBb3ljUFNnaUg4aFE4S0g3QTY3QzkzSGpodW52L3hoTmsyWXBCbjN3YkZBNEZoZzlVL1wiLFtBLlBheXBhbF06XCJzaGEzODQtVkYzODludnZyUlVnRHNUWE14VFlPUkR0VmVnQjlJUWEzQ3hyLy9EeUpuTFluejgvWDhWQ3pFdmNrMmMrTWVndFwiLFtBLkxvY2FsUGF5bWVudF06XCJzaGEzODQtdFpLeDJyRVFiZm1acG9QU1k1VlBtSkVoYXE0WDc1ZEx2d0hNczNWRTlVK0M4bFB5dytoV1RJTDErR1B2V0NJSFwiLFtBLkRhdGFDb2xsZWN0b3JdOlwic2hhMzg0LUU2azN3T3BQN3N5Q0REd2FSRExGMDY5NDJZMDBOa2J3SnZXaTJPUVh3d0t6R3dHNWZkM0U3UkZVdkNDZWNmdk9cIixbQS5Vc0JhbmtBY2NvdW50XTpcInNoYTM4NC0yNThGT044TFpHRzBXOVFhejRKaWo4M3BaSHUzMFluS2pKQTdnTnVsTEJoNkNjbGt1Y2dGK3RIRFF1WUZSWWZXXCIsW0EuR29vZ2xlUGF5bWVudF06XCJzaGEzODQtdGFKMnAvMCtuMFZIMzI4UE9Bb0JpdUViTDN0bkhVVEU5UzQyaEsxVitUeHMzWCtRWWpaT3lLVzM1SmdIUkZmT1wiLFtBLlRocmVlRFNlY3VyZV06XCJzaGEzODQtK05TWkg0Wmozc081YmRXdlBLaFU1TjE2UUR4ZXVlVFZUblVWZWxlZUVTa2hMU2F6NE9iMWhoLzVteWVjYzlZbVwiLFtBLlZpc2FDaGVja291dF06XCJzaGEzODQtNjZEaUJqZ2h4azFPbUJqOGFrc044Z2JRK0N3b1FjeDF2UGZpWFVOMDhnMWlRVk0rQndld0YwcDd0b00zaTdTU1wiLFtBLlZlbm1vXTpcInNoYTM4NC1CNVV3WTQya0U0Um9Mb1diUTdZcHFvc1VsVWFkMi9EbEdXaXcwSGhvWmJTUGszMENRQWFTQTEwb2h5TERUa0RVXCIsW0EuSG9zdGVkRmllbGRzXTpcInNoYTM4NC1BdzlFZXNTYVVlV3hlMzZQcUVIaU95T3lPcThNNkNJYjFndzcveUhOVlBSekd0RlhYY2QyT1E4cVhySWxPajJQXCIsW0EuRmFzdGxhbmVdOlwic2hhMzg0LXJoQkwxaHBaNzFKcUcrMlRzVDBEaWg0N21iang4Y2pKQ3BlWmprOXR3M2RmMWdGTUtmQ1RtTXladW5ocjdINFlcIn0sW2hdOntbQS5DbGllbnRdOlwic2hhMzg0LTBXTnhrc0lwUlArZllaaUlkcjEyZzZEQlVRZkxEellDUUpadFIvQzhLa2N3U0doUEhmY0ZwM3RUYUdjTXlGVHFcIixbQS5QYXlwYWxDaGVja291dF06XCJzaGEzODQtbFdNMWprNEJPeG9ETlY2S29wN3RWTnZRZ0lObG1FVnowYy9Pd00rSE5ISzNRQzh4cXdkNTRPdnJ0MlFSRFRqaFwiLFtBLlBheXBhbF06XCJzaGEzODQtZlhVbVZ4QzJFTVpCRFhaN2VUSFNUTC9MRkJySGVqL01TWFQvdlRCWHZyYTRsemdMTkd2UkVBcCt4MEdZT2J1SFwiLFtBLkxvY2FsUGF5bWVudF06XCJzaGEzODQtcGhhMXhHdUdTa21aSDV4OWFxSHZSYU80eExlYTdybVEvNzlQRmo5enhOenh1RmNPV1pnN2dPUDdGaWJ5Z09FQ1wiLFtBLkRhdGFDb2xsZWN0b3JdOlwic2hhMzg0LVE2UEkyRjllZWtXYkF4aHJveWJsK2FFY3ZxaGRvd04vRVFsR3dCVXlKT3pQRm45OTgydTl4bDZTVTZYZkdLemNcIixbQS5Vc0JhbmtBY2NvdW50XTpcInNoYTM4NC1XM1JMUVNLSkwxdFEzK1k3bVA2dG1rYW10WjhiVjRZdy9YeEw5Smo1SnRYSHJhRDhsb01GOGhBSUc1bTJ6SzdGXCIsW0EuR29vZ2xlUGF5bWVudF06XCJzaGEzODQtVElUUU1zRldBM2VsRE5HUDJtV3oyb0tCbzRxanQrVGxxem92Y2FQb2VCaUFoL3dQQmk2bmFlNTBBRGRnVTEvaVwiLFtBLlRocmVlRFNlY3VyZV06XCJzaGEzODQtWWl5Y1lOODlabEwvRXZjYXE0eTFhalcxbWhkN0pZZlpCRHVPd0h0SW40L0pubTIwR0wrL1hDTSt6WUF3V0Q4RFwiLFtBLlZpc2FDaGVja291dF06XCJzaGEzODQtL09kYVR2OXFya0t6ak9idFVlNnl6ZkRoSG96RlcvK3VYbHJTbDczNnNPWlJKcGpHUUVUdnBZWHFNRkZnNjl4dlwiLFtBLlZlbm1vXTpcInNoYTM4NC1kQStvamRXOXZiSlM0SmF2Y1h5T3M5ZDV1WkhKZzVkTnRZdXBvUFNIMnpzWElpWURWUzVhbUxiL3U4cW1RNm96XCIsW0EuSG9zdGVkRmllbGRzXTpcInNoYTM4NC0zMVprUzU4K2lhV3NXMDZmdFc1Mnp6VlpGcDQzV1BkN3BOWVJpZGRZeW5TTmc2T2g3V0diU0ZHb3JBVUg2VDF6XCIsW0EuRmFzdGxhbmVdOlwic2hhMzg0LWpsYnJ3TnZMM0h2TEFVQ3RMU21yblEyR0gxdWRDVXJSUy9iVm1SZUFTNWZ1SVZ2Y1c4UGtvL0drZzgydGxndHJcIn19O3ZhciBSLHosRz1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyB4e2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnNjcmlwdExvYWRlcj1lLHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdz10LHRoaXMuYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXI9bn1sb2FkQ2xpZW50KCl7cmV0dXJuIEcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93KEEuQ2xpZW50LFwiY2xpZW50Lm1pbi5qc1wiKX0pfWxvYWRGYXN0bGFuZSgpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLkZhc3RsYW5lLFwiZmFzdGxhbmUubWluLmpzXCIpfSl9bG9hZFBheXBhbENoZWNrb3V0KCl7cmV0dXJuIEcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93KEEuUGF5cGFsQ2hlY2tvdXQsXCJwYXlwYWwtY2hlY2tvdXQubWluLmpzXCIpfSl9bG9hZFBheXBhbCgpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLlBheXBhbCxcInBheXBhbC5taW4uanNcIil9KX1sb2FkTG9jYWxQYXltZW50KCl7cmV0dXJuIEcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93KEEuTG9jYWxQYXltZW50LFwibG9jYWwtcGF5bWVudC5taW4uanNcIil9KX1sb2FkRGF0YUNvbGxlY3Rvcigpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLkRhdGFDb2xsZWN0b3IsXCJkYXRhLWNvbGxlY3Rvci5taW4uanNcIil9KX1sb2FkVXNCYW5rQWNjb3VudCgpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLlVzQmFua0FjY291bnQsXCJ1cy1iYW5rLWFjY291bnQubWluLmpzXCIpfSl9bG9hZEdvb2dsZVBheW1lbnQoKXtyZXR1cm4gRyh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3coQS5Hb29nbGVQYXltZW50LFwiZ29vZ2xlLXBheW1lbnQubWluLmpzXCIpfSl9bG9hZDNEUygpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLlRocmVlRFNlY3VyZSxcInRocmVlLWQtc2VjdXJlLm1pbi5qc1wiKX0pfWxvYWRWaXNhQ2hlY2tvdXQoKXtyZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhBLlZpc2FDaGVja291dCxcInZpc2EtY2hlY2tvdXQubWluLmpzXCIpfWxvYWRWZW5tb0NoZWNrb3V0KCl7cmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3coQS5WZW5tbyxcInZlbm1vLm1pbi5qc1wiKX1sb2FkSG9zdGVkRmllbGRzKCl7cmV0dXJuIEcodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93KEEuSG9zdGVkRmllbGRzLFwiaG9zdGVkLWZpZWxkcy5taW4uanNcIil9KX1sb2FkVmlzYUNoZWNrb3V0U2RrKGUpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZih0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVilyZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlY7Y29uc3QgdD1lP1wic2hhMzg0LTBldTFzMUd0cXpYbEw5RHRMZ213ekM1V1dsRUgvQURSTTBuMzhjVlFrdnRUK1cvZ2V5OTZyY2IxTHd1VU9QRG1cIjpcInNoYTM4NC0xZjFjc3ZQM1pGeGc0ZElMSDFHYVk0TEhsWjBvWDdSazgzcnhtTGx3Ym5JaTRUTTBOWXpYb2V2MVZvRWlWRFM2XCI7cmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoYC8vJHtlP1wic2FuZGJveC1cIjpcIlwifWFzc2V0cy5zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vY2hlY2tvdXQtd2lkZ2V0L3Jlc291cmNlcy9qcy9pbnRlZ3JhdGlvbi92MS9zZGsuanNgLHthc3luYzohMCxhdHRyaWJ1dGVzOntpbnRlZ3JpdHk6dCxjcm9zc29yaWdpbjpcImFub255bW91c1wifX0pLnRoZW4oKCk9PntpZighdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlYpdGhyb3cgbmV3IEQ7cmV0dXJuIHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WfSl9KX1sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyhlLHQpe3JldHVybiBHKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtsZXQgbj10aGlzLmdldEJyYWludHJlZU1vZHVsZShlKTtpZihuKXJldHVybiBuO2NvbnN0IGk9dGhpcy5icmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlci5nZXRTREtWZXJzaW9uKCksbz1gLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvJHtpfS9qcy8ke3R9YCxhPWkgaW4gTj90aGlzLmdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZShlLGkpOnZvaWQgMDtpZih5aWVsZCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KG8sYT97YXN5bmM6ITAsYXR0cmlidXRlczp7aW50ZWdyaXR5OmEsY3Jvc3NvcmlnaW46XCJhbm9ueW1vdXNcIn19OnZvaWQgMCksbj10aGlzLmdldEJyYWludHJlZU1vZHVsZShlKSwhbil0aHJvdyBuZXcgRDtyZXR1cm4gbn0pfWdldEJyYWludHJlZU1vZHVsZShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5icmFpbnRyZWUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0W2VdfWdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZShlLHQpe2NvbnN0IG49Tlt0XVtlXTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGZpbGVOYW1lIHZhbHVlXCIpO3JldHVybiBufX1mdW5jdGlvbiBCKGUsdCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx7cmVzb2x2ZUlkczp0fSl9IWZ1bmN0aW9uKGUpe2VbZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M9MF09XCJNaXNzaW5nQmlsbGluZ0FkZHJlc3NcIixlW2UuTWlzc2luZ0NhcnQ9MV09XCJNaXNzaW5nQ2FydFwiLGVbZS5NaXNzaW5nQ2hlY2tvdXQ9Ml09XCJNaXNzaW5nQ2hlY2tvdXRcIixlW2UuTWlzc2luZ0NvbnNpZ25tZW50cz0zXT1cIk1pc3NpbmdDb25zaWdubWVudHNcIixlW2UuTWlzc2luZ0N1c3RvbWVyPTRdPVwiTWlzc2luZ0N1c3RvbWVyXCIsZVtlLk1pc3NpbmdDaGVja291dENvbmZpZz01XT1cIk1pc3NpbmdDaGVja291dENvbmZpZ1wiLGVbZS5NaXNzaW5nT3JkZXI9Nl09XCJNaXNzaW5nT3JkZXJcIixlW2UuTWlzc2luZ09yZGVyQ29uZmlnPTddPVwiTWlzc2luZ09yZGVyQ29uZmlnXCIsZVtlLk1pc3NpbmdPcmRlcklkPThdPVwiTWlzc2luZ09yZGVySWRcIixlW2UuTWlzc2luZ1BheW1lbnQ9OV09XCJNaXNzaW5nUGF5bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudElkPTEwXT1cIk1pc3NpbmdQYXltZW50SWRcIixlW2UuTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50PTExXT1cIk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudE1ldGhvZD0xMl09XCJNaXNzaW5nUGF5bWVudE1ldGhvZFwiLGVbZS5NaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsPTEzXT1cIk1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmxcIixlW2UuTWlzc2luZ1BheW1lbnRTdGF0dXM9MTRdPVwiTWlzc2luZ1BheW1lbnRTdGF0dXNcIixlW2UuTWlzc2luZ1BheW1lbnRUb2tlbj0xNV09XCJNaXNzaW5nUGF5bWVudFRva2VuXCIsZVtlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M9MTZdPVwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzc1wifShSfHwoUj17fSkpO2NsYXNzIGogZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIFIuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIFIuTWlzc2luZ0NhcnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIFIuTWlzc2luZ0NvbnNpZ25tZW50czpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBSLk1pc3NpbmdDaGVja291dDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIFIuTWlzc2luZ0N1c3RvbWVyOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2UgUi5NaXNzaW5nQ2hlY2tvdXRDb25maWc6Y2FzZSBSLk1pc3NpbmdPcmRlckNvbmZpZzpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2UgUi5NaXNzaW5nT3JkZXI6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBSLk1pc3NpbmdPcmRlcklkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC5cIjtjYXNlIFIuTWlzc2luZ1BheW1lbnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIFIuTWlzc2luZ1BheW1lbnRUb2tlbjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy5cIjtjYXNlIFIuTWlzc2luZ1BheW1lbnRNZXRob2Q6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuXCI7Y2FzZSBSLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIn19KGUpKSx0aGlzLnN1YnR5cGU9ZSx0aGlzLm5hbWU9XCJNaXNzaW5nRGF0YUVycm9yXCIsdGhpcy50eXBlPVwibWlzc2luZ19kYXRhXCJ9fWNsYXNzIEwgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLlwiKSx0aGlzLm5hbWU9XCJJbnZhbGlkQXJndW1lbnRFcnJvclwiLHRoaXMudHlwZT1cImludmFsaWRfYXJndW1lbnRcIn19Y2xhc3MgRntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PW5ldyBQcm9taXNlKChlLHQpPT57dGhpcy5jYW5jZWw9dH0pO3RoaXMucHJvbWlzZT1Qcm9taXNlLnJhY2UoW2UsdF0pfX0hZnVuY3Rpb24oZSl7ZS5BRFlFTl9WMj1cImdvb2dsZXBheWFkeWVudjJcIixlLkFEWUVOX1YzPVwiZ29vZ2xlcGF5YWR5ZW52M1wiLGUuQVVUSE9SSVpFX05FVD1cImdvb2dsZXBheWF1dGhvcml6ZW5ldFwiLGUuQk5aPVwiZ29vZ2xlcGF5Ym56XCIsZS5CUkFJTlRSRUU9XCJnb29nbGVwYXlicmFpbnRyZWVcIixlLlBBWVBBTF9DT01NRVJDRT1cImdvb2dsZXBheXBheXBhbGNvbW1lcmNlXCIsZS5CSUdDT01NRVJDRV9QQVlNRU5UUz1cImdvb2dsZXBheV9iaWdjb21tZXJjZV9wYXltZW50c1wiLGUuQ0hFQ0tPVVRfQ09NPVwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIixlLkNZQkVSU09VUkNFX1YyPVwiZ29vZ2xlcGF5Y3liZXJzb3VyY2V2MlwiLGUuT1JCSVRBTD1cImdvb2dsZXBheW9yYml0YWxcIixlLlNUUklQRT1cImdvb2dsZXBheXN0cmlwZVwiLGUuU1RSSVBFX1VQRT1cImdvb2dsZXBheXN0cmlwZXVwZVwiLGUuU1RSSVBFX09DUz1cImdvb2dsZXBheXN0cmlwZW9jc1wiLGUuV09STERQQVlfQUNDRVNTPVwiZ29vZ2xlcGF5d29ybGRwYXlhY2Nlc3NcIixlLlREX09OTElORV9NQVJUPVwiZ29vZ2xlcGF5dGRvbmxpbmVtYXJ0XCJ9KHp8fCh6PXt9KSk7ZnVuY3Rpb24gVShlLHQsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbi52YWx1ZSlyZXR1cm4gbjtsZXQgaT1uLnZhbHVlO3JldHVybntnZXQoKXtjb25zdCBlPWkuYmluZCh0aGlzKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3ZhbHVlOmV9KSksZX0sc2V0KGUpe2k9ZX19fWNsYXNzIFZ7Y29uc3RydWN0b3IoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVuY3kgc2V0dGluZ3MgbWlzc2luZ1wiKTtjb25zdHtkZWNpbWFsUGxhY2VzOnQsc3ltYm9sTG9jYXRpb246bixzeW1ib2w6aSx0aG91c2FuZHNTZXBhcmF0b3I6byxkZWNpbWFsU2VwYXJhdG9yOmF9PWU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fFwic3RyaW5nXCIhPXR5cGVvZiBpfHxcInN0cmluZ1wiIT10eXBlb2Ygb3x8XCJzdHJpbmdcIiE9dHlwZW9mIGF8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBMKFwiSW52YWxpZCBjdXJyZW5jeSBzZXR0aW5ncyBwcm92aWRlZFwiKTt0aGlzLl9kZWNpbWFsUGxhY2VzPXBhcnNlSW50KHQsMTApLHRoaXMuX3N5bWJvbExvY2F0aW9uPW4sdGhpcy5fc3ltYm9sPWksdGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yPW8sdGhpcy5fZGVjaW1hbFNlcGFyYXRvcj1hfWZvcm1hdChlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgTChcIkludmFsaWQgYW1vdW50IHByb3ZpZGVkXCIpO2NvbnN0IHQ9dGhpcy5fZm9ybWF0TnVtYmVyKGUpLG49dGhpcy5fZm9ybWF0Q3VycmVuY3kodCk7cmV0dXJuIGU8MD9gLSR7bn1gOm59X2Zvcm1hdE51bWJlcihlKXtjb25zdCB0PU1hdGguYWJzKGUpLFtuLGk9XCJcIl09dGhpcy5fdG9GaXhlZCh0LHRoaXMuX2RlY2ltYWxQbGFjZXMpLnNwbGl0KFwiLlwiKSxvPW4ucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZyx0aGlzLl90aG91c2FuZHNTZXBhcmF0b3IpO3JldHVybiB0aGlzLl9kZWNpbWFsUGxhY2VzPDE/bzpbbyxpXS5qb2luKHRoaXMuX2RlY2ltYWxTZXBhcmF0b3IpfV9mb3JtYXRDdXJyZW5jeShlKXtyZXR1cm5cImxlZnRcIj09PXRoaXMuX3N5bWJvbExvY2F0aW9uLnRvTG93ZXJDYXNlKCk/YCR7dGhpcy5fc3ltYm9sfSR7ZX1gOmAke2V9JHt0aGlzLl9zeW1ib2x9YH1fdG9GaXhlZChlLHQpe3JldHVybigrYCR7TWF0aC5yb3VuZCgrYCR7ZX1lJHt0fWApfWUkey10fWApLnRvRml4ZWQodCl9fWxldCBxPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuX3N0b3JlQ29uZmlnPWUsdGhpcy5fY3VzdG9tZXJGb3JtYXR0ZXI9bmV3IFYodGhpcy5fc3RvcmVDb25maWcuc2hvcHBlckN1cnJlbmN5KSx0aGlzLl9zdG9yZUZvcm1hdHRlcj1uZXcgVih0aGlzLl9zdG9yZUNvbmZpZy5jdXJyZW5jeSl9dG9DdXN0b21lckN1cnJlbmN5KGUpe2NvbnN0IHQ9dGhpcy5fc3RvcmVDb25maWcuc2hvcHBlckN1cnJlbmN5LmV4Y2hhbmdlUmF0ZTtyZXR1cm4gdGhpcy5fY3VzdG9tZXJGb3JtYXR0ZXIuZm9ybWF0KGUqdCl9dG9TdG9yZUN1cnJlbmN5KGUpe3JldHVybiB0aGlzLl9zdG9yZUZvcm1hdHRlci5mb3JtYXQoZSl9fTtxPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLGE9YXJndW1lbnRzLmxlbmd0aCxyPWE8Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcj1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBzPWUubGVuZ3RoLTE7cz49MDtzLS0pKG89ZVtzXSkmJihyPShhPDM/byhyKTphPjM/byh0LG4scik6byh0LG4pKXx8cik7cmV0dXJuIGE+MyYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixyKSxyfShbZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0JiZuP1UoMCx0LG4pOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9Y2xhc3MgZXh0ZW5kcyBle307cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUucHJvdG90eXBlKS5mb3JFYWNoKG49Pntjb25zdCBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5wcm90b3R5cGUsbik7aSYmXCJjb25zdHJ1Y3RvclwiIT09biYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLG4sVShlLnByb3RvdHlwZSxuLGkpKX0pLHR9KGUpfV0scSk7Y29uc3QgSD1xO2Z1bmN0aW9uIFcoZSx0KXtpZihudWxsPT1lKXRocm93IHQ/dCgpOm5ldyBFcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLlwiKTtyZXR1cm4gZX12YXIgWSxKLEssWixYLFEsJCxlZSx0ZTtmdW5jdGlvbiBuZShlKXtyZXR1cm4gZSBpbiBRfSFmdW5jdGlvbihlKXtlLkFVVEhPUklaRT1cImF1dGhvcml6ZVwiLGUuQ0FQVFVSRT1cImNhcHR1cmVcIn0oWXx8KFk9e30pKSxmdW5jdGlvbihlKXtlLnBheXBhbD1cInBheXBhbFwiLGUuY2hlY2tvdXQ9XCJjaGVja291dFwiLGUuYnV5bm93PVwiYnV5bm93XCIsZS5wYXk9XCJwYXlcIixlLmluc3RhbGxtZW50PVwiaW5zdGFsbG1lbnRcIn0oSnx8KEo9e30pKSxmdW5jdGlvbihlKXtlLmdvbGQ9XCJnb2xkXCIsZS5ibHVlPVwiYmx1ZVwiLGUuc2lsdmVyPVwic2lsdmVyXCIsZS5ibGFjaz1cImJsYWNrXCIsZS53aGl0ZT1cIndoaXRlXCJ9KEt8fChLPXt9KSksZnVuY3Rpb24oZSl7ZS5waWxsPVwicGlsbFwiLGUucmVjdD1cInJlY3RcIn0oWnx8KFo9e30pKSxmdW5jdGlvbihlKXtlLkVTVElNQVRFRD1cIkVTVElNQVRFRFwiLGUuRklOQUw9XCJGSU5BTFwiLGUuTk9UX0NVUlJFTlRMWV9LTk9XTj1cIk5PVF9DVVJSRU5UTFlfS05PV05cIn0oWHx8KFg9e30pKSxmdW5jdGlvbihlKXtlLkFNRVg9XCJBTUVYXCIsZS5ESVNDT1ZFUj1cIkRJU0NPVkVSXCIsZS5JTlRFUkFDPVwiSU5URVJBQ1wiLGUuSkNCPVwiSkNCXCIsZS5NQz1cIk1BU1RFUkNBUkRcIixlLlZJU0E9XCJWSVNBXCJ9KFF8fChRPXt9KSksZnVuY3Rpb24oZSl7ZS5PRkZFUj1cIk9GRkVSXCIsZS5QQVlNRU5UX0FVVEhPUklaQVRJT049XCJQQVlNRU5UX0FVVEhPUklaQVRJT05cIixlLlNISVBQSU5HX0FERFJFU1M9XCJTSElQUElOR19BRERSRVNTXCIsZS5TSElQUElOR19PUFRJT049XCJTSElQUElOR19PUFRJT05cIn0oJHx8KCQ9e30pKSxmdW5jdGlvbihlKXtlLk9GRkVSX0lOVkFMSUQ9XCJPRkZFUl9JTlZBTElEXCIsZS5QQVlNRU5UX0RBVEFfSU5WQUxJRD1cIlBBWU1FTlRfREFUQV9JTlZBTElEXCIsZS5TSElQUElOR19BRERSRVNTX0lOVkFMSUQ9XCJTSElQUElOR19BRERSRVNTX0lOVkFMSURcIixlLlNISVBQSU5HX0FERFJFU1NfVU5TRVJWSUNFQUJMRT1cIlNISVBQSU5HX0FERFJFU1NfVU5TRVJWSUNFQUJMRVwiLGUuU0hJUFBJTkdfT1BUSU9OX0lOVkFMSUQ9XCJTSElQUElOR19PUFRJT05fSU5WQUxJRFwiLGUuT1RIRVJfRVJST1I9XCJPVEhFUl9FUlJPUlwifShlZXx8KGVlPXt9KSksZnVuY3Rpb24oZSl7ZS5JTklUSUFMSVpFPVwiSU5JVElBTElaRVwiLGUuU0hJUFBJTkdfT1BUSU9OPVwiU0hJUFBJTkdfT1BUSU9OXCIsZS5TSElQUElOR19BRERSRVNTPVwiU0hJUFBJTkdfQUREUkVTU1wiLGUuT0ZGRVI9XCJPRkZFUlwifSh0ZXx8KHRlPXt9KSk7dmFyIGllPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIG9le2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fZ2F0ZXdheUlkZW50aWZpZXI9ZSx0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlPXQsdGhpcy5faXNCdXlOb3dGbG93PSExLHRoaXMuX3Nob3VsZFJlcXVlc3RTaGlwcGluZz0hMH1tYXBUb1NoaXBwaW5nQWRkcmVzc1JlcXVlc3RCb2R5KHtzaGlwcGluZ0FkZHJlc3M6ZX0pe2lmKCFlKXJldHVybjtjb25zdHtjb21wYW55OnQ9XCJcIixwaG9uZTpuPVwiXCJ9PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRTaGlwcGluZ0FkZHJlc3MoKXx8e307cmV0dXJuIHRoaXMuX21hcFRvQWRkcmVzc1JlcXVlc3RCb2R5KGUsdCxuKX1tYXBUb0JpbGxpbmdBZGRyZXNzUmVxdWVzdEJvZHkoZSl7Y29uc3R7YmlsbGluZ0FkZHJlc3M6dH09ZS5wYXltZW50TWV0aG9kRGF0YS5pbmZvO2lmKCF0KXJldHVybjtjb25zdHtjb21wYW55Om49XCJcIixwaG9uZTppPVwiXCIsZW1haWw6byxjdXN0b21GaWVsZHM6YT1bXX09dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEJpbGxpbmdBZGRyZXNzKCl8fHt9O3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fbWFwVG9BZGRyZXNzUmVxdWVzdEJvZHkodCxuLGksYSkpLHtlbWFpbDpvfHxlLmVtYWlsfSl9bWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YShlKXt2YXIgdDtjb25zdHtwYXltZW50TWV0aG9kRGF0YTp7dG9rZW5pemF0aW9uRGF0YTp7dG9rZW46bn0saW5mbzp7Y2FyZE5ldHdvcms6aSxjYXJkRGV0YWlsczpvfX19PWU7aWYoIW4pdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudFRva2VuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5hc3NpZ24oe25vbmNlOm4sY2FyZF9pbmZvcm1hdGlvbjp7dHlwZTppLG51bWJlcjpvfX0sdGhpcy5faXNCdXlOb3dGbG93JiZ7Y2FydF9pZDpudWxsPT09KHQ9dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnQoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWR9KSl9Z2V0UmVxdWlyZWREYXRhKCl7dmFyIGU7cmV0dXJuIGllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCB0PXtlbWFpbFJlcXVpcmVkOiEwfTtpZighdGhpcy5faXNTaGlwcGluZ0FkZHJlc3NSZXF1aXJlZCgpKXJldHVybiB0O2NvbnN0IG49eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkU2hpcHBpbmdDb3VudHJpZXMoKSxpPW51bGw9PT0oZT1uLmdldFNoaXBwaW5nQ291bnRyaWVzKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hcChlPT5lLmNvZGUpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3NoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiEwLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7cGhvbmVOdW1iZXJSZXF1aXJlZDohMH0saSYme2FsbG93ZWRDb3VudHJ5Q29kZXM6aX0pLHNoaXBwaW5nT3B0aW9uUmVxdWlyZWQ6ITB9KX0pfWdldENhbGxiYWNrSW50ZW50cygpe3JldHVybiB0aGlzLl9pc1NoaXBwaW5nQWRkcmVzc1JlcXVpcmVkKCk/WyQuT0ZGRVIsJC5TSElQUElOR19BRERSRVNTLCQuU0hJUFBJTkdfT1BUSU9OXTpbJC5PRkZFUl19Z2V0Q2FsbGJhY2tUcmlnZ2Vycygpe3JldHVybnthdmFpbGFibGVUcmlnZ2VyczpbdGUuSU5JVElBTElaRSx0ZS5TSElQUElOR19BRERSRVNTLHRlLlNISVBQSU5HX09QVElPTix0ZS5PRkZFUl0saW5pdGlhbGl6YXRpb25UcmlnZ2VyOlt0ZS5JTklUSUFMSVpFXSxhZGRyZXNzQ2hhbmdlVHJpZ2dlcnM6W3RlLklOSVRJQUxJWkUsdGUuU0hJUFBJTkdfQUREUkVTU10sc2hpcHBpbmdPcHRpb25zQ2hhbmdlVHJpZ2dlcnM6W3RlLlNISVBQSU5HX09QVElPTl0sb2ZmZXJDaGFuZ2VUcmlnZ2VyczpbdGUuT0ZGRVJdfX1nZXROb25jZShlKXt2YXIgdDtjb25zdCBuPW51bGw9PT0odD10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3coZSkuaW5pdGlhbGl6YXRpb25EYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ub25jZTtpZighbil0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50VG9rZW4pO3JldHVybiBQcm9taXNlLnJlc29sdmUobil9ZXh0cmFQYXltZW50RGF0YSgpe3JldHVybiBQcm9taXNlLnJlc29sdmUodm9pZCAwKX1nZXRNZXJjaGFudEluZm8oKXtjb25zdHtnb29nbGVNZXJjaGFudE5hbWU6ZSxnb29nbGVNZXJjaGFudElkOnQscGxhdGZvcm1Ub2tlbjpufT10aGlzLmdldEdvb2dsZVBheUluaXRpYWxpemF0aW9uRGF0YSgpO3JldHVybnttZXJjaGFudE5hbWU6ZSxtZXJjaGFudElkOnQsYXV0aEp3dDpufX1nZXRUcmFuc2FjdGlvbkluZm8oKXtsZXQgZTtpZih0aGlzLl9pc0J1eU5vd0Zsb3cpZT10aGlzLl9nZXRDdXJyZW5jeUNvZGVPclRocm93KCk7ZWxzZXtjb25zdHtnZXRDYXJ0T3JUaHJvdzp0fT10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7ZT10KCkuY3VycmVuY3kuY29kZX1jb25zdCB0PXRoaXMuZ2V0R29vZ2xlUGF5SW5pdGlhbGl6YXRpb25EYXRhKCkuc3RvcmVDb3VudHJ5O3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCYme2NvdW50cnlDb2RlOnR9KSx7Y3VycmVuY3lDb2RlOmUsdG90YWxQcmljZVN0YXR1czpYLkVTVElNQVRFRCx0b3RhbFByaWNlOlwiMFwifSl9Z2V0UGF5bWVudEdhdGV3YXlQYXJhbWV0ZXJzKCl7Y29uc3QgZT10aGlzLmdldEdvb2dsZVBheUluaXRpYWxpemF0aW9uRGF0YSgpLmdhdGV3YXlNZXJjaGFudElkO2lmKCFlKXRocm93IG5ldyBMKFwiVW5hYmxlIHRvIHByb2NlZWQsIGdhdGV3YXlNZXJjaGFudElkIGlzIG1pc3NpbmcuXCIpO3JldHVybntnYXRld2F5OnRoaXMuX2dhdGV3YXlJZGVudGlmaWVyLGdhdGV3YXlNZXJjaGFudElkOmV9fWdldENhcmRQYXJhbWV0ZXJzKCl7cmV0dXJue2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3Jrczp0aGlzLmdldFBheW1lbnRNZXRob2QoKS5zdXBwb3J0ZWRDYXJkcy5maWx0ZXIobmUpLm1hcChlPT5RW2VdKSxiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiEwLGJpbGxpbmdBZGRyZXNzUGFyYW1ldGVyczp7Zm9ybWF0OlwiRlVMTFwiLHBob25lTnVtYmVyUmVxdWlyZWQ6ITB9fX1pbml0aWFsaXplKGUsdCxuKXtyZXR1cm4gdGhpcy5fZ2V0UGF5bWVudE1ldGhvZEZuPWUsdGhpcy5faXNCdXlOb3dGbG93PUJvb2xlYW4odCksdGhpcy5fY3VycmVuY3lDb2RlPW4sdGhpcy5faXNCdXlOb3dGbG93JiZ0aGlzLl9nZXRDdXJyZW5jeUNvZGVPclRocm93KCksUHJvbWlzZS5yZXNvbHZlKCl9aGFuZGxlU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKGUpe3ZhciB0LG4saSxvO3JldHVybiBpZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7ZSYmKGUubmFtZT1lLm5hbWV8fFwiXCIsZS5hZGRyZXNzMT1lLmFkZHJlc3MxfHxcIlwiKTtjb25zdCBhPXRoaXMubWFwVG9TaGlwcGluZ0FkZHJlc3NSZXF1ZXN0Qm9keSh7c2hpcHBpbmdBZGRyZXNzOmV9KTthJiYoeWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MoYSkpO2NvbnN0IHI9dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHM9ci5nZXRDb25zaWdubWVudHMoKTtpZighKG51bGw9PXM/dm9pZCAwOnNbMF0pKXJldHVybjtjb25zdCBjPXNbMF0sZD1yLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO3RoaXMuX2N1cnJlbmN5U2VydmljZXx8KHRoaXMuX2N1cnJlbmN5U2VydmljZT1uZXcgSChkKSk7Y29uc3QgbD0oYy5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnN8fFtdKS5tYXAodGhpcy5fZ2V0R29vZ2xlUGF5U2hpcHBpbmdPcHRpb24uYmluZCh0aGlzKSksdT1udWxsPT09KHQ9Yy5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZpbmQoZT0+ZS5pc1JlY29tbWVuZGVkKTtpZihsLmxlbmd0aCl7Y29uc3QgZT0obnVsbD09PShuPWMuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWQpfHwobnVsbD09dT92b2lkIDA6dS5pZCl8fChudWxsPT09KGk9bFswXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpO3JldHVybiEobnVsbD09PShvPWMuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8uaWQpJiZsWzBdJiYoeWllbGQgdGhpcy5oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZSgobnVsbD09dT92b2lkIDA6dS5pZCl8fGxbMF0uaWQpKSx7ZGVmYXVsdFNlbGVjdGVkT3B0aW9uSWQ6ZSxzaGlwcGluZ09wdGlvbnM6bH19fSl9aGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2UoZSl7cmV0dXJuIGllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZihcInNoaXBwaW5nX29wdGlvbl91bnNlbGVjdGVkXCIhPT1lKXJldHVybiB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNlbGVjdFNoaXBwaW5nT3B0aW9uKGUpfSl9Z2V0VG90YWxQcmljZSgpe2NvbnN0e2dldENoZWNrb3V0T3JUaHJvdzplLGdldENhcnRPclRocm93OnR9PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSx7ZGVjaW1hbFBsYWNlczpufT10KCkuY3VycmVuY3k7cmV0dXJuIGMoZSgpLm91dHN0YW5kaW5nQmFsYW5jZSxuKS50b0ZpeGVkKG4pfWhhbmRsZUNvdXBvbnMoZSl7cmV0dXJuIGllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHtyZWRlbXB0aW9uQ29kZXM6dD1bXX09ZSx7b2ZmZXJzOm59PXRoaXMuZ2V0QXBwbGllZENvdXBvbnMoKTtsZXQgaTtyZXR1cm4geWllbGQgdC5yZWR1Y2UoKGUsdCk9PmllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZih5aWVsZCBlLG4uc29tZSgoe3JlZGVtcHRpb25Db2RlOmV9KT0+ZT09PXQpKXJldHVybjtjb25zdCBvPXlpZWxkIHRoaXMuYXBwbHlDb3Vwb24odCk7byYmKGk9byl9KSxQcm9taXNlLnJlc29sdmUoKSkseWllbGQgbi5yZWR1Y2UoKGUsbik9PmllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCBlLHQuaW5jbHVkZXMobi5yZWRlbXB0aW9uQ29kZSl8fCh5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnJlbW92ZUNvdXBvbihuLnJlZGVtcHRpb25Db2RlKSl9KSxQcm9taXNlLnJlc29sdmUoKSkse25ld09mZmVySW5mbzp0aGlzLmdldEFwcGxpZWRDb3Vwb25zKCksZXJyb3I6aX19KX1nZXRBcHBsaWVkQ291cG9ucygpe2NvbnN0IGU9dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHtjb3Vwb25zOnR9PWUuZ2V0Q2hlY2tvdXQoKXx8e307cmV0dXJue29mZmVyczoodHx8W10pLm1hcChlPT57Y29uc3R7ZGlzcGxheU5hbWU6dCxjb2RlOm59PWU7cmV0dXJue3JlZGVtcHRpb25Db2RlOm4sZGVzY3JpcHRpb246dH19KX19YXBwbHlDb3Vwb24oZSl7cmV0dXJuIGllKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtsZXQgdDt0cnl7eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5hcHBseUNvdXBvbihlKX1jYXRjaChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yJiYodD17cmVhc29uOmVlLk9GRkVSX0lOVkFMSUQsbWVzc2FnZTplLm1lc3NhZ2UsaW50ZW50OnRlLk9GRkVSfSksdH19KX1zZXRTaG91bGRSZXF1ZXN0U2hpcHBpbmcoZSl7dGhpcy5fc2hvdWxkUmVxdWVzdFNoaXBwaW5nPWV9Z2V0R29vZ2xlUGF5SW5pdGlhbGl6YXRpb25EYXRhKCl7cmV0dXJuIFcodGhpcy5nZXRQYXltZW50TWV0aG9kKCkuaW5pdGlhbGl6YXRpb25EYXRhLCgpPT5uZXcgTChcIk1pc3NpbmcgaW5pdGlhbGl6YXRpb24gZGF0YS5cIikpfWdldFBheW1lbnRNZXRob2QoKXtyZXR1cm4gVyh0aGlzLl9nZXRQYXltZW50TWV0aG9kRm4sKCk9Pm5ldyBPKHcuUGF5bWVudE5vdEluaXRpYWxpemVkKSkoKX1nZXRHYXRld2F5SWRlbnRpZmllcigpe3JldHVybiB0aGlzLl9nYXRld2F5SWRlbnRpZmllcn1zZXRHYXRld2F5SWRlbnRpZmllcihlKXt0aGlzLl9nYXRld2F5SWRlbnRpZmllcj1lfHx0aGlzLmdldEdhdGV3YXlJZGVudGlmaWVyKCl9X2lzU2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQoKXtjb25zdHtnZXRDYXJ0T3JUaHJvdzplLGdldFN0b3JlQ29uZmlnT3JUaHJvdzp0LGdldFNoaXBwaW5nQWRkcmVzczpufT10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCksaT10KCk7bGV0IG87cmV0dXJuIG89dShpLmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXMsXCJQSS00MjkwLmdvb2dsZV9wYXlfcmVxdWlyZV9zaGlwcGluZ19hZGRyZXNzXCIpP3RoaXMuX3Nob3VsZFJlcXVlc3RTaGlwcGluZzp2b2lkIDA9PT1uKCksbyYmKGE9ZSgpLHI9aSwhIWEmJighIWEubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMuc29tZShlPT5lLmlzU2hpcHBpbmdSZXF1aXJlZCl8fCEoIXJ8fCFhLmxpbmVJdGVtcy5jdXN0b21JdGVtcykmJmEubGluZUl0ZW1zLmN1c3RvbUl0ZW1zLmxlbmd0aD4wKSk7dmFyIGEscn1fbWFwVG9BZGRyZXNzUmVxdWVzdEJvZHkoZSx0LG4saSl7Y29uc3R7bmFtZTpvLGFkZHJlc3MxOmEsYWRkcmVzczI6cixhZGRyZXNzMzpzLGxvY2FsaXR5OmMsYWRtaW5pc3RyYXRpdmVBcmVhOmQsY291bnRyeUNvZGU6bCxwb3N0YWxDb2RlOnUscGhvbmVOdW1iZXI6aH09ZSxbeSxnXT10aGlzLl9nZXRGaXJzdEFuZExhc3ROYW1lKG8pO3JldHVybntmaXJzdE5hbWU6eSxsYXN0TmFtZTpnLGNvbXBhbnk6dCxhZGRyZXNzMTphLGFkZHJlc3MyOmAke3J9ICR7c31gLnRyaW0oKSxjaXR5OmN8fGQsc3RhdGVPclByb3ZpbmNlOmQsc3RhdGVPclByb3ZpbmNlQ29kZTpkLGNvdW50cnlDb2RlOmwscG9zdGFsQ29kZTp1LHBob25lOmh8fG4sY3VzdG9tRmllbGRzOml8fFtdfX1fZ2V0Rmlyc3RBbmRMYXN0TmFtZShlKXtjb25zdCB0PWUuc3BsaXQoXCIgXCIpO3JldHVybiAxPT09dC5sZW5ndGg/W2UsXCJcIl06W3Quc2xpY2UoMCwtMSkuam9pbihcIiBcIiksdFt0Lmxlbmd0aC0xXV19X2dldEN1cnJlbmN5Q29kZU9yVGhyb3coKXtyZXR1cm4gVyh0aGlzLl9jdXJyZW5jeUNvZGUsKCk9Pm5ldyBMKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmN1cnJlbmN5Q29kZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKSl9X2dldEdvb2dsZVBheVNoaXBwaW5nT3B0aW9uKHtpZDplLGNvc3Q6dCxkZXNjcmlwdGlvbjpuLGFkZGl0aW9uYWxEZXNjcmlwdGlvbjppfSl7dmFyIG87Y29uc3QgYT1udWxsPT09KG89dGhpcy5fY3VycmVuY3lTZXJ2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by50b0N1c3RvbWVyQ3VycmVuY3kodCk7cmV0dXJuIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5jaGVja291dFNldHRpbmdzLmZlYXR1cmVzW1wiUEktMzU0MC5nb29nbGVwYXlfbmV3X3NoaXBwaW5nX29wdGlvbnNfZGVzY3JpcHRpb25cIl0/e2lkOmUsbGFiZWw6YCR7YXx8dH0gJHtufWAsZGVzY3JpcHRpb246aX06e2lkOmUsbGFiZWw6bixkZXNjcmlwdGlvbjphfHx0fX19dmFyIGFlPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIHJlIGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihcImJyYWludHJlZVwiLGUpLHRoaXMuX2JyYWludHJlZVNkaz10LHRoaXMuX21ldGhvZElkPXouQlJBSU5UUkVFLHRoaXMuX3NlcnZpY2U9ZX1pbml0aWFsaXplKGUsdCxuKXtjb25zdCBpPU9iamVjdC5jcmVhdGUobnVsbCx7aW5pdGlhbGl6ZTp7Z2V0OigpPT5zdXBlci5pbml0aWFsaXplfSxnZXRQYXltZW50TWV0aG9kOntnZXQ6KCk9PnN1cGVyLmdldFBheW1lbnRNZXRob2R9fSk7cmV0dXJuIGFlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCBpLmluaXRpYWxpemUuY2FsbCh0aGlzLGUsdCxuKTtsZXQgbz1pLmdldFBheW1lbnRNZXRob2QuY2FsbCh0aGlzKTtpZihvLmNsaWVudFRva2VufHwobz0oeWllbGQgdGhpcy5fc2VydmljZS5sb2FkUGF5bWVudE1ldGhvZCh0aGlzLl9tZXRob2RJZCkpLmdldFBheW1lbnRNZXRob2RPclRocm93KHRoaXMuX21ldGhvZElkKSksIW8uY2xpZW50VG9rZW58fCFvLmluaXRpYWxpemF0aW9uRGF0YSl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU2RrLmluaXRpYWxpemUoby5jbGllbnRUb2tlbiksdGhpcy5fYnJhaW50cmVlR29vZ2xlUGF5bWVudD15aWVsZCB0aGlzLl9icmFpbnRyZWVTZGsuZ2V0QnJhaW50cmVlR29vZ2xlUGF5bWVudCgpLFByb21pc2UucmVzb2x2ZSgpfSl9Z2V0Tm9uY2UoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse2dldE5vbmNlOntnZXQ6KCk9PnN1cGVyLmdldE5vbmNlfSxnZXRQYXltZW50TWV0aG9kOntnZXQ6KCk9PnN1cGVyLmdldFBheW1lbnRNZXRob2R9fSk7dmFyIG47cmV0dXJuIGFlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIHQuZ2V0Tm9uY2UuY2FsbCh0aGlzLGUpLHtjbGllbnRUb2tlbjpvLGluaXRpYWxpemF0aW9uRGF0YTphfT10LmdldFBheW1lbnRNZXRob2QuY2FsbCh0aGlzKTtpZighb3x8IWF8fCEobnVsbD09PShuPWEuY2FyZF9pbmZvcm1hdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uYmluKSl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdHtpc1RocmVlRFNlY3VyZUVuYWJsZWQ6cixjYXJkX2luZm9ybWF0aW9uOntiaW46cyxpc05ldHdvcmtUb2tlbml6ZWQ6Y319PWE7aWYociYmIWMpe2NvbnN0IGU9eWllbGQgdGhpcy5fYnJhaW50cmVlU2RrLmdldEJyYWludHJlZVRocmVlRFMoKSx7b3JkZXJBbW91bnQ6dH09dGhpcy5fc2VydmljZS5nZXRTdGF0ZSgpLmdldE9yZGVyT3JUaHJvdygpO3JldHVybih5aWVsZCB0aGlzLl9icmFpbnRyZWVQcmVzZW50M0RTQ2hhbGxlbmdlKGUsdCxpLHMpKS5ub25jZX1yZXR1cm4gaX0pfWV4dHJhUGF5bWVudERhdGEoKXtyZXR1cm4gYWUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybntkZXZpY2VTZXNzaW9uSWQ6eWllbGQgdGhpcy5fZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpfX0pfW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gYWUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdC5tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhLmNhbGwodGhpcyxlKTtsZXQgaTt0cnl7aT1KU09OLnBhcnNlKG4ubm9uY2UpfWNhdGNoKGUpe3Rocm93IG5ldyBMKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gR29vZ2xlIFBheS5cIil9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJlwiYW5kcm9pZFBheUNhcmRzXCJpbiBlfShlKSl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50VG9rZW4pfShpKSxuLm5vbmNlPWkuYW5kcm9pZFBheUNhcmRzWzBdLm5vbmNlLG4uY2FyZF9pbmZvcm1hdGlvbi5iaW49aS5hbmRyb2lkUGF5Q2FyZHNbMF0uZGV0YWlscy5iaW4sbi5jYXJkX2luZm9ybWF0aW9uLmlzTmV0d29ya1Rva2VuaXplZD1pLmFuZHJvaWRQYXlDYXJkc1swXS5kZXRhaWxzLmlzTmV0d29ya1Rva2VuaXplZCxufSl9Z2V0Q2FyZFBhcmFtZXRlcnMoKXtyZXR1cm4gc3VwZXIuZ2V0Q2FyZFBhcmFtZXRlcnMoKX1nZXRQYXltZW50R2F0ZXdheVBhcmFtZXRlcnMoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUobnVsbCx7Z2V0TWVyY2hhbnRJbmZvOntnZXQ6KCk9PnN1cGVyLmdldE1lcmNoYW50SW5mb30sZ2V0VHJhbnNhY3Rpb25JbmZvOntnZXQ6KCk9PnN1cGVyLmdldFRyYW5zYWN0aW9uSW5mb30sZ2V0UmVxdWlyZWREYXRhOntnZXQ6KCk9PnN1cGVyLmdldFJlcXVpcmVkRGF0YX19KTtyZXR1cm4gYWUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmdldEJyYWludHJlZUdvb2dsZVBheW1lbnQoKS5jcmVhdGVQYXltZW50RGF0YVJlcXVlc3QoT2JqZWN0LmFzc2lnbih7bWVyY2hhbnRJbmZvOmUuZ2V0TWVyY2hhbnRJbmZvLmNhbGwodGhpcyksdHJhbnNhY3Rpb25JbmZvOmUuZ2V0VHJhbnNhY3Rpb25JbmZvLmNhbGwodGhpcyksY2FyZFJlcXVpcmVtZW50czp7YmlsbGluZ0FkZHJlc3NSZXF1aXJlZDohMCxiaWxsaW5nQWRkcmVzc0Zvcm1hdDpcIkZVTExcIn19LHlpZWxkIGUuZ2V0UmVxdWlyZWREYXRhLmNhbGwodGhpcykpKS5wYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVycy5wYXJhbWV0ZXJzfSl9Z2V0QnJhaW50cmVlR29vZ2xlUGF5bWVudCgpe2lmKCF0aGlzLl9icmFpbnRyZWVHb29nbGVQYXltZW50KXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiB0aGlzLl9icmFpbnRyZWVHb29nbGVQYXltZW50fV9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhKCl7cmV0dXJuIGFlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHtkZXZpY2VEYXRhOmV9PXlpZWxkIHRoaXMuX2JyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpO3JldHVybiBlfSl9X2JyYWludHJlZVByZXNlbnQzRFNDaGFsbGVuZ2UoZSx0LG4saSl7cmV0dXJuIG5ldyBGKGUudmVyaWZ5Q2FyZCh7YW1vdW50OnQsYmluOmksbm9uY2U6bixvbkxvb2t1cENvbXBsZXRlOihlLHQpPT57dCgpfX0pKS5wcm9taXNlfX1jbGFzcyBzZSBleHRlbmRzIG17Y29uc3RydWN0b3IoZSl7c3VwZXIoZXx8XCJQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC5cIiksdGhpcy5uYW1lPVwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yXCIsdGhpcy50eXBlPVwicGF5bWVudF9jYW5jZWxsZWRcIn19Y2xhc3MgY2UgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBoYXMgdGhyb3duIGFuIHVuZXhwZWN0ZWQgZXJyb3IuXCIpLHRoaXMubmFtZT1cIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvclwiLHRoaXMudHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkXCJ9fWNsYXNzIGRlIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkIGR1cmluZyBidXkgbm93IGNhcnQgY3JlYXRpb24gcHJvY2Vzcy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiksdGhpcy5uYW1lPVwiQnV5Tm93Q2FydENyZWF0aW9uRXJyb3JcIix0aGlzLnR5cGU9XCJidXlfbm93X2NhcnRfY3JlYXRpb25fZXJyb3JcIn19ZnVuY3Rpb24gbGUoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcInN0YXR1c0NvZGVcImluIGV9ZnVuY3Rpb24gdWUoZSl7cmV0dXJuIE9iamVjdC52YWx1ZXMoeikuaW5jbHVkZXMoZSl9dmFyIGhlPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIHlle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZT1lLHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3I9dH1pbml0aWFsaXplKGUpe3ZhciB0LG47cmV0dXJuIGhlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighZS5tZXRob2RJZHx8IXVlKGUubWV0aG9kSWQpKXRocm93IG5ldyBMKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwibWV0aG9kSWRcIiBpcyBub3QgYSB2YWxpZCBrZXkuJyk7aWYodGhpcy5fbWV0aG9kSWQ9ZS5tZXRob2RJZCwhZS5jb250YWluZXJJZCl0aHJvdyBuZXcgTCgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRhaW5lcklkXCIgaXMgbm90IGEgdmFsaWQga2V5LicpO2NvbnN0IGk9ZVt0aGlzLl9nZXRNZXRob2RPclRocm93KCldO2lmKCFpKXRocm93IG5ldyBMKFwiVW5hYmxlIHRvIHByb2NlZWQgd2l0aG91dCB2YWxpZCBvcHRpb25zLlwiKTtjb25zdHtidXlOb3dJbml0aWFsaXplT3B0aW9uczpvLGN1cnJlbmN5Q29kZTphLGJ1dHRvbkNvbG9yOnIsYnV0dG9uVHlwZTpzLG9uRXJyb3I6Y309aTtsZXQgZCxsPXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTt0cnl7ZD1sLmdldFBheW1lbnRNZXRob2RPclRocm93KHRoaXMuX2dldE1ldGhvZE9yVGhyb3coKSl9Y2F0Y2goZSl7bD15aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKHRoaXMuX2dldE1ldGhvZE9yVGhyb3coKSksZD1sLmdldFBheW1lbnRNZXRob2RPclRocm93KHRoaXMuX2dldE1ldGhvZE9yVGhyb3coKSl9aWYodGhpcy5fY291bnRyeUNvZGU9bnVsbD09PSh0PWQuaW5pdGlhbGl6YXRpb25EYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdG9yZUNvdW50cnksbyl7aWYoIWEpdGhyb3cgbmV3IEwoJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuY3VycmVuY3lDb2RlXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3RoaXMuX2N1cnJlbmN5Q29kZT1hLHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zPW8seWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKCgpPT5kLHRoaXMuX2dldEdvb2dsZVBheUNsaWVudE9wdGlvbnMoKSwhIW8sYSl9ZWxzZSB5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWREZWZhdWx0Q2hlY2tvdXQoKSx5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoKCk9PmQsdGhpcy5fZ2V0R29vZ2xlUGF5Q2xpZW50T3B0aW9ucygpKTt0aGlzLl9wYXltZW50QnV0dG9uPW51bGwhPT0obj10aGlzLl9wYXltZW50QnV0dG9uKSYmdm9pZCAwIT09bj9uOnRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuYWRkUGF5bWVudEJ1dHRvbihlLmNvbnRhaW5lcklkLHtidXR0b25Db2xvcjpudWxsIT1yP3I6XCJkZWZhdWx0XCIsYnV0dG9uVHlwZTpudWxsIT1zP3M6XCJwbGFpblwiLG9uQ2xpY2s6dGhpcy5faGFuZGxlQ2xpY2soYyl9KX0pfWRlaW5pdGlhbGl6ZSgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5fcGF5bWVudEJ1dHRvbil8fHZvaWQgMD09PWV8fGUucmVtb3ZlKCksdGhpcy5fcGF5bWVudEJ1dHRvbj12b2lkIDAsdGhpcy5fbWV0aG9kSWQ9dm9pZCAwLFByb21pc2UucmVzb2x2ZSgpfV9oYW5kbGVDbGljayhlKXtyZXR1cm4gdD0+aGUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3QucHJldmVudERlZmF1bHQoKTt0cnl7dGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/eWllbGQgdGhpcy5fY3JlYXRlQnV5Tm93Q2FydE9yVGhyb3codGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMpOnlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZERlZmF1bHRDaGVja291dCgpLHlpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZVdpZGdldCgpLHlpZWxkIHRoaXMuX2ludGVyYWN0V2l0aFBheW1lbnRTaGVldCgpfWNhdGNoKHQpe2xldCBuPXQ7aWYobGUodCkpe2lmKFwiQ0FOQ0VMRURcIj09PXQuc3RhdHVzQ29kZSl0aHJvdyBuZXcgc2U7bj1uZXcgY2UoSlNPTi5zdHJpbmdpZnkodCkpfXRocm93IG51bGw9PWV8fGUobmV3IGNlKFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVxdWVzdGluZyB5b3VyIEdvb2dsZSBQYXkgcGF5bWVudCBkZXRhaWxzLlwiKSksbn19KX1faW50ZXJhY3RXaXRoUGF5bWVudFNoZWV0KCl7dmFyIGU7cmV0dXJuIGhlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCB0PXlpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3Iuc2hvd1BheW1lbnRTaGVldCgpLG49dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5tYXBUb0JpbGxpbmdBZGRyZXNzUmVxdWVzdEJvZHkodCksaT10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLm1hcFRvU2hpcHBpbmdBZGRyZXNzUmVxdWVzdEJvZHkodCksbz1cIi9lbWJlZGRlZC1jaGVja291dFwiPT09d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lP3RoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5saW5rcy5zaXRlTGluazp2b2lkIDA7biYmKHlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3MobikpLGkmJiEobnVsbD09PShlPXRoaXMuX2J1eU5vd0NhcnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmxpbmVJdGVtcy5kaWdpdGFsSXRlbXMubGVuZ3RoKSYmKHlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKGkpKSx5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnNldEV4dGVybmFsQ2hlY2tvdXRGb3JtKHRoaXMuX2dldE1ldGhvZE9yVGhyb3coKSx0LG8pfSl9X2dldEdvb2dsZVBheUNsaWVudE9wdGlvbnMoKXtyZXR1cm57cGF5bWVudERhdGFDYWxsYmFja3M6e29uUGF5bWVudERhdGFDaGFuZ2VkOih7Y2FsbGJhY2tUcmlnZ2VyOmUsc2hpcHBpbmdBZGRyZXNzOnQsc2hpcHBpbmdPcHRpb25EYXRhOm4sb2ZmZXJEYXRhOml9KT0+aGUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0e2F2YWlsYWJsZVRyaWdnZXJzOm8sYWRkcmVzc0NoYW5nZVRyaWdnZXJzOmEsc2hpcHBpbmdPcHRpb25zQ2hhbmdlVHJpZ2dlcnM6cixvZmZlckNoYW5nZVRyaWdnZXJzOnN9PXRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuZ2V0Q2FsbGJhY2tUcmlnZ2VycygpO2lmKCFvLmluY2x1ZGVzKGUpKXJldHVybjtjb25zdCBjPWEuaW5jbHVkZXMoZSk/eWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5oYW5kbGVTaGlwcGluZ0FkZHJlc3NDaGFuZ2UodCk6dm9pZCAwO3IuaW5jbHVkZXMoZSkmJih5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmhhbmRsZVNoaXBwaW5nT3B0aW9uQ2hhbmdlKG4uaWQpKTtjb25zdHtuZXdPZmZlckluZm86ZCxlcnJvcjpsfT1zLmluY2x1ZGVzKGUpP3lpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlQ291cG9ucyhpKTp7fSx1PWw7cmV0dXJuIHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zP3RoaXMuX2dldEJ1eU5vd1RyYW5zYWN0aW9uSW5mbyhjLGQsdSk6dGhpcy5fZ2V0VHJhbnNhY3Rpb25JbmZvKGMsZCx1KX0pfX19X2NyZWF0ZUJ1eU5vd0NhcnRPclRocm93KGUpe3JldHVybiBoZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkpKXtjb25zdCB0PWUuZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5KCk7dHJ5e3RoaXMuX2J1eU5vd0NhcnQ9eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVCdXlOb3dDYXJ0KHQpLHlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KHRoaXMuX2J1eU5vd0NhcnQuaWQpfWNhdGNoKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRocm93IG5ldyBkZShlKTt0aHJvdyBlfX19KX1fZ2V0QnV5Tm93VHJhbnNhY3Rpb25JbmZvKGUsdCxuKXtpZighdGhpcy5fYnV5Tm93Q2FydClyZXR1cm47Y29uc3R7Y2FydEFtb3VudDppfT10aGlzLl9idXlOb3dDYXJ0LG89dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5nZXRUb3RhbFByaWNlKCk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtuZXdUcmFuc2FjdGlvbkluZm86T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuX2NvdW50cnlDb2RlJiZ7Y291bnRyeUNvZGU6dGhpcy5fY291bnRyeUNvZGV9KSx7Y3VycmVuY3lDb2RlOnRoaXMuX2dldEN1cnJlbmN5Q29kZU9yVGhyb3coKSx0b3RhbFByaWNlOm98fFN0cmluZyhpKSx0b3RhbFByaWNlU3RhdHVzOlguRklOQUx9KX0sZSYme25ld1NoaXBwaW5nT3B0aW9uUGFyYW1ldGVyczplfSksdCYme25ld09mZmVySW5mbzp0fSksbiYme2Vycm9yOm59KX1fZ2V0VHJhbnNhY3Rpb25JbmZvKGUsdCxuKXtyZXR1cm4gaGUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7Y29uc3QgaT10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldFRvdGFsUHJpY2UoKSx7Y29kZTpvfT10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe25ld1RyYW5zYWN0aW9uSW5mbzpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fY291bnRyeUNvZGUmJntjb3VudHJ5Q29kZTp0aGlzLl9jb3VudHJ5Q29kZX0pLHtjdXJyZW5jeUNvZGU6byx0b3RhbFByaWNlU3RhdHVzOlguRklOQUwsdG90YWxQcmljZTppfSl9LGUmJntuZXdTaGlwcGluZ09wdGlvblBhcmFtZXRlcnM6ZX0pLHQmJntuZXdPZmZlckluZm86dH0pLG4mJntlcnJvcjpufSl9KX1fZ2V0TWV0aG9kT3JUaHJvdygpe3JldHVybiBXKHRoaXMuX21ldGhvZElkLCgpPT5uZXcgTyh3LlBheW1lbnROb3RJbml0aWFsaXplZCkpfV9nZXRDdXJyZW5jeUNvZGVPclRocm93KCl7cmV0dXJuIFcodGhpcy5fY3VycmVuY3lDb2RlLCgpPT5uZXcgTCgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jdXJyZW5jeUNvZGVcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJykpfX1jb25zdCBnZT17XCJYLUNoZWNrb3V0LVNESy1WZXJzaW9uXCI6XCIxLjg2Ny4wXCJ9O3ZhciBwZT1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBtZXtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLl9zY3JpcHRMb2FkZXI9ZSx0aGlzLl9nYXRld2F5PXQsdGhpcy5fcmVxdWVzdFNlbmRlcj1uLHRoaXMuX2Zvcm1Qb3N0ZXI9aSx0aGlzLl9iYXNlUmVxdWVzdD17YXBpVmVyc2lvbjoyLGFwaVZlcnNpb25NaW5vcjowfX1pbml0aWFsaXplKGUsdCxuLGkpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7dGhpcy5fcGF5bWVudHNDbGllbnQ9eWllbGQgdGhpcy5fc2NyaXB0TG9hZGVyLmdldEdvb2dsZVBheW1lbnRzQ2xpZW50KGUoKS5jb25maWcudGVzdE1vZGUsdCkseWllbGQgdGhpcy5fZ2F0ZXdheS5pbml0aWFsaXplKGUsbixpKSx0aGlzLl9idWlsZEJ1dHRvblBheWxvYWRzKCl9KX1pbml0aWFsaXplV2lkZ2V0KCl7cmV0dXJuIHBlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLl9idWlsZFdpZGdldFBheWxvYWRzKCkseWllbGQgdGhpcy5fZGV0ZXJtaW5lUmVhZGluZXNzVG9QYXkoKSx0aGlzLl9wcmVmZXRjaEdvb2dsZVBheW1lbnREYXRhKCl9KX1nZXROb25jZShlKXtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5nZXROb25jZShlKX1leHRyYVBheW1lbnREYXRhKCl7cmV0dXJuIHBlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5leHRyYVBheW1lbnREYXRhKCl9KX1hZGRQYXltZW50QnV0dG9uKGUsdCl7Y29uc3Qgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlfWApO2lmKCFuKXJldHVybjtjb25zdCBpPXRoaXMuX2dldFBheW1lbnRzQ2xpZW50KCkuY3JlYXRlQnV0dG9uKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7YWxsb3dlZFBheW1lbnRNZXRob2RzOlt0aGlzLl9nZXRCYXNlQ2FyZFBheW1lbnRNZXRob2QoKV19KSk7cmV0dXJuIG4uYXBwZW5kQ2hpbGQoaSl9c2hvd1BheW1lbnRTaGVldCgpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgZT10aGlzLl9nZXRQYXltZW50RGF0YVJlcXVlc3QoKTtyZXR1cm4gdGhpcy5fZ2V0UGF5bWVudHNDbGllbnQoKS5sb2FkUGF5bWVudERhdGEoZSl9KX1zZXRFeHRlcm5hbENoZWNrb3V0WGhyKGUsdCl7cmV0dXJuIHBlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5fc2V0RXh0ZXJuYWxDaGVja291dChlLHQpfSl9c2V0RXh0ZXJuYWxDaGVja291dEZvcm0oZSx0LG4pe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuX3NldEV4dGVybmFsQ2hlY2tvdXQoZSx0LCEwLG4pfSl9bWFwVG9CaWxsaW5nQWRkcmVzc1JlcXVlc3RCb2R5KGUpe3JldHVybiB0aGlzLl9nYXRld2F5Lm1hcFRvQmlsbGluZ0FkZHJlc3NSZXF1ZXN0Qm9keShlKX1tYXBUb1NoaXBwaW5nQWRkcmVzc1JlcXVlc3RCb2R5KGUpe3JldHVybiB0aGlzLl9nYXRld2F5Lm1hcFRvU2hpcHBpbmdBZGRyZXNzUmVxdWVzdEJvZHkoZSl9cHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSx0KXtyZXR1cm5cInByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uXCJpbiB0aGlzLl9nYXRld2F5P3RoaXMuX2dhdGV3YXkucHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSx0KTpQcm9taXNlLnJlamVjdChlKX1zaWduT3V0KGUpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoYC9yZW1vdGUtY2hlY2tvdXQvJHtlfS9zaWdub3V0YCl9KX1nZXRDYWxsYmFja1RyaWdnZXJzKCl7cmV0dXJuIHRoaXMuX2dhdGV3YXkuZ2V0Q2FsbGJhY2tUcmlnZ2VycygpfXNldFNob3VsZFJlcXVlc3RTaGlwcGluZyhlKXtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zZXRTaG91bGRSZXF1ZXN0U2hpcHBpbmcoZSl9aGFuZGxlU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKGUpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuX2dhdGV3YXkuaGFuZGxlU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKGUpfSl9aGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2UoZSl7cmV0dXJuIHBlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLl9nYXRld2F5LmhhbmRsZVNoaXBwaW5nT3B0aW9uQ2hhbmdlKGUpfSl9aGFuZGxlQ291cG9ucyhlKXtyZXR1cm4gcGUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLl9nYXRld2F5LmhhbmRsZUNvdXBvbnMoZSl9KX1nZXRUb3RhbFByaWNlKCl7cmV0dXJuIHRoaXMuX2dhdGV3YXkuZ2V0VG90YWxQcmljZSgpfV9zZXRFeHRlcm5hbENoZWNrb3V0KGUsdCxuPSExLGkpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbz1cIi9jaGVja291dC5waHBcIixhPU9iamVjdC5hc3NpZ24oe2FjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHByb3ZpZGVyOmV9LHlpZWxkIHRoaXMuX2dhdGV3YXkubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YSh0KSk7aWYobilyZXR1cm4gbmV3IFByb21pc2UoZT0+e3RoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oaT9gJHtpfS9jaGVja291dGA6byxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYSkse2NhcmRfaW5mb3JtYXRpb246SlNPTi5zdHJpbmdpZnkoYS5jYXJkX2luZm9ybWF0aW9uKX0pLGUpfSk7eWllbGQgdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KG8se2hlYWRlcnM6T2JqZWN0LmFzc2lnbih7QWNjZXB0OlwidGV4dC9odG1sXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxnZSksYm9keTphfSl9KX1fcHJlZmV0Y2hHb29nbGVQYXltZW50RGF0YSgpe2NvbnN0IGU9dGhpcy5fZ2V0UGF5bWVudERhdGFSZXF1ZXN0KCk7ZS50cmFuc2FjdGlvbkluZm89dGhpcy5fZ2F0ZXdheS5nZXRUcmFuc2FjdGlvbkluZm8oKSx0aGlzLl9nZXRQYXltZW50c0NsaWVudCgpLnByZWZldGNoUGF5bWVudERhdGEoZSl9X2RldGVybWluZVJlYWRpbmVzc1RvUGF5KCl7cmV0dXJuIHBlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt0cnl7Y29uc3R7cmVzdWx0OmV9PXlpZWxkIHRoaXMuX2dldFBheW1lbnRzQ2xpZW50KCkuaXNSZWFkeVRvUGF5KHRoaXMuX2dldElzUmVhZHlUb1BheVJlcXVlc3QoKSk7aWYoITE9PT1lKXRocm93IG5ldyBjZShcIkdvb2dsZSBQYXkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBkZXZpY2UgYW5kIGJyb3dzZXIsIHBsZWFzZSB0cnkgYW5vdGhlciBwYXltZW50IG1ldGhvZC5cIil9Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIGNlKXRocm93IGU7dGhyb3cgbmV3IGNlfX0pfV9idWlsZEJ1dHRvblBheWxvYWRzKCl7dGhpcy5fYmFzZUNhcmRQYXltZW50TWV0aG9kPXt0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6dGhpcy5fZ2F0ZXdheS5nZXRDYXJkUGFyYW1ldGVycygpfX1fYnVpbGRXaWRnZXRQYXlsb2Fkcygpe3JldHVybiBwZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgZT10aGlzLl9nZXRCYXNlQ2FyZFBheW1lbnRNZXRob2QoKTt0aGlzLl9jYXJkUGF5bWVudE1ldGhvZD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Rva2VuaXphdGlvblNwZWNpZmljYXRpb246e3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIixwYXJhbWV0ZXJzOnlpZWxkIHRoaXMuX2dhdGV3YXkuZ2V0UGF5bWVudEdhdGV3YXlQYXJhbWV0ZXJzKCl9fSksdGhpcy5fcGF5bWVudERhdGFSZXF1ZXN0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fYmFzZVJlcXVlc3QpLHthbGxvd2VkUGF5bWVudE1ldGhvZHM6W3RoaXMuX2NhcmRQYXltZW50TWV0aG9kXSx0cmFuc2FjdGlvbkluZm86dGhpcy5fZ2F0ZXdheS5nZXRUcmFuc2FjdGlvbkluZm8oKSxtZXJjaGFudEluZm86dGhpcy5fZ2F0ZXdheS5nZXRNZXJjaGFudEluZm8oKX0pLHlpZWxkIHRoaXMuX2dhdGV3YXkuZ2V0UmVxdWlyZWREYXRhKCkpLHtjYWxsYmFja0ludGVudHM6dGhpcy5fZ2F0ZXdheS5nZXRDYWxsYmFja0ludGVudHMoKSxvZmZlckluZm86dGhpcy5fZ2F0ZXdheS5nZXRBcHBsaWVkQ291cG9ucygpfSksdGhpcy5faXNSZWFkeVRvUGF5UmVxdWVzdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fYmFzZVJlcXVlc3QpLHthbGxvd2VkUGF5bWVudE1ldGhvZHM6W2VdfSl9KX1fZ2V0QmFzZUNhcmRQYXltZW50TWV0aG9kKCl7cmV0dXJuIHRoaXMuX2dldE9yVGhyb3codGhpcy5fYmFzZUNhcmRQYXltZW50TWV0aG9kKX1fZ2V0UGF5bWVudERhdGFSZXF1ZXN0KCl7cmV0dXJuIHRoaXMuX2dldE9yVGhyb3codGhpcy5fcGF5bWVudERhdGFSZXF1ZXN0KX1fZ2V0SXNSZWFkeVRvUGF5UmVxdWVzdCgpe3JldHVybiB0aGlzLl9nZXRPclRocm93KHRoaXMuX2lzUmVhZHlUb1BheVJlcXVlc3QpfV9nZXRQYXltZW50c0NsaWVudCgpe3JldHVybiB0aGlzLl9nZXRPclRocm93KHRoaXMuX3BheW1lbnRzQ2xpZW50KX1fZ2V0T3JUaHJvdyhlKXtyZXR1cm4gVyhlLCgpPT5uZXcgTyh3LlBheW1lbnROb3RJbml0aWFsaXplZCkpfX1jbGFzcyBmZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zY3JpcHRMb2FkZXI9ZSx0aGlzLl93aW5kb3c9d2luZG93fWdldEdvb2dsZVBheW1lbnRzQ2xpZW50KGU9ITEsdCl7cmV0dXJuIG49dGhpcyxpPXZvaWQgMCxhPWZ1bmN0aW9uKigpe2lmKHlpZWxkIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiaHR0cHM6Ly9wYXkuZ29vZ2xlLmNvbS9ncC9wL2pzL3BheS5qc1wiKSwhdGhpcy5fd2luZG93Lmdvb2dsZSl0aHJvdyBuZXcgRDtyZXR1cm4gdm9pZCAwPT09dGhpcy5fcGF5bWVudHNDbGllbnQmJih0aGlzLl9wYXltZW50c0NsaWVudD1uZXcgdGhpcy5fd2luZG93Lmdvb2dsZS5wYXltZW50cy5hcGkuUGF5bWVudHNDbGllbnQoT2JqZWN0LmFzc2lnbih7ZW52aXJvbm1lbnQ6ZT9cIlRFU1RcIjpcIlBST0RVQ1RJT05cIn0sbnVsbCE9dD90Ont9KSkpLHRoaXMuX3BheW1lbnRzQ2xpZW50fSxuZXcoKG89dm9pZCAwKXx8KG89UHJvbWlzZSkpKGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlKXt0cnl7YyhhLm5leHQoZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoYS50aHJvdyhlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gYyh0KXt2YXIgbjt0LmRvbmU/ZSh0LnZhbHVlKToobj10LnZhbHVlLG4gaW5zdGFuY2VvZiBvP246bmV3IG8oZnVuY3Rpb24oZSl7ZShuKX0pKS50aGVuKHIscyl9YygoYT1hLmFwcGx5KG4saXx8W10pKS5uZXh0KCkpfSk7dmFyIG4saSxvLGF9fWZ1bmN0aW9uIHdlKCl7cmV0dXJuIG5ldyBmZShuKCkpfWNvbnN0IFBlPUIoaT0+e2NvbnN0IG89dCgpLGE9d2luZG93LHI9bmV3IHAoaSkscz1uZXcgRShuZXcgeChuKCksYSxyKSk7cmV0dXJuIG5ldyB5ZShpLG5ldyBtZSh3ZSgpLG5ldyByZShpLHMpLG8sZSgpKSl9LFt7aWQ6XCJnb29nbGVwYXlicmFpbnRyZWVcIn1dKTt2YXIgdmU9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgX2V7Y29uc3RydWN0b3IoZSl7dGhpcy5zY3JpcHRMb2FkZXI9ZSx0aGlzLndpbmRvdz13aW5kb3d9Z2V0UGF5UGFsRmFzdGxhbmVTZGsoZSx0LG4pe3JldHVybiB2ZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXRoaXMud2luZG93LnBheXBhbEZhc3RsYW5lU2RrKXtjb25zdCBpPXRoaXMuZ2V0UGF5UGFsRmFzdGxhbmVTZGtDb25maWd1cmF0aW9uKGUsdCxuKTtpZih5aWVsZCB0aGlzLmxvYWRQYXlQYWxTZGsoaSksIXRoaXMud2luZG93LnBheXBhbEZhc3RsYW5lU2RrKXRocm93IG5ldyBEfXJldHVybiB0aGlzLndpbmRvdy5wYXlwYWxGYXN0bGFuZVNka30pfWdldFBheVBhbEdvb2dsZVBheVNkayhlLHQsbixpKXtyZXR1cm4gdmUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLndpbmRvdy5wYXlwYWxHb29nbGVQYXl8fGkpe2NvbnN0IGk9dGhpcy5nZXRQYXlQYWxHb29nbGVQYXlTZGtTY3JpcHRDb25maWdPclRocm93KGUsdCxuKTt5aWVsZCB0aGlzLmxvYWRQYXlQYWxTZGsoaSl9aWYoIXRoaXMud2luZG93LnBheXBhbEdvb2dsZVBheSl0aHJvdyBuZXcgRDtyZXR1cm4gdGhpcy53aW5kb3cucGF5cGFsR29vZ2xlUGF5fSl9Z2V0UGF5UGFsQXBtc1NkayhlLHQpe3JldHVybiB2ZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXRoaXMud2luZG93LnBheXBhbEFwbXMpe2NvbnN0IG49dGhpcy5nZXRQYXlQYWxBcG1TZGtDb25maWd1cmF0aW9uKGUsdCk7aWYoeWllbGQgdGhpcy5sb2FkUGF5UGFsU2RrKG4pLCF0aGlzLndpbmRvdy5wYXlwYWxBcG1zKXRocm93IG5ldyBEfXJldHVybiB0aGlzLndpbmRvdy5wYXlwYWxBcG1zfSl9Z2V0UGF5UGFsTWVzc2FnZXMoZSx0KXtyZXR1cm4gdmUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLndpbmRvdy5wYXlwYWxNZXNzYWdlcyl7Y29uc3Qgbj10aGlzLmdldFBheVBhbFNka01lc3NhZ2VzQ29uZmlndXJhdGlvbihlLHQpO3lpZWxkIHRoaXMubG9hZFBheVBhbFNkayhuKX1pZighdGhpcy53aW5kb3cucGF5cGFsTWVzc2FnZXMpdGhyb3cgbmV3IEQ7cmV0dXJuIHRoaXMud2luZG93LnBheXBhbE1lc3NhZ2VzfSl9bG9hZFBheVBhbFNkayh7b3B0aW9uczplLGF0dHJpYnV0ZXM6dH0pe3JldHVybiB2ZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybUNvbmZpZyhlKSxpPXRoaXMudHJhbnNmb3JtQ29uZmlnKHQpLG89YGh0dHBzOi8vd3d3LnBheXBhbC5jb20vc2RrL2pzPyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhuKS50b1N0cmluZygpfWA7eWllbGQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChvLHthc3luYzohMCxhdHRyaWJ1dGVzOml9KX0pfWdldFBheVBhbEZhc3RsYW5lU2RrQ29uZmlndXJhdGlvbihlLHQsbil7Y29uc3R7Y2xpZW50VG9rZW46aSxpbml0aWFsaXphdGlvbkRhdGE6b309ZTtpZighb3x8IW8uY2xpZW50SWQpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3R7aW50ZW50OmEsY2xpZW50SWQ6cixtZXJjaGFudElkOnMsYXR0cmlidXRpb25JZDpjfT1vO3JldHVybntvcHRpb25zOntcImNsaWVudC1pZFwiOnIsXCJtZXJjaGFudC1pZFwiOnMsY29tbWl0OiEwLGNvbXBvbmVudHM6W1wiZmFzdGxhbmVcIixcImJ1dHRvbnNcIixcInBheW1lbnQtZmllbGRzXCIsXCJob3N0ZWQtZmllbGRzXCIsXCJ0aHJlZS1kb21haW4tc2VjdXJlXCJdLGN1cnJlbmN5OnQsaW50ZW50OmF9LGF0dHJpYnV0ZXM6e1wiZGF0YS1jbGllbnQtbWV0YWRhdGEtaWRcIjpuLnJlcGxhY2UoLy0vZyxcIlwiKSxcImRhdGEtbmFtZXNwYWNlXCI6XCJwYXlwYWxGYXN0bGFuZVNka1wiLFwiZGF0YS1wYXJ0bmVyLWF0dHJpYnV0aW9uLWlkXCI6YyxcImRhdGEtc2RrLWNsaWVudC10b2tlblwiOml9fX1nZXRQYXlQYWxHb29nbGVQYXlTZGtTY3JpcHRDb25maWdPclRocm93KGUsdCxuPSEwKXtjb25zdHtjbGllbnRUb2tlbjppLGluaXRpYWxpemF0aW9uRGF0YTpvfT1lO2lmKCFvfHwhby5jbGllbnRJZCl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdHtpbnRlbnQ6YSxjbGllbnRJZDpyLG1lcmNoYW50SWQ6cyxidXllckNvdW50cnk6YyxhdHRyaWJ1dGlvbklkOmQsaXNIb3N0ZWRDaGVja291dEVuYWJsZWQ6bCxpc0RldmVsb3Blck1vZGVBcHBsaWNhYmxlOnV9PW8saD1sfHxuO3JldHVybntvcHRpb25zOk9iamVjdC5hc3NpZ24oe1wiY2xpZW50LWlkXCI6cixcIm1lcmNoYW50LWlkXCI6cyxjb21taXQ6aCxjb21wb25lbnRzOltcImdvb2dsZXBheVwiXSxjdXJyZW5jeTp0LGludGVudDphfSx1JiZ7XCJidXllci1jb3VudHJ5XCI6Y30pLGF0dHJpYnV0ZXM6e1wiZGF0YS1wYXJ0bmVyLWF0dHJpYnV0aW9uLWlkXCI6ZCxcImRhdGEtY2xpZW50LXRva2VuXCI6aSxcImRhdGEtbmFtZXNwYWNlXCI6XCJwYXlwYWxHb29nbGVQYXlcIn19fWdldFBheVBhbEFwbVNka0NvbmZpZ3VyYXRpb24oZSx0KXtjb25zdHtpbml0aWFsaXphdGlvbkRhdGE6bn09ZTtpZighbnx8IW4uY2xpZW50SWQpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3R7aW50ZW50OmksY2xpZW50SWQ6byxtZXJjaGFudElkOmEsYnV5ZXJDb3VudHJ5OnIsYXR0cmlidXRpb25JZDpzLGlzRGV2ZWxvcGVyTW9kZUFwcGxpY2FibGU6YyxhdmFpbGFibGVBbHRlcm5hdGl2ZVBheW1lbnRNZXRob2RzOmQ9W10sZW5hYmxlZEFsdGVybmF0aXZlUGF5bWVudE1ldGhvZHM6bD1bXX09bix1PWwsaD1kLmZpbHRlcihlPT4hbC5pbmNsdWRlcyhlKSk7cmV0dXJue29wdGlvbnM6T2JqZWN0LmFzc2lnbih7XCJjbGllbnQtaWRcIjpvLFwibWVyY2hhbnQtaWRcIjphLFwiZW5hYmxlLWZ1bmRpbmdcIjp1Lmxlbmd0aD4wP3U6dm9pZCAwLFwiZGlzYWJsZS1mdW5kaW5nXCI6aC5sZW5ndGg+MD9oOnZvaWQgMCxjb21taXQ6ITAsY29tcG9uZW50czpbXCJidXR0b25zXCIsXCJwYXltZW50LWZpZWxkc1wiXSxjdXJyZW5jeTp0LGludGVudDppfSxjJiZ7XCJidXllci1jb3VudHJ5XCI6cn0pLGF0dHJpYnV0ZXM6e1wiZGF0YS1wYXJ0bmVyLWF0dHJpYnV0aW9uLWlkXCI6cyxcImRhdGEtbmFtZXNwYWNlXCI6XCJwYXlwYWxBcG1zXCJ9fX1nZXRQYXlQYWxTZGtNZXNzYWdlc0NvbmZpZ3VyYXRpb24oZSx0KXtjb25zdHtpbml0aWFsaXphdGlvbkRhdGE6bn09ZTtpZighbnx8IW4uY2xpZW50SWQpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3R7Y2xpZW50SWQ6aSxtZXJjaGFudElkOm8sYXR0cmlidXRpb25JZDphLGlzRGV2ZWxvcGVyTW9kZUFwcGxpY2FibGU6cixidXllckNvdW50cnk6c309bjtyZXR1cm57b3B0aW9uczpPYmplY3QuYXNzaWduKHtcImNsaWVudC1pZFwiOmksXCJtZXJjaGFudC1pZFwiOm8sY29tcG9uZW50czpbXCJtZXNzYWdlc1wiXSxjdXJyZW5jeTp0fSxyJiZ7XCJidXllci1jb3VudHJ5XCI6c30pLGF0dHJpYnV0ZXM6e1wiZGF0YS1uYW1lc3BhY2VcIjpcInBheXBhbE1lc3NhZ2VzXCIsXCJkYXRhLXBhcnRuZXItYXR0cmlidXRpb24taWRcIjphfX19dHJhbnNmb3JtQ29uZmlnKGUpe2xldCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKG49Pntjb25zdCBpPWVbbl07bnVsbD09aXx8XCJcIj09PWl8fEFycmF5LmlzQXJyYXkoaSkmJjA9PT1pLmxlbmd0aHx8KHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtbbl06QXJyYXkuaXNBcnJheShpKT9pLmpvaW4oXCIsXCIpOml9KSl9KSx0fX1mdW5jdGlvbiBDZShlKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuISFlLmluaXRpYWxpemF0aW9uRGF0YSYmXCJhdHRyaWJ1dGlvbklkXCJpbiBlLmluaXRpYWxpemF0aW9uRGF0YSYmXCJpc1Zlbm1vRW5hYmxlZFwiaW4gZS5pbml0aWFsaXphdGlvbkRhdGEmJlwiaXNHb29nbGVQYXlFbmFibGVkXCJpbiBlLmluaXRpYWxpemF0aW9uRGF0YSYmXCJpc1BheVBhbENyZWRpdEF2YWlsYWJsZVwiaW4gZS5pbml0aWFsaXphdGlvbkRhdGF9KGUpKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpfXZhciBiZT1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBTZSBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoXCJwYXlwYWxzYlwiLGUpLHRoaXMucGF5UGFsQ29tbWVyY2VTZGs9dCx0aGlzLnNlcnZpY2U9ZX1pbml0aWFsaXplKGUsdCxuKXtjb25zdCBpPU9iamVjdC5jcmVhdGUobnVsbCx7aW5pdGlhbGl6ZTp7Z2V0OigpPT5zdXBlci5pbml0aWFsaXplfSxnZXRQYXltZW50TWV0aG9kOntnZXQ6KCk9PnN1cGVyLmdldFBheW1lbnRNZXRob2R9fSk7dmFyIG8sYSxyLHMsYztyZXR1cm4gYmUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IGQ9bnVsbCE9PShhPW51bGw9PT0obz10aGlzLnNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRTdG9yZUNvbmZpZygpKXx8dm9pZCAwPT09bz92b2lkIDA6by5jdXJyZW5jeS5jb2RlKSYmdm9pZCAwIT09YT9hOm47aWYoIWQpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7eWllbGQgaS5pbml0aWFsaXplLmNhbGwodGhpcyxlLHQsZCk7Y29uc3QgbD1pLmdldFBheW1lbnRNZXRob2QuY2FsbCh0aGlzKTtpZighbC5pbml0aWFsaXphdGlvbkRhdGEpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Q2UobCk7Y29uc3QgdT15aWVsZCB0aGlzLnBheVBhbENvbW1lcmNlU2RrLmdldFBheVBhbEdvb2dsZVBheVNkayhsLGQpO3RoaXMuZ29vZ2xlcGF5Q29uZmlnPXlpZWxkIHUuR29vZ2xlcGF5KCkuY29uZmlnKCk7Y29uc3R7YWxsb3dlZFBheW1lbnRNZXRob2RzOmh9PXRoaXMuZ29vZ2xlcGF5Q29uZmlnO3RoaXMuc2V0R2F0ZXdheUlkZW50aWZpZXIobnVsbD09PShjPW51bGw9PT0ocz1udWxsPT09KHI9aFswXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIudG9rZW5pemF0aW9uU3BlY2lmaWNhdGlvbil8fHZvaWQgMD09PXM/dm9pZCAwOnMucGFyYW1ldGVycyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuZ2F0ZXdheSl9KX1nZXRQYXltZW50R2F0ZXdheVBhcmFtZXRlcnMoKXtpZih0aGlzLmdvb2dsZXBheUNvbmZpZyl7Y29uc3R7YWxsb3dlZFBheW1lbnRNZXRob2RzOmV9PXRoaXMuZ29vZ2xlcGF5Q29uZmlnLHtnYXRld2F5TWVyY2hhbnRJZDp0fT1lWzBdLnRva2VuaXphdGlvblNwZWNpZmljYXRpb24ucGFyYW1ldGVycztyZXR1cm57Z2F0ZXdheTp0aGlzLmdldEdhdGV3YXlJZGVudGlmaWVyKCksZ2F0ZXdheU1lcmNoYW50SWQ6dH19cmV0dXJue2dhdGV3YXk6dGhpcy5nZXRHYXRld2F5SWRlbnRpZmllcigpfX1tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhKGUpe2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsLHttYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhOntnZXQ6KCk9PnN1cGVyLm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGF9fSk7cmV0dXJuIGJlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIHQubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YS5jYWxsKHRoaXMsZSk7cmV0dXJuIG4ubm9uY2U9YnRvYShuLm5vbmNlKSxufSl9fWNvbnN0IEllPUIoaT0+bmV3IHllKGksbmV3IG1lKHdlKCksbmV3IFNlKGksbmV3IF9lKG4oKSkpLHQoKSxlKCkpKSxbe2lkOlwiZ29vZ2xlcGF5cGF5cGFsY29tbWVyY2VcIn1dKTt2YXIgT2U9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3Mga2V7Y29uc3RydWN0b3IoZSl7dGhpcy5zY3JpcHRMb2FkZXI9ZSx0aGlzLndpbmRvdz13aW5kb3d9Z2V0UGF5UGFsRmFzdGxhbmVTZGsoZSx0LG4pe3JldHVybiBPZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXRoaXMud2luZG93LnBheXBhbEZhc3RsYW5lU2RrKXtjb25zdCBpPXRoaXMuZ2V0UGF5UGFsRmFzdGxhbmVTZGtDb25maWd1cmF0aW9uKGUsdCxuKTtpZih5aWVsZCB0aGlzLmxvYWRQYXlQYWxTZGsoaSksIXRoaXMud2luZG93LnBheXBhbEZhc3RsYW5lU2RrKXRocm93IG5ldyBEfXJldHVybiB0aGlzLndpbmRvdy5wYXlwYWxGYXN0bGFuZVNka30pfWdldFBheVBhbEdvb2dsZVBheVNkayhlLHQsbixpKXtyZXR1cm4gT2UodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLndpbmRvdy5wYXlwYWxHb29nbGVQYXl8fGkpe2NvbnN0IGk9dGhpcy5nZXRQYXlQYWxHb29nbGVQYXlTZGtTY3JpcHRDb25maWdPclRocm93KGUsdCxuKTt5aWVsZCB0aGlzLmxvYWRQYXlQYWxTZGsoaSl9aWYoIXRoaXMud2luZG93LnBheXBhbEdvb2dsZVBheSl0aHJvdyBuZXcgRDtyZXR1cm4gdGhpcy53aW5kb3cucGF5cGFsR29vZ2xlUGF5fSl9Z2V0UGF5UGFsQXBtc1NkayhlLHQpe3JldHVybiBPZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXRoaXMud2luZG93LnBheXBhbEFwbXMpe2NvbnN0IG49dGhpcy5nZXRQYXlQYWxBcG1TZGtDb25maWd1cmF0aW9uKGUsdCk7aWYoeWllbGQgdGhpcy5sb2FkUGF5UGFsU2RrKG4pLCF0aGlzLndpbmRvdy5wYXlwYWxBcG1zKXRocm93IG5ldyBEfXJldHVybiB0aGlzLndpbmRvdy5wYXlwYWxBcG1zfSl9Z2V0UGF5UGFsTWVzc2FnZXMoZSx0KXtyZXR1cm4gT2UodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLndpbmRvdy5wYXlwYWxNZXNzYWdlcyl7Y29uc3Qgbj10aGlzLmdldFBheVBhbFNka01lc3NhZ2VzQ29uZmlndXJhdGlvbihlLHQpO3lpZWxkIHRoaXMubG9hZFBheVBhbFNkayhuKX1pZighdGhpcy53aW5kb3cucGF5cGFsTWVzc2FnZXMpdGhyb3cgbmV3IEQ7cmV0dXJuIHRoaXMud2luZG93LnBheXBhbE1lc3NhZ2VzfSl9bG9hZFBheVBhbFNkayh7b3B0aW9uczplLGF0dHJpYnV0ZXM6dH0pe3JldHVybiBPZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybUNvbmZpZyhlKSxpPXRoaXMudHJhbnNmb3JtQ29uZmlnKHQpLG89YGh0dHBzOi8vd3d3LnBheXBhbC5jb20vc2RrL2pzPyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhuKS50b1N0cmluZygpfWA7eWllbGQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChvLHthc3luYzohMCxhdHRyaWJ1dGVzOml9KX0pfWdldFBheVBhbEZhc3RsYW5lU2RrQ29uZmlndXJhdGlvbihlLHQsbil7Y29uc3R7Y2xpZW50VG9rZW46aSxpbml0aWFsaXphdGlvbkRhdGE6b309ZTtpZighb3x8IW8uY2xpZW50SWQpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3R7aW50ZW50OmEsY2xpZW50SWQ6cixtZXJjaGFudElkOnMsYXR0cmlidXRpb25JZDpjfT1vO3JldHVybntvcHRpb25zOntcImNsaWVudC1pZFwiOnIsXCJtZXJjaGFudC1pZFwiOnMsY29tbWl0OiEwLGNvbXBvbmVudHM6W1wiZmFzdGxhbmVcIixcInRocmVlLWRvbWFpbi1zZWN1cmVcIl0sY3VycmVuY3k6dCxpbnRlbnQ6YX0sYXR0cmlidXRlczp7XCJkYXRhLWNsaWVudC1tZXRhZGF0YS1pZFwiOm4ucmVwbGFjZSgvLS9nLFwiXCIpLFwiZGF0YS1uYW1lc3BhY2VcIjpcInBheXBhbEZhc3RsYW5lU2RrXCIsXCJkYXRhLXBhcnRuZXItYXR0cmlidXRpb24taWRcIjpjLFwiZGF0YS1zZGstY2xpZW50LXRva2VuXCI6aX19fWdldFBheVBhbEdvb2dsZVBheVNka1NjcmlwdENvbmZpZ09yVGhyb3coZSx0LG49ITApe2NvbnN0e2NsaWVudFRva2VuOmksaW5pdGlhbGl6YXRpb25EYXRhOm99PWU7aWYoIW98fCFvLmNsaWVudElkKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpO2NvbnN0e2ludGVudDphLGNsaWVudElkOnIsbWVyY2hhbnRJZDpzLGJ1eWVyQ291bnRyeTpjLGF0dHJpYnV0aW9uSWQ6ZCxpc0hvc3RlZENoZWNrb3V0RW5hYmxlZDpsLGlzRGV2ZWxvcGVyTW9kZUFwcGxpY2FibGU6dX09byxoPWx8fG47cmV0dXJue29wdGlvbnM6T2JqZWN0LmFzc2lnbih7XCJjbGllbnQtaWRcIjpyLFwibWVyY2hhbnQtaWRcIjpzLGNvbW1pdDpoLGNvbXBvbmVudHM6W1wiZ29vZ2xlcGF5XCJdLGN1cnJlbmN5OnQsaW50ZW50OmF9LHUmJntcImJ1eWVyLWNvdW50cnlcIjpjfSksYXR0cmlidXRlczp7XCJkYXRhLXBhcnRuZXItYXR0cmlidXRpb24taWRcIjpkLFwiZGF0YS1jbGllbnQtdG9rZW5cIjppLFwiZGF0YS1uYW1lc3BhY2VcIjpcInBheXBhbEdvb2dsZVBheVwifX19Z2V0UGF5UGFsQXBtU2RrQ29uZmlndXJhdGlvbihlLHQpe2NvbnN0e2luaXRpYWxpemF0aW9uRGF0YTpufT1lO2lmKCFufHwhbi5jbGllbnRJZCl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdHtpbnRlbnQ6aSxjbGllbnRJZDpvLG1lcmNoYW50SWQ6YSxidXllckNvdW50cnk6cixhdHRyaWJ1dGlvbklkOnMsaXNEZXZlbG9wZXJNb2RlQXBwbGljYWJsZTpjLGF2YWlsYWJsZUFsdGVybmF0aXZlUGF5bWVudE1ldGhvZHM6ZD1bXSxlbmFibGVkQWx0ZXJuYXRpdmVQYXltZW50TWV0aG9kczpsPVtdfT1uLHU9dGhpcy5maWx0ZXJGdW5kaW5nT3B0aW9ucyhsKSxoPXRoaXMuZmlsdGVyRnVuZGluZ09wdGlvbnMoZC5maWx0ZXIoZT0+IWwuaW5jbHVkZXMoZSkpKTtyZXR1cm57b3B0aW9uczpPYmplY3QuYXNzaWduKHtcImNsaWVudC1pZFwiOm8sXCJtZXJjaGFudC1pZFwiOmEsXCJlbmFibGUtZnVuZGluZ1wiOnUubGVuZ3RoPjA/dTp2b2lkIDAsXCJkaXNhYmxlLWZ1bmRpbmdcIjpoLmxlbmd0aD4wP2g6dm9pZCAwLGNvbW1pdDohMCxjb21wb25lbnRzOltcImJ1dHRvbnNcIixcInBheW1lbnQtZmllbGRzXCJdLGN1cnJlbmN5OnQsaW50ZW50Oml9LGMmJntcImJ1eWVyLWNvdW50cnlcIjpyfSksYXR0cmlidXRlczp7XCJkYXRhLXBhcnRuZXItYXR0cmlidXRpb24taWRcIjpzLFwiZGF0YS1uYW1lc3BhY2VcIjpcInBheXBhbEFwbXNcIn19fWdldFBheVBhbFNka01lc3NhZ2VzQ29uZmlndXJhdGlvbihlLHQpe2NvbnN0e2luaXRpYWxpemF0aW9uRGF0YTpufT1lO2lmKCFufHwhbi5jbGllbnRJZCl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdHtjbGllbnRJZDppLG1lcmNoYW50SWQ6byxhdHRyaWJ1dGlvbklkOmEsaXNEZXZlbG9wZXJNb2RlQXBwbGljYWJsZTpyLGJ1eWVyQ291bnRyeTpzfT1uO3JldHVybntvcHRpb25zOk9iamVjdC5hc3NpZ24oe1wiY2xpZW50LWlkXCI6aSxcIm1lcmNoYW50LWlkXCI6byxjb21wb25lbnRzOltcIm1lc3NhZ2VzXCJdLGN1cnJlbmN5OnR9LHImJntcImJ1eWVyLWNvdW50cnlcIjpzfSksYXR0cmlidXRlczp7XCJkYXRhLW5hbWVzcGFjZVwiOlwicGF5cGFsTWVzc2FnZXNcIixcImRhdGEtcGFydG5lci1hdHRyaWJ1dGlvbi1pZFwiOmF9fX1maWx0ZXJGdW5kaW5nT3B0aW9ucyhlKXtjb25zdCB0PVtcImtsYXJuYVwiLFwiYWZ0ZXJwYXlcIl07cmV0dXJuIGU/ZS5maWx0ZXIoZT0+IXQuaW5jbHVkZXMoZSkpOltdfXRyYW5zZm9ybUNvbmZpZyhlKXtsZXQgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuPT57Y29uc3QgaT1lW25dO251bGw9PWl8fFwiXCI9PT1pfHxBcnJheS5pc0FycmF5KGkpJiYwPT09aS5sZW5ndGh8fCh0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W25dOkFycmF5LmlzQXJyYXkoaSk/aS5qb2luKFwiLFwiKTppfSkpfSksdH19dmFyIEFlPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIFRlIGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihcImdvb2dsZXBheV9iaWdjb21tZXJjZV9wYXltZW50c1wiLGUpLHRoaXMucGF5UGFsU2RrSGVscGVyPXQsdGhpcy5zZXJ2aWNlPWV9aW5pdGlhbGl6ZShlLHQsbil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKG51bGwse2luaXRpYWxpemU6e2dldDooKT0+c3VwZXIuaW5pdGlhbGl6ZX0sZ2V0UGF5bWVudE1ldGhvZDp7Z2V0OigpPT5zdXBlci5nZXRQYXltZW50TWV0aG9kfX0pO3ZhciBvLGEscixzLGM7cmV0dXJuIEFlKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBkPW51bGwhPT0oYT1udWxsPT09KG89dGhpcy5zZXJ2aWNlLmdldFN0YXRlKCkuZ2V0U3RvcmVDb25maWcoKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uY3VycmVuY3kuY29kZSkmJnZvaWQgMCE9PWE/YTpuO2lmKCFkKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpO3lpZWxkIGkuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSx0LGQpO2NvbnN0IGw9aS5nZXRQYXltZW50TWV0aG9kLmNhbGwodGhpcyk7aWYoIWwuaW5pdGlhbGl6YXRpb25EYXRhKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpO0NlKGwpO2NvbnN0IHU9eWllbGQgdGhpcy5wYXlQYWxTZGtIZWxwZXIuZ2V0UGF5UGFsR29vZ2xlUGF5U2RrKGwsZCk7dGhpcy5nb29nbGVwYXlDb25maWc9eWllbGQgdS5Hb29nbGVwYXkoKS5jb25maWcoKTtjb25zdHthbGxvd2VkUGF5bWVudE1ldGhvZHM6aH09dGhpcy5nb29nbGVwYXlDb25maWc7dGhpcy5zZXRHYXRld2F5SWRlbnRpZmllcihudWxsPT09KGM9bnVsbD09PShzPW51bGw9PT0ocj1oWzBdKXx8dm9pZCAwPT09cj92b2lkIDA6ci50b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uKXx8dm9pZCAwPT09cz92b2lkIDA6cy5wYXJhbWV0ZXJzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5nYXRld2F5KX0pfWdldFBheW1lbnRHYXRld2F5UGFyYW1ldGVycygpe2lmKHRoaXMuZ29vZ2xlcGF5Q29uZmlnKXtjb25zdHthbGxvd2VkUGF5bWVudE1ldGhvZHM6ZX09dGhpcy5nb29nbGVwYXlDb25maWcse2dhdGV3YXlNZXJjaGFudElkOnR9PWVbMF0udG9rZW5pemF0aW9uU3BlY2lmaWNhdGlvbi5wYXJhbWV0ZXJzO3JldHVybntnYXRld2F5OnRoaXMuZ2V0R2F0ZXdheUlkZW50aWZpZXIoKSxnYXRld2F5TWVyY2hhbnRJZDp0fX1yZXR1cm57Z2F0ZXdheTp0aGlzLmdldEdhdGV3YXlJZGVudGlmaWVyKCl9fW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gQWUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdC5tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhLmNhbGwodGhpcyxlKTtyZXR1cm4gbi5ub25jZT1idG9hKG4ubm9uY2UpLG59KX19Y29uc3QgTWU9QihpPT5uZXcgeWUoaSxuZXcgbWUod2UoKSxuZXcgVGUoaSxuZXcga2UobigpKSksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXlfYmlnY29tbWVyY2VfcGF5bWVudHNcIn1dKSxFZT1CKG49Pntjb25zdCBpPXQoKTtyZXR1cm4gbmV3IHllKG4sbmV3IG1lKHdlKCksbmV3IG9lKFwiYWR5ZW5cIixuKSxpLGUoKSkpfSxbe2lkOlwiZ29vZ2xlcGF5YWR5ZW52MlwifV0pLERlPUIobj0+e2NvbnN0IGk9dCgpO3JldHVybiBuZXcgeWUobixuZXcgbWUod2UoKSxuZXcgb2UoXCJhZHllblwiLG4pLGksZSgpKSl9LFt7aWQ6XCJnb29nbGVwYXlhZHllbnYzXCJ9XSk7Y2xhc3MgTmUgZXh0ZW5kcyBvZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihcImF1dGhvcml6ZW5ldFwiLGUpfW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gbj10aGlzLGk9dm9pZCAwLGE9ZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0Lm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEuY2FsbCh0aGlzLGUpO3JldHVybiBuLm5vbmNlPWJ0b2Eobi5ub25jZSksbn0sbmV3KChvPXZvaWQgMCl8fChvPVByb21pc2UpKShmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoYS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGEudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIGModCl7dmFyIG47dC5kb25lP2UodC52YWx1ZSk6KG49dC52YWx1ZSxuIGluc3RhbmNlb2Ygbz9uOm5ldyBvKGZ1bmN0aW9uKGUpe2Uobil9KSkudGhlbihyLHMpfWMoKGE9YS5hcHBseShuLGl8fFtdKSkubmV4dCgpKX0pO3ZhciBuLGksbyxhfWdldFBheW1lbnRHYXRld2F5UGFyYW1ldGVycygpe2NvbnN0IGU9dGhpcy5nZXRHb29nbGVQYXlJbml0aWFsaXphdGlvbkRhdGEoKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWZ1bmN0aW9uKGUpe3JldHVyblwicGF5bWVudEdhdGV3YXlJZFwiaW4gZX0oZSkpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCl9KGUpLHtnYXRld2F5OnRoaXMuZ2V0R2F0ZXdheUlkZW50aWZpZXIoKSxnYXRld2F5TWVyY2hhbnRJZDplLnBheW1lbnRHYXRld2F5SWR9fX1jb25zdCBSZT1CKG49Pm5ldyB5ZShuLG5ldyBtZSh3ZSgpLG5ldyBOZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWF1dGhvcml6ZW5ldFwifV0pLHplPWU9Plwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmXCJib2R5XCJpbiBlO3ZhciBHZTshZnVuY3Rpb24oZSl7ZS5Kc29uPVwiYXBwbGljYXRpb24vanNvblwiLGUuSnNvblYxPVwiYXBwbGljYXRpb24vdm5kLmJjLnYxK2pzb25cIn0oR2V8fChHZT17fSkpO2NvbnN0IHhlPUdlO2Z1bmN0aW9uIEJlKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cImNoZWNrb3V0Y29ta2V5XCJpbiBlfShlKSl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKX12YXIgamU9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgTGUgZXh0ZW5kcyBvZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKFwiY2hlY2tvdXRsdGRcIixlKSx0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LG4pPT57aWYoemUoZSkmJmZ1bmN0aW9uKGUpe3ZhciB0O2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtjb25zdCBuPWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mKG51bGw9PT0odD1uLnRocmVlX2RzX3Jlc3VsdCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYWNzX3VybCkmJlwic3RyaW5nXCI9PXR5cGVvZiBuLnRocmVlX2RzX3Jlc3VsdC5jb2RlfShlLmJvZHkpJiZcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCI9PT1lLmJvZHkudGhyZWVfZHNfcmVzdWx0LmNvZGUpcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oZS5ib2R5LnRocmVlX2RzX3Jlc3VsdC5hY3NfdXJsKTtuKGUpfSl9bWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCx7bWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YTp7Z2V0OigpPT5zdXBlci5tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhfX0pO3JldHVybiBqZSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0Lm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEuY2FsbCh0aGlzLGUpO2xldCBpO3RyeXtpPUpTT04ucGFyc2Uobi5ub25jZSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEwoXCJVbmFibGUgdG8gcGFyc2UgcmVzcG9uc2UgZnJvbSBHb29nbGUgUGF5LlwiKX1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmXCJwcm90b2NvbFZlcnNpb25cImluIGUmJlwic2lnbmF0dXJlXCJpbiBlJiZcInNpZ25lZE1lc3NhZ2VcImluIGV9KGUpKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRUb2tlbil9KGkpLG4ubm9uY2U9eWllbGQgdGhpcy5fdG9rZW5pemUoaSksbn0pfWdldFBheW1lbnRHYXRld2F5UGFyYW1ldGVycygpe2NvbnN0IGU9dGhpcy5nZXRHb29nbGVQYXlJbml0aWFsaXphdGlvbkRhdGEoKTtyZXR1cm4gQmUoZSkse2dhdGV3YXk6dGhpcy5nZXRHYXRld2F5SWRlbnRpZmllcigpLGdhdGV3YXlNZXJjaGFudElkOmUuY2hlY2tvdXRjb21rZXl9fV90b2tlbml6ZShlKXtyZXR1cm4gamUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IHQ9dGhpcy5nZXRQYXltZW50TWV0aG9kKCkuY29uZmlnLnRlc3RNb2RlP1wiaHR0cHM6Ly9hcGkuc2FuZGJveC5jaGVja291dC5jb20vdG9rZW5zXCI6XCJodHRwczovL2FwaS5jaGVja291dC5jb20vdG9rZW5zXCIsbj10aGlzLmdldEdvb2dsZVBheUluaXRpYWxpemF0aW9uRGF0YSgpO0JlKG4pO2NvbnN0e2JvZHk6aX09eWllbGQgdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KHQse2NyZWRlbnRpYWxzOiExLGJvZHk6e3R5cGU6XCJnb29nbGVwYXlcIix0b2tlbl9kYXRhOmV9LGhlYWRlcnM6e0F1dGhvcml6YXRpb246bi5jaGVja291dGNvbWtleSxcIkNvbnRlbnQtVHlwZVwiOnhlLkpzb24sXCJYLVhTUkYtVE9LRU5cIjpudWxsfX0pO3JldHVybiBpLnRva2VufSl9fWNvbnN0IEZlPUIobj0+e2NvbnN0IGk9dCgpO3JldHVybiBuZXcgeWUobixuZXcgbWUod2UoKSxuZXcgTGUobixpKSxpLGUoKSkpfSxbe2lkOlwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIn1dKTtjbGFzcyBVZSBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUpe3N1cGVyKFwiY3liZXJzb3VyY2VcIixlKX1tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhKGUpe2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsLHttYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhOntnZXQ6KCk9PnN1cGVyLm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGF9fSk7cmV0dXJuIG49dGhpcyxpPXZvaWQgMCxhPWZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdC5tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhLmNhbGwodGhpcyxlKTtyZXR1cm4gbi5ub25jZT1idG9hKG4ubm9uY2UpLG59LG5ldygobz12b2lkIDApfHwobz1Qcm9taXNlKSkoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe3RyeXtjKGEubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhhLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBjKHQpe3ZhciBuO3QuZG9uZT9lKHQudmFsdWUpOihuPXQudmFsdWUsbiBpbnN0YW5jZW9mIG8/bjpuZXcgbyhmdW5jdGlvbihlKXtlKG4pfSkpLnRoZW4ocixzKX1jKChhPWEuYXBwbHkobixpfHxbXSkpLm5leHQoKSl9KTt2YXIgbixpLG8sYX19Y29uc3QgVmU9QihuPT5uZXcgeWUobixuZXcgbWUod2UoKSxuZXcgVWUobiksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXljeWJlcnNvdXJjZXYyXCJ9LHtpZDpcImdvb2dsZXBheWJuelwifV0pO2NsYXNzIHFlIGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJjaGFzZVwiLGUpfW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gbj10aGlzLGk9dm9pZCAwLGE9ZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0Lm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEuY2FsbCh0aGlzLGUpO3JldHVybiBuLm5vbmNlPWJ0b2Eobi5ub25jZSksbn0sbmV3KChvPXZvaWQgMCl8fChvPVByb21pc2UpKShmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoYS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGEudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIGModCl7dmFyIG47dC5kb25lP2UodC52YWx1ZSk6KG49dC52YWx1ZSxuIGluc3RhbmNlb2Ygbz9uOm5ldyBvKGZ1bmN0aW9uKGUpe2Uobil9KSkudGhlbihyLHMpfWMoKGE9YS5hcHBseShuLGl8fFtdKSkubmV4dCgpKX0pO3ZhciBuLGksbyxhfX1jb25zdCBIZT1CKG49Pm5ldyB5ZShuLG5ldyBtZSh3ZSgpLG5ldyBxZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheW9yYml0YWxcIn1dKTt2YXIgV2UsWWUsSmUsS2UsWmUsWGUsUWUsJGUsZXQsdHQ7IWZ1bmN0aW9uKGUpe2UuU0hJUFBJTkc9XCJzaGlwcGluZ1wiLGUuQklMTElORz1cImJpbGxpbmdcIn0oV2V8fChXZT17fSkpLGZ1bmN0aW9uKGUpe2UuU1BMSVQ9XCJzcGxpdFwiLGUuRlVMTD1cImZ1bGxcIixlLk9SR0FOSVpBVElPTj1cIm9yZ2FuaXphdGlvblwifShZZXx8KFllPXt9KSksZnVuY3Rpb24oZSl7ZS5TVUNDRVNTPVwic3VjY2Vzc1wiLGUuRVJST1I9XCJlcnJvclwifShKZXx8KEplPXt9KSksZnVuY3Rpb24oZSl7ZS5DcmVkaXRDYXJkPVwiY2FyZFwiLGUuTGluaz1cImxpbmtcIixlLkVQUz1cImVwc1wiLGUuR1JBQlBBWT1cImdyYWJwYXlcIixlLkJBTkNPTlRBQ1Q9XCJiYW5jb250YWN0XCIsZS5JREVBTD1cImlkZWFsXCIsZS5BTElQQVk9XCJhbGlwYXlcIixlLktMQVJOQT1cImtsYXJuYVwiLGUuT0NTPVwib3B0aW1pemVkX2NoZWNrb3V0XCJ9KEtlfHwoS2U9e30pKSxmdW5jdGlvbihlKXtlLk5FVkVSPVwibmV2ZXJcIixlLkFVVE89XCJhdXRvXCIsZS5BTFdBWVM9XCJhbHdheXNcIixlLlBBWU1FTlQ9XCJwYXltZW50XCIsZS5JRl9SRVFVSVJFRD1cImlmX3JlcXVpcmVkXCJ9KFplfHwoWmU9e30pKSxmdW5jdGlvbihlKXtlLlYzPVwidjNcIixlLkFDQUNJQT1cImFjYWNpYVwiLGUuQkFTSUw9XCJiYXNpbFwiLGUuQ0xPVkVSPVwiY2xvdmVyXCJ9KFhlfHwoWGU9e30pKSxmdW5jdGlvbihlKXtlLlBBWU1FTlQ9XCJwYXltZW50XCIsZS5BVVRIRU5USUNBVElPTj1cImxpbmtBdXRoZW50aWNhdGlvblwiLGUuU0hJUFBJTkc9XCJhZGRyZXNzXCIsZS5FWFBSRVNTX0NIRUNLT1VUPVwiZXhwcmVzc0NoZWNrb3V0XCJ9KFFlfHwoUWU9e30pKSxmdW5jdGlvbihlKXtlLlJFUVVJUkVTX1BBWU1FTlRfTUVUSE9EPVwicmVxdWlyZXNfcGF5bWVudF9tZXRob2RcIixlLlJFUVVJUkVTX0NPTkZJUk1BVElPTj1cInJlcXVpcmVzX2NvbmZpcm1hdGlvblwiLGUuUkVRVUlSRVNfQUNUSU9OPVwicmVxdWlyZXNfYWN0aW9uXCIsZS5QUk9DRVNTSU5HPVwicHJvY2Vzc2luZ1wiLGUuU1VDQ0VFREVEPVwic3VjY2VlZGVkXCIsZS5DQU5DRUxFRD1cImNhbmNlbGVkXCJ9KCRlfHwoJGU9e30pKSxmdW5jdGlvbihlKXtlLkNMSUNLPVwiY2xpY2tcIixlLkNIQU5HRT1cImNoYW5nZVwiLGUuUkVBRFk9XCJyZWFkeVwiLGUuU0hJUFBJTkdfQUREUkVTU19DSEFOR0U9XCJzaGlwcGluZ2FkZHJlc3NjaGFuZ2VcIixlLlNISVBQSU5HX1JBVEVfQ0hBTkdFPVwic2hpcHBpbmdyYXRlY2hhbmdlXCIsZS5DT05GSVJNPVwiY29uZmlybVwiLGUuQ0FOQ0VMPVwiY2FuY2VsXCIsZS5MT0FERVJfU1RBUlQ9XCJsb2FkZXJzdGFydFwifShldHx8KGV0PXt9KSksZnVuY3Rpb24oZSl7ZS5PTl9TRVNTSU9OPVwib25fc2Vzc2lvblwiLGUuT0ZGX1NFU1NJT049XCJvZmZfc2Vzc2lvblwifSh0dHx8KHR0PXt9KSk7dmFyIG50PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIGl0e2NvbnN0cnVjdG9yKGUsdD13aW5kb3cpe3RoaXMuc2NyaXB0TG9hZGVyPWUsdGhpcy5zdHJpcGVXaW5kb3c9dH1nZXRTdHJpcGVDbGllbnQoZSx0LG4saSxvKXtyZXR1cm4gbnQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlQ2xpZW50KXJldHVybiB0aGlzLnN0cmlwZVdpbmRvdy5iY1N0cmlwZUNsaWVudDtjb25zdCBhPXlpZWxkIHRoaXMubG9hZChuKSx7c3RyaXBlUHVibGlzaGFibGVLZXk6cixzdHJpcGVDb25uZWN0ZWRBY2NvdW50OnN9PWUsYz1hKHIsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzP3tzdHJpcGVBY2NvdW50OnN9Ont9KSx0P3tsb2NhbGU6dH06e30pLGk/e2JldGFzOml9Ont9KSxvP3thcGlWZXJzaW9uOm99Ont9KSk7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5zdHJpcGVXaW5kb3cse2JjU3RyaXBlQ2xpZW50OmN9KSxjfSl9Z2V0RWxlbWVudHMoZSx0KXtyZXR1cm4gbnQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2xldCBuPXRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlRWxlbWVudHM7cmV0dXJuIG4/eWllbGQgdGhpcy51cGRhdGVTdHJpcGVFbGVtZW50cyh0KToobj1lLmVsZW1lbnRzKHQpLE9iamVjdC5hc3NpZ24odGhpcy5zdHJpcGVXaW5kb3cse2JjU3RyaXBlRWxlbWVudHM6bn0pKSxufSl9dXBkYXRlU3RyaXBlRWxlbWVudHMoZSl7cmV0dXJuIG50KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCB0PXRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlRWxlbWVudHM7dCYmKHQudXBkYXRlKGUpLHlpZWxkIHQuZmV0Y2hVcGRhdGVzKCkpfSl9Z2V0Q2hlY2tvdXRTZXNzaW9uKGUsdCl7cmV0dXJuIG50KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtsZXQgbj10aGlzLnN0cmlwZVdpbmRvdy5iY1N0cmlwZUNoZWNrb3V0U2Vzc2lvbjtyZXR1cm4gbnx8KG49eWllbGQgZS5pbml0Q2hlY2tvdXQodCksT2JqZWN0LmFzc2lnbih0aGlzLnN0cmlwZVdpbmRvdyx7YmNTdHJpcGVDaGVja291dFNlc3Npb246bn0pKSxufSl9bG9hZChlKXtyZXR1cm4gbnQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUmJih5aWVsZCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KHRoaXMuZ2V0U2NyaXB0VXJsKGUpKSwhdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlKSl0aHJvdyBuZXcgRDtyZXR1cm4gdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlfSl9Z2V0U2NyaXB0VXJsKGUpe3JldHVybiBlJiZlIT09WGUuVjM/YGh0dHBzOi8vanMuc3RyaXBlLmNvbS8ke2V9L3N0cmlwZS5qc2A6XCJodHRwczovL2pzLnN0cmlwZS5jb20vdjMvXCJ9fWNsYXNzIG90IGV4dGVuZHMgTHtjb25zdHJ1Y3RvcihlKXtsZXQgdD1cIlVuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC5cIjtlJiYodD1gJHt0fSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtlLmpvaW4oXCIsIFwiKX0uYCksc3VwZXIodCksdGhpcy5uYW1lPVwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yXCJ9fWNvbnN0IGF0PXtib2R5Ont9LGhlYWRlcnM6e30sc3RhdHVzOjB9O2NsYXNzIHJ0IGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlLHttZXNzYWdlOnQsZXJyb3JzOm59PXt9KXtjb25zdHtib2R5OmksaGVhZGVyczpvLHN0YXR1czphfT1lfHxhdDtzdXBlcih0fHxcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLlwiKSx0aGlzLm5hbWU9XCJSZXF1ZXN0RXJyb3JcIix0aGlzLnR5cGU9XCJyZXF1ZXN0XCIsdGhpcy5ib2R5PWksdGhpcy5oZWFkZXJzPW8sdGhpcy5zdGF0dXM9YSx0aGlzLmVycm9ycz1ufHxbXX19Y29uc3Qgc3Q9W1wicGF5bWVudF9lbGVtZW50X2JldGFfMlwiLFwiYWxpcGF5X3BtX2JldGFfMVwiLFwibGlua19kZWZhdWx0X2ludGVncmF0aW9uX2JldGFfMVwiLFwic2hpcHBpbmdfYWRkcmVzc19lbGVtZW50X2JldGFfMVwiLFwiYWRkcmVzc19lbGVtZW50X2JldGFfMVwiXTtmdW5jdGlvbiBjdChlKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpcGVDb25uZWN0ZWRBY2NvdW50XCJpbiBlJiZcInN0cmlwZVB1Ymxpc2hhYmxlS2V5XCJpbiBlJiZcInN0cmlwZVZlcnNpb25cImluIGV9KGUpKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRNZXRob2QpfXZhciBkdD1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBsdCBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoXCJzdHJpcGVcIixlKSx0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9ZSx0aGlzLnNjcmlwdExvYWRlcj10fW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gZHQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdC5tYXBUb0V4dGVybmFsQ2hlY2tvdXREYXRhLmNhbGwodGhpcyxlKTtsZXQgaTt0cnl7aT1KU09OLnBhcnNlKG4ubm9uY2UpfWNhdGNoKGUpe3Rocm93IG5ldyBMKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gR29vZ2xlIFBheS5cIil9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJlwiaWRcImluIGV9KGUpKXRocm93IG5ldyBqKFIuTWlzc2luZ1BheW1lbnRUb2tlbil9KGkpLG4ubm9uY2U9aS5pZCxufSl9Z2V0UGF5bWVudEdhdGV3YXlQYXJhbWV0ZXJzKCl7Y29uc3QgZT10aGlzLmdldEdvb2dsZVBheUluaXRpYWxpemF0aW9uRGF0YSgpO2N0KGUpO2NvbnN0e3N0cmlwZVZlcnNpb246dCxzdHJpcGVQdWJsaXNoYWJsZUtleTpuLHN0cmlwZUNvbm5lY3RlZEFjY291bnQ6aX09ZTtyZXR1cm57Z2F0ZXdheTp0aGlzLmdldEdhdGV3YXlJZGVudGlmaWVyKCksXCJzdHJpcGU6dmVyc2lvblwiOnQsXCJzdHJpcGU6cHVibGlzaGFibGVLZXlcIjpgJHtufS8ke2l9YH19cHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gZHQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCF0KXRocm93IG5ldyBvdChbXCJwYXltZW50XCJdKTtpZighemUoZSl8fChcIm9iamVjdFwiIT10eXBlb2YoaT1lLmJvZHkpfHxudWxsPT09aXx8IShcInRocmVlX2RzX3Jlc3VsdFwiaW4gaSl8fCEoXCJlcnJvcnNcImluIGkpKSl0aHJvdyBlO3ZhciBpO2lmKGQoZS5ib2R5LmVycm9ycyx7Y29kZTpcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCJ9KSl7Y29uc3QgaT10aGlzLmdldEdvb2dsZVBheUluaXRpYWxpemF0aW9uRGF0YSgpO2N0KGkpLHRoaXMuc3RyaXBlVVBFQ2xpZW50PXlpZWxkIHRoaXMubG9hZFN0cmlwZUpzKGksdCk7Y29uc3Qgbz1lLmJvZHkudGhyZWVfZHNfcmVzdWx0LnRva2VuO2xldCBhLHI9ITE7dHJ5e2E9eWllbGQgdGhpcy5zdHJpcGVVUEVDbGllbnQuY29uZmlybUNhcmRQYXltZW50KG8pfWNhdGNoKGUpe3RyeXthPXlpZWxkIHRoaXMuc3RyaXBlVVBFQ2xpZW50LnJldHJpZXZlUGF5bWVudEludGVudChvKX1jYXRjaChlKXtyPSEwfX1pZihudWxsPT1hP3ZvaWQgMDphLmVycm9yKXtpZih0aGlzLl90aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3IoYS5lcnJvciksdGhpcy5faXNDYW5jZWxsYXRpb25FcnJvcihhLmVycm9yKSl0aHJvdyBuZXcgc2U7dGhyb3cgbmV3IGNlfWlmKCEobnVsbD09YT92b2lkIDA6YS5wYXltZW50SW50ZW50KSYmIXIpdGhyb3cgbmV3IHJ0O3JldHVybiB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudCh7bWV0aG9kSWQ6dCxwYXltZW50RGF0YTp7bm9uY2U6KG51bGw9PT0obj1udWxsPT1hP3ZvaWQgMDphLnBheW1lbnRJbnRlbnQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkKXx8b319KX10aHJvdyBlfSl9bG9hZFN0cmlwZUpzKGUsdCl7cmV0dXJuIGR0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZih0aGlzLnN0cmlwZVVQRUNsaWVudClyZXR1cm4gdGhpcy5zdHJpcGVVUEVDbGllbnQ7Y29uc3Qgbj10aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0TG9jYWxlKCk7cmV0dXJuXCJnb29nbGVwYXlzdHJpcGVvY3NcIj09PXQmJmUudXNlTmV3U3RyaXBlSnNWZXJzaW9uP3RoaXMuc2NyaXB0TG9hZGVyLmdldFN0cmlwZUNsaWVudChlLG4sWGUuQ0xPVkVSKTp0aGlzLnNjcmlwdExvYWRlci5nZXRTdHJpcGVDbGllbnQoZSxuLFhlLlYzLHN0LFwiMjAyMC0wMy0wMjthbGlwYXlfYmV0YT12MTtsaW5rX2JldGE9djFcIil9KX1faXNDYW5jZWxsYXRpb25FcnJvcihlKXt2YXIgdCxuO3JldHVybiBlJiYtMSE9PShudWxsPT09KG49bnVsbD09PSh0PWUucGF5bWVudF9pbnRlbnQubGFzdF9wYXltZW50X2Vycm9yKXx8dm9pZCAwPT09dD92b2lkIDA6dC5tZXNzYWdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pbmRleE9mKFwiY2FuY2VsZWRcIikpfV90aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3IoZSl7aWYoYShbXCJjYXJkX2Vycm9yXCIsXCJpbnZhbGlkX3JlcXVlc3RfZXJyb3JcIixcInZhbGlkYXRpb25fZXJyb3JcIl0sZS50eXBlKSl0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlKX19Y29uc3QgdXQ9QihpPT5uZXcgeWUoaSxuZXcgbWUod2UoKSxuZXcgbHQoaSxuZXcgaXQobigpKSksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXlzdHJpcGVcIn0se2lkOlwiZ29vZ2xlcGF5c3RyaXBldXBlXCJ9LHtpZDpcImdvb2dsZXBheXN0cmlwZW9jc1wifV0pO2NsYXNzIGh0IGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJ3b3JsZHBheVwiLGUpfW1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse21hcFRvRXh0ZXJuYWxDaGVja291dERhdGE6e2dldDooKT0+c3VwZXIubWFwVG9FeHRlcm5hbENoZWNrb3V0RGF0YX19KTtyZXR1cm4gbj10aGlzLGk9dm9pZCAwLGE9ZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0Lm1hcFRvRXh0ZXJuYWxDaGVja291dERhdGEuY2FsbCh0aGlzLGUpO3JldHVybiBuLm5vbmNlPWJ0b2Eobi5ub25jZSksbn0sbmV3KChvPXZvaWQgMCl8fChvPVByb21pc2UpKShmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoYS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGEudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIGModCl7dmFyIG47dC5kb25lP2UodC52YWx1ZSk6KG49dC52YWx1ZSxuIGluc3RhbmNlb2Ygbz9uOm5ldyBvKGZ1bmN0aW9uKGUpe2Uobil9KSkudGhlbihyLHMpfWMoKGE9YS5hcHBseShuLGl8fFtdKSkubmV4dCgpKX0pO3ZhciBuLGksbyxhfX1jb25zdCB5dD1CKG49Pm5ldyB5ZShuLG5ldyBtZSh3ZSgpLG5ldyBodChuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheXdvcmxkcGF5YWNjZXNzXCJ9XSk7ZnVuY3Rpb24gZ3QoKXtjb25zdHtuYXZpZ2F0b3I6ZX09d2luZG93O2xldCB0O3JldHVybiB0PWUubGFuZ3VhZ2U/ZS5sYW5ndWFnZTplLnVzZXJMYW5ndWFnZSx7Y29sb3JfZGVwdGg6d2luZG93LnNjcmVlbi5jb2xvckRlcHRofHwyNCxqYXZhX2VuYWJsZWQ6XCJmdW5jdGlvblwiPT10eXBlb2YgZS5qYXZhRW5hYmxlZCYmZS5qYXZhRW5hYmxlZCgpLGxhbmd1YWdlOnQsc2NyZWVuX2hlaWdodDp3aW5kb3cuc2NyZWVuLmhlaWdodCxzY3JlZW5fd2lkdGg6d2luZG93LnNjcmVlbi53aWR0aCx0aW1lX3pvbmVfb2Zmc2V0OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKS50b1N0cmluZygpfX12YXIgcHQ9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgbXQgZXh0ZW5kcyBvZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKFwid29ybGRsaW5lbmFcIixlKSx0aGlzLmZvcm1Qb3N0ZXI9dH1leHRyYVBheW1lbnREYXRhKCl7cmV0dXJuIHB0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHticm93c2VyX2luZm86Z3QoKX0pfSl9cHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSl7cmV0dXJuIHB0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuIHplKGUpJiYodD1lLmJvZHkscyh0KSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZXJyb3JzXCJpbiB0JiZcInRocmVlX2RzX3Jlc3VsdFwiaW4gdCYmcih0LmVycm9ycykmJmQodC5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSkpO3ZhciB0fShlKSl0aHJvdyBlO2NvbnN0e3RocmVlX2RzX3Jlc3VsdDp0fT1lLmJvZHkse2Fjc191cmw6bixwYXllcl9hdXRoX3JlcXVlc3Q6aSxtZXJjaGFudF9kYXRhOm99PXR8fHt9O2lmKCFufHwhaXx8IW8pdGhyb3cgbmV3IG90KFtcImZvcm1VcmxcIixcInRocmVlRFNTZXNzaW9uRGF0YVwiLFwiY3JlcVwiXSk7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pnt0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0obix7dGhyZWVEU1Nlc3Npb25EYXRhOmksY3JlcTpvfSxlLFwiX3RvcFwiKX0pfSl9fWNvbnN0IGZ0PUIobj0+bmV3IHllKG4sbmV3IG1lKHdlKCksbmV3IG10KG4sZSgpKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheXRkb25saW5lbWFydFwifV0pO2NsYXNzIHd0e2NvbnN0cnVjdG9yKGUsdCxuPXdpbmRvdyl7dGhpcy5fc2NyaXB0TG9hZGVyPWUsdGhpcy5fc3R5bGVzaGVldExvYWRlcj10LHRoaXMuX3dpbmRvdz1ufWxvYWQoZSl7dmFyIHQsbixpLG8sYSxyO3JldHVybiBpPXRoaXMsbz12b2lkIDAscj1mdW5jdGlvbiooKXtpZih5aWVsZCBQcm9taXNlLmFsbChbdGhpcy5fc3R5bGVzaGVldExvYWRlci5sb2FkU3R5bGVzaGVldChgaHR0cHM6Ly9jaGVja291dHNob3BwZXItJHtudWxsIT09KHQ9ZS5lbnZpcm9ubWVudCkmJnZvaWQgMCE9PXQ/dDpcIlwifS5hZHllbi5jb20vY2hlY2tvdXRzaG9wcGVyL3Nkay8zLjEwLjEvYWR5ZW4uY3NzYCx7cHJlcGVuZDohMSxhdHRyaWJ1dGVzOntpbnRlZ3JpdHk6XCJzaGEzODQtOG9mZ0lDWlovazVjQzVON3hlZ3FGWk9BNzNIOVJRN0gxMzQzOUpmQVpXOEdqM3FqdUtMMmlzYVREM0dNSWhERVwiLGNyb3Nzb3JpZ2luOlwiYW5vbnltb3VzXCJ9fSksdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoYGh0dHBzOi8vY2hlY2tvdXRzaG9wcGVyLSR7bnVsbCE9PShuPWUuZW52aXJvbm1lbnQpJiZ2b2lkIDAhPT1uP246XCJcIn0uYWR5ZW4uY29tL2NoZWNrb3V0c2hvcHBlci9zZGsvMy4xMC4xL2FkeWVuLmpzYCx7YXN5bmM6ITAsYXR0cmlidXRlczp7aW50ZWdyaXR5Olwic2hhMzg0LXdHMno5elNRbzYxRUl2eVhtaUZDbyt6QjN5MFpCNGhzclhWY0FObXBQOEhMdGhqb1FKUVBCaDd0WktKU1Y4akFcIixjcm9zc29yaWdpbjpcImFub255bW91c1wifX0pXSksIXRoaXMuX3dpbmRvdy5BZHllbkNoZWNrb3V0KXRocm93IG5ldyBEO3JldHVybiBuZXcgdGhpcy5fd2luZG93LkFkeWVuQ2hlY2tvdXQoZSl9LG5ldygoYT12b2lkIDApfHwoYT1Qcm9taXNlKSkoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBjKHQpe3ZhciBpO3QuZG9uZT9lKHQudmFsdWUpOihpPXQudmFsdWUsaSBpbnN0YW5jZW9mIGE/aTpuZXcgYShmdW5jdGlvbihlKXtlKGkpfSkpLnRoZW4obixzKX1jKChyPXIuYXBwbHkoaSxvfHxbXSkpLm5leHQoKSl9KX19ZnVuY3Rpb24gUHQoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcImVycm9yc1wiaW4gZSYmQXJyYXkuaXNBcnJheShlLmVycm9ycykmJlwiY29kZVwiaW4gZS5lcnJvcnNbMF0mJlwic3RyaW5nXCI9PXR5cGVvZiBlLmVycm9yc1swXS5jb2RlJiZcInByb3ZpZGVyX2RhdGFcImluIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnByb3ZpZGVyX2RhdGF9dmFyIHZ0PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIF90IGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihcImFkeWVuXCIsZSksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fc2VydmljZT1lfWluaXRpYWxpemUoZSx0LG4pe2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShudWxsLHtpbml0aWFsaXplOntnZXQ6KCk9PnN1cGVyLmluaXRpYWxpemV9LGdldFBheW1lbnRNZXRob2Q6e2dldDooKT0+c3VwZXIuZ2V0UGF5bWVudE1ldGhvZH19KTtyZXR1cm4gdnQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3lpZWxkIGkuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSx0LG4pO2NvbnN0IG89aS5nZXRQYXltZW50TWV0aG9kLmNhbGwodGhpcyksYT10aGlzLl9zZXJ2aWNlLmdldFN0YXRlKCkuZ2V0U3RvcmVDb25maWcoKTtpZighYSl0aHJvdyBuZXcgaihSLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJuIHRoaXMuX2FkeWVuQ2xpZW50PXlpZWxkIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkKHtlbnZpcm9ubWVudDpvLmNvbmZpZy50ZXN0TW9kZT9cInRlc3RcIjpcImxpdmVcIixsb2NhbGU6YS5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZX0pLFByb21pc2UucmVzb2x2ZSgpfSl9Z2V0Tm9uY2UoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwse2dldE5vbmNlOntnZXQ6KCk9PnN1cGVyLmdldE5vbmNlfSxnZXRQYXltZW50TWV0aG9kOntnZXQ6KCk9PnN1cGVyLmdldFBheW1lbnRNZXRob2R9fSk7cmV0dXJuIHZ0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIHQuZ2V0Tm9uY2UuY2FsbCh0aGlzLGUpLGk9dC5nZXRQYXltZW50TWV0aG9kLmNhbGwodGhpcyk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHt0eXBlOmkubWV0aG9kLGdvb2dsZVBheVRva2VuOm4sYnJvd3Nlcl9pbmZvOmd0KCl9KX0pfXByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGUpe3JldHVybiB2dCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIXplKGUpfHwhUHQoZS5ib2R5KSl0aHJvdyBlO2NvbnN0IHQ9eWllbGQgdGhpcy5faGFuZGxlQWN0aW9uKGUuYm9keS5wcm92aWRlcl9kYXRhKTt0cnl7cmV0dXJuIHlpZWxkIHRoaXMuX3NlcnZpY2Uuc3VibWl0UGF5bWVudCh0KX1jYXRjaChlKXtyZXR1cm4gdGhpcy5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlKX19KX1faGFuZGxlQWN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IGk9SlNPTi5wYXJzZShlLmFjdGlvbik7dGhpcy5fZ2V0QWR5ZW5DbGllbnQoKS5jcmVhdGVGcm9tQWN0aW9uKGkse29uQWRkaXRpb25hbERldGFpbHM6ZT0+e2NvbnN0IG49e21ldGhvZElkOmkucGF5bWVudE1ldGhvZFR5cGUscGF5bWVudERhdGE6e25vbmNlOkpTT04uc3RyaW5naWZ5KGUuZGF0YSl9fTt0KG4pfSxzaXplOlwiMDVcIixvbkVycm9yOmU9Pm4oZSl9KS5tb3VudChcImJvZHlcIiksbihuZXcgc2UpfSl9X2dldEFkeWVuQ2xpZW50KCl7aWYoIXRoaXMuX2FkeWVuQ2xpZW50KXRocm93IG5ldyBPKHcuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fYWR5ZW5DbGllbnR9fWNsYXNzIEN0IGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS5cIiksdGhpcy5uYW1lPVwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yXCIsdGhpcy50eXBlPVwib3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZFwifX1jb25zdCBidD17c2l6ZTo3MCxjb2xvcjpcIiNkOWQ5ZDlcIixiYWNrZ3JvdW5kQ29sb3I6XCIjZmZmZmZmXCJ9LFN0PXtwb3NpdGlvbjpcImZpeGVkXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuNClcIixcInotaW5kZXhcIjpcIjEwMDBcIn0sSXQ9XCJlbWJlZGRlZC1jaGVja291dC1sb2FkaW5nLWluZGljYXRvci1yb3RhdGlvblwiO2NsYXNzIE90e2NvbnN0cnVjdG9yKGUpe3RoaXMuc3R5bGVzPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxidCksZSYmZS5zdHlsZXMpLHRoaXMuY29udGFpbmVyU3R5bGVzPU9iamVjdC5hc3NpZ24oe30sZSYmZS5jb250YWluZXJTdHlsZXMpLHRoaXMuZGVmaW5lQW5pbWF0aW9uKCksdGhpcy5jb250YWluZXI9dGhpcy5idWlsZENvbnRhaW5lcigpLHRoaXMuaW5kaWNhdG9yPXRoaXMuYnVpbGRJbmRpY2F0b3IoKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmluZGljYXRvcil9c2hvdyhlKXtpZihlKXtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBhdHRhY2ggdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGJlY2F1c2UgdGhlIHBhcmVudCBJRCBpcyBub3QgdmFsaWQuXCIpO3QuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpfXRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eT1cIjFcIn1oaWRlKCl7Y29uc3QgZT0oKT0+e3RoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLGUpfTt0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLGUpLHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9XCIwXCJ9YnVpbGRDb250YWluZXIoKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsZS5zdHlsZS5ib3R0b209XCIwXCIsZS5zdHlsZS5sZWZ0PVwiMFwiLGUuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLGUuc3R5bGUud2lkdGg9XCIxMDAlXCIsZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS5yaWdodD1cIjBcIixlLnN0eWxlLnRvcD1cIjBcIixlLnN0eWxlLnRyYW5zaXRpb249XCJhbGwgMjUwbXMgZWFzZS1vdXRcIixlLnN0eWxlLm9wYWNpdHk9XCIwXCIsdGhpcy5zZXRTdHlsZUF0dHJpYnV0ZShlLHRoaXMuY29udGFpbmVyU3R5bGVzKSxlfWJ1aWxkSW5kaWNhdG9yKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGUuc3R5bGUud2lkdGg9YCR7dGhpcy5zdHlsZXMuc2l6ZX1weGAsZS5zdHlsZS5oZWlnaHQ9YCR7dGhpcy5zdHlsZXMuc2l6ZX1weGAsZS5zdHlsZS5ib3JkZXJSYWRpdXM9YCR7dGhpcy5zdHlsZXMuc2l6ZX1weGAsZS5zdHlsZS5ib3JkZXI9XCJzb2xpZCAxcHhcIixlLnN0eWxlLmJvcmRlckNvbG9yPWAke3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcn0gJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9YCxlLnN0eWxlLm1hcmdpbj1cIjAgYXV0b1wiLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUubGVmdD1cIjBcIixlLnN0eWxlLnJpZ2h0PVwiMFwiLGUuc3R5bGUudG9wPVwiNTAlXCIsZS5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKVwiLGUuc3R5bGUudHJhbnNmb3JtU3R5bGU9XCJwcmVzZXJ2ZS0zZFwiLGUuc3R5bGUuYW5pbWF0aW9uPWAke0l0fSA1MDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC42OSwgMC4zMSwgMC41NiwgMC44MylgLGV9c2V0U3R5bGVBdHRyaWJ1dGUoZSx0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49PntlLnN0eWxlLnNldFByb3BlcnR5KG4sdFtuXSl9KX1kZWZpbmVBbmltYXRpb24oKXt2YXIgZTtpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJdCkpcmV0dXJuO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3QuaWQ9SXQsbnVsbD09PShlPWRvY3VtZW50LmhlYWQpfHx2b2lkIDA9PT1lfHxlLmFwcGVuZENoaWxkKHQpLHQuc2hlZXQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0JiZ0LnNoZWV0Lmluc2VydFJ1bGUoYFxcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzICR7SXR9IHtcXG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMzYwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgYCwwKX19dmFyIGt0PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIEF0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZT1lLHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3I9dCx0aGlzLl9pc0RlaW5pdGlhbGl6YXRpb25CbG9ja2VkPSExLHRoaXMuX2xvYWRpbmdJbmRpY2F0b3I9bmV3IE90KHtjb250YWluZXJTdHlsZXM6U3R9KX1pbml0aWFsaXplKGUpe3ZhciB0O3JldHVybiBrdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIShudWxsPT1lP3ZvaWQgMDplLm1ldGhvZElkKXx8IXVlKGUubWV0aG9kSWQpKXRocm93IG5ldyBMKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwibWV0aG9kSWRcIiBpcyBub3QgYSB2YWxpZCBrZXkuJyk7dGhpcy5fbWV0aG9kSWQ9ZS5tZXRob2RJZDtjb25zdCBuPWVbdGhpcy5fZ2V0TWV0aG9kSWQoKV07aWYoIShudWxsPT1uP3ZvaWQgMDpuLndhbGxldEJ1dHRvbikpdGhyb3cgbmV3IEwoXCJVbmFibGUgdG8gcHJvY2VlZCB3aXRob3V0IHZhbGlkIG9wdGlvbnMuXCIpO2NvbnN0e3dhbGxldEJ1dHRvbjppLGxvYWRpbmdDb250YWluZXJJZDpvfT1uLGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPGkubGVuZ3RoO28rKyl0LmluZGV4T2YoaVtvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtvXSkmJihuW2lbb11dPWVbaVtvXV0pfXJldHVybiBufShuLFtcIndhbGxldEJ1dHRvblwiLFwibG9hZGluZ0NvbnRhaW5lcklkXCJdKTt0aGlzLl9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyPW8seWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZCh0aGlzLl9nZXRNZXRob2RJZCgpKTtjb25zdCByPXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0aGlzLl9nZXRNZXRob2RJZCgpKTt5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoKCk9PnIsdGhpcy5fZ2V0R29vZ2xlUGF5Q2xpZW50T3B0aW9ucyhudWxsPT09KHQ9ci5pbml0aWFsaXphdGlvbkRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0b3JlQ291bnRyeSkpLHRoaXMuX2FkZFBheW1lbnRCdXR0b24oaSxhKX0pfWV4ZWN1dGUoe3BheW1lbnQ6ZX0pe3JldHVybiBrdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIShudWxsPT1lP3ZvaWQgMDplLm1ldGhvZElkKSl0aHJvdyBuZXcgb3QoW1wicGF5bWVudFwiXSk7eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcigpO2NvbnN0IHQ9eWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5nZXROb25jZShlLm1ldGhvZElkKSxuPXlpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuZXh0cmFQYXltZW50RGF0YSgpO3RyeXt5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtwYXltZW50RGF0YTpPYmplY3QuYXNzaWduKHtub25jZTp0fSxuKX0pKX1jYXRjaCh0KXt5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKHQsZS5tZXRob2RJZCl9fSl9ZmluYWxpemUoKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEN0KX1kZWluaXRpYWxpemUoKXt2YXIgZTtyZXR1cm4gdGhpcy5faXNEZWluaXRpYWxpemF0aW9uQmxvY2tlZHx8KHRoaXMuX2NsaWNrTGlzdGVuZXImJihudWxsPT09KGU9dGhpcy5fcGF5bWVudEJ1dHRvbil8fHZvaWQgMD09PWV8fGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fY2xpY2tMaXN0ZW5lcikpLHRoaXMuX3BheW1lbnRCdXR0b249dm9pZCAwLHRoaXMuX2NsaWNrTGlzdGVuZXI9dm9pZCAwLHRoaXMuX21ldGhvZElkPXZvaWQgMCksUHJvbWlzZS5yZXNvbHZlKCl9X2FkZFBheW1lbnRCdXR0b24oZSx0KXtpZih0aGlzLl9wYXltZW50QnV0dG9uKXJldHVybjtjb25zdCBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCFuKXRocm93IG5ldyBMKFwiVW5hYmxlIHRvIHByb2NlZWQgd2l0aG91dCBhIHdhbGxldEJ1dHRvbi5cIik7dGhpcy5fcGF5bWVudEJ1dHRvbj1uLHRoaXMuX2NsaWNrTGlzdGVuZXI9dGhpcy5faGFuZGxlQ2xpY2sodCksdGhpcy5fcGF5bWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9jbGlja0xpc3RlbmVyKX1faGFuZGxlQ2xpY2soe29uUGF5bWVudFNlbGVjdDplLG9uRXJyb3I6dH0pe3JldHVybiBuPT5rdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7bi5wcmV2ZW50RGVmYXVsdCgpO3RyeXt0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnNldFNob3VsZFJlcXVlc3RTaGlwcGluZyghMSkseWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplV2lkZ2V0KCkseWllbGQgdGhpcy5faW50ZXJhY3RXaXRoUGF5bWVudFNoZWV0KCl9Y2F0Y2goZSl7bGV0IG49ZTtpZih0aGlzLl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yKCExKSxsZShlKSl7aWYoXCJDQU5DRUxFRFwiPT09ZS5zdGF0dXNDb2RlKXRocm93IG5ldyBzZTtuPW5ldyBjZShKU09OLnN0cmluZ2lmeShlKSl9dGhyb3cgbnVsbD09dHx8dChuZXcgY2UoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXF1ZXN0aW5nIHlvdXIgR29vZ2xlIFBheSBwYXltZW50IGRldGFpbHMuXCIpKSxufWZpbmFsbHl7dGhpcy5fdG9nZ2xlQmxvY2tEZWluaXRpYWxpemF0aW9uKCExKX1udWxsPT1lfHxlKCl9KX1faW50ZXJhY3RXaXRoUGF5bWVudFNoZWV0KCl7cmV0dXJuIGt0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBlPXlpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3Iuc2hvd1BheW1lbnRTaGVldCgpO3RoaXMuX3RvZ2dsZUJsb2NrRGVpbml0aWFsaXphdGlvbighMCksdGhpcy5fdG9nZ2xlTG9hZGluZ0luZGljYXRvcighMCk7Y29uc3QgdD10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLm1hcFRvQmlsbGluZ0FkZHJlc3NSZXF1ZXN0Qm9keShlKTt0JiYoeWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyh0KSkseWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5zZXRFeHRlcm5hbENoZWNrb3V0WGhyKHRoaXMuX2dldE1ldGhvZElkKCksZSkseWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKSx5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKHRoaXMuX2dldE1ldGhvZElkKCkpLHRoaXMuX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoITEpLHRoaXMuX3RvZ2dsZUJsb2NrRGVpbml0aWFsaXphdGlvbighMSl9KX1fZ2V0TWV0aG9kSWQoKXtyZXR1cm4gVyh0aGlzLl9tZXRob2RJZCwoKT0+bmV3IE8ody5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKX1fZ2V0SXNTaWduZWRJbk9yVGhyb3coKXtyZXR1cm4ga3QodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4hISh5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldE5vbmNlKHRoaXMuX2dldE1ldGhvZElkKCkpKX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgaiYmZS5zdWJ0eXBlPT09Ui5NaXNzaW5nUGF5bWVudFRva2VuKXJldHVybiExO3Rocm93IGV9fSl9X2hhbmRsZU9mZmVyVHJpZ2dlcihlKXtyZXR1cm4ga3QodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2xldCB0PSExLG49XCJTaWduIGluIHRvIEdvb2dsZSBQYXkgZmlyc3QgdG8gYXBwbHkgb3IgcmVtb3ZlIHByb21vIGNvZGVzLlwiO3RyeXt0PXlpZWxkIHRoaXMuX2dldElzU2lnbmVkSW5PclRocm93KCl9Y2F0Y2goZSl7ZSBpbnN0YW5jZW9mIGomJihuPWUubWVzc2FnZSl9aWYodCl7Y29uc3R7bmV3T2ZmZXJJbmZvOnQsZXJyb3I6bn09eWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5oYW5kbGVDb3Vwb25zKGUpO3JldHVybntuZXdPZmZlckluZm86dCxlcnJvcjpufX1yZXR1cm57ZXJyb3I6e3JlYXNvbjplZS5PRkZFUl9JTlZBTElELG1lc3NhZ2U6bixpbnRlbnQ6dGUuT0ZGRVJ9fX0pfV9nZXRHb29nbGVQYXlDbGllbnRPcHRpb25zKGUpe3JldHVybntwYXltZW50RGF0YUNhbGxiYWNrczp7b25QYXltZW50RGF0YUNoYW5nZWQ6KHtjYWxsYmFja1RyaWdnZXI6dCxvZmZlckRhdGE6bn0pPT5rdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYodCE9PXRlLklOSVRJQUxJWkUmJnQhPT10ZS5PRkZFUilyZXR1cm47Y29uc3R7b2ZmZXJDaGFuZ2VUcmlnZ2VyczppfT10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldENhbGxiYWNrVHJpZ2dlcnMoKSx7bmV3T2ZmZXJJbmZvOm8sZXJyb3I6YX09aS5pbmNsdWRlcyh0KT95aWVsZCB0aGlzLl9oYW5kbGVPZmZlclRyaWdnZXIobik6e30scj1hO3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7Y29uc3R7Z2V0Q2hlY2tvdXRPclRocm93OnMsZ2V0Q2FydE9yVGhyb3c6ZH09dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHtjb2RlOmwsZGVjaW1hbFBsYWNlczp1fT1kKCkuY3VycmVuY3ksaD1jKHMoKS5vdXRzdGFuZGluZ0JhbGFuY2UsdSkudG9GaXhlZCh1KTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtuZXdUcmFuc2FjdGlvbkluZm86T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUmJntjb3VudHJ5Q29kZTplfSkse2N1cnJlbmN5Q29kZTpsLHRvdGFsUHJpY2VTdGF0dXM6WC5GSU5BTCx0b3RhbFByaWNlOmh9KX0sbyYme25ld09mZmVySW5mbzpvfSksciYme2Vycm9yOnJ9KX0pfX19X3RvZ2dsZUJsb2NrRGVpbml0aWFsaXphdGlvbihlKXt0aGlzLl9pc0RlaW5pdGlhbGl6YXRpb25CbG9ja2VkPWV9X3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZSl7ZSYmdGhpcy5fbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcj90aGlzLl9sb2FkaW5nSW5kaWNhdG9yLnNob3codGhpcy5fbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcik6dGhpcy5fbG9hZGluZ0luZGljYXRvci5oaWRlKCl9fWNvbnN0IFR0PUIobz0+bmV3IEF0KG8sbmV3IG1lKHdlKCksbmV3IF90KG8sbmV3IHd0KG4oKSxpKCkpKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWFkeWVudjJcIn1dKTtjbGFzcyBNdHtjb25zdHJ1Y3RvcihlLHQsbj13aW5kb3cpe3RoaXMuX3NjcmlwdExvYWRlcj1lLHRoaXMuX3N0eWxlc2hlZXRMb2FkZXI9dCx0aGlzLl93aW5kb3c9bn1sb2FkKGUpe3ZhciB0LG4saSxvLGEscjtyZXR1cm4gaT10aGlzLG89dm9pZCAwLHI9ZnVuY3Rpb24qKCl7aWYoeWllbGQgUHJvbWlzZS5hbGwoW3RoaXMuX3N0eWxlc2hlZXRMb2FkZXIubG9hZFN0eWxlc2hlZXQoYGh0dHBzOi8vY2hlY2tvdXRzaG9wcGVyLSR7bnVsbCE9PSh0PWUuZW52aXJvbm1lbnQpJiZ2b2lkIDAhPT10P3Q6XCJcIn0uYWR5ZW4uY29tL2NoZWNrb3V0c2hvcHBlci9zZGsvNS43MS4xL2FkeWVuLmNzc2Ase3ByZXBlbmQ6ITEsYXR0cmlidXRlczp7aW50ZWdyaXR5Olwic2hhMzg0LTVNdkI0Um56dnZpQTNWQlQ0S1lBQlo0SFhOWkc1TFJxUkVFZ2Q0MXh0L3BmL1F2S21zajJPOUd1TnV5d1JYeDlcIixjcm9zc29yaWdpbjpcImFub255bW91c1wifX0pLHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KGBodHRwczovL2NoZWNrb3V0c2hvcHBlci0ke251bGwhPT0obj1lLmVudmlyb25tZW50KSYmdm9pZCAwIT09bj9uOlwiXCJ9LmFkeWVuLmNvbS9jaGVja291dHNob3BwZXIvc2RrLzUuNzEuMS9hZHllbi5qc2Ase2FzeW5jOiEwLGF0dHJpYnV0ZXM6e2ludGVncml0eTpcInNoYTM4NC15dlkyeUZOUjRXcUlqUHFQOU16akkrZ0ppbW1hSm5Bdmo0ckxIS3ZnSmJnRkQ1Zk11Zjh6SUpyRkpPVzhMaGhmXCIsY3Jvc3NvcmlnaW46XCJhbm9ueW1vdXNcIn19KV0pLCF0aGlzLl93aW5kb3cuQWR5ZW5DaGVja291dCl0aHJvdyBuZXcgRDtyZXR1cm4geWllbGQgdGhpcy5fd2luZG93LkFkeWVuQ2hlY2tvdXQoZSl9LG5ldygoYT12b2lkIDApfHwoYT1Qcm9taXNlKSkoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBjKHQpe3ZhciBpO3QuZG9uZT9lKHQudmFsdWUpOihpPXQudmFsdWUsaSBpbnN0YW5jZW9mIGE/aTpuZXcgYShmdW5jdGlvbihlKXtlKGkpfSkpLnRoZW4obixzKX1jKChyPXIuYXBwbHkoaSxvfHxbXSkpLm5leHQoKSl9KX19dmFyIEV0PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIER0IGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihcImFkeWVuXCIsZSksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fc2VydmljZT1lfWluaXRpYWxpemUoZSx0LG4pe2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShudWxsLHtpbml0aWFsaXplOntnZXQ6KCk9PnN1cGVyLmluaXRpYWxpemV9LGdldFBheW1lbnRNZXRob2Q6e2dldDooKT0+c3VwZXIuZ2V0UGF5bWVudE1ldGhvZH19KTtyZXR1cm4gRXQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3lpZWxkIGkuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSx0LG4pO2NvbnN0IG89aS5nZXRQYXltZW50TWV0aG9kLmNhbGwodGhpcyksYT10aGlzLl9zZXJ2aWNlLmdldFN0YXRlKCkuZ2V0U3RvcmVDb25maWcoKTtpZighYSl0aHJvdyBuZXcgaihSLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJuIHRoaXMuX2FkeWVuQ2xpZW50PXlpZWxkIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkKHtlbnZpcm9ubWVudDpvLmNvbmZpZy50ZXN0TW9kZT9cInRlc3RcIjpcImxpdmVcIixsb2NhbGU6YS5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZX0pLFByb21pc2UucmVzb2x2ZSgpfSl9cHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZSl7cmV0dXJuIEV0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighemUoZSl8fCFQdChlLmJvZHkpKXRocm93IGU7Y29uc3QgdD15aWVsZCB0aGlzLl9oYW5kbGVBY3Rpb24oZS5ib2R5LnByb3ZpZGVyX2RhdGEpO3RyeXtyZXR1cm4geWllbGQgdGhpcy5fc2VydmljZS5zdWJtaXRQYXltZW50KHQpfWNhdGNoKGUpe3JldHVybiB0aGlzLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGUpfX0pfWdldE5vbmNlKGUpe2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsLHtnZXROb25jZTp7Z2V0OigpPT5zdXBlci5nZXROb25jZX0sZ2V0UGF5bWVudE1ldGhvZDp7Z2V0OigpPT5zdXBlci5nZXRQYXltZW50TWV0aG9kfX0pO3JldHVybiBFdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0LmdldE5vbmNlLmNhbGwodGhpcyxlKSxpPXQuZ2V0UGF5bWVudE1ldGhvZC5jYWxsKHRoaXMpO3JldHVybiBKU09OLnN0cmluZ2lmeSh7dHlwZTppLm1ldGhvZCxnb29nbGVQYXlUb2tlbjpuLGJyb3dzZXJfaW5mbzpndCgpfSl9KX1faGFuZGxlQWN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IGk9SlNPTi5wYXJzZShlLmFjdGlvbik7dGhpcy5fZ2V0QWR5ZW5DbGllbnQoKS5jcmVhdGVGcm9tQWN0aW9uKGkse29uQWRkaXRpb25hbERldGFpbHM6ZT0+e2NvbnN0IG49e21ldGhvZElkOmkucGF5bWVudE1ldGhvZFR5cGUscGF5bWVudERhdGE6e25vbmNlOkpTT04uc3RyaW5naWZ5KGUuZGF0YSl9fTt0KG4pfSxzaXplOlwiMDVcIixvbkVycm9yOmU9Pm4oZSl9KS5tb3VudChcImJvZHlcIiksbihuZXcgc2UpfSl9X2dldEFkeWVuQ2xpZW50KCl7aWYoIXRoaXMuX2FkeWVuQ2xpZW50KXRocm93IG5ldyBPKHcuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fYWR5ZW5DbGllbnR9fWNvbnN0IE50PUIobz0+bmV3IEF0KG8sbmV3IG1lKHdlKCksbmV3IER0KG8sbmV3IE10KG4oKSxpKCkpKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWFkeWVudjNcIn1dKSxSdD1CKG49Pm5ldyBBdChuLG5ldyBtZSh3ZSgpLG5ldyBOZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWF1dGhvcml6ZW5ldFwifV0pLHp0PUIobj0+e2NvbnN0IGk9dCgpO3JldHVybiBuZXcgQXQobixuZXcgbWUod2UoKSxuZXcgTGUobixpKSxpLGUoKSkpfSxbe2lkOlwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIn1dKSxHdD1CKG49Pm5ldyBBdChuLG5ldyBtZSh3ZSgpLG5ldyBVZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWN5YmVyc291cmNldjJcIn0se2lkOlwiZ29vZ2xlcGF5Ym56XCJ9XSkseHQ9QihuPT5uZXcgQXQobixuZXcgbWUod2UoKSxuZXcgcWUobiksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXlvcmJpdGFsXCJ9XSksQnQ9QihpPT5uZXcgQXQoaSxuZXcgbWUod2UoKSxuZXcgbHQoaSxuZXcgaXQobigpKSksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXlzdHJpcGVcIn0se2lkOlwiZ29vZ2xlcGF5c3RyaXBldXBlXCJ9LHtpZDpcImdvb2dsZXBheXN0cmlwZW9jc1wifV0pLGp0PUIobj0+bmV3IEF0KG4sbmV3IG1lKHdlKCksbmV3IGh0KG4pLHQoKSxlKCkpKSxbe2lkOlwiZ29vZ2xlcGF5d29ybGRwYXlhY2Nlc3NcIn1dKSxMdD1CKGk9Pntjb25zdCBvPXQoKSxhPXdpbmRvdyxyPW5ldyBwKGkpLHM9bmV3IEUobmV3IHgobigpLGEscikpO3JldHVybiBuZXcgQXQoaSxuZXcgbWUod2UoKSxuZXcgcmUoaSxzKSxvLGUoKSkpfSxbe2lkOlwiZ29vZ2xlcGF5YnJhaW50cmVlXCJ9XSksRnQ9XCJUaGlzIEFQSSBlbmRwb2ludCBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkgYW5kIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVwiO3ZhciBVdCxWdDshZnVuY3Rpb24oZSl7ZS5BcHByb3ZlZD1cIkFQUFJPVkVEXCIsZS5QYXllckFjdGlvblJlcXVpcmVkPVwiUEFZRVJfQUNUSU9OX1JFUVVJUkVEXCJ9KFV0fHwoVXQ9e30pKSxmdW5jdGlvbihlKXtlLkFVVEhPUklaRT1cImF1dGhvcml6ZVwiLGUuQ0FQVFVSRT1cImNhcHR1cmVcIn0oVnR8fChWdD17fSkpO3ZhciBxdD1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBIdCBleHRlbmRzIEF0e2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUsdCksdGhpcy5fcGF5UGFsQ29tbWVyY2VTZGs9bix0aGlzLl9yZXF1ZXN0U2VuZGVyPWl9ZXhlY3V0ZSh7cGF5bWVudDplfSl7cmV0dXJuIHF0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighKG51bGw9PWU/dm9pZCAwOmUubWV0aG9kSWQpKXRocm93IG5ldyBvdChbXCJwYXltZW50XCJdKTtjb25zdCB0PXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSxuPXQuZ2V0Q2FydE9yVGhyb3coKS5pZCx7aW5pdGlhbGl6YXRpb25EYXRhOml9PXQuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3codGhpcy5fZ2V0TWV0aG9kSWQoKSkse29yZGVySWQ6b309eWllbGQgdGhpcy5nZXRPcmRlcklkKG4pLHtjYXJkX2luZm9ybWF0aW9uOmF9PWl8fHt9LHI9eWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5nZXROb25jZShlLm1ldGhvZElkKSxzPXt0b2tlbml6YXRpb25EYXRhOnt0eXBlOlwiUEFZTUVOVF9HQVRFV0FZXCIsdG9rZW46YXRvYihyKX0saW5mbzp7Y2FyZE5ldHdvcms6KG51bGw9PWE/dm9pZCAwOmEudHlwZSl8fFwiXCIsY2FyZERldGFpbHM6KG51bGw9PWE/dm9pZCAwOmEubnVtYmVyKXx8XCJcIn0sdHlwZTpcIkNBUkRcIn07eWllbGQgdGhpcy5jb25maXJtT3JkZXIobyxzKSx5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKCk7dHJ5e2NvbnN0IHQ9e2Zvcm1hdHRlZFBheWxvYWQ6e21ldGhvZF9pZDplLm1ldGhvZElkLHBheXBhbF9hY2NvdW50OntvcmRlcl9pZDpvfX19O3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudCh7bWV0aG9kSWQ6ZS5tZXRob2RJZCxwYXltZW50RGF0YTp0fSl9Y2F0Y2goZSl7eWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlKX19KX1jb25maXJtT3JkZXIoZSx0KXtyZXR1cm4gcXQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IG49dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLGk9bi5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0aGlzLl9nZXRNZXRob2RJZCgpKTtpZighaS5pbml0aWFsaXphdGlvbkRhdGEpdGhyb3cgbmV3IGooUi5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3Qgbz1uLmdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZSxhPXlpZWxkIHRoaXMuX3BheVBhbENvbW1lcmNlU2RrLmdldFBheVBhbEdvb2dsZVBheVNkayhpLG8sITApLHtzdGF0dXM6cn09eWllbGQgYS5Hb29nbGVwYXkoKS5jb25maXJtT3JkZXIoe29yZGVySWQ6ZSxwYXltZW50TWV0aG9kRGF0YTp0fSk7aWYocj09PVV0LlBheWVyQWN0aW9uUmVxdWlyZWQpcmV0dXJuIHlpZWxkIGEuR29vZ2xlcGF5KCkuaW5pdGlhdGVQYXllckFjdGlvbih7b3JkZXJJZDplfSksUHJvbWlzZS5yZXNvbHZlKCk7aWYociE9PVV0LkFwcHJvdmVkKXRocm93IG5ldyBMKFwiUGF5bWVudCBpcyBub3QgYXBwcm92ZWQuXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pfWdldE9yZGVySWQoZSl7cmV0dXJuIHF0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCB0PXtjYXJ0SWQ6ZSxzaG91bGRTYXZlSW5zdHJ1bWVudDohMX0se2JvZHk6bn09eWllbGQgdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2FwaS9zdG9yZWZyb250L3BheW1lbnRzL2dvb2dsZXBheXBheXBhbGNvbW1lcmNlY2hlY2tvdXRcIix7aGVhZGVyczpPYmplY3QuYXNzaWduKHtcIlgtQVBJLUlOVEVSTkFMXCI6RnQsXCJDb250ZW50LVR5cGVcIjp4ZS5Kc29ufSxnZSksYm9keTp0fSk7cmV0dXJuIG59KX19Y29uc3QgV3Q9QihpPT57Y29uc3Qgbz1uZXcgX2UobigpKTtyZXR1cm4gbmV3IEh0KGksbmV3IG1lKHdlKCksbmV3IFNlKGksbyksdCgpLGUoKSksbyx0KCkpfSxbe2lkOlwiZ29vZ2xlcGF5cGF5cGFsY29tbWVyY2VcIn1dKTt2YXIgWXQsSnQ7IWZ1bmN0aW9uKGUpe2UuQXBwcm92ZWQ9XCJBUFBST1ZFRFwiLGUuUGF5ZXJBY3Rpb25SZXF1aXJlZD1cIlBBWUVSX0FDVElPTl9SRVFVSVJFRFwifShZdHx8KFl0PXt9KSksZnVuY3Rpb24oZSl7ZS5BVVRIT1JJWkU9XCJhdXRob3JpemVcIixlLkNBUFRVUkU9XCJjYXB0dXJlXCJ9KEp0fHwoSnQ9e30pKTt2YXIgS3Q9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgWnQgZXh0ZW5kcyBBdHtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcihlLHQpLHRoaXMuX3BheVBhbFNka0hlbHBlcj1uLHRoaXMuX3JlcXVlc3RTZW5kZXI9aX1leGVjdXRlKHtwYXltZW50OmV9KXtyZXR1cm4gS3QodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCEobnVsbD09ZT92b2lkIDA6ZS5tZXRob2RJZCkpdGhyb3cgbmV3IG90KFtcInBheW1lbnRcIl0pO2NvbnN0IHQ9dGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLG49dC5nZXRDYXJ0T3JUaHJvdygpLmlkLHtpbml0aWFsaXphdGlvbkRhdGE6aX09dC5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0aGlzLl9nZXRNZXRob2RJZCgpKSx7b3JkZXJJZDpvfT15aWVsZCB0aGlzLmdldE9yZGVySWQobikse2NhcmRfaW5mb3JtYXRpb246YX09aXx8e30scj15aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldE5vbmNlKGUubWV0aG9kSWQpLHM9e3Rva2VuaXphdGlvbkRhdGE6e3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIix0b2tlbjphdG9iKHIpfSxpbmZvOntjYXJkTmV0d29yazoobnVsbD09YT92b2lkIDA6YS50eXBlKXx8XCJcIixjYXJkRGV0YWlsczoobnVsbD09YT92b2lkIDA6YS5udW1iZXIpfHxcIlwifSx0eXBlOlwiQ0FSRFwifTt5aWVsZCB0aGlzLmNvbmZpcm1PcmRlcihvLHMpLHlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTt0cnl7Y29uc3QgdD17Zm9ybWF0dGVkUGF5bG9hZDp7bWV0aG9kX2lkOmUubWV0aG9kSWQscGF5cGFsX2FjY291bnQ6e29yZGVyX2lkOm99fX07eWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHttZXRob2RJZDplLm1ldGhvZElkLHBheW1lbnREYXRhOnR9KX1jYXRjaChlKXt5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGUpfX0pfWNvbmZpcm1PcmRlcihlLHQpe3JldHVybiBLdCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCksaT1uLmdldFBheW1lbnRNZXRob2RPclRocm93KHRoaXMuX2dldE1ldGhvZElkKCkpO2lmKCFpLmluaXRpYWxpemF0aW9uRGF0YSl0aHJvdyBuZXcgaihSLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdCBvPW4uZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlLGE9eWllbGQgdGhpcy5fcGF5UGFsU2RrSGVscGVyLmdldFBheVBhbEdvb2dsZVBheVNkayhpLG8sITApLHtzdGF0dXM6cn09eWllbGQgYS5Hb29nbGVwYXkoKS5jb25maXJtT3JkZXIoe29yZGVySWQ6ZSxwYXltZW50TWV0aG9kRGF0YTp0fSk7aWYocj09PVl0LlBheWVyQWN0aW9uUmVxdWlyZWQpcmV0dXJuIHlpZWxkIGEuR29vZ2xlcGF5KCkuaW5pdGlhdGVQYXllckFjdGlvbih7b3JkZXJJZDplfSksUHJvbWlzZS5yZXNvbHZlKCk7aWYociE9PVl0LkFwcHJvdmVkKXRocm93IG5ldyBMKFwiUGF5bWVudCBpcyBub3QgYXBwcm92ZWQuXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pfWdldE9yZGVySWQoZSl7cmV0dXJuIEt0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCB0PXtjYXJ0SWQ6ZSxzaG91bGRTYXZlSW5zdHJ1bWVudDohMX0se2JvZHk6bn09eWllbGQgdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2FwaS9zdG9yZWZyb250L3BheW1lbnRzL2dvb2dsZXBheV9iaWdjb21tZXJjZV9wYXltZW50c2NoZWNrb3V0XCIse2hlYWRlcnM6T2JqZWN0LmFzc2lnbih7XCJYLUFQSS1JTlRFUk5BTFwiOkZ0LFwiQ29udGVudC1UeXBlXCI6eGUuSnNvbn0sZ2UpLGJvZHk6dH0pO3JldHVybiBufSl9fWNvbnN0IFh0PUIoaT0+e2NvbnN0IG89bmV3IGtlKG4oKSk7cmV0dXJuIG5ldyBadChpLG5ldyBtZSh3ZSgpLG5ldyBUZShpLG8pLHQoKSxlKCkpLG8sdCgpKX0sW3tpZDpcImdvb2dsZXBheV9iaWdjb21tZXJjZV9wYXltZW50c1wifV0pLFF0PUIobj0+bmV3IEF0KG4sbmV3IG1lKHdlKCksbmV3IG10KG4sZSgpKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheXRkb25saW5lbWFydFwifV0pO2NsYXNzICR0IGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIk5vdCBpbXBsZW1lbnRlZC5cIiksdGhpcy5uYW1lPVwiTm90SW1wbGVtZW50ZWRFcnJvclwiLHRoaXMudHlwZT1cIm5vdF9pbXBsZW1lbnRlZFwifX12YXIgZW49ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXthKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgdG57Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlPWUsdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvcj10fWluaXRpYWxpemUoZSl7dmFyIHQ7cmV0dXJuIGVuKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighKG51bGw9PWU/dm9pZCAwOmUubWV0aG9kSWQpfHwhdWUoZS5tZXRob2RJZCkpdGhyb3cgbmV3IEwoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJtZXRob2RJZFwiIGlzIG5vdCBhIHZhbGlkIGtleS4nKTt0aGlzLl9tZXRob2RJZD1lLm1ldGhvZElkO2NvbnN0IG49ZVt0aGlzLl9nZXRNZXRob2RJZCgpXTtpZighbil0aHJvdyBuZXcgTChcIlVuYWJsZSB0byBwcm9jZWVkIHdpdGhvdXQgdmFsaWQgb3B0aW9ucy5cIik7bGV0IGksbz10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7dHJ5e2k9by5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0aGlzLl9nZXRNZXRob2RJZCgpKX1jYXRjaChlKXtvPXlpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QodGhpcy5fZ2V0TWV0aG9kSWQoKSksaT1vLmdldFBheW1lbnRNZXRob2RPclRocm93KHRoaXMuX2dldE1ldGhvZElkKCkpfXRyeXt5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoKCk9PmksdGhpcy5fZ2V0R29vZ2xlUGF5Q2xpZW50T3B0aW9ucyhudWxsPT09KHQ9aS5pbml0aWFsaXphdGlvbkRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0b3JlQ291bnRyeSkpfWNhdGNoKGUpe3JldHVybn10aGlzLl9hZGRQYXltZW50QnV0dG9uKG4pfSl9c2lnbkluKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyAkdCgnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgR29vZ2xlIFBheSwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkdvb2dsZSBQYXlcIiBidXR0b24uJykpfXNpZ25PdXQoKXt2YXIgZTtyZXR1cm4gZW4odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IHQ9bnVsbD09PShlPXRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRQYXltZW50SWQoKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvdmlkZXJJZDt0JiYoeWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5zaWduT3V0KHQpKX0pfWV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLmNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2spfHx2b2lkIDA9PT10fHx0LmNhbGwoZSksUHJvbWlzZS5yZXNvbHZlKCl9ZGVpbml0aWFsaXplKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLl9wYXltZW50QnV0dG9uKXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmUoKSx0aGlzLl9wYXltZW50QnV0dG9uPXZvaWQgMCx0aGlzLl9tZXRob2RJZD12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKCl9X2dldEdvb2dsZVBheUNsaWVudE9wdGlvbnMoZSl7cmV0dXJue3BheW1lbnREYXRhQ2FsbGJhY2tzOntvblBheW1lbnREYXRhQ2hhbmdlZDooe2NhbGxiYWNrVHJpZ2dlcjp0LHNoaXBwaW5nQWRkcmVzczpuLHNoaXBwaW5nT3B0aW9uRGF0YTppLG9mZmVyRGF0YTpvfSk9PmVuKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdHthdmFpbGFibGVUcmlnZ2VyczphLGFkZHJlc3NDaGFuZ2VUcmlnZ2VyczpyLHNoaXBwaW5nT3B0aW9uc0NoYW5nZVRyaWdnZXJzOnMsb2ZmZXJDaGFuZ2VUcmlnZ2VyczpjfT10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldENhbGxiYWNrVHJpZ2dlcnMoKTtpZighYS5pbmNsdWRlcyh0KSlyZXR1cm47Y29uc3QgZD1yLmluY2x1ZGVzKHQpP3lpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKG4pOnZvaWQgMDtzLmluY2x1ZGVzKHQpJiYoeWllbGQgdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZShpLmlkKSk7Y29uc3R7bmV3T2ZmZXJJbmZvOmwsZXJyb3I6dX09Yy5pbmNsdWRlcyh0KT95aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmhhbmRsZUNvdXBvbnMobyk6e30saD11O3lpZWxkIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7Y29uc3QgeT10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmdldFRvdGFsUHJpY2UoKSx7Y29kZTpnfT10aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe25ld1RyYW5zYWN0aW9uSW5mbzpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSYme2NvdW50cnlDb2RlOmV9KSx7Y3VycmVuY3lDb2RlOmcsdG90YWxQcmljZVN0YXR1czpYLkZJTkFMLHRvdGFsUHJpY2U6eX0pfSxkJiZ7bmV3U2hpcHBpbmdPcHRpb25QYXJhbWV0ZXJzOmR9KSxsJiZ7bmV3T2ZmZXJJbmZvOmx9KSxoJiZ7ZXJyb3I6aH0pfSl9fX1fYWRkUGF5bWVudEJ1dHRvbih7Y29udGFpbmVyOmUsYnV0dG9uQ29sb3I6dCxidXR0b25UeXBlOm4sb25DbGljazppLG9uRXJyb3I6b30pe3ZhciBhO3RoaXMuX3BheW1lbnRCdXR0b249bnVsbCE9PShhPXRoaXMuX3BheW1lbnRCdXR0b24pJiZ2b2lkIDAhPT1hP2E6dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5hZGRQYXltZW50QnV0dG9uKGUse2J1dHRvbkNvbG9yOm51bGwhPXQ/dDpcImRlZmF1bHRcIixidXR0b25UeXBlOm51bGwhPW4/bjpcInBsYWluXCIsb25DbGljazp0aGlzLl9oYW5kbGVDbGljayhvLGkpfSl9X2hhbmRsZUNsaWNrKGUsdCl7cmV0dXJuIG49PmVuKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtuLnByZXZlbnREZWZhdWx0KCksdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCgpO3RyeXt5aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemVXaWRnZXQoKSx5aWVsZCB0aGlzLl9pbnRlcmFjdFdpdGhQYXltZW50U2hlZXQoKX1jYXRjaCh0KXtsZXQgbj10O2lmKGxlKHQpKXtpZihcIkNBTkNFTEVEXCI9PT10LnN0YXR1c0NvZGUpdGhyb3cgbmV3IHNlO249bmV3IGNlKEpTT04uc3RyaW5naWZ5KHQpKX10aHJvdyBudWxsPT1lfHxlKG5ldyBjZShcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlcXVlc3RpbmcgeW91ciBHb29nbGUgUGF5IHBheW1lbnQgZGV0YWlscy5cIikpLG59fSl9X2ludGVyYWN0V2l0aFBheW1lbnRTaGVldCgpe3JldHVybiBlbih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgZT15aWVsZCB0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnNob3dQYXltZW50U2hlZXQoKSx0PXRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IubWFwVG9CaWxsaW5nQWRkcmVzc1JlcXVlc3RCb2R5KGUpLG49dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5tYXBUb1NoaXBwaW5nQWRkcmVzc1JlcXVlc3RCb2R5KGUpLGk9XCIvZW1iZWRkZWQtY2hlY2tvdXRcIj09PXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZT90aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0U3RvcmVDb25maWdPclRocm93KCkubGlua3Muc2l0ZUxpbms6dm9pZCAwO3QmJih5aWVsZCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzKHQpKSxuJiYoeWllbGQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MobikpLHlpZWxkIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3Iuc2V0RXh0ZXJuYWxDaGVja291dEZvcm0odGhpcy5fZ2V0TWV0aG9kSWQoKSxlLGkpfSl9X2dldE1ldGhvZElkKCl7cmV0dXJuIFcodGhpcy5fbWV0aG9kSWQsKCk9Pm5ldyBPKHcuUGF5bWVudE5vdEluaXRpYWxpemVkKSl9fWNvbnN0IG5uPUIobj0+e2NvbnN0IGk9dCgpO3JldHVybiBuZXcgdG4obixuZXcgbWUod2UoKSxuZXcgb2UoXCJhZHllblwiLG4pLGksZSgpKSl9LFt7aWQ6XCJnb29nbGVwYXlhZHllbnYyXCJ9XSksb249QihuPT57Y29uc3QgaT10KCk7cmV0dXJuIG5ldyB0bihuLG5ldyBtZSh3ZSgpLG5ldyBvZShcImFkeWVuXCIsbiksaSxlKCkpKX0sW3tpZDpcImdvb2dsZXBheWFkeWVudjNcIn1dKSxhbj1CKG49Pm5ldyB0bihuLG5ldyBtZSh3ZSgpLG5ldyBOZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWF1dGhvcml6ZW5ldFwifV0pLHJuPUIobj0+e2NvbnN0IGk9dCgpO3JldHVybiBuZXcgdG4obixuZXcgbWUod2UoKSxuZXcgTGUobixpKSxpLGUoKSkpfSxbe2lkOlwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIn1dKSxzbj1CKG49Pm5ldyB0bihuLG5ldyBtZSh3ZSgpLG5ldyBVZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWN5YmVyc291cmNldjJcIn1dKSxjbj1CKG49Pm5ldyB0bihuLG5ldyBtZSh3ZSgpLG5ldyBVZShuKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheWJuelwifV0pLGRuPUIobj0+bmV3IHRuKG4sbmV3IG1lKHdlKCksbmV3IHFlKG4pLHQoKSxlKCkpKSxbe2lkOlwiZ29vZ2xlcGF5b3JiaXRhbFwifV0pLGxuPUIoaT0+bmV3IHRuKGksbmV3IG1lKHdlKCksbmV3IGx0KGksbmV3IGl0KG4oKSkpLHQoKSxlKCkpKSxbe2lkOlwiZ29vZ2xlcGF5c3RyaXBlXCJ9LHtpZDpcImdvb2dsZXBheXN0cmlwZW9jc1wifV0pLHVuPUIoaT0+bmV3IHRuKGksbmV3IG1lKHdlKCksbmV3IGx0KGksbmV3IGl0KG4oKSkpLHQoKSxlKCkpKSxbe2lkOlwiZ29vZ2xlcGF5c3RyaXBldXBlXCJ9XSksaG49QihuPT5uZXcgdG4obixuZXcgbWUod2UoKSxuZXcgaHQobiksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXl3b3JsZHBheWFjY2Vzc1wifV0pLHluPUIoaT0+e2NvbnN0IG89dCgpLGE9d2luZG93LHI9bmV3IHAoaSkscz1uZXcgRShuZXcgeChuKCksYSxyKSk7cmV0dXJuIG5ldyB0bihpLG5ldyBtZSh3ZSgpLG5ldyByZShpLHMpLG8sZSgpKSl9LFt7aWQ6XCJnb29nbGVwYXlicmFpbnRyZWVcIn1dKSxnbj1CKGk9Pm5ldyB0bihpLG5ldyBtZSh3ZSgpLG5ldyBTZShpLG5ldyBfZShuKCkpKSx0KCksZSgpKSksW3tpZDpcImdvb2dsZXBheXBheXBhbGNvbW1lcmNlXCJ9XSkscG49QihpPT5uZXcgdG4oaSxuZXcgbWUod2UoKSxuZXcgVGUoaSxuZXcga2UobigpKSksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXlfYmlnY29tbWVyY2VfcGF5bWVudHNcIn1dKSxtbj1CKG49Pm5ldyB0bihuLG5ldyBtZSh3ZSgpLG5ldyBtdChuLGUoKSksdCgpLGUoKSkpLFt7aWQ6XCJnb29nbGVwYXl0ZG9ubGluZW1hcnRcIn1dKTtleHBvcnR7RWUgYXMgY3JlYXRlR29vZ2xlUGF5QWR5ZW5WMkJ1dHRvblN0cmF0ZWd5LG5uIGFzIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjJDdXN0b21lclN0cmF0ZWd5LFR0IGFzIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjJQYXltZW50U3RyYXRlZ3ksRGUgYXMgY3JlYXRlR29vZ2xlUGF5QWR5ZW5WM0J1dHRvblN0cmF0ZWd5LG9uIGFzIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjNDdXN0b21lclN0cmF0ZWd5LE50IGFzIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjNQYXltZW50U3RyYXRlZ3ksUmUgYXMgY3JlYXRlR29vZ2xlUGF5QXV0aG9yaXplRG90TmV0QnV0dG9uU3RyYXRlZ3ksYW4gYXMgY3JlYXRlR29vZ2xlUGF5QXV0aG9yaXplRG90TmV0Q3VzdG9tZXJTdHJhdGVneSxSdCBhcyBjcmVhdGVHb29nbGVQYXlBdXRob3JpemVOZXRQYXltZW50U3RyYXRlZ3ksTWUgYXMgY3JlYXRlR29vZ2xlUGF5QmlnQ29tbWVyY2VQYXltZW50c0J1dHRvblN0cmF0ZWd5LHBuIGFzIGNyZWF0ZUdvb2dsZVBheUJpZ0NvbW1lcmNlUGF5bWVudHNDdXN0b21lclN0cmF0ZWd5LFh0IGFzIGNyZWF0ZUdvb2dsZVBheUJpZ0NvbW1lcmNlUGF5bWVudHNQYXltZW50U3RyYXRlZ3ksY24gYXMgY3JlYXRlR29vZ2xlUGF5Qm56Q3VzdG9tZXJTdHJhdGVneSxQZSBhcyBjcmVhdGVHb29nbGVQYXlCcmFpbnRyZWVCdXR0b25TdHJhdGVneSx5biBhcyBjcmVhdGVHb29nbGVQYXlCcmFpbnRyZWVDdXN0b21lclN0cmF0ZWd5LEx0IGFzIGNyZWF0ZUdvb2dsZVBheUJyYWludHJlZVBheW1lbnRTdHJhdGVneSxGZSBhcyBjcmVhdGVHb29nbGVQYXlDaGVja291dENvbUJ1dHRvblN0cmF0ZWd5LHJuIGFzIGNyZWF0ZUdvb2dsZVBheUNoZWNrb3V0Q29tQ3VzdG9tZXJTdHJhdGVneSx6dCBhcyBjcmVhdGVHb29nbGVQYXlDaGVja291dENvbVBheW1lbnRTdHJhdGVneSxWZSBhcyBjcmVhdGVHb29nbGVQYXlDeWJlcnNvdXJjZUJ1dHRvblN0cmF0ZWd5LHNuIGFzIGNyZWF0ZUdvb2dsZVBheUN5YmVyc291cmNlQ3VzdG9tZXJTdHJhdGVneSxHdCBhcyBjcmVhdGVHb29nbGVQYXlDeWJlcnNvdXJjZVBheW1lbnRTdHJhdGVneSxIZSBhcyBjcmVhdGVHb29nbGVQYXlPcmJpdGFsQnV0dG9uU3RyYXRlZ3ksZG4gYXMgY3JlYXRlR29vZ2xlUGF5T3JiaXRhbEN1c3RvbWVyU3RyYXRlZ3kseHQgYXMgY3JlYXRlR29vZ2xlUGF5T3JiaXRhbFBheW1lbnRTdHJhdGVneSxXdCBhcyBjcmVhdGVHb29nbGVQYXlQUENQUGF5bWVudFN0cmF0ZWd5LEllIGFzIGNyZWF0ZUdvb2dsZVBheVBheVBhbENvbW1lcmNlQnV0dG9uU3RyYXRlZ3ksZ24gYXMgY3JlYXRlR29vZ2xlUGF5UGF5UGFsQ29tbWVyY2VDdXN0b21lclN0cmF0ZWd5LHV0IGFzIGNyZWF0ZUdvb2dsZVBheVN0cmlwZUJ1dHRvblN0cmF0ZWd5LGxuIGFzIGNyZWF0ZUdvb2dsZVBheVN0cmlwZUN1c3RvbWVyU3RyYXRlZ3ksQnQgYXMgY3JlYXRlR29vZ2xlUGF5U3RyaXBlUGF5bWVudFN0cmF0ZWd5LHVuIGFzIGNyZWF0ZUdvb2dsZVBheVN0cmlwZVVwZUN1c3RvbWVyU3RyYXRlZ3ksZnQgYXMgY3JlYXRlR29vZ2xlUGF5VGRPbmxpbmVNYXJ0QnV0dG9uU3RyYXRlZ3ksbW4gYXMgY3JlYXRlR29vZ2xlUGF5VGRPbmxpbmVNYXJ0Q3VzdG9tZXJTdHJhdGVneSxRdCBhcyBjcmVhdGVHb29nbGVQYXlUZE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3kseXQgYXMgY3JlYXRlR29vZ2xlUGF5V29ybGRwYXlBY2Nlc3NCdXR0b25TdHJhdGVneSxobiBhcyBjcmVhdGVHb29nbGVQYXlXb3JsZHBheUFjY2Vzc0N1c3RvbWVyU3RyYXRlZ3ksanQgYXMgY3JlYXRlR29vZ2xlUGF5V29ybGRwYXlBY2Nlc3NQYXltZW50U3RyYXRlZ3l9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z29vZ2xlLXBheS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/google-pay.js\n\n}");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./packages/google-pay-integration/src/GooglePayButton.scss":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./packages/google-pay-integration/src/GooglePayButton.scss ***!
  \***************************************************************************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("{// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".google-pay-top-button > div {\\n  height: 100%;\\n  width: 100%;\\n}\\n.google-pay-top-button .gpay-card-info-container {\\n  height: 40px;\\n  width: 100%;\\n  min-width: 100%;\\n  min-height: unset;\\n}\\n.google-pay-top-button .gpay-card-info-animation-container {\\n  height: 100%;\\n}\\n.google-pay-top-button .gpay-card-info-container, .google-pay-top-button .gpay-button {\\n  outline: none;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS51c2VbMl0hLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlCdXR0b24uc2NzcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLDJHQUFzRDtBQUNoRztBQUNBO0FBQ0Esd0RBQXdELGlCQUFpQixnQkFBZ0IsR0FBRyxvREFBb0QsaUJBQWlCLGdCQUFnQixvQkFBb0Isc0JBQXNCLEdBQUcsOERBQThELGlCQUFpQixHQUFHLHlGQUF5RixrQkFBa0IsR0FBRztBQUM5WjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlCdXR0b24uc2Nzcz83MzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZ29vZ2xlLXBheS10b3AtYnV0dG9uID4gZGl2IHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZ29vZ2xlLXBheS10b3AtYnV0dG9uIC5ncGF5LWNhcmQtaW5mby1jb250YWluZXIge1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiB1bnNldDtcXG59XFxuLmdvb2dsZS1wYXktdG9wLWJ1dHRvbiAuZ3BheS1jYXJkLWluZm8tYW5pbWF0aW9uLWNvbnRhaW5lciB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5nb29nbGUtcGF5LXRvcC1idXR0b24gLmdwYXktY2FyZC1pbmZvLWNvbnRhaW5lciwgLmdvb2dsZS1wYXktdG9wLWJ1dHRvbiAuZ3BheS1idXR0b24ge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./packages/google-pay-integration/src/GooglePayButton.scss\n\n}");

/***/ }),

/***/ "./packages/checkout-button-integration/src/CheckoutButton.tsx":
/*!*********************************************************************!*\
  !*** ./packages/checkout-button-integration/src/CheckoutButton.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\nconst CheckoutButton = ({ checkoutService: { deinitializeCustomer, initializeCustomer }, checkoutButtonContainerClass, containerId, methodId, onUnhandledError, onWalletButtonClick, additionalInitializationOptions, integrations, }) => {\n    const initializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield initializeCustomer({\n                methodId,\n                integrations,\n                [methodId]: Object.assign({ container: containerId, onUnhandledError, onClick: () => onWalletButtonClick(methodId) }, additionalInitializationOptions),\n            });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    const deinitializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield deinitializeCustomer({ methodId });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        void initializeCustomerStrategyOrThrow();\n        return () => {\n            void deinitializeCustomerStrategyOrThrow();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: checkoutButtonContainerClass, \"data-test\": containerId, id: containerId }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(CheckoutButton, []));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jaGVja291dC1idXR0b24taW50ZWdyYXRpb24vc3JjL0NoZWNrb3V0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFNVjtBQUV2RCxNQUFNLGNBQWMsR0FBMkMsQ0FBQyxFQUM1RCxlQUFlLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxFQUM3RCw0QkFBNEIsRUFDNUIsV0FBVyxFQUNYLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLCtCQUErQixFQUMvQixZQUFZLEdBQ2YsRUFBRSxFQUFFO0lBQ0QsTUFBTSxpQ0FBaUMsR0FBRyxHQUFTLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUM7WUFDRCxNQUFNLGtCQUFrQixDQUFDO2dCQUNyQixRQUFRO2dCQUNSLFlBQVk7Z0JBQ1osQ0FBQyxRQUFRLENBQUMsa0JBQ04sU0FBUyxFQUFFLFdBQVcsRUFDdEIsZ0JBQWdCLEVBQ2hCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsSUFDekMsK0JBQStCLENBQ3JDO2FBQ0osQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLE9BQU8sZ0JBQWdCLEtBQUssVUFBVSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztnQkFDbkUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRixNQUFNLG1DQUFtQyxHQUFHLEdBQVMsRUFBRSxDQUFDO1FBQ3BELElBQUksQ0FBQztZQUNELE1BQU0sb0JBQW9CLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFVBQVUsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQ25FLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQyxFQUFDO0lBRUYsZ0RBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxLQUFLLGlDQUFpQyxFQUFFLENBQUM7UUFFekMsT0FBTyxHQUFHLEVBQUU7WUFDUixLQUFLLG1DQUFtQyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDO1FBQ0YsdURBQXVEO0lBQzNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCxvRUFBSyxTQUFTLEVBQUUsNEJBQTRCLGVBQWEsV0FBVyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUksQ0FDNUYsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUNoQyxjQUFjLEVBQ2QsRUFBRSxDQUNMLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbi9zcmMvQ2hlY2tvdXRCdXR0b24udHN4P2Y2NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUHJvcHMsXG4gICAgdHlwZSBDaGVja291dEJ1dHRvblJlc29sdmVJZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmNvbnN0IENoZWNrb3V0QnV0dG9uOiBGdW5jdGlvbkNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlOiB7IGRlaW5pdGlhbGl6ZUN1c3RvbWVyLCBpbml0aWFsaXplQ3VzdG9tZXIgfSxcbiAgICBjaGVja291dEJ1dHRvbkNvbnRhaW5lckNsYXNzLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIG1ldGhvZElkLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgb25XYWxsZXRCdXR0b25DbGljayxcbiAgICBhZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgIGludGVncmF0aW9ucyxcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGludGVncmF0aW9ucyxcbiAgICAgICAgICAgICAgICBbbWV0aG9kSWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IG9uV2FsbGV0QnV0dG9uQ2xpY2sobWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25VbmhhbmRsZWRFcnJvciA9PT0gJ2Z1bmN0aW9uJyAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7IG1ldGhvZElkIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvblVuaGFuZGxlZEVycm9yID09PSAnZnVuY3Rpb24nICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2b2lkIGluaXRpYWxpemVDdXN0b21lclN0cmF0ZWd5T3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZUN1c3RvbWVyU3RyYXRlZ3lPclRocm93KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2hlY2tvdXRCdXR0b25Db250YWluZXJDbGFzc30gZGF0YS10ZXN0PXtjb250YWluZXJJZH0gaWQ9e2NvbnRhaW5lcklkfSAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8Q2hlY2tvdXRCdXR0b25Qcm9wcywgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQ+KFxuICAgIENoZWNrb3V0QnV0dG9uLFxuICAgIFtdLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/checkout-button-integration/src/CheckoutButton.tsx\n\n}");

/***/ }),

/***/ "./packages/google-pay-integration/src/GooglePayButton.scss":
/*!******************************************************************!*\
  !*** ./packages/google-pay-integration/src/GooglePayButton.scss ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("{\nvar content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./GooglePayButton.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./packages/google-pay-integration/src/GooglePayButton.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! !../../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) // removed by dead control flow\n{}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlCdXR0b24uc2NzcyIsIm1hcHBpbmdzIjoiO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLDRUQUFpSjs7QUFFdks7O0FBRUE7QUFDQTs7OztBQUlBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQSxhQUFhLG1CQUFPLENBQUMsMEdBQXNEOztBQUUzRTs7QUFFQSxHQUFHLEtBQVUsRUFBRTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlCdXR0b24uc2Nzcz80NmMzIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0udXNlWzJdIS4vR29vZ2xlUGF5QnV0dG9uLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS51c2VbMl0hLi9Hb29nbGVQYXlCdXR0b24uc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS51c2VbMl0hLi9Hb29nbGVQYXlCdXR0b24uc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/google-pay-integration/src/GooglePayButton.scss\n\n}");

/***/ }),

/***/ "./packages/google-pay-integration/src/GooglePayButton.tsx":
/*!*****************************************************************!*\
  !*** ./packages/google-pay-integration/src/GooglePayButton.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/google-pay */ \"../checkout-sdk-js/dist/esm/integrations/google-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/checkout-button-integration */ \"./packages/checkout-button-integration/src/CheckoutButton.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/errors/EmbeddedCheckoutUnsupportedError.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/isEmbedded.ts\");\n/* harmony import */ var _GooglePayButton_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GooglePayButton.scss */ \"./packages/google-pay-integration/src/GooglePayButton.scss\");\n/* harmony import */ var _GooglePayButton_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_GooglePayButton_scss__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\nconst GooglePayButton = (props) => {\n    const { language, onUnhandledError } = props;\n    if ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()) {\n        onUnhandledError(new _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"](language.translate('embedded_checkout.unsupported_error', {\n            methods: 'googlepay',\n        })));\n        return null;\n    }\n    const integrations = [\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayAdyenV2CustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayAdyenV3CustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayAuthorizeDotNetCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayCheckoutComCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayCybersourceCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayBnzCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayOrbitalCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayStripeCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayStripeUpeCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayWorldpayAccessCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayBraintreeCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayPayPalCommerceCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayBigCommercePaymentsCustomerStrategy,\n        _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_0__.createGooglePayTdOnlineMartCustomerStrategy,\n    ];\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__[\"default\"], Object.assign({ checkoutButtonContainerClass: \"google-pay-top-button\", integrations: integrations }, props)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(GooglePayButton, [\n    { id: 'googlepayadyenv2' },\n    { id: 'googlepayadyenv3' },\n    { id: 'googlepayauthorizenet' },\n    { id: 'googlepaybnz' },\n    { id: 'googlepaybraintree' },\n    { id: 'googlepaypaypalcommerce' },\n    { id: 'googlepaycheckoutcom' },\n    { id: 'googlepaycybersourcev2' },\n    { id: 'googlepayorbital' },\n    { id: 'googlepaystripe' },\n    { id: 'googlepaystripeupe' },\n    { id: 'googlepayworldpayaccess' },\n    { id: 'googlepaytdonlinemart' },\n    { id: 'googlepaystripeocs' },\n    { id: 'googlepay_bigcommerce_payments' },\n]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlCdXR0b24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFlMkQ7QUFDTDtBQUU2QjtBQU81QjtBQUV2QjtBQUVoQyxNQUFNLGVBQWUsR0FBMkMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUN0RSxNQUFNLEVBQUUsUUFBUSxFQUFFLGdCQUFnQixFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRTdDLElBQUkseUZBQVUsRUFBRSxFQUFFLENBQUM7UUFDZixnQkFBZ0IsQ0FDWixJQUFJLHFGQUFnQyxDQUNoQyxRQUFRLENBQUMsU0FBUyxDQUFDLHFDQUFxQyxFQUFFO1lBQ3RELE9BQU8sRUFBRSxXQUFXO1NBQ3ZCLENBQUMsQ0FDTCxDQUNKLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTSxZQUFZLEdBQUc7UUFDakIscUhBQXNDO1FBQ3RDLHFIQUFzQztRQUN0Qyw2SEFBOEM7UUFDOUMseUhBQTBDO1FBQzFDLHlIQUEwQztRQUMxQyxpSEFBa0M7UUFDbEMscUhBQXNDO1FBQ3RDLG9IQUFxQztRQUNyQyx1SEFBd0M7UUFDeEMsNEhBQTZDO1FBQzdDLHVIQUF3QztRQUN4Qyw0SEFBNkM7UUFDN0MsaUlBQWtEO1FBQ2xELDBIQUEyQztLQUM5QyxDQUFDO0lBRUYsT0FBTyxDQUNILDJEQUFDLHlGQUFjLGtCQUNYLDRCQUE0QixFQUFDLHVCQUF1QixFQUNwRCxZQUFZLEVBQUUsWUFBWSxJQUN0QixLQUFLLEVBQ1gsQ0FDTCxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsaUVBQWUseUZBQXFCLENBQ2hDLGVBQWUsRUFDZjtJQUNJLEVBQUUsRUFBRSxFQUFFLGtCQUFrQixFQUFFO0lBQzFCLEVBQUUsRUFBRSxFQUFFLGtCQUFrQixFQUFFO0lBQzFCLEVBQUUsRUFBRSxFQUFFLHVCQUF1QixFQUFFO0lBQy9CLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRTtJQUN0QixFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRTtJQUM1QixFQUFFLEVBQUUsRUFBRSx5QkFBeUIsRUFBRTtJQUNqQyxFQUFFLEVBQUUsRUFBRSxzQkFBc0IsRUFBRTtJQUM5QixFQUFFLEVBQUUsRUFBRSx3QkFBd0IsRUFBRTtJQUNoQyxFQUFFLEVBQUUsRUFBRSxrQkFBa0IsRUFBRTtJQUMxQixFQUFFLEVBQUUsRUFBRSxpQkFBaUIsRUFBRTtJQUN6QixFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRTtJQUM1QixFQUFFLEVBQUUsRUFBRSx5QkFBeUIsRUFBRTtJQUNqQyxFQUFFLEVBQUUsRUFBRSx1QkFBdUIsRUFBRTtJQUMvQixFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRTtJQUM1QixFQUFFLEVBQUUsRUFBRSxnQ0FBZ0MsRUFBRTtDQUMzQyxDQUNKLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2dvb2dsZS1wYXktaW50ZWdyYXRpb24vc3JjL0dvb2dsZVBheUJ1dHRvbi50c3g/ZDI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjJDdXN0b21lclN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjNDdXN0b21lclN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheUF1dGhvcml6ZURvdE5ldEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5QmlnQ29tbWVyY2VQYXltZW50c0N1c3RvbWVyU3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5Qm56Q3VzdG9tZXJTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlCcmFpbnRyZWVDdXN0b21lclN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheUNoZWNrb3V0Q29tQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlDeWJlcnNvdXJjZUN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5T3JiaXRhbEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5UGF5UGFsQ29tbWVyY2VDdXN0b21lclN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheVN0cmlwZUN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5U3RyaXBlVXBlQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlUZE9ubGluZU1hcnRDdXN0b21lclN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheVdvcmxkcGF5QWNjZXNzQ3VzdG9tZXJTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvZ29vZ2xlLXBheSc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgQ2hlY2tvdXRCdXR0b24gfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvY2hlY2tvdXQtYnV0dG9uLWludGVncmF0aW9uJztcbmltcG9ydCB7XG4gICAgdHlwZSBDaGVja291dEJ1dHRvblByb3BzLFxuICAgIHR5cGUgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQsXG4gICAgRW1iZWRkZWRDaGVja291dFVuc3VwcG9ydGVkRXJyb3IsXG4gICAgaXNFbWJlZGRlZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCAnLi9Hb29nbGVQYXlCdXR0b24uc2Nzcyc7XG5cbmNvbnN0IEdvb2dsZVBheUJ1dHRvbjogRnVuY3Rpb25Db21wb25lbnQ8Q2hlY2tvdXRCdXR0b25Qcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxhbmd1YWdlLCBvblVuaGFuZGxlZEVycm9yIH0gPSBwcm9wcztcblxuICAgIGlmIChpc0VtYmVkZGVkKCkpIHtcbiAgICAgICAgb25VbmhhbmRsZWRFcnJvcihcbiAgICAgICAgICAgIG5ldyBFbWJlZGRlZENoZWNrb3V0VW5zdXBwb3J0ZWRFcnJvcihcbiAgICAgICAgICAgICAgICBsYW5ndWFnZS50cmFuc2xhdGUoJ2VtYmVkZGVkX2NoZWNrb3V0LnVuc3VwcG9ydGVkX2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiAnZ29vZ2xlcGF5JyxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZWdyYXRpb25zID0gW1xuICAgICAgICBjcmVhdGVHb29nbGVQYXlBZHllblYyQ3VzdG9tZXJTdHJhdGVneSxcbiAgICAgICAgY3JlYXRlR29vZ2xlUGF5QWR5ZW5WM0N1c3RvbWVyU3RyYXRlZ3ksXG4gICAgICAgIGNyZWF0ZUdvb2dsZVBheUF1dGhvcml6ZURvdE5ldEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgICAgIGNyZWF0ZUdvb2dsZVBheUNoZWNrb3V0Q29tQ3VzdG9tZXJTdHJhdGVneSxcbiAgICAgICAgY3JlYXRlR29vZ2xlUGF5Q3liZXJzb3VyY2VDdXN0b21lclN0cmF0ZWd5LFxuICAgICAgICBjcmVhdGVHb29nbGVQYXlCbnpDdXN0b21lclN0cmF0ZWd5LFxuICAgICAgICBjcmVhdGVHb29nbGVQYXlPcmJpdGFsQ3VzdG9tZXJTdHJhdGVneSxcbiAgICAgICAgY3JlYXRlR29vZ2xlUGF5U3RyaXBlQ3VzdG9tZXJTdHJhdGVneSxcbiAgICAgICAgY3JlYXRlR29vZ2xlUGF5U3RyaXBlVXBlQ3VzdG9tZXJTdHJhdGVneSxcbiAgICAgICAgY3JlYXRlR29vZ2xlUGF5V29ybGRwYXlBY2Nlc3NDdXN0b21lclN0cmF0ZWd5LFxuICAgICAgICBjcmVhdGVHb29nbGVQYXlCcmFpbnRyZWVDdXN0b21lclN0cmF0ZWd5LFxuICAgICAgICBjcmVhdGVHb29nbGVQYXlQYXlQYWxDb21tZXJjZUN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgICAgIGNyZWF0ZUdvb2dsZVBheUJpZ0NvbW1lcmNlUGF5bWVudHNDdXN0b21lclN0cmF0ZWd5LFxuICAgICAgICBjcmVhdGVHb29nbGVQYXlUZE9ubGluZU1hcnRDdXN0b21lclN0cmF0ZWd5LFxuICAgIF07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Q2hlY2tvdXRCdXR0b25cbiAgICAgICAgICAgIGNoZWNrb3V0QnV0dG9uQ29udGFpbmVyQ2xhc3M9XCJnb29nbGUtcGF5LXRvcC1idXR0b25cIlxuICAgICAgICAgICAgaW50ZWdyYXRpb25zPXtpbnRlZ3JhdGlvbnN9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZUNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzLCBDaGVja291dEJ1dHRvblJlc29sdmVJZD4oXG4gICAgR29vZ2xlUGF5QnV0dG9uLFxuICAgIFtcbiAgICAgICAgeyBpZDogJ2dvb2dsZXBheWFkeWVudjInIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXlhZHllbnYzJyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5YXV0aG9yaXplbmV0JyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5Ym56JyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5YnJhaW50cmVlJyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5cGF5cGFsY29tbWVyY2UnIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXljaGVja291dGNvbScgfSxcbiAgICAgICAgeyBpZDogJ2dvb2dsZXBheWN5YmVyc291cmNldjInIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXlvcmJpdGFsJyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5c3RyaXBlJyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5c3RyaXBldXBlJyB9LFxuICAgICAgICB7IGlkOiAnZ29vZ2xlcGF5d29ybGRwYXlhY2Nlc3MnIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXl0ZG9ubGluZW1hcnQnIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXlzdHJpcGVvY3MnIH0sXG4gICAgICAgIHsgaWQ6ICdnb29nbGVwYXlfYmlnY29tbWVyY2VfcGF5bWVudHMnIH0sXG4gICAgXSxcbik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/google-pay-integration/src/GooglePayButton.tsx\n\n}");

/***/ }),

/***/ "./packages/google-pay-integration/src/GooglePayPaymentMethod.tsx":
/*!************************************************************************!*\
  !*** ./packages/google-pay-integration/src/GooglePayPaymentMethod.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/google-pay */ \"../checkout-sdk-js/dist/esm/integrations/google-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/PaymentMethodId.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_wallet_button_integration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/wallet-button-integration */ \"./packages/wallet-button-integration/src/WalletButtonPaymentMethodComponent.tsx\");\n\n\n\n\n\nconst GooglePayPaymentMethod = (_a) => {\n    var { checkoutService, method, onUnhandledError } = _a, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"checkoutService\", \"method\", \"onUnhandledError\"]);\n    const initializeGooglePayPayment = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((defaultOptions) => {\n        const reinitializePayment = (options) => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            try {\n                yield checkoutService.deinitializePayment({\n                    gatewayId: method.gateway,\n                    methodId: method.id,\n                });\n                yield checkoutService.initializePayment(Object.assign(Object.assign({}, options), { gatewayId: method.gateway, methodId: method.id }));\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        const loadingContainerId = 'checkout-app';\n        const mergedOptions = Object.assign(Object.assign({}, defaultOptions), { integrations: [\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayAdyenV2PaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayAdyenV3PaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayAuthorizeNetPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayCheckoutComPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayCybersourcePaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayOrbitalPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayStripePaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayWorldpayAccessPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayBraintreePaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayPPCPPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayBigCommercePaymentsPaymentStrategy,\n                _bigcommerce_checkout_sdk_integrations_google_pay__WEBPACK_IMPORTED_MODULE_1__.createGooglePayTdOnlineMartPaymentStrategy,\n            ], [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AdyenV2GooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AdyenV3GooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AuthorizeNetGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BNZGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BigCommercePaymentsGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BraintreeGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].PayPalCommerceGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeUPEGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CybersourceV2GooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].OrbitalGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CheckoutcomGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].WorldpayAccessGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].TdOnlineMartGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            }, [_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeOCSGooglePay]: {\n                loadingContainerId,\n                walletButton: 'walletButton',\n                onError: onUnhandledError,\n                onPaymentSelect: () => reinitializePayment(mergedOptions),\n            } });\n        return checkoutService.initializePayment(mergedOptions);\n    }, [checkoutService, method, onUnhandledError]);\n    return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_wallet_button_integration__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, rest, { buttonId: \"walletButton\", deinitializePayment: checkoutService.deinitializePayment, initializePayment: initializeGooglePayPayment, method: method, shouldShowEditButton: true, signOutCustomer: checkoutService.signOutCustomer })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(GooglePayPaymentMethod, [\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AdyenV2GooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AdyenV3GooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].AuthorizeNetGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BNZGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BraintreeGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].PayPalCommerceGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].BigCommercePaymentsGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CheckoutcomGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CybersourceV2GooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].OrbitalGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeUPEGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].WorldpayAccessGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].TdOnlineMartGooglePay },\n    { id: _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StripeOCSGooglePay },\n]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9Hb29nbGVQYXlQYXltZW50TWV0aG9kLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFjMkQ7QUFDUTtBQU9aO0FBQzhDO0FBRXJHLE1BQU0sc0JBQXNCLEdBQTBDLENBQUMsRUFLdEUsRUFBRSxFQUFFO1FBTGtFLEVBQ25FLGVBQWUsRUFDZixNQUFNLEVBQ04sZ0JBQWdCLE9BRW5CLEVBRE0sSUFBSSxxREFKNEQsaURBS3RFLENBRFU7SUFFUCxNQUFNLDBCQUEwQixHQUFHLGtEQUFXLENBQzFDLENBQUMsY0FBd0MsRUFBRSxFQUFFO1FBQ3pDLE1BQU0sbUJBQW1CLEdBQUcsQ0FBTyxPQUFpQyxFQUFFLEVBQUUsQ0FBQztZQUNyRSxJQUFJLENBQUM7Z0JBQ0QsTUFBTSxlQUFlLENBQUMsbUJBQW1CLENBQUM7b0JBQ3RDLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTztvQkFDekIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO2lCQUN0QixDQUFDLENBQUM7Z0JBRUgsTUFBTSxlQUFlLENBQUMsaUJBQWlCLGlDQUNoQyxPQUFPLEtBQ1YsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQ3pCLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRSxJQUNyQixDQUFDO1lBQ1AsQ0FBQztZQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2IsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7b0JBQ3pCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUMsRUFBQztRQUVGLE1BQU0sa0JBQWtCLEdBQUcsY0FBYyxDQUFDO1FBQzFDLE1BQU0sYUFBYSxtQ0FDWixjQUFjLEtBQ2pCLFlBQVksRUFBRTtnQkFDVixvSEFBcUM7Z0JBQ3JDLG9IQUFxQztnQkFDckMseUhBQTBDO2dCQUMxQyx3SEFBeUM7Z0JBQ3pDLHdIQUF5QztnQkFDekMsb0hBQXFDO2dC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LE1BQU0sRUFBRSxNQUFNLEVBQ2Qsb0JBQW9CLFFBQ3BCLGVBQWUsRUFBRSxlQUFlLENBQUMsZUFBZSxJQUNsRCxDQUNMLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRixpRUFBZSx5RkFBcUIsQ0FDaEMsc0JBQXNCLEVBQ3RCO0lBQ0ksRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxnQkFBZ0IsRUFBRTtJQUN4QyxFQUFFLEVBQUUsRUFBRSxxRkFBZSxDQUFDLGdCQUFnQixFQUFFO0lBQ3hDLEVBQUUsRUFBRSxFQUFFLHFGQUFlLENBQUMscUJBQXFCLEVBQUU7SUFDN0MsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxZQUFZLEVBQUU7SUFDcEMsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxrQkFBa0IsRUFBRTtJQUMxQyxFQUFFLEVBQUUsRUFBRSxxRkFBZSxDQUFDLHVCQUF1QixFQUFFO0lBQy9DLEVBQUUsRUFBRSxFQUFFLHFGQUFlLENBQUMsNEJBQTRCLEVBQUU7SUFDcEQsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxvQkFBb0IsRUFBRTtJQUM1QyxFQUFFLEVBQUUsRUFBRSxxRkFBZSxDQUFDLHNCQUFzQixFQUFFO0lBQzlDLEVBQUUsRUFBRSxFQUFFLHFGQUFlLENBQUMsZ0JBQWdCLEVBQUU7SUFDeEMsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxlQUFlLEVBQUU7SUFDdkMsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxrQkFBa0IsRUFBRTtJQUMxQyxFQUFFLEVBQUUsRUFBRSxxRkFBZSxDQUFDLHVCQUF1QixFQUFFO0lBQy9DLEVBQUUsRUFBRSxFQUFFLHFGQUFlLENBQUMscUJBQXFCLEVBQUU7SUFDN0MsRUFBRSxFQUFFLEVBQUUscUZBQWUsQ0FBQyxrQkFBa0IsRUFBRTtDQUM3QyxDQUNKLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2dvb2dsZS1wYXktaW50ZWdyYXRpb24vc3JjL0dvb2dsZVBheVBheW1lbnRNZXRob2QudHN4P2U2YjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrJztcbmltcG9ydCB7XG4gICAgY3JlYXRlR29vZ2xlUGF5QWR5ZW5WMlBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlBZHllblYzUGF5bWVudFN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheUF1dGhvcml6ZU5ldFBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlCaWdDb21tZXJjZVBheW1lbnRzUGF5bWVudFN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheUJyYWludHJlZVBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlDaGVja291dENvbVBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlDeWJlcnNvdXJjZVBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlPcmJpdGFsUGF5bWVudFN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheVBQQ1BQYXltZW50U3RyYXRlZ3ksXG4gICAgY3JlYXRlR29vZ2xlUGF5U3RyaXBlUGF5bWVudFN0cmF0ZWd5LFxuICAgIGNyZWF0ZUdvb2dsZVBheVRkT25saW5lTWFydFBheW1lbnRTdHJhdGVneSxcbiAgICBjcmVhdGVHb29nbGVQYXlXb3JsZHBheUFjY2Vzc1BheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvZ29vZ2xlLXBheSc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBGdW5jdGlvbkNvbXBvbmVudCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgdHlwZSBDaGVja291dEJ1dHRvblJlc29sdmVJZCxcbiAgICBQYXltZW50TWV0aG9kSWQsXG4gICAgdHlwZSBQYXltZW50TWV0aG9kUHJvcHMsXG4gICAgdG9SZXNvbHZhYmxlQ29tcG9uZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgV2FsbGV0QnV0dG9uUGF5bWVudE1ldGhvZENvbXBvbmVudCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC93YWxsZXQtYnV0dG9uLWludGVncmF0aW9uJztcblxuY29uc3QgR29vZ2xlUGF5UGF5bWVudE1ldGhvZDogRnVuY3Rpb25Db21wb25lbnQ8UGF5bWVudE1ldGhvZFByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgIG1ldGhvZCxcbiAgICBvblVuaGFuZGxlZEVycm9yLFxuICAgIC4uLnJlc3Rcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplR29vZ2xlUGF5UGF5bWVudCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoZGVmYXVsdE9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVpbml0aWFsaXplUGF5bWVudCA9IGFzeW5jIChvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjaGVja291dFNlcnZpY2UuZGVpbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYXRld2F5SWQ6IG1ldGhvZC5nYXRld2F5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2hlY2tvdXRTZXJ2aWNlLmluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXRld2F5SWQ6IG1ldGhvZC5nYXRld2F5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgbG9hZGluZ0NvbnRhaW5lcklkID0gJ2NoZWNrb3V0LWFwcCc7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjJQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheUFkeWVuVjNQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheUF1dGhvcml6ZU5ldFBheW1lbnRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlR29vZ2xlUGF5Q2hlY2tvdXRDb21QYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheUN5YmVyc291cmNlUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVHb29nbGVQYXlPcmJpdGFsUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVHb29nbGVQYXlTdHJpcGVQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheVdvcmxkcGF5QWNjZXNzUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVHb29nbGVQYXlCcmFpbnRyZWVQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheVBQQ1BQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheUJpZ0NvbW1lcmNlUGF5bWVudHNQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdvb2dsZVBheVRkT25saW5lTWFydFBheW1lbnRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtQYXltZW50TWV0aG9kSWQuQWR5ZW5WMkdvb2dsZVBheV06IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0NvbnRhaW5lcklkLFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRCdXR0b246ICd3YWxsZXRCdXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBvblVuaGFuZGxlZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICBvblBheW1lbnRTZWxlY3Q6ICgpID0+IHJlaW5pdGlhbGl6ZVBheW1lbnQobWVyZ2VkT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbUGF5bWVudE1ldGhvZElkLkFkeWVuVjNHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5BdXRob3JpemVOZXRHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5CTlpHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5CaWdDb21tZXJjZVBheW1lbnRzR29vZ2xlUGF5XToge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEJ1dHRvbjogJ3dhbGxldEJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudFNlbGVjdDogKCkgPT4gcmVpbml0aWFsaXplUGF5bWVudChtZXJnZWRPcHRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtQYXltZW50TWV0aG9kSWQuQnJhaW50cmVlR29vZ2xlUGF5XToge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEJ1dHRvbjogJ3dhbGxldEJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudFNlbGVjdDogKCkgPT4gcmVpbml0aWFsaXplUGF5bWVudChtZXJnZWRPcHRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtQYXltZW50TWV0aG9kSWQuUGF5UGFsQ29tbWVyY2VHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5TdHJpcGVHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5TdHJpcGVVUEVHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5DeWJlcnNvdXJjZVYyR29vZ2xlUGF5XToge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEJ1dHRvbjogJ3dhbGxldEJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudFNlbGVjdDogKCkgPT4gcmVpbml0aWFsaXplUGF5bWVudChtZXJnZWRPcHRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtQYXltZW50TWV0aG9kSWQuT3JiaXRhbEdvb2dsZVBheV06IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0NvbnRhaW5lcklkLFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRCdXR0b246ICd3YWxsZXRCdXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBvblVuaGFuZGxlZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICBvblBheW1lbnRTZWxlY3Q6ICgpID0+IHJlaW5pdGlhbGl6ZVBheW1lbnQobWVyZ2VkT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbUGF5bWVudE1ldGhvZElkLkNoZWNrb3V0Y29tR29vZ2xlUGF5XToge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEJ1dHRvbjogJ3dhbGxldEJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uUGF5bWVudFNlbGVjdDogKCkgPT4gcmVpbml0aWFsaXplUGF5bWVudChtZXJnZWRPcHRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtQYXltZW50TWV0aG9kSWQuV29ybGRwYXlBY2Nlc3NHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5UZE9ubGluZU1hcnRHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1BheW1lbnRNZXRob2RJZC5TdHJpcGVPQ1NHb29nbGVQYXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QnV0dG9uOiAnd2FsbGV0QnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogb25VbmhhbmRsZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgb25QYXltZW50U2VsZWN0OiAoKSA9PiByZWluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tvdXRTZXJ2aWNlLmluaXRpYWxpemVQYXltZW50KG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBbY2hlY2tvdXRTZXJ2aWNlLCBtZXRob2QsIG9uVW5oYW5kbGVkRXJyb3JdLFxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8V2FsbGV0QnV0dG9uUGF5bWVudE1ldGhvZENvbXBvbmVudFxuICAgICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgICAgICBidXR0b25JZD1cIndhbGxldEJ1dHRvblwiXG4gICAgICAgICAgICBkZWluaXRpYWxpemVQYXltZW50PXtjaGVja291dFNlcnZpY2UuZGVpbml0aWFsaXplUGF5bWVudH1cbiAgICAgICAgICAgIGluaXRpYWxpemVQYXltZW50PXtpbml0aWFsaXplR29vZ2xlUGF5UGF5bWVudH1cbiAgICAgICAgICAgIG1ldGhvZD17bWV0aG9kfVxuICAgICAgICAgICAgc2hvdWxkU2hvd0VkaXRCdXR0b25cbiAgICAgICAgICAgIHNpZ25PdXRDdXN0b21lcj17Y2hlY2tvdXRTZXJ2aWNlLnNpZ25PdXRDdXN0b21lcn1cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcywgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQ+KFxuICAgIEdvb2dsZVBheVBheW1lbnRNZXRob2QsXG4gICAgW1xuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuQWR5ZW5WMkdvb2dsZVBheSB9LFxuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuQWR5ZW5WM0dvb2dsZVBheSB9LFxuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuQXV0aG9yaXplTmV0R29vZ2xlUGF5IH0sXG4gICAgICAgIHsgaWQ6IFBheW1lbnRNZXRob2RJZC5CTlpHb29nbGVQYXkgfSxcbiAgICAgICAgeyBpZDogUGF5bWVudE1ldGhvZElkLkJyYWludHJlZUdvb2dsZVBheSB9LFxuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuUGF5UGFsQ29tbWVyY2VHb29nbGVQYXkgfSxcbiAgICAgICAgeyBpZDogUGF5bWVudE1ldGhvZElkLkJpZ0NvbW1lcmNlUGF5bWVudHNHb29nbGVQYXkgfSxcbiAgICAgICAgeyBpZDogUGF5bWVudE1ldGhvZElkLkNoZWNrb3V0Y29tR29vZ2xlUGF5IH0sXG4gICAgICAgIHsgaWQ6IFBheW1lbnRNZXRob2RJZC5DeWJlcnNvdXJjZVYyR29vZ2xlUGF5IH0sXG4gICAgICAgIHsgaWQ6IFBheW1lbnRNZXRob2RJZC5PcmJpdGFsR29vZ2xlUGF5IH0sXG4gICAgICAgIHsgaWQ6IFBheW1lbnRNZXRob2RJZC5TdHJpcGVHb29nbGVQYXkgfSxcbiAgICAgICAgeyBpZDogUGF5bWVudE1ldGhvZElkLlN0cmlwZVVQRUdvb2dsZVBheSB9LFxuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuV29ybGRwYXlBY2Nlc3NHb29nbGVQYXkgfSxcbiAgICAgICAgeyBpZDogUGF5bWVudE1ldGhvZElkLlRkT25saW5lTWFydEdvb2dsZVBheSB9LFxuICAgICAgICB7IGlkOiBQYXltZW50TWV0aG9kSWQuU3RyaXBlT0NTR29vZ2xlUGF5IH0sXG4gICAgXSxcbik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/google-pay-integration/src/GooglePayPaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/google-pay-integration/src/index.ts":
/*!******************************************************!*\
  !*** ./packages/google-pay-integration/src/index.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GooglePayButton: () => (/* reexport safe */ _GooglePayButton__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   GooglePayPaymentMethod: () => (/* reexport safe */ _GooglePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _GooglePayButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GooglePayButton */ \"./packages/google-pay-integration/src/GooglePayButton.tsx\");\n/* harmony import */ var _GooglePayPaymentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GooglePayPaymentMethod */ \"./packages/google-pay-integration/src/GooglePayPaymentMethod.tsx\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9nb29nbGUtcGF5LWludGVncmF0aW9uL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStEO0FBQ2MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2dvb2dsZS1wYXktaW50ZWdyYXRpb24vc3JjL2luZGV4LnRzPzdiZDIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCBhcyBHb29nbGVQYXlCdXR0b24gfSBmcm9tICcuL0dvb2dsZVBheUJ1dHRvbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdvb2dsZVBheVBheW1lbnRNZXRob2QgfSBmcm9tICcuL0dvb2dsZVBheVBheW1lbnRNZXRob2QnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/google-pay-integration/src/index.ts\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/errors/CustomError.ts":
/*!********************************************************************!*\
  !*** ./packages/payment-integration-api/src/errors/CustomError.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CustomError)\n/* harmony export */ });\nclass CustomError extends Error {\n    constructor({ data = {}, message = '', title = '', name = '', }) {\n        super();\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, CustomError);\n        }\n        else {\n            this.stack = new Error().stack;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        this.data = data;\n        this.message = message;\n        this.name = name;\n        this.title = title;\n        this.type = 'custom';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL0N1c3RvbUVycm9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZSxNQUFNLFdBQVksU0FBUSxLQUFLO0lBTzFDLFlBQVksRUFDUixJQUFJLEdBQUcsRUFBRSxFQUNULE9BQU8sR0FBRyxFQUFFLEVBQ1osS0FBSyxHQUFHLEVBQUUsRUFDVixJQUFJLEdBQUcsRUFBRSxHQU1aO1FBQ0csS0FBSyxFQUFFLENBQUM7UUFFUixJQUFJLE9BQU8sS0FBSyxDQUFDLGlCQUFpQixLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQ2hELEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDL0MsQ0FBQzthQUFNLENBQUM7WUFDSixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQ25DLENBQUM7UUFFRCxtRUFBbUU7UUFDbkUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7SUFDekIsQ0FBQztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL0N1c3RvbUVycm9yLnRzPzdhYjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdGljIHNob3VsZFJlcG9ydDogYm9vbGVhbjtcblxuICAgIGRhdGE6IGFueTtcbiAgICB0aXRsZTogYW55O1xuICAgIHR5cGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHtcbiAgICAgICAgZGF0YSA9IHt9LFxuICAgICAgICBtZXNzYWdlID0gJycsXG4gICAgICAgIHRpdGxlID0gJycsXG4gICAgICAgIG5hbWUgPSAnJyxcbiAgICB9OiB7XG4gICAgICAgIGRhdGE/OiBhbnk7XG4gICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgIH0pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDdXN0b21FcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2N1c3RvbSc7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/errors/CustomError.ts\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/errors/EmbeddedCheckoutUnsupportedError.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/payment-integration-api/src/errors/EmbeddedCheckoutUnsupportedError.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EmbeddedCheckoutUnsupportedError)\n/* harmony export */ });\n/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../setPrototypeOf */ \"./packages/payment-integration-api/src/setPrototypeOf.ts\");\n/* harmony import */ var _CustomError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CustomError */ \"./packages/payment-integration-api/src/errors/CustomError.ts\");\n\n\nclass EmbeddedCheckoutUnsupportedError extends _CustomError__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(message) {\n        super({\n            name: 'EMBEDDED_CHECKOUT_UNSUPPORTED_ERROR',\n            message,\n        });\n        (0,_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, EmbeddedCheckoutUnsupportedError.prototype);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL0VtYmVkZGVkQ2hlY2tvdXRVbnN1cHBvcnRlZEVycm9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUVQO0FBRXpCLE1BQU0sZ0NBQWlDLFNBQVEsb0RBQVc7SUFDckUsWUFBWSxPQUFlO1FBQ3ZCLEtBQUssQ0FBQztZQUNGLElBQUksRUFBRSxxQ0FBcUM7WUFDM0MsT0FBTztTQUNWLENBQUMsQ0FBQztRQUVILDJEQUFjLENBQUMsSUFBSSxFQUFFLGdDQUFnQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9FbWJlZGRlZENoZWNrb3V0VW5zdXBwb3J0ZWRFcnJvci50cz82ODA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuLi9zZXRQcm90b3R5cGVPZic7XG5cbmltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL0N1c3RvbUVycm9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1iZWRkZWRDaGVja291dFVuc3VwcG9ydGVkRXJyb3IgZXh0ZW5kcyBDdXN0b21FcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6ICdFTUJFRERFRF9DSEVDS09VVF9VTlNVUFBPUlRFRF9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBFbWJlZGRlZENoZWNrb3V0VW5zdXBwb3J0ZWRFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/errors/EmbeddedCheckoutUnsupportedError.ts\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/isEmbedded.ts":
/*!************************************************************!*\
  !*** ./packages/payment-integration-api/src/isEmbedded.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isEmbedded)\n/* harmony export */ });\nfunction isEmbedded(pathname = document.location.pathname) {\n    const basePath = `/${pathname.split('/')[1]}`;\n    return basePath === '/embedded-checkout';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvaXNFbWJlZGRlZC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQWUsU0FBUyxVQUFVLENBQUMsV0FBbUIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRO0lBQzVFLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRTlDLE9BQU8sUUFBUSxLQUFLLG9CQUFvQixDQUFDO0FBQzdDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9pc0VtYmVkZGVkLnRzPzcxNDUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNFbWJlZGRlZChwYXRobmFtZTogc3RyaW5nID0gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUpOiBib29sZWFuIHtcbiAgICBjb25zdCBiYXNlUGF0aCA9IGAvJHtwYXRobmFtZS5zcGxpdCgnLycpWzFdfWA7XG5cbiAgICByZXR1cm4gYmFzZVBhdGggPT09ICcvZW1iZWRkZWQtY2hlY2tvdXQnO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/isEmbedded.ts\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/setPrototypeOf.ts":
/*!****************************************************************!*\
  !*** ./packages/payment-integration-api/src/setPrototypeOf.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ setPrototypeOf)\n/* harmony export */ });\nfunction setPrototypeOf(object, prototype) {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(object, prototype);\n    }\n    else if (hasProto(object)) {\n        // eslint-disable-next-line no-proto\n        object.__proto__ = prototype;\n    }\n    return object;\n}\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction hasProto(object) {\n    return '__proto__' in object;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvc2V0UHJvdG90eXBlT2YudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlLFNBQVMsY0FBYyxDQUFtQixNQUFTLEVBQUUsU0FBaUI7SUFDakYsdUVBQXVFO0lBQ3ZFLElBQUksTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3hCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7U0FBTSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQzFCLG9DQUFvQztRQUNwQyxNQUFNLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUVELGdFQUFnRTtBQUNoRSxTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQzVCLE9BQU8sV0FBVyxJQUFJLE1BQU0sQ0FBQztBQUNqQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvc2V0UHJvdG90eXBlT2YudHM/MGVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZjxUIGV4dGVuZHMgb2JqZWN0PihvYmplY3Q6IFQsIHByb3RvdHlwZTogb2JqZWN0KTogVCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIGlmIChoYXNQcm90byhvYmplY3QpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmZ1bmN0aW9uIGhhc1Byb3RvKG9iamVjdDogb2JqZWN0KTogb2JqZWN0IGlzIG9iamVjdCAmIHsgX19wcm90b19fOiBvYmplY3QgfSB7XG4gICAgcmV0dXJuICdfX3Byb3RvX18nIGluIG9iamVjdDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/setPrototypeOf.ts\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/toResolvableComponent.tsx":
/*!************************************************************************!*\
  !*** ./packages/payment-integration-api/src/toResolvableComponent.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ toResolvableComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction toResolvableComponent(\n// eslint-disable-next-line @typescript-eslint/naming-convention\nComponent, resolveIds) {\n    return Object.assign((props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props)), { resolveIds });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG9SZXNvbHZhYmxlQ29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0Q7QUFJbkMsU0FBUyxxQkFBcUI7QUFDekMsZ0VBQWdFO0FBQ2hFLFNBQWdDLEVBQ2hDLFVBQXlCO0lBRXpCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQWEsRUFBRSxFQUFFLENBQUMsMkRBQUMsU0FBUyxvQkFBSyxLQUFLLEVBQUksRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFDdEYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3RvUmVzb2x2YWJsZUNvbXBvbmVudC50c3g/ZjFhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdHlwZSBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdHlwZSBSZXNvbHZhYmxlQ29tcG9uZW50IGZyb20gJy4vUmVzb2x2YWJsZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZUNvbXBvbmVudDxUUHJvcHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBUSWRlbnRpZmllcj4oXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgIENvbXBvbmVudDogQ29tcG9uZW50VHlwZTxUUHJvcHM+LFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlQ29tcG9uZW50PFRQcm9wcywgVElkZW50aWZpZXI+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigocHJvcHM6IFRQcm9wcykgPT4gPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCB7IHJlc29sdmVJZHMgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/toResolvableComponent.tsx\n\n}");

/***/ })

}]);